var countries={1:"Ukraine",2:"Germany",3:"France",4:"Spain",5:"Sweden",6:"USA",7:"Canada",8:"Moldova",9:"Belarus",10:"Poland"},cities={1:{country:1,name:"Ukraine"},2:{country:3,name:"Paris"},3:{country:4,name:"Madrid"},4:{country:6,name:"Houston"},5:{country:7,name:"Montreal"},6:{country:8,name:"Кишинев"},7:{country:9,name:"Minsk"},8:{country:10,name:"Warsaw"},100:{country:1,name:"Львов"},101:{country:1,name:"Николаев"},103:{country:1,name:"Переяслав-Хмельницкий"},104:{country:1,name:"Каменец-Подольский"},105:{country:1,name:"Donetsk"},106:{country:1,name:"Kharkov"},107:{country:1,name:"Луцк"},108:{country:1,name:"Poltava"},109:{country:1,name:"Черновцы"},299:{country:1,name:"Чернигов"},333:{country:1,name:"Чернигов"}};$(function(){function e(e){function t(e){return r=!1,""==e?($(".name").css({border:"1px solid #ff0000"}),$(".alert-name").show(),r=!1):($(".name").css({border:"0"}),$(".alert-name").hide()),r}function a(e){r=!1;var t=/^[a-z0-9_-]+@[a-z0-9-]+\.([a-z]{1,6}\.)?[a-z]{2,6}$/i;return""==e?($(".email").css({border:"1px solid #ff0000"}),$(".alert-email").show(),r=!1):($(".email").css({border:"0"}),$(".alert-email").hide(),0==e.search(t)?r=!0:($(".email").css({border:"1px solid #ff0000"}),$(".alert-email-wr").show(),$($(".email")).val(""),r=!1)),r}function s(){for(var e in countries)if(countries.hasOwnProperty(e)){var t=$("<option></option>");$(t).val(e),$(t).html(countries[e]),$("#country").append(t)}$("#country").change(function(){var e=this.options[this.selectedIndex],t=$(e).html();localStorage.setItem("country",t);for(var n=$(e).val(),a=$("#city");a.children().length>1;)a.children().last().remove();for(var r in cities)if(cities.hasOwnProperty(r)&&cities[r].country==n){var s=$("<option></option>");$(s).val(r),$(s).html(cities[r].name),$("#city").append(s)}}),$("#city").change(function(){var e=this.options[this.selectedIndex],t=$(e).html();localStorage.setItem("city",t)})}function o(){return null==$("#country").val()?($("#country").css({border:"1px solid #ff0000"}),$(".alert-country").show(),r=!1):($("#country").css({border:"0"}),$(".alert-country").hide(),r=!0),r}function i(e){$('input[type="text"]').hide(),$(e).find('input[type="checkbox"]').on("click",function(){if($(this).is(":checked")){var e=$(this).attr("id"),t=$(this).parent().find('input[type="text"]');t.addClass(e),$(t).show()}else $(this).parent().find('input[type="text"]').hide()})}function c(e){if(0==$(e).find("input:checked").length){var t=$('<span class="alert">Пожалуйста выберите соц.сеть</span>');$(e).find("form").append(t),r=!1}else $(e).find(".alert").remove(),$(e).find("input:checked").parent().find('input[type="text"]').each(function(){var e=$(this).val(),t=$(this).parent().find('input[type="checkbox"]').attr("id");if(""==e){$(this).parent().find(".alert-social").remove(),$(this).css({border:"1px solid #ff0000"});var n=$('<span class="alert alert-social">Поле должно быть заполнено.</span>');$(this).parent().append(n),r=!1}else $(this).css({border:"0"}),$(this).parent().find(".alert-social").remove(),localStorage.setItem(t,e),r=!0})}function l(){}function u(){}r=!1,$(".alert").hide(),this.start=function(){console.log("action start");var e=$(".current-step");$(e).hasClass("first")?n.on("click",function(){var e=$(".name").val();t(e);var n=$(".email").val();a(n),localStorage.setItem("name",e),localStorage.setItem("email",n),s()}):$(e).hasClass("second")?(console.log("second"),n.on("click",function(){o(),i($(".third"))})):$(e).hasClass("third")?(i($(".third")),c($(".third"))):$(e).hasClass("fourth")&&(l(),u())},this.reset=function(){r=!1,localStorage.clear(),$(".step").hide().removeClass("current-step"),$(".first").addClass("current-step").show()},this.showResult=function(){var e={};e.name=localStorage.getItem("name"),e.email=localStorage.getItem("email"),e.country=localStorage.getItem("country"),e.city=localStorage.getItem("city"),e.social=[];for(var t=$(".third").find("input:checked"),n=0;n<t.length;n++){var a=$(t[n]).attr("id");e.social[n]=localStorage.getItem(a)}return console.log(e),e}}var t=$(".prev"),n=$(".next"),a=new e(".content");a.start();var r;t.on("click",function(){$(".current-step").hasClass(".first")||($(".current-step").removeClass("current-step").hide().prev().show().addClass("current-step"),$(".current-page").removeClass("current-page").prev().removeClass("passed-page").addClass("current-page"))}),n.on("click",function(){r&&($(".current-step").hasClass("fourth")?a.showResult():($(".current-step").hasClass("third")&&n.addClass("finish").html("Завершить"),$(".current-step").removeClass("current-step").hide().next().show().addClass("current-step"),$(".current-page").removeClass("current-page").addClass("passed-page").next().addClass("current-page")))})});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJjb3VudHJpZXMiLCIxIiwiMiIsIjMiLCI0IiwiNSIsIjYiLCI3IiwiOCIsIjkiLCIxMCIsImNpdGllcyIsImNvdW50cnkiLCJuYW1lIiwiMTAwIiwiMTAxIiwiMTAzIiwiMTA0IiwiMTA1IiwiMTA2IiwiMTA3IiwiMTA4IiwiMTA5IiwiMjk5IiwiMzMzIiwiJCIsIkFua2V0YSIsImVsZW0iLCJuYW1lQ2hlY2siLCIkZmxhZyIsImNzcyIsImJvcmRlciIsInNob3ciLCJoaWRlIiwiZW1haWxDaGVjayIsIm1haWwiLCJwYXR0ZXJuIiwic2VhcmNoIiwidmFsIiwic2VsZWN0TG9jYXRpb24iLCJrZXkiLCJoYXNPd25Qcm9wZXJ0eSIsIiRvcHRpb24iLCJodG1sIiwiYXBwZW5kIiwiY2hhbmdlIiwiJHNlbGVjdGVkIiwidGhpcyIsIm9wdGlvbnMiLCJzZWxlY3RlZEluZGV4IiwiJGNvdW50cnkiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiJHNlbGVjdGVkQ291bnRyeSIsIiRpdGVtIiwiY2hpbGRyZW4iLCJsZW5ndGgiLCJsYXN0IiwicmVtb3ZlIiwiJGNpdHkiLCJsb2NhdGlvbkNoZWNrIiwic29jaWFsSW5wdXQiLCJ0YXJnZXQiLCJmaW5kIiwib24iLCJpcyIsIiRpZCIsImF0dHIiLCIkaW5wdXQiLCJwYXJlbnQiLCJhZGRDbGFzcyIsInNvY2lhbElucHV0Q2hlY2siLCIkYWxlcnRFbXB0eSIsImVhY2giLCIkaW5wdXRUZXh0IiwiJGFsZXJ0IiwiaW1nQ2hvb3NlIiwiaW1nQ2hlY2siLCJzdGFydCIsImNvbnNvbGUiLCJsb2ciLCIkY3VycmVudCIsImhhc0NsYXNzIiwiJG5leHRCdXR0b24iLCIkbmFtZSIsIiRlbWFpbCIsInJlc2V0IiwiY2xlYXIiLCJyZW1vdmVDbGFzcyIsInNob3dSZXN1bHQiLCJyZXN1bHQiLCJnZXRJdGVtIiwiZW1haWwiLCJjaXR5Iiwic29jaWFsIiwiY2hlY2tlZCIsImkiLCJpZCIsIiRw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RyxLQUFBMUMsYUFBQXdDLFFBQUEsUUFDQUQsRUFBQUksU0FFQSxLQUFBLEdBREFDLEdBQUF0RSxFQUFBLFVBQUFzQyxLQUFBLGlCQUNBaUMsRUFBQSxFQUFBQSxFQUFBRCxFQUFBdkMsT0FBQXdDLElBQUEsQ0FDQSxHQUFBQyxHQUFBeEUsRUFBQXNFLEVBQUFDLElBQUE3QixLQUFBLEtBQ0F1QixHQUFBSSxPQUFBRSxHQUFBN0MsYUFBQXdDLFFBQUFNLEdBR0EsTUFEQWxCLFNBQUFDLElBQUFVLEdBQ0FBLEdBck9BLEdBQUFRLEdBQUF6RSxFQUFBLFNBQ0EwRCxFQUFBMUQsRUFBQSxTQUNBMEUsRUFBQSxHQUFBekUsR0FBQSxXQUNBeUUsR0FBQXJCLE9BQ0EsSUFBQWpELEVBR0FxRSxHQUFBbEMsR0FBQSxRQUFBLFdBQ0F2QyxFQUFBLGlCQUFBeUQsU0FBQSxZQUNBekQsRUFBQSxpQkFBQStELFlBQUEsZ0JBQUF2RCxPQUFBbUUsT0FBQXBFLE9BQUFzQyxTQUFBLGdCQUNBN0MsRUFBQSxpQkFBQStELFlBQUEsZ0JBQUFZLE9BQUFaLFlBQUEsZUFBQWxCLFNBQUEsbUJBS0FhLEVBQUFuQixHQUFBLFFBQUEsV0FDQW5DLElBQ0FKLEVBQUEsaUJBQUF5RCxTQUFBLFVBT0FpQixFQUFBVixjQU5BaEUsRUFBQSxpQkFBQXlELFNBQUEsVUFDQUMsRUFBQWIsU0FBQSxVQUFBM0IsS0FBQSxhQUVBbEIsRUFBQSxpQkFBQStELFlBQUEsZ0JBQUF2RCxPQUFBb0UsT0FBQXJFLE9BQUFzQyxTQUFBLGdCQUNBN0MsRUFBQSxpQkFBQStELFlBQUEsZ0JBQUFsQixTQUFBLGVBQUErQixPQUFBL0IsU0FBQSIsImZpbGUiOiJzY3JpcHQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGNvdW50cmllcyA9IHtcbiAgICBcIjFcIjogXCJVa3JhaW5lXCIsXG4gICAgXCIyXCI6IFwiR2VybWFueVwiLFxuICAgIFwiM1wiOiBcIkZyYW5jZVwiLFxuICAgIFwiNFwiOiBcIlNwYWluXCIsXG4gICAgXCI1XCI6IFwiU3dlZGVuXCIsXG4gICAgXCI2XCI6IFwiVVNBXCIsXG4gICAgXCI3XCI6IFwiQ2FuYWRhXCIsXG4gICAgXCI4XCI6IFwiTW9sZG92YVwiLFxuICAgIFwiOVwiOiBcIkJlbGFydXNcIixcbiAgICBcIjEwXCI6IFwiUG9sYW5kXCJcbn07XG5cbnZhciBjaXRpZXMgPSB7XG4gICAgXCIxXCI6IHtcImNvdW50cnlcIjogMSwgXCJuYW1lXCI6IFwiVWtyYWluZVwifSxcbiAgICBcIjJcIjoge1wiY291bnRyeVwiOiAzLCBcIm5hbWVcIjogXCJQYXJpc1wifSxcbiAgICBcIjNcIjoge1wiY291bnRyeVwiOiA0LCBcIm5hbWVcIjogXCJNYWRyaWRcIn0sXG4gICAgXCI0XCI6IHtcImNvdW50cnlcIjogNiwgXCJuYW1lXCI6IFwiSG91c3RvblwifSxcbiAgICBcIjVcIjoge1wiY291bnRyeVwiOiA3LCBcIm5hbWVcIjogXCJNb250cmVhbFwifSxcbiAgICBcIjZcIjoge1wiY291bnRyeVwiOiA4LCBcIm5hbWVcIjogXCLQmtC40YjQuNC90LXQslwifSxcbiAgICBcIjdcIjoge1wiY291bnRyeVwiOiA5LCBcIm5hbWVcIjogXCJNaW5za1wifSxcbiAgICBcIjhcIjoge1wiY291bnRyeVwiOiAxMCwgXCJuYW1lXCI6IFwiV2Fyc2F3XCJ9LFxuICAgIFwiMTAwXCI6IHtcImNvdW50cnlcIjogMSwgXCJuYW1lXCI6IFwi0JvRjNCy0L7QslwifSxcbiAgICBcIjEwMVwiOiB7XCJjb3VudHJ5XCI6IDEsIFwibmFtZVwiOiBcItCd0LjQutC+0LvQsNC10LJcIn0sXG4gICAgXCIxMDNcIjoge1wiY291bnRyeVwiOiAxLCBcIm5hbWVcIjogXCLQn9C10YDQtdGP0YHQu9Cw0LIt0KXQvNC10LvRjNC90LjRhtC60LjQuVwifSxcbiAgICBcIjEwNFwiOiB7XCJjb3VudHJ5XCI6IDEsIFwibmFtZVwiOiBcItCa0LDQvNC10L3QtdGGLdCf0L7QtNC+0LvRjNGB0LrQuNC5XCJ9LFxuICAgIFwiMTA1XCI6IHtcImNvdW50cnlcIjogMSwgXCJuYW1lXCI6IFwiRG9uZXRza1wifSxcbiAgICBcIjEwNlwiOiB7XCJjb3VudHJ5XCI6IDEsIFwibmFtZVwiOiBcIktoYXJrb3ZcIn0sXG4gICAgXCIxMDdcIjoge1wiY291bnRyeVwiOiAxLCBcIm5hbWVcIjogXCLQm9GD0YbQulwifSxcbiAgICBcIjEwOFwiOiB7XCJjb3VudHJ5XCI6IDEsIFwibmFtZVwiOiBcIlBvbHRhdmFcIn0sXG4gICAgXCIxMDlcIjoge1wiY291bnRyeVwiOiAxLCBcIm5hbWVcIjogXCLQp9C10YDQvdC+0LLRhtGLXCJ9LFxuICAgIFwiMjk5XCI6IHtcImNvdW50cnlcIjogMSwgXCJuYW1lXCI6IFwi0KfQtdGA0L3QuNCz0L7QslwifSxcbiAgICBcIjMzM1wiOiB7XCJjb3VudHJ5XCI6IDEsIFwibmFtZVwiOiBcItCn0LXRgNC90LjQs9C+0LJcIn1cbn07XG5cbiQoZnVuY3Rpb24gKCkge1xuICAgIC8vdmFyaWFibGVzXG4gICAgdmFyICRwcmV2QnV0dG9uID0gJCgnLnByZXYnKTtcbiAgICB2YXIgJG5leHRCdXR0b24gPSAkKCcubmV4dCcpO1xuICAgIHZhciBhbmtldGEgPSBuZXcgQW5rZXRhKCcuY29udGVudCcpO1xuICAgIGFua2V0YS5zdGFydCgpO1xuICAgIHZhciAkZmxhZztcblxuICAgIC8vY29udHJvbEJ1dHRvbnNcbiAgICAkcHJldkJ1dHRvbi5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghKCQoJy5jdXJyZW50LXN0ZXAnKS5oYXNDbGFzcygnLmZpcnN0JykpKSB7XG4gICAgICAgICAgICAkKCcuY3VycmVudC1zdGVwJykucmVtb3ZlQ2xhc3MoJ2N1cnJlbnQtc3RlcCcpLmhpZGUoKS5wcmV2KCkuc2hvdygpLmFkZENsYXNzKCdjdXJyZW50LXN0ZXAnKTtcbiAgICAgICAgICAgICQoJy5jdXJyZW50LXBhZ2UnKS5yZW1vdmVDbGFzcygnY3VycmVudC1wYWdlJykucHJldigpLnJlbW92ZUNsYXNzKCdwYXNzZWQtcGFnZScpLmFkZENsYXNzKCdjdXJyZW50LXBhZ2UnKTtcblxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkbmV4dEJ1dHRvbi5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICgkZmxhZykge1xuICAgICAgICAgICAgaWYgKCEoJCgnLmN1cnJlbnQtc3RlcCcpLmhhc0NsYXNzKCdmb3VydGgnKSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoKCQoJy5jdXJyZW50LXN0ZXAnKS5oYXNDbGFzcygndGhpcmQnKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgJG5leHRCdXR0b24uYWRkQ2xhc3MoJ2ZpbmlzaCcpLmh0bWwoJ9CX0LDQstC10YDRiNC40YLRjCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkKCcuY3VycmVudC1zdGVwJykucmVtb3ZlQ2xhc3MoJ2N1cnJlbnQtc3RlcCcpLmhpZGUoKS5uZXh0KCkuc2hvdygpLmFkZENsYXNzKCdjdXJyZW50LXN0ZXAnKTtcbiAgICAgICAgICAgICAgICAkKCcuY3VycmVudC1wYWdlJykucmVtb3ZlQ2xhc3MoJ2N1cnJlbnQtcGFnZScpLmFkZENsYXNzKCdwYXNzZWQtcGFnZScpLm5leHQoKS5hZGRDbGFzcygnY3VycmVudC1wYWdlJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFua2V0YS5zaG93UmVzdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vY29uc3RydWN0b3JcbiAgICBmdW5jdGlvbiBBbmtldGEoZWxlbSkge1xuICAgICAgICAkZmxhZyA9IGZhbHNlO1xuXG4gICAgICAgICQoJy5hbGVydCcpLmhpZGUoKTtcblxuICAgICAgICBmdW5jdGlvbiBuYW1lQ2hlY2sobmFtZSkge1xuICAgICAgICAgICAgJGZsYWcgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChuYW1lID09ICcnKSB7XG4gICAgICAgICAgICAgICAgJCgnLm5hbWUnKS5jc3Moeydib3JkZXInOiAnMXB4IHNvbGlkICNmZjAwMDAnfSk7XG4gICAgICAgICAgICAgICAgJCgnLmFsZXJ0LW5hbWUnKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgJGZsYWcgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJCgnLm5hbWUnKS5jc3Moeydib3JkZXInOiAnMCd9KTtcbiAgICAgICAgICAgICAgICAkKCcuYWxlcnQtbmFtZScpLmhpZGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAkZmxhZztcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGVtYWlsQ2hlY2sobWFpbCkge1xuICAgICAgICAgICAgJGZsYWcgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBwYXR0ZXJuID0gL15bYS16MC05Xy1dK0BbYS16MC05LV0rXFwuKFthLXpdezEsNn1cXC4pP1thLXpdezIsNn0kL2k7XG5cbiAgICAgICAgICAgIGlmIChtYWlsID09ICcnKSB7XG4gICAgICAgICAgICAgICAgJCgnLmVtYWlsJykuY3NzKHsnYm9yZGVyJzogJzFweCBzb2xpZCAjZmYwMDAwJ30pO1xuICAgICAgICAgICAgICAgICQoJy5hbGVydC1lbWFpbCcpLnNob3coKTtcbiAgICAgICAgICAgICAgICAkZmxhZyA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKCcuZW1haWwnKS5jc3Moeydib3JkZXInOiAnMCd9KTtcbiAgICAgICAgICAgICAgICAkKCcuYWxlcnQtZW1haWwnKS5oaWRlKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAobWFpbC5zZWFyY2gocGF0dGVybikgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAkZmxhZyA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkKCcuZW1haWwnKS5jc3Moeydib3JkZXInOiAnMXB4IHNvbGlkICNmZjAwMDAnfSk7XG4gICAgICAgICAgICAgICAgICAgICQoJy5hbGVydC1lbWFpbC13cicpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgJCgkKCcuZW1haWwnKSkudmFsKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgJGZsYWcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gJGZsYWc7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzZWxlY3RMb2NhdGlvbigpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBjb3VudHJpZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoY291bnRyaWVzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyICRvcHRpb24gPSAkKCc8b3B0aW9uPjwvb3B0aW9uPicpO1xuICAgICAgICAgICAgICAgICAgICAkKCRvcHRpb24pLnZhbChrZXkpO1xuICAgICAgICAgICAgICAgICAgICAkKCRvcHRpb24pLmh0bWwoY291bnRyaWVzW2tleV0pO1xuICAgICAgICAgICAgICAgICAgICAkKCcjY291bnRyeScpLmFwcGVuZCgkb3B0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICQoJyNjb3VudHJ5JykuY2hhbmdlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgJHNlbGVjdGVkID0gdGhpcy5vcHRpb25zW3RoaXMuc2VsZWN0ZWRJbmRleF07XG4gICAgICAgICAgICAgICAgdmFyICRjb3VudHJ5ID0gJCgkc2VsZWN0ZWQpLmh0bWwoKTtcblxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjb3VudHJ5JywgJGNvdW50cnkpO1xuXG4gICAgICAgICAgICAgICAgdmFyICRzZWxlY3RlZENvdW50cnkgPSAkKCRzZWxlY3RlZCkudmFsKCk7XG4gICAgICAgICAgICAgICAgdmFyICRpdGVtID0gJCgnI2NpdHknKTtcblxuICAgICAgICAgICAgICAgIHdoaWxlICgkaXRlbS5jaGlsZHJlbigpLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgJGl0ZW0uY2hpbGRyZW4oKS5sYXN0KCkucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGNpdGllcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2l0aWVzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaXRpZXNba2V5XS5jb3VudHJ5ID09ICRzZWxlY3RlZENvdW50cnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJG9wdGlvbiA9ICQoJzxvcHRpb24+PC9vcHRpb24+Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgkb3B0aW9uKS52YWwoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCRvcHRpb24pLmh0bWwoY2l0aWVzW2tleV0ubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2NpdHknKS5hcHBlbmQoJG9wdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJChcIiNjaXR5XCIpLmNoYW5nZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyICRzZWxlY3RlZCA9IHRoaXMub3B0aW9uc1t0aGlzLnNlbGVjdGVkSW5kZXhdO1xuICAgICAgICAgICAgICAgIHZhciAkY2l0eSA9ICQoJHNlbGVjdGVkKS5odG1sKCk7XG5cbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2l0eScsICRjaXR5KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gbG9jYXRpb25DaGVjaygpIHtcbiAgICAgICAgICAgIGlmICgkKCcjY291bnRyeScpLnZhbCgpID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAkKCcjY291bnRyeScpLmNzcyh7J2JvcmRlcic6ICcxcHggc29saWQgI2ZmMDAwMCd9KTtcbiAgICAgICAgICAgICAgICAkKCcuYWxlcnQtY291bnRyeScpLnNob3coKTtcbiAgICAgICAgICAgICAgICAkZmxhZyA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKCcjY291bnRyeScpLmNzcyh7J2JvcmRlcic6ICcwJ30pO1xuICAgICAgICAgICAgICAgICQoJy5hbGVydC1jb3VudHJ5JykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICRmbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAkZmxhZztcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHNvY2lhbElucHV0KHRhcmdldCkge1xuICAgICAgICAgICAgJCgnaW5wdXRbdHlwZT1cInRleHRcIl0nKS5oaWRlKCk7XG4gICAgICAgICAgICAkKHRhcmdldCkuZmluZCgnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLmlzKCc6Y2hlY2tlZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciAkaWQgPSAkKHRoaXMpLmF0dHIoJ2lkJyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciAkaW5wdXQgPSAkKHRoaXMpLnBhcmVudCgpLmZpbmQoJ2lucHV0W3R5cGU9XCJ0ZXh0XCJdJyk7XG4gICAgICAgICAgICAgICAgICAgICRpbnB1dC5hZGRDbGFzcygkaWQpO1xuICAgICAgICAgICAgICAgICAgICAkKCRpbnB1dCkuc2hvdygpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykucGFyZW50KCkuZmluZCgnaW5wdXRbdHlwZT1cInRleHRcIl0nKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHNvY2lhbElucHV0Q2hlY2sodGFyZ2V0KSB7XG4gICAgICAgICAgICBpZiAoJCh0YXJnZXQpLmZpbmQoJ2lucHV0OmNoZWNrZWQnKS5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgIHZhciAkYWxlcnRFbXB0eSA9ICQoJzxzcGFuIGNsYXNzPVwiYWxlcnRcIj7Qn9C+0LbQsNC70YPQudGB0YLQsCDQstGL0LHQtdGA0LjRgtC1INGB0L7Rhi7RgdC10YLRjDwvc3Bhbj4nKTtcbiAgICAgICAgICAgICAgICAkKHRhcmdldCkuZmluZCgnZm9ybScpLmFwcGVuZCgkYWxlcnRFbXB0eSk7XG4gICAgICAgICAgICAgICAgJGZsYWcgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJCh0YXJnZXQpLmZpbmQoJy5hbGVydCcpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICQodGFyZ2V0KS5maW5kKCdpbnB1dDpjaGVja2VkJykucGFyZW50KCkuZmluZCgnaW5wdXRbdHlwZT1cInRleHRcIl0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyICRpbnB1dFRleHQgPSAkKHRoaXMpLnZhbCgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgJGlkID0gJCh0aGlzKS5wYXJlbnQoKS5maW5kKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKS5hdHRyKCdpZCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoJGlucHV0VGV4dCA9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5maW5kKCcuYWxlcnQtc29jaWFsJykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmNzcyh7J2JvcmRlcic6ICcxcHggc29saWQgI2ZmMDAwMCd9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkYWxlcnQgPSAkKCc8c3BhbiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXNvY2lhbFwiPtCf0L7Qu9C1INC00L7Qu9C20L3QviDQsdGL0YLRjCDQt9Cw0L/QvtC70L3QtdC90L4uPC9zcGFuPicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5hcHBlbmQoJGFsZXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRmbGFnID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmNzcyh7J2JvcmRlcic6ICcwJ30pO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5maW5kKCcuYWxlcnQtc29jaWFsJykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgkaWQsICRpbnB1dFRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJGZsYWcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBpbWdDaG9vc2UoKSB7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGltZ0NoZWNrKCkge1xuXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2FjdGlvbiBzdGFydCcpO1xuICAgICAgICAgICAgdmFyICRjdXJyZW50ID0gJCgnLmN1cnJlbnQtc3RlcCcpO1xuICAgICAgICAgICAgaWYgKCQoJGN1cnJlbnQpLmhhc0NsYXNzKCdmaXJzdCcpKSB7XG4gICAgICAgICAgICAgICAgJG5leHRCdXR0b24ub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgJG5hbWUgPSAkKCcubmFtZScpLnZhbCgpO1xuICAgICAgICAgICAgICAgICAgICBuYW1lQ2hlY2soJG5hbWUpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciAkZW1haWwgPSAkKCcuZW1haWwnKS52YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgZW1haWxDaGVjaygkZW1haWwpO1xuXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCduYW1lJywgJG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZW1haWwnLCAkZW1haWwpO1xuXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdExvY2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoJCgkY3VycmVudCkuaGFzQ2xhc3MoJ3NlY29uZCcpKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3NlY29uZCcpO1xuICAgICAgICAgICAgICAgICRuZXh0QnV0dG9uLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25DaGVjaygpO1xuICAgICAgICAgICAgICAgICAgICBzb2NpYWxJbnB1dCgkKCcudGhpcmQnKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCQoJGN1cnJlbnQpLmhhc0NsYXNzKCd0aGlyZCcpKSB7XG4gICAgICAgICAgICAgICAgc29jaWFsSW5wdXQoJCgnLnRoaXJkJykpO1xuICAgICAgICAgICAgICAgIHNvY2lhbElucHV0Q2hlY2soJCgnLnRoaXJkJykpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgkKCRjdXJyZW50KS5oYXNDbGFzcygnZm91cnRoJykpIHtcbiAgICAgICAgICAgICAgICBpbWdDaG9vc2UoKTtcbiAgICAgICAgICAgICAgICBpbWdDaGVjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkZmxhZyA9IGZhbHNlO1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7XG4gICAgICAgICAgICAkKCcuc3RlcCcpLmhpZGUoKS5yZW1vdmVDbGFzcygnY3VycmVudC1zdGVwJyk7XG4gICAgICAgICAgICAkKCcuZmlyc3QnKS5hZGRDbGFzcygnY3VycmVudC1zdGVwJykuc2hvdygpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuc2hvd1Jlc3VsdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgICAgICAgIHJlc3VsdC5uYW1lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ25hbWUnKTtcbiAgICAgICAgICAgIHJlc3VsdC5lbWFpbCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbWFpbCcpO1xuICAgICAgICAgICAgcmVzdWx0LmNvdW50cnkgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY291bnRyeScpO1xuICAgICAgICAgICAgcmVzdWx0LmNpdHkgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2l0eScpO1xuICAgICAgICAgICAgcmVzdWx0LnNvY2lhbCA9IFtdO1xuICAgICAgICAgICAgdmFyIGNoZWNrZWQgPSAkKCcudGhpcmQnKS5maW5kKCdpbnB1dDpjaGVja2VkJyk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoZWNrZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaWQgPSAkKGNoZWNrZWRbaV0pLmF0dHIoJ2lkJyk7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnNvY2lhbFtpXSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuICAgIH1cblxufSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
