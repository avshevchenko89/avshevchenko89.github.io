!function(t,e){function i(t,e){var i=t.createElement("p"),n=t.getElementsByTagName("head")[0]||t.documentElement;return i.innerHTML="x<style>"+e+"</style>",n.insertBefore(i.lastChild,n.firstChild)}function n(){var t=y.elements;return"string"==typeof t?t.split(" "):t}function s(t,e){var i=y.elements;"string"!=typeof i&&(i=i.join(" ")),"string"!=typeof t&&(t=t.join(" ")),y.elements=i+" "+t,d(e)}function o(t){var e=x[t[v]];return e||(e={},m++,t[v]=m,x[m]=e),e}function r(t,i,n){if(i||(i=e),h)return i.createElement(t);n||(n=o(i));var s;return s=n.cache[t]?n.cache[t].cloneNode():f.test(t)?(n.cache[t]=n.createElem(t)).cloneNode():n.createElem(t),!s.canHaveChildren||p.test(t)||s.tagUrn?s:n.frag.appendChild(s)}function a(t,i){if(t||(t=e),h)return t.createDocumentFragment();i=i||o(t);for(var s=i.frag.cloneNode(),r=0,a=n(),l=a.length;r<l;r++)s.createElement(a[r]);return s}function l(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(i){return y.shivMethods?r(i,t,e):e.createElem(i)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/[\w\-:]+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(y,e.frag)}function d(t){t||(t=e);var n=o(t);return!y.shivCSS||c||n.hasCSS||(n.hasCSS=!!i(t,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),h||l(t,n),t}var c,h,u="3.7.3",g=t.html5||{},p=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,v="_html5shiv",m=0,x={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",c="hidden"in t,h=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return"undefined"==typeof t.cloneNode||"undefined"==typeof t.createDocumentFragment||"undefined"==typeof t.createElement}()}catch(i){c=!0,h=!0}}();var y={elements:g.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:u,shivCSS:g.shivCSS!==!1,supportsUnknownElements:h,shivMethods:g.shivMethods!==!1,type:"default",shivDocument:d,createElement:r,createDocumentFragment:a,addElements:s};t.html5=y,d(e),"object"==typeof module&&module.exports&&(module.exports=y)}("undefined"!=typeof window?window:this,document),function(){"use strict";function t(){}function e(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function i(t){return function(){return this[t].apply(this,arguments)}}var n=t.prototype,s=this,o=s.EventEmitter;n.getListeners=function(t){var e,i,n=this._getEvents();if("object"==typeof t){e={};for(i in n)n.hasOwnProperty(i)&&t.test(i)&&(e[i]=n[i])}else e=n[t]||(n[t]=[]);return e},n.flattenListeners=function(t){var e,i=[];for(e=0;e<t.length;e+=1)i.push(t[e].listener);return i},n.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&(e={},e[t]=i),e||i},n.addListener=function(t,i){var n,s=this.getListenersAsObject(t),o="object"==typeof i;for(n in s)s.hasOwnProperty(n)&&e(s[n],i)===-1&&s[n].push(o?i:{listener:i,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function(t){return this.getListeners(t),this},n.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},n.removeListener=function(t,i){var n,s,o=this.getListenersAsObject(t);for(s in o)o.hasOwnProperty(s)&&(n=e(o[s],i),n!==-1&&o[s].splice(n,1));return this},n.off=i("removeListener"),n.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},n.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},n.manipulateListeners=function(t,e,i){var n,s,o=t?this.removeListener:this.addListener,r=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(n=i.length;n--;)o.call(this,e,i[n]);else for(n in e)e.hasOwnProperty(n)&&(s=e[n])&&("function"==typeof s?o.call(this,n,s):r.call(this,n,s));return this},n.removeEvent=function(t){var e,i=typeof t,n=this._getEvents();if("string"===i)delete n[t];else if("object"===i)for(e in n)n.hasOwnProperty(e)&&t.test(e)&&delete n[e];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(t,e){var i,n,s,o,r=this.getListenersAsObject(t);for(s in r)if(r.hasOwnProperty(s))for(n=r[s].length;n--;)i=r[s][n],i.once===!0&&this.removeListener(t,i.listener),o=i.listener.apply(this,e||[]),o===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},n.trigger=i("emitEvent"),n.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},n.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},n._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},n._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return s.EventEmitter=o,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}.call(this),function(t){function e(e){var i=t.event;return i.target=i.target||i.srcElement||e,i}var i=document.documentElement,n=function(){};i.addEventListener?n=function(t,e,i){t.addEventListener(e,i,!1)}:i.attachEvent&&(n=function(t,i,n){t[i+n]=n.handleEvent?function(){var i=e(t);n.handleEvent.call(n,i)}:function(){var i=e(t);n.call(t,i)},t.attachEvent("on"+i,t[i+n])});var s=function(){};i.removeEventListener?s=function(t,e,i){t.removeEventListener(e,i,!1)}:i.detachEvent&&(s=function(t,e,i){t.detachEvent("on"+e,t[e+i]);try{delete t[e+i]}catch(n){t[e+i]=void 0}});var o={bind:n,unbind:s};"function"==typeof define&&define.amd?define("eventie/eventie",o):t.eventie=o}(this),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("wolfy87-eventemitter"),require("eventie")):t.imagesLoaded=e(t,t.EventEmitter,t.eventie)}(window,function(t,e,i){function n(t,e){for(var i in e)t[i]=e[i];return t}function s(t){return"[object Array]"==h.call(t)}function o(t){var e=[];if(s(t))e=t;else if("number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e}function r(t,e,i){if(!(this instanceof r))return new r(t,e,i);"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=o(t),this.options=n({},this.options),"function"==typeof e?i=e:n(this.options,e),i&&this.on("always",i),this.getImages(),d&&(this.jqDeferred=new d.Deferred);var s=this;setTimeout(function(){s.check()})}function a(t){this.img=t}function l(t,e){this.url=t,this.element=e,this.img=new Image}var d=t.jQuery,c=t.console,h=Object.prototype.toString;r.prototype=new e,r.prototype.options={},r.prototype.getImages=function(){this.images=[];for(var t=0;t<this.elements.length;t++){var e=this.elements[t];this.addElementImages(e)}},r.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),this.options.background===!0&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&u[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var s=i[n];this.addImage(s)}if("string"==typeof this.options.background){var o=t.querySelectorAll(this.options.background);for(n=0;n<o.length;n++){var r=o[n];this.addElementBackgroundImages(r)}}}};var u={1:!0,9:!0,11:!0};r.prototype.addElementBackgroundImages=function(t){for(var e=g(t),i=/url\(['"]*([^'"\)]+)['"]*\)/gi,n=i.exec(e.backgroundImage);null!==n;){var s=n&&n[1];s&&this.addBackground(s,t),n=i.exec(e.backgroundImage)}};var g=t.getComputedStyle||function(t){return t.currentStyle};return r.prototype.addImage=function(t){var e=new a(t);this.images.push(e)},r.prototype.addBackground=function(t,e){var i=new l(t,e);this.images.push(i)},r.prototype.check=function(){function t(t,i,n){setTimeout(function(){e.progress(t,i,n)})}var e=this;if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length)return void this.complete();for(var i=0;i<this.images.length;i++){var n=this.images[i];n.once("progress",t),n.check()}},r.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emit("progress",this,t,e),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&c&&c.log("progress: "+i,t,e)},r.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emit(t,this),this.emit("always",this),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},a.prototype=new e,a.prototype.check=function(){var t=this.getIsImageComplete();return t?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,i.bind(this.proxyImage,"load",this),i.bind(this.proxyImage,"error",this),i.bind(this.img,"load",this),i.bind(this.img,"error",this),void(this.proxyImage.src=this.img.src))},a.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},a.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("progress",this,this.img,e)},a.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},a.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},a.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},a.prototype.unbindEvents=function(){i.unbind(this.proxyImage,"load",this),i.unbind(this.proxyImage,"error",this),i.unbind(this.img,"load",this),i.unbind(this.img,"error",this)},l.prototype=new a,l.prototype.check=function(){i.bind(this.img,"load",this),i.bind(this.img,"error",this),this.img.src=this.url;var t=this.getIsImageComplete();t&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},l.prototype.unbindEvents=function(){i.unbind(this.img,"load",this),i.unbind(this.img,"error",this)},l.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("progress",this,this.element,e)},r.makeJQueryPlugin=function(e){e=e||t.jQuery,e&&(d=e,d.fn.imagesLoaded=function(t,e){var i=new r(this,t,e);return i.jqDeferred.promise(d(this))})},r.makeJQueryPlugin(),r}),function(t){var e={},n={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){},onSliderResize:function(){}};t.fn.bxSlider=function(s){if(0==this.length)return this;if(this.length>1)return this.each(function(){t(this).bxSlider(s)}),this;var o={},r=this;e.el=this;var a=t(window).width(),l=t(window).height(),d=function(){o.settings=t.extend({},n,s),o.settings.slideWidth=parseInt(o.settings.slideWidth),o.children=r.children(o.settings.slideSelector),o.children.length<o.settings.minSlides&&(o.settings.minSlides=o.children.length),o.children.length<o.settings.maxSlides&&(o.settings.maxSlides=o.children.length),o.settings.randomStart&&(o.settings.startSlide=Math.floor(Math.random()*o.children.length)),o.active={index:o.settings.startSlide},o.carousel=o.settings.minSlides>1||o.settings.maxSlides>1,o.carousel&&(o.settings.preloadImages="all"),o.minThreshold=o.settings.minSlides*o.settings.slideWidth+(o.settings.minSlides-1)*o.settings.slideMargin,o.maxThreshold=o.settings.maxSlides*o.settings.slideWidth+(o.settings.maxSlides-1)*o.settings.slideMargin,o.working=!1,o.controls={},o.interval=null,o.animProp="vertical"==o.settings.mode?"top":"left",o.usingCSS=o.settings.useCSS&&"fade"!=o.settings.mode&&function(){var t=document.createElement("div"),e=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in e)if(void 0!==t.style[e[i]])return o.cssPrefix=e[i].replace("Perspective","").toLowerCase(),o.animProp="-"+o.cssPrefix+"-transform",!0;return!1}(),"vertical"==o.settings.mode&&(o.settings.maxSlides=o.settings.minSlides),r.data("origStyle",r.attr("style")),r.children(o.settings.slideSelector).each(function(){t(this).data("origStyle",t(this).attr("style"))}),c()},c=function(){r.wrap('<div class="'+o.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),o.viewport=r.parent(),o.loader=t('<div class="bx-loading" />'),o.viewport.prepend(o.loader),r.css({width:"horizontal"==o.settings.mode?100*o.children.length+215+"%":"auto",position:"relative"}),o.usingCSS&&o.settings.easing?r.css("-"+o.cssPrefix+"-transition-timing-function",o.settings.easing):o.settings.easing||(o.settings.easing="swing");v();o.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),o.viewport.parent().css({maxWidth:p()}),o.settings.pager||o.viewport.parent().css({margin:"0 auto 0px"}),o.children.css({"float":"horizontal"==o.settings.mode?"left":"none",listStyle:"none",position:"relative"}),o.children.css("width",f()),"horizontal"==o.settings.mode&&o.settings.slideMargin>0&&o.children.css("marginRight",o.settings.slideMargin),"vertical"==o.settings.mode&&o.settings.slideMargin>0&&o.children.css("marginBottom",o.settings.slideMargin),"fade"==o.settings.mode&&(o.children.css({position:"absolute",zIndex:0,display:"none"}),o.children.eq(o.settings.startSlide).css({zIndex:o.settings.slideZIndex,display:"block"})),o.controls.el=t('<div class="bx-controls" />'),o.settings.captions&&k(),o.active.last=o.settings.startSlide==m()-1,o.settings.video&&r.fitVids();var e=o.children.eq(o.settings.startSlide);"all"==o.settings.preloadImages&&(e=o.children),o.settings.ticker?o.settings.pager=!1:(o.settings.pager&&w(),o.settings.controls&&E(),o.settings.auto&&o.settings.autoControls&&C(),(o.settings.controls||o.settings.autoControls||o.settings.pager)&&o.viewport.after(o.controls.el)),h(e,u)},h=function(e,i){var n=e.find("img, iframe").length;if(0==n)return void i();var s=0;e.find("img, iframe").each(function(){t(this).one("load",function(){++s==n&&i()}).each(function(){this.complete&&t(this).load()})})},u=function(){if(o.settings.infiniteLoop&&"fade"!=o.settings.mode&&!o.settings.ticker){var e="vertical"==o.settings.mode?o.settings.minSlides:o.settings.maxSlides,i=o.children.slice(0,e).clone().addClass("bx-clone"),n=o.children.slice(-e).clone().addClass("bx-clone");r.append(i).prepend(n)}o.loader.remove(),y(),"vertical"==o.settings.mode&&(o.settings.adaptiveHeight=!0),o.viewport.height(g()),r.redrawSlider(),o.settings.onSliderLoad(o.active.index),o.initialized=!0,o.settings.responsive&&t(window).bind("resize",H),o.settings.auto&&o.settings.autoStart&&(m()>1||o.settings.autoSlideForOnePage)&&D(),o.settings.ticker&&j(),o.settings.pager&&M(o.settings.startSlide),o.settings.controls&&_(),o.settings.touchEnabled&&!o.settings.ticker&&O()},g=function(){var e=0,n=t();if("vertical"==o.settings.mode||o.settings.adaptiveHeight)if(o.carousel){var s=1==o.settings.moveSlides?o.active.index:o.active.index*x();for(n=o.children.eq(s),i=1;i<=o.settings.maxSlides-1;i++)n=s+i>=o.children.length?n.add(o.children.eq(i-1)):n.add(o.children.eq(s+i))}else n=o.children.eq(o.active.index);else n=o.children;return"vertical"==o.settings.mode?(n.each(function(i){e+=t(this).outerHeight()}),o.settings.slideMargin>0&&(e+=o.settings.slideMargin*(o.settings.minSlides-1))):e=Math.max.apply(Math,n.map(function(){return t(this).outerHeight(!1)}).get()),"border-box"==o.viewport.css("box-sizing")?e+=parseFloat(o.viewport.css("padding-top"))+parseFloat(o.viewport.css("padding-bottom"))+parseFloat(o.viewport.css("border-top-width"))+parseFloat(o.viewport.css("border-bottom-width")):"padding-box"==o.viewport.css("box-sizing")&&(e+=parseFloat(o.viewport.css("padding-top"))+parseFloat(o.viewport.css("padding-bottom"))),e},p=function(){var t="100%";return o.settings.slideWidth>0&&(t="horizontal"==o.settings.mode?o.settings.maxSlides*o.settings.slideWidth+(o.settings.maxSlides-1)*o.settings.slideMargin:o.settings.slideWidth),t},f=function(){var t=o.settings.slideWidth,e=o.viewport.width();return 0==o.settings.slideWidth||o.settings.slideWidth>e&&!o.carousel||"vertical"==o.settings.mode?t=e:o.settings.maxSlides>1&&"horizontal"==o.settings.mode&&(e>o.maxThreshold||e<o.minThreshold&&(t=(e-o.settings.slideMargin*(o.settings.minSlides-1))/o.settings.minSlides)),t},v=function(){var t=1;if("horizontal"==o.settings.mode&&o.settings.slideWidth>0)if(o.viewport.width()<o.minThreshold)t=o.settings.minSlides;else if(o.viewport.width()>o.maxThreshold)t=o.settings.maxSlides;else{var e=o.children.first().width()+o.settings.slideMargin;t=Math.floor((o.viewport.width()+o.settings.slideMargin)/e)}else"vertical"==o.settings.mode&&(t=o.settings.minSlides);return t},m=function(){var t=0;if(o.settings.moveSlides>0)if(o.settings.infiniteLoop)t=Math.ceil(o.children.length/x());else for(var e=0,i=0;e<o.children.length;)++t,e=i+v(),i+=o.settings.moveSlides<=v()?o.settings.moveSlides:v();else t=Math.ceil(o.children.length/v());return t},x=function(){return o.settings.moveSlides>0&&o.settings.moveSlides<=v()?o.settings.moveSlides:v()},y=function(){if(o.children.length>o.settings.maxSlides&&o.active.last&&!o.settings.infiniteLoop){if("horizontal"==o.settings.mode){var t=o.children.last(),e=t.position();b(-(e.left-(o.viewport.width()-t.outerWidth())),"reset",0)}else if("vertical"==o.settings.mode){var i=o.children.length-o.settings.minSlides,e=o.children.eq(i).position();b(-e.top,"reset",0)}}else{var e=o.children.eq(o.active.index*x()).position();o.active.index==m()-1&&(o.active.last=!0),void 0!=e&&("horizontal"==o.settings.mode?b(-e.left,"reset",0):"vertical"==o.settings.mode&&b(-e.top,"reset",0))}},b=function(t,e,i,n){if(o.usingCSS){var s="vertical"==o.settings.mode?"translate3d(0, "+t+"px, 0)":"translate3d("+t+"px, 0, 0)";r.css("-"+o.cssPrefix+"-transition-duration",i/1e3+"s"),"slide"==e?(r.css(o.animProp,s),r.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){r.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),P()})):"reset"==e?r.css(o.animProp,s):"ticker"==e&&(r.css("-"+o.cssPrefix+"-transition-timing-function","linear"),r.css(o.animProp,s),r.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){r.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),b(n.resetValue,"reset",0),q()}))}else{var a={};a[o.animProp]=t,"slide"==e?r.animate(a,i,o.settings.easing,function(){P()}):"reset"==e?r.css(o.animProp,t):"ticker"==e&&r.animate(a,speed,"linear",function(){b(n.resetValue,"reset",0),q()})}},S=function(){for(var e="",i=m(),n=0;n<i;n++){var s="";o.settings.buildPager&&t.isFunction(o.settings.buildPager)?(s=o.settings.buildPager(n),o.pagerEl.addClass("bx-custom-pager")):(s=n+1,o.pagerEl.addClass("bx-default-pager")),e+='<div class="bx-pager-item"><a href="" data-slide-index="'+n+'" class="bx-pager-link">'+s+"</a></div>"}o.pagerEl.html(e)},w=function(){o.settings.pagerCustom?o.pagerEl=t(o.settings.pagerCustom):(o.pagerEl=t('<div class="bx-pager" />'),o.settings.pagerSelector?t(o.settings.pagerSelector).html(o.pagerEl):o.controls.el.addClass("bx-has-pager").append(o.pagerEl),S()),o.pagerEl.on("click","a",z)},E=function(){o.controls.next=t('<a class="bx-next" href="">'+o.settings.nextText+"</a>"),o.controls.prev=t('<a class="bx-prev" href="">'+o.settings.prevText+"</a>"),o.controls.next.bind("click",T),o.controls.prev.bind("click",L),o.settings.nextSelector&&t(o.settings.nextSelector).append(o.controls.next),o.settings.prevSelector&&t(o.settings.prevSelector).append(o.controls.prev),o.settings.nextSelector||o.settings.prevSelector||(o.controls.directionEl=t('<div class="bx-controls-direction" />'),o.controls.directionEl.append(o.controls.prev).append(o.controls.next),o.controls.el.addClass("bx-has-controls-direction").append(o.controls.directionEl))},C=function(){o.controls.start=t('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+o.settings.startText+"</a></div>"),o.controls.stop=t('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+o.settings.stopText+"</a></div>"),o.controls.autoEl=t('<div class="bx-controls-auto" />'),o.controls.autoEl.on("click",".bx-start",A),o.controls.autoEl.on("click",".bx-stop",I),o.settings.autoControlsCombine?o.controls.autoEl.append(o.controls.start):o.controls.autoEl.append(o.controls.start).append(o.controls.stop),o.settings.autoControlsSelector?t(o.settings.autoControlsSelector).html(o.controls.autoEl):o.controls.el.addClass("bx-has-controls-auto").append(o.controls.autoEl),W(o.settings.autoStart?"stop":"start")},k=function(){o.children.each(function(e){var i=t(this).find("img:first").attr("title");void 0!=i&&(""+i).length&&t(this).append('<div class="bx-caption"><span>'+i+"</span></div>")})},T=function(t){o.settings.auto&&r.stopAuto(),r.goToNextSlide(),t.preventDefault()},L=function(t){o.settings.auto&&r.stopAuto(),r.goToPrevSlide(),t.preventDefault()},A=function(t){r.startAuto(),t.preventDefault()},I=function(t){r.stopAuto(),t.preventDefault()},z=function(e){o.settings.auto&&r.stopAuto();var i=t(e.currentTarget);if(void 0!==i.attr("data-slide-index")){var n=parseInt(i.attr("data-slide-index"));n!=o.active.index&&r.goToSlide(n),e.preventDefault()}},M=function(e){var i=o.children.length;return"short"==o.settings.pagerType?(o.settings.maxSlides>1&&(i=Math.ceil(o.children.length/o.settings.maxSlides)),void o.pagerEl.html(e+1+o.settings.pagerShortSeparator+i)):(o.pagerEl.find("a").removeClass("active"),void o.pagerEl.each(function(i,n){t(n).find("a").eq(e).addClass("active")}))},P=function(){if(o.settings.infiniteLoop){var t="";0==o.active.index?t=o.children.eq(0).position():o.active.index==m()-1&&o.carousel?t=o.children.eq((m()-1)*x()).position():o.active.index==o.children.length-1&&(t=o.children.eq(o.children.length-1).position()),t&&("horizontal"==o.settings.mode?b(-t.left,"reset",0):"vertical"==o.settings.mode&&b(-t.top,"reset",0))}o.working=!1,o.settings.onSlideAfter(o.children.eq(o.active.index),o.oldIndex,o.active.index)},W=function(t){o.settings.autoControlsCombine?o.controls.autoEl.html(o.controls[t]):(o.controls.autoEl.find("a").removeClass("active"),o.controls.autoEl.find("a:not(.bx-"+t+")").addClass("active"))},_=function(){1==m()?(o.controls.prev.addClass("disabled"),o.controls.next.addClass("disabled")):!o.settings.infiniteLoop&&o.settings.hideControlOnEnd&&(0==o.active.index?(o.controls.prev.addClass("disabled"),o.controls.next.removeClass("disabled")):o.active.index==m()-1?(o.controls.next.addClass("disabled"),o.controls.prev.removeClass("disabled")):(o.controls.prev.removeClass("disabled"),o.controls.next.removeClass("disabled")))},D=function(){if(o.settings.autoDelay>0){setTimeout(r.startAuto,o.settings.autoDelay)}else r.startAuto();o.settings.autoHover&&r.hover(function(){o.interval&&(r.stopAuto(!0),o.autoPaused=!0)},function(){o.autoPaused&&(r.startAuto(!0),o.autoPaused=null)})},j=function(){var e=0;if("next"==o.settings.autoDirection)r.append(o.children.clone().addClass("bx-clone"));else{r.prepend(o.children.clone().addClass("bx-clone"));var i=o.children.first().position();e="horizontal"==o.settings.mode?-i.left:-i.top}b(e,"reset",0),o.settings.pager=!1,o.settings.controls=!1,o.settings.autoControls=!1,o.settings.tickerHover&&!o.usingCSS&&o.viewport.hover(function(){r.stop()},function(){var e=0;o.children.each(function(i){e+="horizontal"==o.settings.mode?t(this).outerWidth(!0):t(this).outerHeight(!0)});var i=o.settings.speed/e,n="horizontal"==o.settings.mode?"left":"top",s=i*(e-Math.abs(parseInt(r.css(n))));q(s)}),q()},q=function(t){speed=t?t:o.settings.speed;var e={left:0,top:0},i={left:0,top:0};"next"==o.settings.autoDirection?e=r.find(".bx-clone").first().position():i=o.children.first().position();var n="horizontal"==o.settings.mode?-e.left:-e.top,s="horizontal"==o.settings.mode?-i.left:-i.top,a={resetValue:s};b(n,"ticker",speed,a)},O=function(){o.touch={start:{x:0,y:0},end:{x:0,y:0}},o.viewport.bind("touchstart",F)},F=function(t){if(o.working)t.preventDefault();else{o.touch.originalPos=r.position();var e=t.originalEvent;o.touch.start.x=e.changedTouches[0].pageX,o.touch.start.y=e.changedTouches[0].pageY,o.viewport.bind("touchmove",B),o.viewport.bind("touchend",$)}},B=function(t){var e=t.originalEvent,i=Math.abs(e.changedTouches[0].pageX-o.touch.start.x),n=Math.abs(e.changedTouches[0].pageY-o.touch.start.y);if(3*i>n&&o.settings.preventDefaultSwipeX?t.preventDefault():3*n>i&&o.settings.preventDefaultSwipeY&&t.preventDefault(),"fade"!=o.settings.mode&&o.settings.oneToOneTouch){var s=0;if("horizontal"==o.settings.mode){var r=e.changedTouches[0].pageX-o.touch.start.x;s=o.touch.originalPos.left+r}else{var r=e.changedTouches[0].pageY-o.touch.start.y;s=o.touch.originalPos.top+r}b(s,"reset",0)}},$=function(t){o.viewport.unbind("touchmove",B);var e=t.originalEvent,i=0;if(o.touch.end.x=e.changedTouches[0].pageX,o.touch.end.y=e.changedTouches[0].pageY,"fade"==o.settings.mode){var n=Math.abs(o.touch.start.x-o.touch.end.x);n>=o.settings.swipeThreshold&&(o.touch.start.x>o.touch.end.x?r.goToNextSlide():r.goToPrevSlide(),r.stopAuto())}else{var n=0;"horizontal"==o.settings.mode?(n=o.touch.end.x-o.touch.start.x,i=o.touch.originalPos.left):(n=o.touch.end.y-o.touch.start.y,i=o.touch.originalPos.top),!o.settings.infiniteLoop&&(0==o.active.index&&n>0||o.active.last&&n<0)?b(i,"reset",200):Math.abs(n)>=o.settings.swipeThreshold?(n<0?r.goToNextSlide():r.goToPrevSlide(),r.stopAuto()):b(i,"reset",200)}o.viewport.unbind("touchend",$)},H=function(e){if(o.initialized){var i=t(window).width(),n=t(window).height();a==i&&l==n||(a=i,l=n,r.redrawSlider(),o.settings.onSliderResize.call(r,o.active.index))}};return r.goToSlide=function(e,i){if(!o.working&&o.active.index!=e)if(o.working=!0,o.oldIndex=o.active.index,e<0?o.active.index=m()-1:e>=m()?o.active.index=0:o.active.index=e,o.settings.onSlideBefore(o.children.eq(o.active.index),o.oldIndex,o.active.index),"next"==i?o.settings.onSlideNext(o.children.eq(o.active.index),o.oldIndex,o.active.index):"prev"==i&&o.settings.onSlidePrev(o.children.eq(o.active.index),o.oldIndex,o.active.index),o.active.last=o.active.index>=m()-1,o.settings.pager&&M(o.active.index),o.settings.controls&&_(),"fade"==o.settings.mode)o.settings.adaptiveHeight&&o.viewport.height()!=g()&&o.viewport.animate({height:g()},o.settings.adaptiveHeightSpeed),o.children.filter(":visible").fadeOut(o.settings.speed).css({zIndex:0}),o.children.eq(o.active.index).css("zIndex",o.settings.slideZIndex+1).fadeIn(o.settings.speed,function(){t(this).css("zIndex",o.settings.slideZIndex),P()});else{o.settings.adaptiveHeight&&o.viewport.height()!=g()&&o.viewport.animate({height:g()},o.settings.adaptiveHeightSpeed);var n=0,s={left:0,top:0};if(!o.settings.infiniteLoop&&o.carousel&&o.active.last)if("horizontal"==o.settings.mode){var a=o.children.eq(o.children.length-1);s=a.position(),n=o.viewport.width()-a.outerWidth()}else{var l=o.children.length-o.settings.minSlides;s=o.children.eq(l).position()}else if(o.carousel&&o.active.last&&"prev"==i){var d=1==o.settings.moveSlides?o.settings.maxSlides-x():(m()-1)*x()-(o.children.length-o.settings.maxSlides),a=r.children(".bx-clone").eq(d);s=a.position()}else if("next"==i&&0==o.active.index)s=r.find("> .bx-clone").eq(o.settings.maxSlides).position(),o.active.last=!1;else if(e>=0){var c=e*x();s=o.children.eq(c).position()}if("undefined"!=typeof s){var h="horizontal"==o.settings.mode?-(s.left-n):-s.top;b(h,"slide",o.settings.speed)}}},r.goToNextSlide=function(){if(o.settings.infiniteLoop||!o.active.last){var t=parseInt(o.active.index)+1;r.goToSlide(t,"next")}},r.goToPrevSlide=function(){if(o.settings.infiniteLoop||0!=o.active.index){var t=parseInt(o.active.index)-1;r.goToSlide(t,"prev")}},r.startAuto=function(t){o.interval||(o.interval=setInterval(function(){"next"==o.settings.autoDirection?r.goToNextSlide():r.goToPrevSlide()},o.settings.pause),o.settings.autoControls&&1!=t&&W("stop"))},r.stopAuto=function(t){o.interval&&(clearInterval(o.interval),o.interval=null,o.settings.autoControls&&1!=t&&W("start"))},r.getCurrentSlide=function(){return o.active.index},r.getCurrentSlideElement=function(){return o.children.eq(o.active.index)},r.getSlideCount=function(){return o.children.length},r.redrawSlider=function(){o.children.add(r.find(".bx-clone")).width(f()),o.viewport.css("height",g()),o.settings.ticker||y(),o.active.last&&(o.active.index=m()-1),o.active.index>=m()&&(o.active.last=!0),o.settings.pager&&!o.settings.pagerCustom&&(S(),M(o.active.index))},r.destroySlider=function(){o.initialized&&(o.initialized=!1,t(".bx-clone",this).remove(),o.children.each(function(){void 0!=t(this).data("origStyle")?t(this).attr("style",t(this).data("origStyle")):t(this).removeAttr("style")}),void 0!=t(this).data("origStyle")?this.attr("style",t(this).data("origStyle")):t(this).removeAttr("style"),t(this).unwrap().unwrap(),o.controls.el&&o.controls.el.remove(),o.controls.next&&o.controls.next.remove(),o.controls.prev&&o.controls.prev.remove(),o.pagerEl&&o.settings.controls&&o.pagerEl.remove(),t(".bx-caption",this).remove(),o.controls.autoEl&&o.controls.autoEl.remove(),clearInterval(o.interval),o.settings.responsive&&t(window).unbind("resize",H))},r.reloadSlider=function(t){void 0!=t&&(s=t),r.destroySlider(),d()},d(),this}}(jQuery),function(t,e,i){"use strict";var n,s=e.event;s.special.smartresize={setup:function(){e(this).bind("resize",s.special.smartresize.handler)},teardown:function(){e(this).unbind("resize",s.special.smartresize.handler)},handler:function(t,e){var i=this,o=arguments;t.type="smartresize",n&&clearTimeout(n),n=setTimeout(function(){s.dispatch.apply(i,o)},"execAsap"===e?0:100)}},e.fn.smartresize=function(t){return t?this.bind("smartresize",t):this.trigger("smartresize",["execAsap"])},e.Mason=function(t,i){this.element=e(i),this._create(t),this._init()},e.Mason.settings={isResizable:!0,isAnimated:!1,animationOptions:{queue:!1,duration:500},gutterWidth:0,isRTL:!1,isFitWidth:!1,containerStyle:{position:"relative"}},e.Mason.prototype={_filterFindBricks:function(t){var e=this.options.itemSelector;return e?t.filter(e).add(t.find(e)):t},_getBricks:function(t){var e=this._filterFindBricks(t).css({position:"absolute"}).addClass("masonry-brick");return e},_create:function(i){this.options=e.extend(!0,{},e.Mason.settings,i),this.styleQueue=[];var n=this.element[0].style;this.originalStyle={height:n.height||""};var s=this.options.containerStyle;for(var o in s)this.originalStyle[o]=n[o]||"";this.element.css(s),this.horizontalDirection=this.options.isRTL?"right":"left";var r=this.element.css("padding-"+this.horizontalDirection),a=this.element.css("padding-top");this.offset={x:r?parseInt(r,10):0,y:a?parseInt(a,10):0},this.isFluid=this.options.columnWidth&&"function"==typeof this.options.columnWidth;var l=this;setTimeout(function(){l.element.addClass("masonry")},0),this.options.isResizable&&e(t).bind("smartresize.masonry",function(){l.resize()}),this.reloadItems()},_init:function(t){this._getColumns(),
this._reLayout(t)},option:function(t,i){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))},layout:function(t,e){for(var i=0,n=t.length;i<n;i++)this._placeBrick(t[i]);var s={};if(s.height=Math.max.apply(Math,this.colYs),this.options.isFitWidth){var o=0;for(i=this.cols;--i&&0===this.colYs[i];)o++;s.width=(this.cols-o)*this.columnWidth-this.options.gutterWidth}this.styleQueue.push({$el:this.element,style:s});var r,a=this.isLaidOut&&this.options.isAnimated?"animate":"css",l=this.options.animationOptions;for(i=0,n=this.styleQueue.length;i<n;i++)r=this.styleQueue[i],r.$el[a](r.style,l);this.styleQueue=[],e&&e.call(t),this.isLaidOut=!0},_getColumns:function(){var t=this.options.isFitWidth?this.element.parent():this.element,e=t.width();this.columnWidth=this.isFluid?this.options.columnWidth(e):this.options.columnWidth||this.$bricks.outerWidth(!0)||e,this.columnWidth+=this.options.gutterWidth,this.cols=Math.floor((e+this.options.gutterWidth)/this.columnWidth),this.cols=Math.max(this.cols,1)},_placeBrick:function(t){var i,n,s,o,r,a=e(t);if(i=Math.ceil(a.outerWidth(!0)/this.columnWidth),i=Math.min(i,this.cols),1===i)s=this.colYs;else for(n=this.cols+1-i,s=[],r=0;r<n;r++)o=this.colYs.slice(r,r+i),s[r]=Math.max.apply(Math,o);for(var l=Math.min.apply(Math,s),d=0,c=0,h=s.length;c<h;c++)if(s[c]===l){d=c;break}var u={top:l+this.offset.y};u[this.horizontalDirection]=this.columnWidth*d+this.offset.x,this.styleQueue.push({$el:a,style:u});var g=l+a.outerHeight(!0),p=this.cols+1-h;for(c=0;c<p;c++)this.colYs[d+c]=g},resize:function(){var t=this.cols;this._getColumns(),(this.isFluid||this.cols!==t)&&this._reLayout()},_reLayout:function(t){var e=this.cols;for(this.colYs=[];e--;)this.colYs.push(0);this.layout(this.$bricks,t)},reloadItems:function(){this.$bricks=this._getBricks(this.element.children())},reload:function(t){this.reloadItems(),this._init(t)},appended:function(t,e,i){if(e){this._filterFindBricks(t).css({top:this.element.height()});var n=this;setTimeout(function(){n._appended(t,i)},1)}else this._appended(t,i)},_appended:function(t,e){var i=this._getBricks(t);this.$bricks=this.$bricks.add(i),this.layout(i,e)},remove:function(t){this.$bricks=this.$bricks.not(t),t.remove()},destroy:function(){this.$bricks.removeClass("masonry-brick").each(function(){this.style.position="",this.style.top="",this.style.left=""});var i=this.element[0].style;for(var n in this.originalStyle)i[n]=this.originalStyle[n];this.element.unbind(".masonry").removeClass("masonry").removeData("masonry"),e(t).unbind(".masonry")}},e.fn.imagesLoaded=function(t){function i(){t.call(s,o)}function n(t){var s=t.target;s.src!==a&&e.inArray(s,l)===-1&&(l.push(s),--r<=0&&(setTimeout(i),o.unbind(".imagesLoaded",n)))}var s=this,o=s.find("img").add(s.filter("img")),r=o.length,a="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",l=[];return r||i(),o.bind("load.imagesLoaded error.imagesLoaded",n).each(function(){var t=this.src;this.src=a,this.src=t}),s};var o=function(e){t.console&&t.console.error(e)};e.fn.masonry=function(t){if("string"==typeof t){var i=Array.prototype.slice.call(arguments,1);this.each(function(){var n=e.data(this,"masonry");return n?e.isFunction(n[t])&&"_"!==t.charAt(0)?void n[t].apply(n,i):void o("no such method '"+t+"' for masonry instance"):void o("cannot call methods on masonry prior to initialization; attempted to call method '"+t+"'")})}else this.each(function(){var i=e.data(this,"masonry");i?(i.option(t||{}),i._init()):e.data(this,"masonry",new e.Mason(t,this))});return this}}(window,jQuery),$(function(){function t(){var t=$(".grid");t.imagesLoaded(function(){t.masonry({itemSelector:".grid-item",columnWidth:function(t){return t/3-10},gutterWidth:10})})}function e(){$(".ideas").find("div").remove();var e=$(".search__field").val();$.ajax({url:"https://pixabay.com/api/?key=2650584-e8feab9b11ed644dcec728ac9&q="+e+"&image_type=photo",dataType:"jsonp",success:function(e){console.log(e);var i=$("#container").html(),n=tmpl(i,e);$(".ideas").append(n),t()},error:function(){alert("Error!")}})}$(".bxslider").bxSlider({auto:!1,autoControls:!0}),e(),$(".search__button").on("click",function(t){t.preventDefault(),e(),$(".search__field").val("")})}),function(){var t={};this.tmpl=function e(i,n){var s=/\W/.test(i)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+i.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):t[i]=t[i]||e(document.getElementById(i).innerHTML);return n?s(n):s}}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWw1c2hpdi5qcyIsImltYWdlc2xvYWRlZC5wa2dkLmpzIiwianF1ZXJ5LmJ4c2xpZGVyLmpzIiwianF1ZXJ5Lm1hc29ucnkubWluLmpzIiwic2NyaXB0LmpzIiwidG1wbC5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJkb2N1bWVudCIsImFkZFN0eWxlU2hlZXQiLCJvd25lckRvY3VtZW50IiwiY3NzVGV4dCIsInAiLCJjcmVhdGVFbGVtZW50IiwicGFyZW50IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJkb2N1bWVudEVsZW1lbnQiLCJpbm5lckhUTUwiLCJpbnNlcnRCZWZvcmUiLCJsYXN0Q2hpbGQiLCJmaXJzdENoaWxkIiwiZ2V0RWxlbWVudHMiLCJlbGVtZW50cyIsImh0bWw1Iiwic3BsaXQiLCJhZGRFbGVtZW50cyIsIm5ld0VsZW1lbnRzIiwiam9pbiIsInNoaXZEb2N1bWVudCIsImdldEV4cGFuZG9EYXRhIiwiZGF0YSIsImV4cGFuZG9EYXRhIiwiZXhwYW5kbyIsImV4cGFuSUQiLCJub2RlTmFtZSIsInN1cHBvcnRzVW5rbm93bkVsZW1lbnRzIiwibm9kZSIsImNhY2hlIiwiY2xvbmVOb2RlIiwic2F2ZUNsb25lcyIsInRlc3QiLCJjcmVhdGVFbGVtIiwiY2FuSGF2ZUNoaWxkcmVuIiwicmVTa2lwIiwidGFnVXJuIiwiZnJhZyIsImFwcGVuZENoaWxkIiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImNsb25lIiwiaSIsImVsZW1zIiwibCIsImxlbmd0aCIsInNoaXZNZXRob2RzIiwiY3JlYXRlRnJhZyIsIkZ1bmN0aW9uIiwicmVwbGFjZSIsInNoaXZDU1MiLCJzdXBwb3J0c0h0bWw1U3R5bGVzIiwiaGFzQ1NTIiwidmVyc2lvbiIsIm9wdGlvbnMiLCJhIiwiY2hpbGROb2RlcyIsImUiLCJ0eXBlIiwibW9kdWxlIiwiZXhwb3J0cyIsInRoaXMiLCJFdmVudEVtaXR0ZXIiLCJpbmRleE9mTGlzdGVuZXIiLCJsaXN0ZW5lcnMiLCJsaXN0ZW5lciIsImFsaWFzIiwibmFtZSIsImFwcGx5IiwiYXJndW1lbnRzIiwicHJvdG8iLCJwcm90b3R5cGUiLCJvcmlnaW5hbEdsb2JhbFZhbHVlIiwiZ2V0TGlzdGVuZXJzIiwiZXZ0IiwicmVzcG9uc2UiLCJrZXkiLCJldmVudHMiLCJfZ2V0RXZlbnRzIiwiaGFzT3duUHJvcGVydHkiLCJmbGF0dGVuTGlzdGVuZXJzIiwiZmxhdExpc3RlbmVycyIsInB1c2giLCJnZXRMaXN0ZW5lcnNBc09iamVjdCIsIkFycmF5IiwiYWRkTGlzdGVuZXIiLCJsaXN0ZW5lcklzV3JhcHBlZCIsIm9uY2UiLCJvbiIsImFkZE9uY2VMaXN0ZW5lciIsImRlZmluZUV2ZW50IiwiZGVmaW5lRXZlbnRzIiwiZXZ0cyIsInJlbW92ZUxpc3RlbmVyIiwiaW5kZXgiLCJzcGxpY2UiLCJvZmYiLCJhZGRMaXN0ZW5lcnMiLCJtYW5pcHVsYXRlTGlzdGVuZXJzIiwicmVtb3ZlTGlzdGVuZXJzIiwicmVtb3ZlIiwidmFsdWUiLCJzaW5nbGUiLCJtdWx0aXBsZSIsIlJlZ0V4cCIsImNhbGwiLCJyZW1vdmVFdmVudCIsIl9ldmVudHMiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJlbWl0RXZlbnQiLCJhcmdzIiwiX2dldE9uY2VSZXR1cm5WYWx1ZSIsInRyaWdnZXIiLCJlbWl0Iiwic2xpY2UiLCJzZXRPbmNlUmV0dXJuVmFsdWUiLCJfb25jZVJldHVyblZhbHVlIiwibm9Db25mbGljdCIsImRlZmluZSIsImFtZCIsImdldElFRXZlbnQiLCJvYmoiLCJldmVudCIsInRhcmdldCIsInNyY0VsZW1lbnQiLCJkb2NFbGVtIiwiYmluZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJmbiIsImF0dGFjaEV2ZW50IiwiaGFuZGxlRXZlbnQiLCJ1bmJpbmQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGV0YWNoRXZlbnQiLCJlcnIiLCJ1bmRlZmluZWQiLCJldmVudGllIiwiZmFjdG9yeSIsInJlcXVpcmUiLCJpbWFnZXNMb2FkZWQiLCJleHRlbmQiLCJiIiwicHJvcCIsImlzQXJyYXkiLCJvYmpUb1N0cmluZyIsIm1ha2VBcnJheSIsImFyeSIsIkltYWdlc0xvYWRlZCIsImVsZW0iLCJvbkFsd2F5cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJnZXRJbWFnZXMiLCIkIiwianFEZWZlcnJlZCIsIkRlZmVycmVkIiwiX3RoaXMiLCJzZXRUaW1lb3V0IiwiY2hlY2siLCJMb2FkaW5nSW1hZ2UiLCJpbWciLCJCYWNrZ3JvdW5kIiwidXJsIiwiZWxlbWVudCIsIkltYWdlIiwialF1ZXJ5IiwiY29uc29sZSIsIk9iamVjdCIsInRvU3RyaW5nIiwiaW1hZ2VzIiwiYWRkRWxlbWVudEltYWdlcyIsImFkZEltYWdlIiwiYmFja2dyb3VuZCIsImFkZEVsZW1lbnRCYWNrZ3JvdW5kSW1hZ2VzIiwibm9kZVR5cGUiLCJlbGVtZW50Tm9kZVR5cGVzIiwiY2hpbGRJbWdzIiwiY2hpbGRyZW4iLCJjaGlsZCIsIjEiLCI5IiwiMTEiLCJzdHlsZSIsImdldFN0eWxlIiwicmVVUkwiLCJtYXRjaGVzIiwiZXhlYyIsImJhY2tncm91bmRJbWFnZSIsImFkZEJhY2tncm91bmQiLCJnZXRDb21wdXRlZFN0eWxlIiwiY3VycmVudFN0eWxlIiwibG9hZGluZ0ltYWdlIiwib25Qcm9ncmVzcyIsImltYWdlIiwibWVzc2FnZSIsInByb2dyZXNzIiwicHJvZ3Jlc3NlZENvdW50IiwiaGFzQW55QnJva2VuIiwiY29tcGxldGUiLCJpc0xvYWRlZCIsIm5vdGlmeSIsImRlYnVnIiwibG9nIiwiZXZlbnROYW1lIiwiaXNDb21wbGV0ZSIsImpxTWV0aG9kIiwiZ2V0SXNJbWFnZUNvbXBsZXRlIiwiY29uZmlybSIsIm5hdHVyYWxXaWR0aCIsInByb3h5SW1hZ2UiLCJzcmMiLCJtZXRob2QiLCJvbmxvYWQiLCJ1bmJpbmRFdmVudHMiLCJvbmVycm9yIiwibWFrZUpRdWVyeVBsdWdpbiIsImNhbGxiYWNrIiwiaW5zdGFuY2UiLCJwcm9taXNlIiwicGx1Z2luIiwiZGVmYXVsdHMiLCJtb2RlIiwic2xpZGVTZWxlY3RvciIsImluZmluaXRlTG9vcCIsImhpZGVDb250cm9sT25FbmQiLCJzcGVlZCIsImVhc2luZyIsInNsaWRlTWFyZ2luIiwic3RhcnRTbGlkZSIsInJhbmRvbVN0YXJ0IiwiY2FwdGlvbnMiLCJ0aWNrZXIiLCJ0aWNrZXJIb3ZlciIsImFkYXB0aXZlSGVpZ2h0IiwiYWRhcHRpdmVIZWlnaHRTcGVlZCIsInZpZGVvIiwidXNlQ1NTIiwicHJlbG9hZEltYWdlcyIsInJlc3BvbnNpdmUiLCJzbGlkZVpJbmRleCIsIndyYXBwZXJDbGFzcyIsInRvdWNoRW5hYmxlZCIsInN3aXBlVGhyZXNob2xkIiwib25lVG9PbmVUb3VjaCIsInByZXZlbnREZWZhdWx0U3dpcGVYIiwicHJldmVudERlZmF1bHRTd2lwZVkiLCJwYWdlciIsInBhZ2VyVHlwZSIsInBhZ2VyU2hvcnRTZXBhcmF0b3IiLCJwYWdlclNlbGVjdG9yIiwiYnVpbGRQYWdlciIsInBhZ2VyQ3VzdG9tIiwiY29udHJvbHMiLCJuZXh0VGV4dCIsInByZXZUZXh0IiwibmV4dFNlbGVjdG9yIiwicHJldlNlbGVjdG9yIiwiYXV0b0NvbnRyb2xzIiwic3RhcnRUZXh0Iiwic3RvcFRleHQiLCJhdXRvQ29udHJvbHNDb21iaW5lIiwiYXV0b0NvbnRyb2xzU2VsZWN0b3IiLCJhdXRvIiwicGF1c2UiLCJhdXRvU3RhcnQiLCJhdXRvRGlyZWN0aW9uIiwiYXV0b0hvdmVyIiwiYXV0b0RlbGF5IiwiYXV0b1NsaWRlRm9yT25lUGFnZSIsIm1pblNsaWRlcyIsIm1heFNsaWRlcyIsIm1vdmVTbGlkZXMiLCJzbGlkZVdpZHRoIiwib25TbGlkZXJMb2FkIiwib25TbGlkZUJlZm9yZSIsIm9uU2xpZGVBZnRlciIsIm9uU2xpZGVOZXh0Iiwib25TbGlkZVByZXYiLCJvblNsaWRlclJlc2l6ZSIsImJ4U2xpZGVyIiwiZWFjaCIsInNsaWRlciIsImVsIiwid2luZG93V2lkdGgiLCJ3aWR0aCIsIndpbmRvd0hlaWdodCIsImhlaWdodCIsImluaXQiLCJzZXR0aW5ncyIsInBhcnNlSW50IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiYWN0aXZlIiwiY2Fyb3VzZWwiLCJtaW5UaHJlc2hvbGQiLCJtYXhUaHJlc2hvbGQiLCJ3b3JraW5nIiwiaW50ZXJ2YWwiLCJhbmltUHJvcCIsInVzaW5nQ1NTIiwiZGl2IiwicHJvcHMiLCJjc3NQcmVmaXgiLCJ0b0xvd2VyQ2FzZSIsImF0dHIiLCJzZXR1cCIsIndyYXAiLCJ2aWV3cG9ydCIsImxvYWRlciIsInByZXBlbmQiLCJjc3MiLCJwb3NpdGlvbiIsImdldE51bWJlclNsaWRlc1Nob3dpbmciLCJvdmVyZmxvdyIsIm1heFdpZHRoIiwiZ2V0Vmlld3BvcnRNYXhXaWR0aCIsIm1hcmdpbiIsImZsb2F0IiwibGlzdFN0eWxlIiwiZ2V0U2xpZGVXaWR0aCIsInpJbmRleCIsImRpc3BsYXkiLCJlcSIsImFwcGVuZENhcHRpb25zIiwibGFzdCIsImdldFBhZ2VyUXR5IiwiZml0VmlkcyIsInByZWxvYWRTZWxlY3RvciIsImFwcGVuZFBhZ2VyIiwiYXBwZW5kQ29udHJvbHMiLCJhcHBlbmRDb250cm9sc0F1dG8iLCJhZnRlciIsImxvYWRFbGVtZW50cyIsInN0YXJ0Iiwic2VsZWN0b3IiLCJ0b3RhbCIsImZpbmQiLCJjb3VudCIsIm9uZSIsImxvYWQiLCJzbGljZUFwcGVuZCIsImFkZENsYXNzIiwic2xpY2VQcmVwZW5kIiwiYXBwZW5kIiwic2V0U2xpZGVQb3NpdGlvbiIsImdldFZpZXdwb3J0SGVpZ2h0IiwicmVkcmF3U2xpZGVyIiwiaW5pdGlhbGl6ZWQiLCJyZXNpemVXaW5kb3ciLCJpbml0QXV0byIsImluaXRUaWNrZXIiLCJ1cGRhdGVQYWdlckFjdGl2ZSIsInVwZGF0ZURpcmVjdGlvbkNvbnRyb2xzIiwiaW5pdFRvdWNoIiwiY3VycmVudEluZGV4IiwiZ2V0TW92ZUJ5IiwiYWRkIiwib3V0ZXJIZWlnaHQiLCJtYXgiLCJtYXAiLCJnZXQiLCJwYXJzZUZsb2F0IiwibmV3RWxXaWR0aCIsIndyYXBXaWR0aCIsInNsaWRlc1Nob3dpbmciLCJjaGlsZFdpZHRoIiwiZmlyc3QiLCJwYWdlclF0eSIsImNlaWwiLCJicmVha1BvaW50IiwiY291bnRlciIsInNldFBvc2l0aW9uUHJvcGVydHkiLCJsZWZ0Iiwib3V0ZXJXaWR0aCIsImxhc3RTaG93aW5nSW5kZXgiLCJ0b3AiLCJkdXJhdGlvbiIsInBhcmFtcyIsInByb3BWYWx1ZSIsInVwZGF0ZUFmdGVyU2xpZGVUcmFuc2l0aW9uIiwidGlja2VyTG9vcCIsImFuaW1hdGVPYmoiLCJhbmltYXRlIiwicG9wdWxhdGVQYWdlciIsInBhZ2VySHRtbCIsImxpbmtDb250ZW50IiwiaXNGdW5jdGlvbiIsInBhZ2VyRWwiLCJodG1sIiwiY2xpY2tQYWdlckJpbmQiLCJuZXh0IiwicHJldiIsImNsaWNrTmV4dEJpbmQiLCJjbGlja1ByZXZCaW5kIiwiZGlyZWN0aW9uRWwiLCJzdG9wIiwiYXV0b0VsIiwiY2xpY2tTdGFydEJpbmQiLCJjbGlja1N0b3BCaW5kIiwidXBkYXRlQXV0b0NvbnRyb2xzIiwidGl0bGUiLCJzdG9wQXV0byIsImdvVG9OZXh0U2xpZGUiLCJwcmV2ZW50RGVmYXVsdCIsImdvVG9QcmV2U2xpZGUiLCJzdGFydEF1dG8iLCJwYWdlckxpbmsiLCJjdXJyZW50VGFyZ2V0IiwicGFnZXJJbmRleCIsImdvVG9TbGlkZSIsInNsaWRlSW5kZXgiLCJsZW4iLCJyZW1vdmVDbGFzcyIsIm9sZEluZGV4Iiwic3RhdGUiLCJob3ZlciIsImF1dG9QYXVzZWQiLCJzdGFydFBvc2l0aW9uIiwidG90YWxEaW1lbnMiLCJyYXRpbyIsInByb3BlcnR5IiwibmV3U3BlZWQiLCJhYnMiLCJyZXN1bWVTcGVlZCIsInJlc2V0IiwiYW5pbWF0ZVByb3BlcnR5IiwicmVzZXRWYWx1ZSIsInRvdWNoIiwieCIsInkiLCJlbmQiLCJvblRvdWNoU3RhcnQiLCJvcmlnaW5hbFBvcyIsIm9yaWciLCJvcmlnaW5hbEV2ZW50IiwiY2hhbmdlZFRvdWNoZXMiLCJwYWdlWCIsInBhZ2VZIiwib25Ub3VjaE1vdmUiLCJvblRvdWNoRW5kIiwieE1vdmVtZW50IiwieU1vdmVtZW50IiwiY2hhbmdlIiwiZGlzdGFuY2UiLCJ3aW5kb3dXaWR0aE5ldyIsIndpbmRvd0hlaWdodE5ldyIsImRpcmVjdGlvbiIsImZpbHRlciIsImZhZGVPdXQiLCJmYWRlSW4iLCJtb3ZlQnkiLCJyZXF1ZXN0RWwiLCJwcmV2ZW50Q29udHJvbFVwZGF0ZSIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImdldEN1cnJlbnRTbGlkZSIsImdldEN1cnJlbnRTbGlkZUVsZW1lbnQiLCJnZXRTbGlkZUNvdW50IiwiZGVzdHJveVNsaWRlciIsInJlbW92ZUF0dHIiLCJ1bndyYXAiLCJyZWxvYWRTbGlkZXIiLCJ0IiwibiIsInIiLCJzcGVjaWFsIiwic21hcnRyZXNpemUiLCJoYW5kbGVyIiwidGVhcmRvd24iLCJzIiwiY2xlYXJUaW1lb3V0IiwiZGlzcGF0Y2giLCJNYXNvbiIsIl9jcmVhdGUiLCJfaW5pdCIsImlzUmVzaXphYmxlIiwiaXNBbmltYXRlZCIsImFuaW1hdGlvbk9wdGlvbnMiLCJxdWV1ZSIsImd1dHRlcldpZHRoIiwiaXNSVEwiLCJpc0ZpdFdpZHRoIiwiY29udGFpbmVyU3R5bGUiLCJfZmlsdGVyRmluZEJyaWNrcyIsIml0ZW1TZWxlY3RvciIsIl9nZXRCcmlja3MiLCJzdHlsZVF1ZXVlIiwib3JpZ2luYWxTdHlsZSIsImhvcml6b250YWxEaXJlY3Rpb24iLCJvIiwidSIsIm9mZnNldCIsImlzRmx1aWQiLCJjb2x1bW5XaWR0aCIsInJlc2l6ZSIsInJlbG9hZEl0ZW1zIiwiX2dldENvbHVtbnMiLCJfcmVMYXlvdXQiLCJvcHRpb24iLCJpc1BsYWluT2JqZWN0IiwibGF5b3V0IiwiX3BsYWNlQnJpY2siLCJjb2xZcyIsImNvbHMiLCIkZWwiLCJpc0xhaWRPdXQiLCIkYnJpY2tzIiwibWluIiwiZiIsImMiLCJoIiwiZCIsInJlbG9hZCIsImFwcGVuZGVkIiwiX2FwcGVuZGVkIiwibm90IiwiZGVzdHJveSIsInJlbW92ZURhdGEiLCJpbkFycmF5IiwiZXJyb3IiLCJtYXNvbnJ5IiwiY2hhckF0IiwiZ3JpZCIsIiRncmlkIiwiY29udGFpbmVyV2lkdGgiLCJzZWFyY2giLCIkc2VhcmNoS2V5IiwidmFsIiwiYWpheCIsImRhdGFUeXBlIiwic3VjY2VzcyIsIiRodG1sIiwiJGNvbnRlbnQiLCJ0bXBsIiwiYWxlcnQiLCJzdHIiLCJnZXRFbGVtZW50QnlJZCJdLCJtYXBwaW5ncyI6IkNBR0EsU0FBQUEsRUFBQUMsR0ErREEsUUFBQUMsR0FBQUMsRUFBQUMsR0FDQSxHQUFBQyxHQUFBRixFQUFBRyxjQUFBLEtBQ0FDLEVBQUFKLEVBQUFLLHFCQUFBLFFBQUEsSUFBQUwsRUFBQU0sZUFHQSxPQURBSixHQUFBSyxVQUFBLFdBQUFOLEVBQUEsV0FDQUcsRUFBQUksYUFBQU4sRUFBQU8sVUFBQUwsRUFBQU0sWUFRQSxRQUFBQyxLQUNBLEdBQUFDLEdBQUFDLEVBQUFELFFBQ0EsT0FBQSxnQkFBQUEsR0FBQUEsRUFBQUUsTUFBQSxLQUFBRixFQVNBLFFBQUFHLEdBQUFDLEVBQUFoQixHQUNBLEdBQUFZLEdBQUFDLEVBQUFELFFBQ0EsaUJBQUFBLEtBQ0FBLEVBQUFBLEVBQUFLLEtBQUEsTUFFQSxnQkFBQUQsS0FDQUEsRUFBQUEsRUFBQUMsS0FBQSxNQUVBSixFQUFBRCxTQUFBQSxFQUFBLElBQUFJLEVBQ0FFLEVBQUFsQixHQVNBLFFBQUFtQixHQUFBbkIsR0FDQSxHQUFBb0IsR0FBQUMsRUFBQXJCLEVBQUFzQixHQU9BLE9BTkFGLEtBQ0FBLEtBQ0FHLElBQ0F2QixFQUFBc0IsR0FBQUMsRUFDQUYsRUFBQUUsR0FBQUgsR0FFQUEsRUFVQSxRQUFBakIsR0FBQXFCLEVBQUF4QixFQUFBb0IsR0FJQSxHQUhBcEIsSUFDQUEsRUFBQUYsR0FFQTJCLEVBQ0EsTUFBQXpCLEdBQUFHLGNBQUFxQixFQUVBSixLQUNBQSxFQUFBRCxFQUFBbkIsR0FFQSxJQUFBMEIsRUFpQkEsT0FkQUEsR0FEQU4sRUFBQU8sTUFBQUgsR0FDQUosRUFBQU8sTUFBQUgsR0FBQUksWUFDQUMs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QUFBYSxHQUFBeUcsRUFBQXpHLEdBQUF5RyIsImZpbGUiOiJzY3JpcHQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4qIEBwcmVzZXJ2ZSBIVE1MNSBTaGl2IDMuNy4zIHwgQGFmYXJrYXMgQGpkYWx0b24gQGpvbl9uZWFsIEByZW0gfCBNSVQvR1BMMiBMaWNlbnNlZFxuKi9cbjsoZnVuY3Rpb24od2luZG93LCBkb2N1bWVudCkge1xuLypqc2hpbnQgZXZpbDp0cnVlICovXG4gIC8qKiB2ZXJzaW9uICovXG4gIHZhciB2ZXJzaW9uID0gJzMuNy4zJztcblxuICAvKiogUHJlc2V0IG9wdGlvbnMgKi9cbiAgdmFyIG9wdGlvbnMgPSB3aW5kb3cuaHRtbDUgfHwge307XG5cbiAgLyoqIFVzZWQgdG8gc2tpcCBwcm9ibGVtIGVsZW1lbnRzICovXG4gIHZhciByZVNraXAgPSAvXjx8Xig/OmJ1dHRvbnxtYXB8c2VsZWN0fHRleHRhcmVhfG9iamVjdHxpZnJhbWV8b3B0aW9ufG9wdGdyb3VwKSQvaTtcblxuICAvKiogTm90IGFsbCBlbGVtZW50cyBjYW4gYmUgY2xvbmVkIGluIElFICoqL1xuICB2YXIgc2F2ZUNsb25lcyA9IC9eKD86YXxifGNvZGV8ZGl2fGZpZWxkc2V0fGgxfGgyfGgzfGg0fGg1fGg2fGl8bGFiZWx8bGl8b2x8cHxxfHNwYW58c3Ryb25nfHN0eWxlfHRhYmxlfHRib2R5fHRkfHRofHRyfHVsKSQvaTtcblxuICAvKiogRGV0ZWN0IHdoZXRoZXIgdGhlIGJyb3dzZXIgc3VwcG9ydHMgZGVmYXVsdCBodG1sNSBzdHlsZXMgKi9cbiAgdmFyIHN1cHBvcnRzSHRtbDVTdHlsZXM7XG5cbiAgLyoqIE5hbWUgb2YgdGhlIGV4cGFuZG8sIHRvIHdvcmsgd2l0aCBtdWx0aXBsZSBkb2N1bWVudHMgb3IgdG8gcmUtc2hpdiBvbmUgZG9jdW1lbnQgKi9cbiAgdmFyIGV4cGFuZG8gPSAnX2h0bWw1c2hpdic7XG5cbiAgLyoqIFRoZSBpZCBmb3IgdGhlIHRoZSBkb2N1bWVudHMgZXhwYW5kbyAqL1xuICB2YXIgZXhwYW5JRCA9IDA7XG5cbiAgLyoqIENhY2hlZCBkYXRhIGZvciBlYWNoIGRvY3VtZW50ICovXG4gIHZhciBleHBhbmRvRGF0YSA9IHt9O1xuXG4gIC8qKiBEZXRlY3Qgd2hldGhlciB0aGUgYnJvd3NlciBzdXBwb3J0cyB1bmtub3duIGVsZW1lbnRzICovXG4gIHZhciBzdXBwb3J0c1Vua25vd25FbGVtZW50cztcblxuICAoZnVuY3Rpb24oKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgIGEuaW5uZXJIVE1MID0gJzx4eXo+PC94eXo+JztcbiAgICAgICAgLy9pZiB0aGUgaGlkZGVuIHByb3BlcnR5IGlzIGltcGxlbWVudGVkIHdlIGNhbiBhc3N1bWUsIHRoYXQgdGhlIGJyb3dzZXIgc3VwcG9ydHMgYmFzaWMgSFRNTDUgU3R5bGVzXG4gICAgICAgIHN1cHBvcnRzSHRtbDVTdHlsZXMgPSAoJ2hpZGRlbicgaW4gYSk7XG5cbiAgICAgICAgc3VwcG9ydHNVbmtub3duRWxlbWVudHMgPSBhLmNoaWxkTm9kZXMubGVuZ3RoID09IDEgfHwgKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIC8vIGFzc2lnbiBhIGZhbHNlIHBvc2l0aXZlIGlmIHVuYWJsZSB0byBzaGl2XG4gICAgICAgICAgKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpKCdhJyk7XG4gICAgICAgICAgdmFyIGZyYWcgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHR5cGVvZiBmcmFnLmNsb25lTm9kZSA9PSAndW5kZWZpbmVkJyB8fFxuICAgICAgICAgICAgdHlwZW9mIGZyYWcuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCA9PSAndW5kZWZpbmVkJyB8fFxuICAgICAgICAgICAgdHlwZW9mIGZyYWcuY3JlYXRlRWxlbWVudCA9PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICk7XG4gICAgICAgIH0oKSk7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAvLyBhc3NpZ24gYSBmYWxzZSBwb3NpdGl2ZSBpZiBkZXRlY3Rpb24gZmFpbHMgPT4gdW5hYmxlIHRvIHNoaXZcbiAgICAgIHN1cHBvcnRzSHRtbDVTdHlsZXMgPSB0cnVlO1xuICAgICAgc3VwcG9ydHNVbmtub3duRWxlbWVudHMgPSB0cnVlO1xuICAgIH1cblxuICB9KCkpO1xuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgc3R5bGUgc2hlZXQgd2l0aCB0aGUgZ2l2ZW4gQ1NTIHRleHQgYW5kIGFkZHMgaXQgdG8gdGhlIGRvY3VtZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0RvY3VtZW50fSBvd25lckRvY3VtZW50IFRoZSBkb2N1bWVudC5cbiAgICogQHBhcmFtIHtTdHJpbmd9IGNzc1RleHQgVGhlIENTUyB0ZXh0LlxuICAgKiBAcmV0dXJucyB7U3R5bGVTaGVldH0gVGhlIHN0eWxlIGVsZW1lbnQuXG4gICAqL1xuICBmdW5jdGlvbiBhZGRTdHlsZVNoZWV0KG93bmVyRG9jdW1lbnQsIGNzc1RleHQpIHtcbiAgICB2YXIgcCA9IG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpLFxuICAgICAgICBwYXJlbnQgPSBvd25lckRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0gfHwgb3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cbiAgICBwLmlubmVySFRNTCA9ICd4PHN0eWxlPicgKyBjc3NUZXh0ICsgJzwvc3R5bGU+JztcbiAgICByZXR1cm4gcGFyZW50Lmluc2VydEJlZm9yZShwLmxhc3RDaGlsZCwgcGFyZW50LmZpcnN0Q2hpbGQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHZhbHVlIG9mIGBodG1sNS5lbGVtZW50c2AgYXMgYW4gYXJyYXkuXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm5zIHtBcnJheX0gQW4gYXJyYXkgb2Ygc2hpdmVkIGVsZW1lbnQgbm9kZSBuYW1lcy5cbiAgICovXG4gIGZ1bmN0aW9uIGdldEVsZW1lbnRzKCkge1xuICAgIHZhciBlbGVtZW50cyA9IGh0bWw1LmVsZW1lbnRzO1xuICAgIHJldHVybiB0eXBlb2YgZWxlbWVudHMgPT0gJ3N0cmluZycgPyBlbGVtZW50cy5zcGxpdCgnICcpIDogZWxlbWVudHM7XG4gIH1cblxuICAvKipcbiAgICogRXh0ZW5kcyB0aGUgYnVpbHQtaW4gbGlzdCBvZiBodG1sNSBlbGVtZW50c1xuICAgKiBAbWVtYmVyT2YgaHRtbDVcbiAgICogQHBhcmFtIHtTdHJpbmd8QXJyYXl9IG5ld0VsZW1lbnRzIHdoaXRlc3BhY2Ugc2VwYXJhdGVkIGxpc3Qgb3IgYXJyYXkgb2YgbmV3IGVsZW1lbnQgbmFtZXMgdG8gc2hpdlxuICAgKiBAcGFyYW0ge0RvY3VtZW50fSBvd25lckRvY3VtZW50IFRoZSBjb250ZXh0IGRvY3VtZW50LlxuICAgKi9cbiAgZnVuY3Rpb24gYWRkRWxlbWVudHMobmV3RWxlbWVudHMsIG93bmVyRG9jdW1lbnQpIHtcbiAgICB2YXIgZWxlbWVudHMgPSBodG1sNS5lbGVtZW50cztcbiAgICBpZih0eXBlb2YgZWxlbWVudHMgIT0gJ3N0cmluZycpe1xuICAgICAgZWxlbWVudHMgPSBlbGVtZW50cy5qb2luKCcgJyk7XG4gICAgfVxuICAgIGlmKHR5cGVvZiBuZXdFbGVtZW50cyAhPSAnc3RyaW5nJyl7XG4gICAgICBuZXdFbGVtZW50cyA9IG5ld0VsZW1lbnRzLmpvaW4oJyAnKTtcbiAgICB9XG4gICAgaHRtbDUuZWxlbWVudHMgPSBlbGVtZW50cyArJyAnKyBuZXdFbGVtZW50cztcbiAgICBzaGl2RG9jdW1lbnQob3duZXJEb2N1bWVudCk7XG4gIH1cblxuICAgLyoqXG4gICAqIFJldHVybnMgdGhlIGRhdGEgYXNzb2NpYXRlZCB0byB0aGUgZ2l2ZW4gZG9jdW1lbnRcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtEb2N1bWVudH0gb3duZXJEb2N1bWVudCBUaGUgZG9jdW1lbnQuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IEFuIG9iamVjdCBvZiBkYXRhLlxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0RXhwYW5kb0RhdGEob3duZXJEb2N1bWVudCkge1xuICAgIHZhciBkYXRhID0gZXhwYW5kb0RhdGFbb3duZXJEb2N1bWVudFtleHBhbmRvXV07XG4gICAgaWYgKCFkYXRhKSB7XG4gICAgICAgIGRhdGEgPSB7fTtcbiAgICAgICAgZXhwYW5JRCsrO1xuICAgICAgICBvd25lckRvY3VtZW50W2V4cGFuZG9dID0gZXhwYW5JRDtcbiAgICAgICAgZXhwYW5kb0RhdGFbZXhwYW5JRF0gPSBkYXRhO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIC8qKlxuICAgKiByZXR1cm5zIGEgc2hpdmVkIGVsZW1lbnQgZm9yIHRoZSBnaXZlbiBub2RlTmFtZSBhbmQgZG9jdW1lbnRcbiAgICogQG1lbWJlck9mIGh0bWw1XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBub2RlTmFtZSBuYW1lIG9mIHRoZSBlbGVtZW50XG4gICAqIEBwYXJhbSB7RG9jdW1lbnR8RG9jdW1lbnRGcmFnbWVudH0gb3duZXJEb2N1bWVudCBUaGUgY29udGV4dCBkb2N1bWVudC5cbiAgICogQHJldHVybnMge09iamVjdH0gVGhlIHNoaXZlZCBlbGVtZW50LlxuICAgKi9cbiAgZnVuY3Rpb24gY3JlYXRlRWxlbWVudChub2RlTmFtZSwgb3duZXJEb2N1bWVudCwgZGF0YSl7XG4gICAgaWYgKCFvd25lckRvY3VtZW50KSB7XG4gICAgICAgIG93bmVyRG9jdW1lbnQgPSBkb2N1bWVudDtcbiAgICB9XG4gICAgaWYoc3VwcG9ydHNVbmtub3duRWxlbWVudHMpe1xuICAgICAgICByZXR1cm4gb3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KG5vZGVOYW1lKTtcbiAgICB9XG4gICAgaWYgKCFkYXRhKSB7XG4gICAgICAgIGRhdGEgPSBnZXRFeHBhbmRvRGF0YShvd25lckRvY3VtZW50KTtcbiAgICB9XG4gICAgdmFyIG5vZGU7XG5cbiAgICBpZiAoZGF0YS5jYWNoZVtub2RlTmFtZV0pIHtcbiAgICAgICAgbm9kZSA9IGRhdGEuY2FjaGVbbm9kZU5hbWVdLmNsb25lTm9kZSgpO1xuICAgIH0gZWxzZSBpZiAoc2F2ZUNsb25lcy50ZXN0KG5vZGVOYW1lKSkge1xuICAgICAgICBub2RlID0gKGRhdGEuY2FjaGVbbm9kZU5hbWVdID0gZGF0YS5jcmVhdGVFbGVtKG5vZGVOYW1lKSkuY2xvbmVOb2RlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZSA9IGRhdGEuY3JlYXRlRWxlbShub2RlTmFtZSk7XG4gICAgfVxuXG4gICAgLy8gQXZvaWQgYWRkaW5nIHNvbWUgZWxlbWVudHMgdG8gZnJhZ21lbnRzIGluIElFIDwgOSBiZWNhdXNlXG4gICAgLy8gKiBBdHRyaWJ1dGVzIGxpa2UgYG5hbWVgIG9yIGB0eXBlYCBjYW5ub3QgYmUgc2V0L2NoYW5nZWQgb25jZSBhbiBlbGVtZW50XG4gICAgLy8gICBpcyBpbnNlcnRlZCBpbnRvIGEgZG9jdW1lbnQvZnJhZ21lbnRcbiAgICAvLyAqIExpbmsgZWxlbWVudHMgd2l0aCBgc3JjYCBhdHRyaWJ1dGVzIHRoYXQgYXJlIGluYWNjZXNzaWJsZSwgYXMgd2l0aFxuICAgIC8vICAgYSA0MDMgcmVzcG9uc2UsIHdpbGwgY2F1c2UgdGhlIHRhYi93aW5kb3cgdG8gY3Jhc2hcbiAgICAvLyAqIFNjcmlwdCBlbGVtZW50cyBhcHBlbmRlZCB0byBmcmFnbWVudHMgd2lsbCBleGVjdXRlIHdoZW4gdGhlaXIgYHNyY2BcbiAgICAvLyAgIG9yIGB0ZXh0YCBwcm9wZXJ0eSBpcyBzZXRcbiAgICByZXR1cm4gbm9kZS5jYW5IYXZlQ2hpbGRyZW4gJiYgIXJlU2tpcC50ZXN0KG5vZGVOYW1lKSAmJiAhbm9kZS50YWdVcm4gPyBkYXRhLmZyYWcuYXBwZW5kQ2hpbGQobm9kZSkgOiBub2RlO1xuICB9XG5cbiAgLyoqXG4gICAqIHJldHVybnMgYSBzaGl2ZWQgRG9jdW1lbnRGcmFnbWVudCBmb3IgdGhlIGdpdmVuIGRvY3VtZW50XG4gICAqIEBtZW1iZXJPZiBodG1sNVxuICAgKiBAcGFyYW0ge0RvY3VtZW50fSBvd25lckRvY3VtZW50IFRoZSBjb250ZXh0IGRvY3VtZW50LlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgc2hpdmVkIERvY3VtZW50RnJhZ21lbnQuXG4gICAqL1xuICBmdW5jdGlvbiBjcmVhdGVEb2N1bWVudEZyYWdtZW50KG93bmVyRG9jdW1lbnQsIGRhdGEpe1xuICAgIGlmICghb3duZXJEb2N1bWVudCkge1xuICAgICAgICBvd25lckRvY3VtZW50ID0gZG9jdW1lbnQ7XG4gICAgfVxuICAgIGlmKHN1cHBvcnRzVW5rbm93bkVsZW1lbnRzKXtcbiAgICAgICAgcmV0dXJuIG93bmVyRG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgIH1cbiAgICBkYXRhID0gZGF0YSB8fCBnZXRFeHBhbmRvRGF0YShvd25lckRvY3VtZW50KTtcbiAgICB2YXIgY2xvbmUgPSBkYXRhLmZyYWcuY2xvbmVOb2RlKCksXG4gICAgICAgIGkgPSAwLFxuICAgICAgICBlbGVtcyA9IGdldEVsZW1lbnRzKCksXG4gICAgICAgIGwgPSBlbGVtcy5sZW5ndGg7XG4gICAgZm9yKDtpPGw7aSsrKXtcbiAgICAgICAgY2xvbmUuY3JlYXRlRWxlbWVudChlbGVtc1tpXSk7XG4gICAgfVxuICAgIHJldHVybiBjbG9uZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaGl2cyB0aGUgYGNyZWF0ZUVsZW1lbnRgIGFuZCBgY3JlYXRlRG9jdW1lbnRGcmFnbWVudGAgbWV0aG9kcyBvZiB0aGUgZG9jdW1lbnQuXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RG9jdW1lbnR8RG9jdW1lbnRGcmFnbWVudH0gb3duZXJEb2N1bWVudCBUaGUgZG9jdW1lbnQuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIG9mIHRoZSBkb2N1bWVudC5cbiAgICovXG4gIGZ1bmN0aW9uIHNoaXZNZXRob2RzKG93bmVyRG9jdW1lbnQsIGRhdGEpIHtcbiAgICBpZiAoIWRhdGEuY2FjaGUpIHtcbiAgICAgICAgZGF0YS5jYWNoZSA9IHt9O1xuICAgICAgICBkYXRhLmNyZWF0ZUVsZW0gPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQ7XG4gICAgICAgIGRhdGEuY3JlYXRlRnJhZyA9IG93bmVyRG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudDtcbiAgICAgICAgZGF0YS5mcmFnID0gZGF0YS5jcmVhdGVGcmFnKCk7XG4gICAgfVxuXG5cbiAgICBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbihub2RlTmFtZSkge1xuICAgICAgLy9hYm9ydCBzaGl2XG4gICAgICBpZiAoIWh0bWw1LnNoaXZNZXRob2RzKSB7XG4gICAgICAgICAgcmV0dXJuIGRhdGEuY3JlYXRlRWxlbShub2RlTmFtZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3JlYXRlRWxlbWVudChub2RlTmFtZSwgb3duZXJEb2N1bWVudCwgZGF0YSk7XG4gICAgfTtcblxuICAgIG93bmVyRG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCA9IEZ1bmN0aW9uKCdoLGYnLCAncmV0dXJuIGZ1bmN0aW9uKCl7JyArXG4gICAgICAndmFyIG49Zi5jbG9uZU5vZGUoKSxjPW4uY3JlYXRlRWxlbWVudDsnICtcbiAgICAgICdoLnNoaXZNZXRob2RzJiYoJyArXG4gICAgICAgIC8vIHVucm9sbCB0aGUgYGNyZWF0ZUVsZW1lbnRgIGNhbGxzXG4gICAgICAgIGdldEVsZW1lbnRzKCkuam9pbigpLnJlcGxhY2UoL1tcXHdcXC06XSsvZywgZnVuY3Rpb24obm9kZU5hbWUpIHtcbiAgICAgICAgICBkYXRhLmNyZWF0ZUVsZW0obm9kZU5hbWUpO1xuICAgICAgICAgIGRhdGEuZnJhZy5jcmVhdGVFbGVtZW50KG5vZGVOYW1lKTtcbiAgICAgICAgICByZXR1cm4gJ2MoXCInICsgbm9kZU5hbWUgKyAnXCIpJztcbiAgICAgICAgfSkgK1xuICAgICAgJyk7cmV0dXJuIG59J1xuICAgICkoaHRtbDUsIGRhdGEuZnJhZyk7XG4gIH1cblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvKipcbiAgICogU2hpdnMgdGhlIGdpdmVuIGRvY3VtZW50LlxuICAgKiBAbWVtYmVyT2YgaHRtbDVcbiAgICogQHBhcmFtIHtEb2N1bWVudH0gb3duZXJEb2N1bWVudCBUaGUgZG9jdW1lbnQgdG8gc2hpdi5cbiAgICogQHJldHVybnMge0RvY3VtZW50fSBUaGUgc2hpdmVkIGRvY3VtZW50LlxuICAgKi9cbiAgZnVuY3Rpb24gc2hpdkRvY3VtZW50KG93bmVyRG9jdW1lbnQpIHtcbiAgICBpZiAoIW93bmVyRG9jdW1lbnQpIHtcbiAgICAgICAgb3duZXJEb2N1bWVudCA9IGRvY3VtZW50O1xuICAgIH1cbiAgICB2YXIgZGF0YSA9IGdldEV4cGFuZG9EYXRhKG93bmVyRG9jdW1lbnQpO1xuXG4gICAgaWYgKGh0bWw1LnNoaXZDU1MgJiYgIXN1cHBvcnRzSHRtbDVTdHlsZXMgJiYgIWRhdGEuaGFzQ1NTKSB7XG4gICAgICBkYXRhLmhhc0NTUyA9ICEhYWRkU3R5bGVTaGVldChvd25lckRvY3VtZW50LFxuICAgICAgICAvLyBjb3JyZWN0cyBibG9jayBkaXNwbGF5IG5vdCBkZWZpbmVkIGluIElFNi83LzgvOVxuICAgICAgICAnYXJ0aWNsZSxhc2lkZSxkaWFsb2csZmlnY2FwdGlvbixmaWd1cmUsZm9vdGVyLGhlYWRlcixoZ3JvdXAsbWFpbixuYXYsc2VjdGlvbntkaXNwbGF5OmJsb2NrfScgK1xuICAgICAgICAvLyBhZGRzIHN0eWxpbmcgbm90IHByZXNlbnQgaW4gSUU2LzcvOC85XG4gICAgICAgICdtYXJre2JhY2tncm91bmQ6I0ZGMDtjb2xvcjojMDAwfScgK1xuICAgICAgICAvLyBoaWRlcyBub24tcmVuZGVyZWQgZWxlbWVudHNcbiAgICAgICAgJ3RlbXBsYXRle2Rpc3BsYXk6bm9uZX0nXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoIXN1cHBvcnRzVW5rbm93bkVsZW1lbnRzKSB7XG4gICAgICBzaGl2TWV0aG9kcyhvd25lckRvY3VtZW50LCBkYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIG93bmVyRG9jdW1lbnQ7XG4gIH1cblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvKipcbiAgICogVGhlIGBodG1sNWAgb2JqZWN0IGlzIGV4cG9zZWQgc28gdGhhdCBtb3JlIGVsZW1lbnRzIGNhbiBiZSBzaGl2ZWQgYW5kXG4gICAqIGV4aXN0aW5nIHNoaXZpbmcgY2FuIGJlIGRldGVjdGVkIG9uIGlmcmFtZXMuXG4gICAqIEB0eXBlIE9iamVjdFxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiAvLyBvcHRpb25zIGNhbiBiZSBjaGFuZ2VkIGJlZm9yZSB0aGUgc2NyaXB0IGlzIGluY2x1ZGVkXG4gICAqIGh0bWw1ID0geyAnZWxlbWVudHMnOiAnbWFyayBzZWN0aW9uJywgJ3NoaXZDU1MnOiBmYWxzZSwgJ3NoaXZNZXRob2RzJzogZmFsc2UgfTtcbiAgICovXG4gIHZhciBodG1sNSA9IHtcblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9yIHNwYWNlIHNlcGFyYXRlZCBzdHJpbmcgb2Ygbm9kZSBuYW1lcyBvZiB0aGUgZWxlbWVudHMgdG8gc2hpdi5cbiAgICAgKiBAbWVtYmVyT2YgaHRtbDVcbiAgICAgKiBAdHlwZSBBcnJheXxTdHJpbmdcbiAgICAgKi9cbiAgICAnZWxlbWVudHMnOiBvcHRpb25zLmVsZW1lbnRzIHx8ICdhYmJyIGFydGljbGUgYXNpZGUgYXVkaW8gYmRpIGNhbnZhcyBkYXRhIGRhdGFsaXN0IGRldGFpbHMgZGlhbG9nIGZpZ2NhcHRpb24gZmlndXJlIGZvb3RlciBoZWFkZXIgaGdyb3VwIG1haW4gbWFyayBtZXRlciBuYXYgb3V0cHV0IHBpY3R1cmUgcHJvZ3Jlc3Mgc2VjdGlvbiBzdW1tYXJ5IHRlbXBsYXRlIHRpbWUgdmlkZW8nLFxuXG4gICAgLyoqXG4gICAgICogY3VycmVudCB2ZXJzaW9uIG9mIGh0bWw1c2hpdlxuICAgICAqL1xuICAgICd2ZXJzaW9uJzogdmVyc2lvbixcblxuICAgIC8qKlxuICAgICAqIEEgZmxhZyB0byBpbmRpY2F0ZSB0aGF0IHRoZSBIVE1MNSBzdHlsZSBzaGVldCBzaG91bGQgYmUgaW5zZXJ0ZWQuXG4gICAgICogQG1lbWJlck9mIGh0bWw1XG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqL1xuICAgICdzaGl2Q1NTJzogKG9wdGlvbnMuc2hpdkNTUyAhPT0gZmFsc2UpLFxuXG4gICAgLyoqXG4gICAgICogSXMgZXF1YWwgdG8gdHJ1ZSBpZiBhIGJyb3dzZXIgc3VwcG9ydHMgY3JlYXRpbmcgdW5rbm93bi9IVE1MNSBlbGVtZW50c1xuICAgICAqIEBtZW1iZXJPZiBodG1sNVxuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKi9cbiAgICAnc3VwcG9ydHNVbmtub3duRWxlbWVudHMnOiBzdXBwb3J0c1Vua25vd25FbGVtZW50cyxcblxuICAgIC8qKlxuICAgICAqIEEgZmxhZyB0byBpbmRpY2F0ZSB0aGF0IHRoZSBkb2N1bWVudCdzIGBjcmVhdGVFbGVtZW50YCBhbmQgYGNyZWF0ZURvY3VtZW50RnJhZ21lbnRgXG4gICAgICogbWV0aG9kcyBzaG91bGQgYmUgb3ZlcndyaXR0ZW4uXG4gICAgICogQG1lbWJlck9mIGh0bWw1XG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqL1xuICAgICdzaGl2TWV0aG9kcyc6IChvcHRpb25zLnNoaXZNZXRob2RzICE9PSBmYWxzZSksXG5cbiAgICAvKipcbiAgICAgKiBBIHN0cmluZyB0byBkZXNjcmliZSB0aGUgdHlwZSBvZiBgaHRtbDVgIG9iamVjdCAoXCJkZWZhdWx0XCIgb3IgXCJkZWZhdWx0IHByaW50XCIpLlxuICAgICAqIEBtZW1iZXJPZiBodG1sNVxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqL1xuICAgICd0eXBlJzogJ2RlZmF1bHQnLFxuXG4gICAgLy8gc2hpdnMgdGhlIGRvY3VtZW50IGFjY29yZGluZyB0byB0aGUgc3BlY2lmaWVkIGBodG1sNWAgb2JqZWN0IG9wdGlvbnNcbiAgICAnc2hpdkRvY3VtZW50Jzogc2hpdkRvY3VtZW50LFxuXG4gICAgLy9jcmVhdGVzIGEgc2hpdmVkIGVsZW1lbnRcbiAgICBjcmVhdGVFbGVtZW50OiBjcmVhdGVFbGVtZW50LFxuXG4gICAgLy9jcmVhdGVzIGEgc2hpdmVkIGRvY3VtZW50RnJhZ21lbnRcbiAgICBjcmVhdGVEb2N1bWVudEZyYWdtZW50OiBjcmVhdGVEb2N1bWVudEZyYWdtZW50LFxuXG4gICAgLy9leHRlbmRzIGxpc3Qgb2YgZWxlbWVudHNcbiAgICBhZGRFbGVtZW50czogYWRkRWxlbWVudHNcbiAgfTtcblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvLyBleHBvc2UgaHRtbDVcbiAgd2luZG93Lmh0bWw1ID0gaHRtbDU7XG5cbiAgLy8gc2hpdiB0aGUgZG9jdW1lbnRcbiAgc2hpdkRvY3VtZW50KGRvY3VtZW50KTtcblxuICBpZih0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKXtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGh0bWw1O1xuICB9XG5cbn0odHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHRoaXMsIGRvY3VtZW50KSk7XG4iLCIvKiFcbiAqIGltYWdlc0xvYWRlZCBQQUNLQUdFRCB2My4yLjBcbiAqIEphdmFTY3JpcHQgaXMgYWxsIGxpa2UgXCJZb3UgaW1hZ2VzIGFyZSBkb25lIHlldCBvciB3aGF0P1wiXG4gKiBNSVQgTGljZW5zZVxuICovXG5cbi8qIVxuICogRXZlbnRFbWl0dGVyIHY0LjIuNiAtIGdpdC5pby9lZVxuICogT2xpdmVyIENhbGR3ZWxsXG4gKiBNSVQgbGljZW5zZVxuICogQHByZXNlcnZlXG4gKi9cblxuKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdC8qKlxuXHQgKiBDbGFzcyBmb3IgbWFuYWdpbmcgZXZlbnRzLlxuXHQgKiBDYW4gYmUgZXh0ZW5kZWQgdG8gcHJvdmlkZSBldmVudCBmdW5jdGlvbmFsaXR5IGluIG90aGVyIGNsYXNzZXMuXG5cdCAqXG5cdCAqIEBjbGFzcyBFdmVudEVtaXR0ZXIgTWFuYWdlcyBldmVudCByZWdpc3RlcmluZyBhbmQgZW1pdHRpbmcuXG5cdCAqL1xuXHRmdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7fVxuXG5cdC8vIFNob3J0Y3V0cyB0byBpbXByb3ZlIHNwZWVkIGFuZCBzaXplXG5cdHZhciBwcm90byA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGU7XG5cdHZhciBleHBvcnRzID0gdGhpcztcblx0dmFyIG9yaWdpbmFsR2xvYmFsVmFsdWUgPSBleHBvcnRzLkV2ZW50RW1pdHRlcjtcblxuXHQvKipcblx0ICogRmluZHMgdGhlIGluZGV4IG9mIHRoZSBsaXN0ZW5lciBmb3IgdGhlIGV2ZW50IGluIGl0J3Mgc3RvcmFnZSBhcnJheS5cblx0ICpcblx0ICogQHBhcmFtIHtGdW5jdGlvbltdfSBsaXN0ZW5lcnMgQXJyYXkgb2YgbGlzdGVuZXJzIHRvIHNlYXJjaCB0aHJvdWdoLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBNZXRob2QgdG8gbG9vayBmb3IuXG5cdCAqIEByZXR1cm4ge051bWJlcn0gSW5kZXggb2YgdGhlIHNwZWNpZmllZCBsaXN0ZW5lciwgLTEgaWYgbm90IGZvdW5kXG5cdCAqIEBhcGkgcHJpdmF0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gaW5kZXhPZkxpc3RlbmVyKGxpc3RlbmVycywgbGlzdGVuZXIpIHtcblx0XHR2YXIgaSA9IGxpc3RlbmVycy5sZW5ndGg7XG5cdFx0d2hpbGUgKGktLSkge1xuXHRcdFx0aWYgKGxpc3RlbmVyc1tpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcblx0XHRcdFx0cmV0dXJuIGk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIC0xO1xuXHR9XG5cblx0LyoqXG5cdCAqIEFsaWFzIGEgbWV0aG9kIHdoaWxlIGtlZXBpbmcgdGhlIGNvbnRleHQgY29ycmVjdCwgdG8gYWxsb3cgZm9yIG92ZXJ3cml0aW5nIG9mIHRhcmdldCBtZXRob2QuXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSB0YXJnZXQgbWV0aG9kLlxuXHQgKiBAcmV0dXJuIHtGdW5jdGlvbn0gVGhlIGFsaWFzZWQgbWV0aG9kXG5cdCAqIEBhcGkgcHJpdmF0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gYWxpYXMobmFtZSkge1xuXHRcdHJldHVybiBmdW5jdGlvbiBhbGlhc0Nsb3N1cmUoKSB7XG5cdFx0XHRyZXR1cm4gdGhpc1tuYW1lXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdH07XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgbGlzdGVuZXIgYXJyYXkgZm9yIHRoZSBzcGVjaWZpZWQgZXZlbnQuXG5cdCAqIFdpbGwgaW5pdGlhbGlzZSB0aGUgZXZlbnQgb2JqZWN0IGFuZCBsaXN0ZW5lciBhcnJheXMgaWYgcmVxdWlyZWQuXG5cdCAqIFdpbGwgcmV0dXJuIGFuIG9iamVjdCBpZiB5b3UgdXNlIGEgcmVnZXggc2VhcmNoLiBUaGUgb2JqZWN0IGNvbnRhaW5zIGtleXMgZm9yIGVhY2ggbWF0Y2hlZCBldmVudC4gU28gL2JhW3J6XS8gbWlnaHQgcmV0dXJuIGFuIG9iamVjdCBjb250YWluaW5nIGJhciBhbmQgYmF6LiBCdXQgb25seSBpZiB5b3UgaGF2ZSBlaXRoZXIgZGVmaW5lZCB0aGVtIHdpdGggZGVmaW5lRXZlbnQgb3IgYWRkZWQgc29tZSBsaXN0ZW5lcnMgdG8gdGhlbS5cblx0ICogRWFjaCBwcm9wZXJ0eSBpbiB0aGUgb2JqZWN0IHJlc3BvbnNlIGlzIGFuIGFycmF5IG9mIGxpc3RlbmVyIGZ1bmN0aW9ucy5cblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd8UmVnRXhwfSBldnQgTmFtZSBvZiB0aGUgZXZlbnQgdG8gcmV0dXJuIHRoZSBsaXN0ZW5lcnMgZnJvbS5cblx0ICogQHJldHVybiB7RnVuY3Rpb25bXXxPYmplY3R9IEFsbCBsaXN0ZW5lciBmdW5jdGlvbnMgZm9yIHRoZSBldmVudC5cblx0ICovXG5cdHByb3RvLmdldExpc3RlbmVycyA9IGZ1bmN0aW9uIGdldExpc3RlbmVycyhldnQpIHtcblx0XHR2YXIgZXZlbnRzID0gdGhpcy5fZ2V0RXZlbnRzKCk7XG5cdFx0dmFyIHJlc3BvbnNlO1xuXHRcdHZhciBrZXk7XG5cblx0XHQvLyBSZXR1cm4gYSBjb25jYXRlbmF0ZWQgYXJyYXkgb2YgYWxsIG1hdGNoaW5nIGV2ZW50cyBpZlxuXHRcdC8vIHRoZSBzZWxlY3RvciBpcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbi5cblx0XHRpZiAodHlwZW9mIGV2dCA9PT0gJ29iamVjdCcpIHtcblx0XHRcdHJlc3BvbnNlID0ge307XG5cdFx0XHRmb3IgKGtleSBpbiBldmVudHMpIHtcblx0XHRcdFx0aWYgKGV2ZW50cy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIGV2dC50ZXN0KGtleSkpIHtcblx0XHRcdFx0XHRyZXNwb25zZVtrZXldID0gZXZlbnRzW2tleV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRyZXNwb25zZSA9IGV2ZW50c1tldnRdIHx8IChldmVudHNbZXZ0XSA9IFtdKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcmVzcG9uc2U7XG5cdH07XG5cblx0LyoqXG5cdCAqIFRha2VzIGEgbGlzdCBvZiBsaXN0ZW5lciBvYmplY3RzIGFuZCBmbGF0dGVucyBpdCBpbnRvIGEgbGlzdCBvZiBsaXN0ZW5lciBmdW5jdGlvbnMuXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0W119IGxpc3RlbmVycyBSYXcgbGlzdGVuZXIgb2JqZWN0cy5cblx0ICogQHJldHVybiB7RnVuY3Rpb25bXX0gSnVzdCB0aGUgbGlzdGVuZXIgZnVuY3Rpb25zLlxuXHQgKi9cblx0cHJvdG8uZmxhdHRlbkxpc3RlbmVycyA9IGZ1bmN0aW9uIGZsYXR0ZW5MaXN0ZW5lcnMobGlzdGVuZXJzKSB7XG5cdFx0dmFyIGZsYXRMaXN0ZW5lcnMgPSBbXTtcblx0XHR2YXIgaTtcblxuXHRcdGZvciAoaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdGZsYXRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcnNbaV0ubGlzdGVuZXIpO1xuXHRcdH1cblxuXHRcdHJldHVybiBmbGF0TGlzdGVuZXJzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBGZXRjaGVzIHRoZSByZXF1ZXN0ZWQgbGlzdGVuZXJzIHZpYSBnZXRMaXN0ZW5lcnMgYnV0IHdpbGwgYWx3YXlzIHJldHVybiB0aGUgcmVzdWx0cyBpbnNpZGUgYW4gb2JqZWN0LiBUaGlzIGlzIG1haW5seSBmb3IgaW50ZXJuYWwgdXNlIGJ1dCBvdGhlcnMgbWF5IGZpbmQgaXQgdXNlZnVsLlxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IGV2dCBOYW1lIG9mIHRoZSBldmVudCB0byByZXR1cm4gdGhlIGxpc3RlbmVycyBmcm9tLlxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IEFsbCBsaXN0ZW5lciBmdW5jdGlvbnMgZm9yIGFuIGV2ZW50IGluIGFuIG9iamVjdC5cblx0ICovXG5cdHByb3RvLmdldExpc3RlbmVyc0FzT2JqZWN0ID0gZnVuY3Rpb24gZ2V0TGlzdGVuZXJzQXNPYmplY3QoZXZ0KSB7XG5cdFx0dmFyIGxpc3RlbmVycyA9IHRoaXMuZ2V0TGlzdGVuZXJzKGV2dCk7XG5cdFx0dmFyIHJlc3BvbnNlO1xuXG5cdFx0aWYgKGxpc3RlbmVycyBpbnN0YW5jZW9mIEFycmF5KSB7XG5cdFx0XHRyZXNwb25zZSA9IHt9O1xuXHRcdFx0cmVzcG9uc2VbZXZ0XSA9IGxpc3RlbmVycztcblx0XHR9XG5cblx0XHRyZXR1cm4gcmVzcG9uc2UgfHwgbGlzdGVuZXJzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBBZGRzIGEgbGlzdGVuZXIgZnVuY3Rpb24gdG8gdGhlIHNwZWNpZmllZCBldmVudC5cblx0ICogVGhlIGxpc3RlbmVyIHdpbGwgbm90IGJlIGFkZGVkIGlmIGl0IGlzIGEgZHVwbGljYXRlLlxuXHQgKiBJZiB0aGUgbGlzdGVuZXIgcmV0dXJucyB0cnVlIHRoZW4gaXQgd2lsbCBiZSByZW1vdmVkIGFmdGVyIGl0IGlzIGNhbGxlZC5cblx0ICogSWYgeW91IHBhc3MgYSByZWd1bGFyIGV4cHJlc3Npb24gYXMgdGhlIGV2ZW50IG5hbWUgdGhlbiB0aGUgbGlzdGVuZXIgd2lsbCBiZSBhZGRlZCB0byBhbGwgZXZlbnRzIHRoYXQgbWF0Y2ggaXQuXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gZXZ0IE5hbWUgb2YgdGhlIGV2ZW50IHRvIGF0dGFjaCB0aGUgbGlzdGVuZXIgdG8uXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIE1ldGhvZCB0byBiZSBjYWxsZWQgd2hlbiB0aGUgZXZlbnQgaXMgZW1pdHRlZC4gSWYgdGhlIGZ1bmN0aW9uIHJldHVybnMgdHJ1ZSB0aGVuIGl0IHdpbGwgYmUgcmVtb3ZlZCBhZnRlciBjYWxsaW5nLlxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cblx0ICovXG5cdHByb3RvLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gYWRkTGlzdGVuZXIoZXZ0LCBsaXN0ZW5lcikge1xuXHRcdHZhciBsaXN0ZW5lcnMgPSB0aGlzLmdldExpc3RlbmVyc0FzT2JqZWN0KGV2dCk7XG5cdFx0dmFyIGxpc3RlbmVySXNXcmFwcGVkID0gdHlwZW9mIGxpc3RlbmVyID09PSAnb2JqZWN0Jztcblx0XHR2YXIga2V5O1xuXG5cdFx0Zm9yIChrZXkgaW4gbGlzdGVuZXJzKSB7XG5cdFx0XHRpZiAobGlzdGVuZXJzLmhhc093blByb3BlcnR5KGtleSkgJiYgaW5kZXhPZkxpc3RlbmVyKGxpc3RlbmVyc1trZXldLCBsaXN0ZW5lcikgPT09IC0xKSB7XG5cdFx0XHRcdGxpc3RlbmVyc1trZXldLnB1c2gobGlzdGVuZXJJc1dyYXBwZWQgPyBsaXN0ZW5lciA6IHtcblx0XHRcdFx0XHRsaXN0ZW5lcjogbGlzdGVuZXIsXG5cdFx0XHRcdFx0b25jZTogZmFsc2Vcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0LyoqXG5cdCAqIEFsaWFzIG9mIGFkZExpc3RlbmVyXG5cdCAqL1xuXHRwcm90by5vbiA9IGFsaWFzKCdhZGRMaXN0ZW5lcicpO1xuXG5cdC8qKlxuXHQgKiBTZW1pLWFsaWFzIG9mIGFkZExpc3RlbmVyLiBJdCB3aWxsIGFkZCBhIGxpc3RlbmVyIHRoYXQgd2lsbCBiZVxuXHQgKiBhdXRvbWF0aWNhbGx5IHJlbW92ZWQgYWZ0ZXIgaXQncyBmaXJzdCBleGVjdXRpb24uXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gZXZ0IE5hbWUgb2YgdGhlIGV2ZW50IHRvIGF0dGFjaCB0aGUgbGlzdGVuZXIgdG8uXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIE1ldGhvZCB0byBiZSBjYWxsZWQgd2hlbiB0aGUgZXZlbnQgaXMgZW1pdHRlZC4gSWYgdGhlIGZ1bmN0aW9uIHJldHVybnMgdHJ1ZSB0aGVuIGl0IHdpbGwgYmUgcmVtb3ZlZCBhZnRlciBjYWxsaW5nLlxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cblx0ICovXG5cdHByb3RvLmFkZE9uY2VMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZE9uY2VMaXN0ZW5lcihldnQsIGxpc3RlbmVyKSB7XG5cdFx0cmV0dXJuIHRoaXMuYWRkTGlzdGVuZXIoZXZ0LCB7XG5cdFx0XHRsaXN0ZW5lcjogbGlzdGVuZXIsXG5cdFx0XHRvbmNlOiB0cnVlXG5cdFx0fSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIEFsaWFzIG9mIGFkZE9uY2VMaXN0ZW5lci5cblx0ICovXG5cdHByb3RvLm9uY2UgPSBhbGlhcygnYWRkT25jZUxpc3RlbmVyJyk7XG5cblx0LyoqXG5cdCAqIERlZmluZXMgYW4gZXZlbnQgbmFtZS4gVGhpcyBpcyByZXF1aXJlZCBpZiB5b3Ugd2FudCB0byB1c2UgYSByZWdleCB0byBhZGQgYSBsaXN0ZW5lciB0byBtdWx0aXBsZSBldmVudHMgYXQgb25jZS4gSWYgeW91IGRvbid0IGRvIHRoaXMgdGhlbiBob3cgZG8geW91IGV4cGVjdCBpdCB0byBrbm93IHdoYXQgZXZlbnQgdG8gYWRkIHRvPyBTaG91bGQgaXQganVzdCBhZGQgdG8gZXZlcnkgcG9zc2libGUgbWF0Y2ggZm9yIGEgcmVnZXg/IE5vLiBUaGF0IGlzIHNjYXJ5IGFuZCBiYWQuXG5cdCAqIFlvdSBuZWVkIHRvIHRlbGwgaXQgd2hhdCBldmVudCBuYW1lcyBzaG91bGQgYmUgbWF0Y2hlZCBieSBhIHJlZ2V4LlxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gZXZ0IE5hbWUgb2YgdGhlIGV2ZW50IHRvIGNyZWF0ZS5cblx0ICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXG5cdCAqL1xuXHRwcm90by5kZWZpbmVFdmVudCA9IGZ1bmN0aW9uIGRlZmluZUV2ZW50KGV2dCkge1xuXHRcdHRoaXMuZ2V0TGlzdGVuZXJzKGV2dCk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0LyoqXG5cdCAqIFVzZXMgZGVmaW5lRXZlbnQgdG8gZGVmaW5lIG11bHRpcGxlIGV2ZW50cy5cblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmdbXX0gZXZ0cyBBbiBhcnJheSBvZiBldmVudCBuYW1lcyB0byBkZWZpbmUuXG5cdCAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuXHQgKi9cblx0cHJvdG8uZGVmaW5lRXZlbnRzID0gZnVuY3Rpb24gZGVmaW5lRXZlbnRzKGV2dHMpIHtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGV2dHMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdHRoaXMuZGVmaW5lRXZlbnQoZXZ0c1tpXSk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZW1vdmVzIGEgbGlzdGVuZXIgZnVuY3Rpb24gZnJvbSB0aGUgc3BlY2lmaWVkIGV2ZW50LlxuXHQgKiBXaGVuIHBhc3NlZCBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBhcyB0aGUgZXZlbnQgbmFtZSwgaXQgd2lsbCByZW1vdmUgdGhlIGxpc3RlbmVyIGZyb20gYWxsIGV2ZW50cyB0aGF0IG1hdGNoIGl0LlxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IGV2dCBOYW1lIG9mIHRoZSBldmVudCB0byByZW1vdmUgdGhlIGxpc3RlbmVyIGZyb20uXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIE1ldGhvZCB0byByZW1vdmUgZnJvbSB0aGUgZXZlbnQuXG5cdCAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuXHQgKi9cblx0cHJvdG8ucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcihldnQsIGxpc3RlbmVyKSB7XG5cdFx0dmFyIGxpc3RlbmVycyA9IHRoaXMuZ2V0TGlzdGVuZXJzQXNPYmplY3QoZXZ0KTtcblx0XHR2YXIgaW5kZXg7XG5cdFx0dmFyIGtleTtcblxuXHRcdGZvciAoa2V5IGluIGxpc3RlbmVycykge1xuXHRcdFx0aWYgKGxpc3RlbmVycy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG5cdFx0XHRcdGluZGV4ID0gaW5kZXhPZkxpc3RlbmVyKGxpc3RlbmVyc1trZXldLCBsaXN0ZW5lcik7XG5cblx0XHRcdFx0aWYgKGluZGV4ICE9PSAtMSkge1xuXHRcdFx0XHRcdGxpc3RlbmVyc1trZXldLnNwbGljZShpbmRleCwgMSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHQvKipcblx0ICogQWxpYXMgb2YgcmVtb3ZlTGlzdGVuZXJcblx0ICovXG5cdHByb3RvLm9mZiA9IGFsaWFzKCdyZW1vdmVMaXN0ZW5lcicpO1xuXG5cdC8qKlxuXHQgKiBBZGRzIGxpc3RlbmVycyBpbiBidWxrIHVzaW5nIHRoZSBtYW5pcHVsYXRlTGlzdGVuZXJzIG1ldGhvZC5cblx0ICogSWYgeW91IHBhc3MgYW4gb2JqZWN0IGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgeW91IGNhbiBhZGQgdG8gbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2UuIFRoZSBvYmplY3Qgc2hvdWxkIGNvbnRhaW4ga2V5IHZhbHVlIHBhaXJzIG9mIGV2ZW50cyBhbmQgbGlzdGVuZXJzIG9yIGxpc3RlbmVyIGFycmF5cy4gWW91IGNhbiBhbHNvIHBhc3MgaXQgYW4gZXZlbnQgbmFtZSBhbmQgYW4gYXJyYXkgb2YgbGlzdGVuZXJzIHRvIGJlIGFkZGVkLlxuXHQgKiBZb3UgY2FuIGFsc28gcGFzcyBpdCBhIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBhZGQgdGhlIGFycmF5IG9mIGxpc3RlbmVycyB0byBhbGwgZXZlbnRzIHRoYXQgbWF0Y2ggaXQuXG5cdCAqIFllYWgsIHRoaXMgZnVuY3Rpb24gZG9lcyBxdWl0ZSBhIGJpdC4gVGhhdCdzIHByb2JhYmx5IGEgYmFkIHRoaW5nLlxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R8UmVnRXhwfSBldnQgQW4gZXZlbnQgbmFtZSBpZiB5b3Ugd2lsbCBwYXNzIGFuIGFycmF5IG9mIGxpc3RlbmVycyBuZXh0LiBBbiBvYmplY3QgaWYgeW91IHdpc2ggdG8gYWRkIHRvIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9uW119IFtsaXN0ZW5lcnNdIEFuIG9wdGlvbmFsIGFycmF5IG9mIGxpc3RlbmVyIGZ1bmN0aW9ucyB0byBhZGQuXG5cdCAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuXHQgKi9cblx0cHJvdG8uYWRkTGlzdGVuZXJzID0gZnVuY3Rpb24gYWRkTGlzdGVuZXJzKGV2dCwgbGlzdGVuZXJzKSB7XG5cdFx0Ly8gUGFzcyB0aHJvdWdoIHRvIG1hbmlwdWxhdGVMaXN0ZW5lcnNcblx0XHRyZXR1cm4gdGhpcy5tYW5pcHVsYXRlTGlzdGVuZXJzKGZhbHNlLCBldnQsIGxpc3RlbmVycyk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJlbW92ZXMgbGlzdGVuZXJzIGluIGJ1bGsgdXNpbmcgdGhlIG1hbmlwdWxhdGVMaXN0ZW5lcnMgbWV0aG9kLlxuXHQgKiBJZiB5b3UgcGFzcyBhbiBvYmplY3QgYXMgdGhlIHNlY29uZCBhcmd1bWVudCB5b3UgY2FuIHJlbW92ZSBmcm9tIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlLiBUaGUgb2JqZWN0IHNob3VsZCBjb250YWluIGtleSB2YWx1ZSBwYWlycyBvZiBldmVudHMgYW5kIGxpc3RlbmVycyBvciBsaXN0ZW5lciBhcnJheXMuXG5cdCAqIFlvdSBjYW4gYWxzbyBwYXNzIGl0IGFuIGV2ZW50IG5hbWUgYW5kIGFuIGFycmF5IG9mIGxpc3RlbmVycyB0byBiZSByZW1vdmVkLlxuXHQgKiBZb3UgY2FuIGFsc28gcGFzcyBpdCBhIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byByZW1vdmUgdGhlIGxpc3RlbmVycyBmcm9tIGFsbCBldmVudHMgdGhhdCBtYXRjaCBpdC5cblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fFJlZ0V4cH0gZXZ0IEFuIGV2ZW50IG5hbWUgaWYgeW91IHdpbGwgcGFzcyBhbiBhcnJheSBvZiBsaXN0ZW5lcnMgbmV4dC4gQW4gb2JqZWN0IGlmIHlvdSB3aXNoIHRvIHJlbW92ZSBmcm9tIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9uW119IFtsaXN0ZW5lcnNdIEFuIG9wdGlvbmFsIGFycmF5IG9mIGxpc3RlbmVyIGZ1bmN0aW9ucyB0byByZW1vdmUuXG5cdCAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuXHQgKi9cblx0cHJvdG8ucmVtb3ZlTGlzdGVuZXJzID0gZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXJzKGV2dCwgbGlzdGVuZXJzKSB7XG5cdFx0Ly8gUGFzcyB0aHJvdWdoIHRvIG1hbmlwdWxhdGVMaXN0ZW5lcnNcblx0XHRyZXR1cm4gdGhpcy5tYW5pcHVsYXRlTGlzdGVuZXJzKHRydWUsIGV2dCwgbGlzdGVuZXJzKTtcblx0fTtcblxuXHQvKipcblx0ICogRWRpdHMgbGlzdGVuZXJzIGluIGJ1bGsuIFRoZSBhZGRMaXN0ZW5lcnMgYW5kIHJlbW92ZUxpc3RlbmVycyBtZXRob2RzIGJvdGggdXNlIHRoaXMgdG8gZG8gdGhlaXIgam9iLiBZb3Ugc2hvdWxkIHJlYWxseSB1c2UgdGhvc2UgaW5zdGVhZCwgdGhpcyBpcyBhIGxpdHRsZSBsb3dlciBsZXZlbC5cblx0ICogVGhlIGZpcnN0IGFyZ3VtZW50IHdpbGwgZGV0ZXJtaW5lIGlmIHRoZSBsaXN0ZW5lcnMgYXJlIHJlbW92ZWQgKHRydWUpIG9yIGFkZGVkIChmYWxzZSkuXG5cdCAqIElmIHlvdSBwYXNzIGFuIG9iamVjdCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IHlvdSBjYW4gYWRkL3JlbW92ZSBmcm9tIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlLiBUaGUgb2JqZWN0IHNob3VsZCBjb250YWluIGtleSB2YWx1ZSBwYWlycyBvZiBldmVudHMgYW5kIGxpc3RlbmVycyBvciBsaXN0ZW5lciBhcnJheXMuXG5cdCAqIFlvdSBjYW4gYWxzbyBwYXNzIGl0IGFuIGV2ZW50IG5hbWUgYW5kIGFuIGFycmF5IG9mIGxpc3RlbmVycyB0byBiZSBhZGRlZC9yZW1vdmVkLlxuXHQgKiBZb3UgY2FuIGFsc28gcGFzcyBpdCBhIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBtYW5pcHVsYXRlIHRoZSBsaXN0ZW5lcnMgb2YgYWxsIGV2ZW50cyB0aGF0IG1hdGNoIGl0LlxuXHQgKlxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IHJlbW92ZSBUcnVlIGlmIHlvdSB3YW50IHRvIHJlbW92ZSBsaXN0ZW5lcnMsIGZhbHNlIGlmIHlvdSB3YW50IHRvIGFkZC5cblx0ICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fFJlZ0V4cH0gZXZ0IEFuIGV2ZW50IG5hbWUgaWYgeW91IHdpbGwgcGFzcyBhbiBhcnJheSBvZiBsaXN0ZW5lcnMgbmV4dC4gQW4gb2JqZWN0IGlmIHlvdSB3aXNoIHRvIGFkZC9yZW1vdmUgZnJvbSBtdWx0aXBsZSBldmVudHMgYXQgb25jZS5cblx0ICogQHBhcmFtIHtGdW5jdGlvbltdfSBbbGlzdGVuZXJzXSBBbiBvcHRpb25hbCBhcnJheSBvZiBsaXN0ZW5lciBmdW5jdGlvbnMgdG8gYWRkL3JlbW92ZS5cblx0ICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXG5cdCAqL1xuXHRwcm90by5tYW5pcHVsYXRlTGlzdGVuZXJzID0gZnVuY3Rpb24gbWFuaXB1bGF0ZUxpc3RlbmVycyhyZW1vdmUsIGV2dCwgbGlzdGVuZXJzKSB7XG5cdFx0dmFyIGk7XG5cdFx0dmFyIHZhbHVlO1xuXHRcdHZhciBzaW5nbGUgPSByZW1vdmUgPyB0aGlzLnJlbW92ZUxpc3RlbmVyIDogdGhpcy5hZGRMaXN0ZW5lcjtcblx0XHR2YXIgbXVsdGlwbGUgPSByZW1vdmUgPyB0aGlzLnJlbW92ZUxpc3RlbmVycyA6IHRoaXMuYWRkTGlzdGVuZXJzO1xuXG5cdFx0Ly8gSWYgZXZ0IGlzIGFuIG9iamVjdCB0aGVuIHBhc3MgZWFjaCBvZiBpdCdzIHByb3BlcnRpZXMgdG8gdGhpcyBtZXRob2Rcblx0XHRpZiAodHlwZW9mIGV2dCA9PT0gJ29iamVjdCcgJiYgIShldnQgaW5zdGFuY2VvZiBSZWdFeHApKSB7XG5cdFx0XHRmb3IgKGkgaW4gZXZ0KSB7XG5cdFx0XHRcdGlmIChldnQuaGFzT3duUHJvcGVydHkoaSkgJiYgKHZhbHVlID0gZXZ0W2ldKSkge1xuXHRcdFx0XHRcdC8vIFBhc3MgdGhlIHNpbmdsZSBsaXN0ZW5lciBzdHJhaWdodCB0aHJvdWdoIHRvIHRoZSBzaW5ndWxhciBtZXRob2Rcblx0XHRcdFx0XHRpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRzaW5nbGUuY2FsbCh0aGlzLCBpLCB2YWx1ZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0Ly8gT3RoZXJ3aXNlIHBhc3MgYmFjayB0byB0aGUgbXVsdGlwbGUgZnVuY3Rpb25cblx0XHRcdFx0XHRcdG11bHRpcGxlLmNhbGwodGhpcywgaSwgdmFsdWUpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdC8vIFNvIGV2dCBtdXN0IGJlIGEgc3RyaW5nXG5cdFx0XHQvLyBBbmQgbGlzdGVuZXJzIG11c3QgYmUgYW4gYXJyYXkgb2YgbGlzdGVuZXJzXG5cdFx0XHQvLyBMb29wIG92ZXIgaXQgYW5kIHBhc3MgZWFjaCBvbmUgdG8gdGhlIG11bHRpcGxlIG1ldGhvZFxuXHRcdFx0aSA9IGxpc3RlbmVycy5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoaS0tKSB7XG5cdFx0XHRcdHNpbmdsZS5jYWxsKHRoaXMsIGV2dCwgbGlzdGVuZXJzW2ldKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHQvKipcblx0ICogUmVtb3ZlcyBhbGwgbGlzdGVuZXJzIGZyb20gYSBzcGVjaWZpZWQgZXZlbnQuXG5cdCAqIElmIHlvdSBkbyBub3Qgc3BlY2lmeSBhbiBldmVudCB0aGVuIGFsbCBsaXN0ZW5lcnMgd2lsbCBiZSByZW1vdmVkLlxuXHQgKiBUaGF0IG1lYW5zIGV2ZXJ5IGV2ZW50IHdpbGwgYmUgZW1wdGllZC5cblx0ICogWW91IGNhbiBhbHNvIHBhc3MgYSByZWdleCB0byByZW1vdmUgYWxsIGV2ZW50cyB0aGF0IG1hdGNoIGl0LlxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IFtldnRdIE9wdGlvbmFsIG5hbWUgb2YgdGhlIGV2ZW50IHRvIHJlbW92ZSBhbGwgbGlzdGVuZXJzIGZvci4gV2lsbCByZW1vdmUgZnJvbSBldmVyeSBldmVudCBpZiBub3QgcGFzc2VkLlxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cblx0ICovXG5cdHByb3RvLnJlbW92ZUV2ZW50ID0gZnVuY3Rpb24gcmVtb3ZlRXZlbnQoZXZ0KSB7XG5cdFx0dmFyIHR5cGUgPSB0eXBlb2YgZXZ0O1xuXHRcdHZhciBldmVudHMgPSB0aGlzLl9nZXRFdmVudHMoKTtcblx0XHR2YXIga2V5O1xuXG5cdFx0Ly8gUmVtb3ZlIGRpZmZlcmVudCB0aGluZ3MgZGVwZW5kaW5nIG9uIHRoZSBzdGF0ZSBvZiBldnRcblx0XHRpZiAodHlwZSA9PT0gJ3N0cmluZycpIHtcblx0XHRcdC8vIFJlbW92ZSBhbGwgbGlzdGVuZXJzIGZvciB0aGUgc3BlY2lmaWVkIGV2ZW50XG5cdFx0XHRkZWxldGUgZXZlbnRzW2V2dF07XG5cdFx0fVxuXHRcdGVsc2UgaWYgKHR5cGUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHQvLyBSZW1vdmUgYWxsIGV2ZW50cyBtYXRjaGluZyB0aGUgcmVnZXguXG5cdFx0XHRmb3IgKGtleSBpbiBldmVudHMpIHtcblx0XHRcdFx0aWYgKGV2ZW50cy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIGV2dC50ZXN0KGtleSkpIHtcblx0XHRcdFx0XHRkZWxldGUgZXZlbnRzW2tleV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHQvLyBSZW1vdmUgYWxsIGxpc3RlbmVycyBpbiBhbGwgZXZlbnRzXG5cdFx0XHRkZWxldGUgdGhpcy5fZXZlbnRzO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBBbGlhcyBvZiByZW1vdmVFdmVudC5cblx0ICpcblx0ICogQWRkZWQgdG8gbWlycm9yIHRoZSBub2RlIEFQSS5cblx0ICovXG5cdHByb3RvLnJlbW92ZUFsbExpc3RlbmVycyA9IGFsaWFzKCdyZW1vdmVFdmVudCcpO1xuXG5cdC8qKlxuXHQgKiBFbWl0cyBhbiBldmVudCBvZiB5b3VyIGNob2ljZS5cblx0ICogV2hlbiBlbWl0dGVkLCBldmVyeSBsaXN0ZW5lciBhdHRhY2hlZCB0byB0aGF0IGV2ZW50IHdpbGwgYmUgZXhlY3V0ZWQuXG5cdCAqIElmIHlvdSBwYXNzIHRoZSBvcHRpb25hbCBhcmd1bWVudCBhcnJheSB0aGVuIHRob3NlIGFyZ3VtZW50cyB3aWxsIGJlIHBhc3NlZCB0byBldmVyeSBsaXN0ZW5lciB1cG9uIGV4ZWN1dGlvbi5cblx0ICogQmVjYXVzZSBpdCB1c2VzIGBhcHBseWAsIHlvdXIgYXJyYXkgb2YgYXJndW1lbnRzIHdpbGwgYmUgcGFzc2VkIGFzIGlmIHlvdSB3cm90ZSB0aGVtIG91dCBzZXBhcmF0ZWx5LlxuXHQgKiBTbyB0aGV5IHdpbGwgbm90IGFycml2ZSB3aXRoaW4gdGhlIGFycmF5IG9uIHRoZSBvdGhlciBzaWRlLCB0aGV5IHdpbGwgYmUgc2VwYXJhdGUuXG5cdCAqIFlvdSBjYW4gYWxzbyBwYXNzIGEgcmVndWxhciBleHByZXNzaW9uIHRvIGVtaXQgdG8gYWxsIGV2ZW50cyB0aGF0IG1hdGNoIGl0LlxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IGV2dCBOYW1lIG9mIHRoZSBldmVudCB0byBlbWl0IGFuZCBleGVjdXRlIGxpc3RlbmVycyBmb3IuXG5cdCAqIEBwYXJhbSB7QXJyYXl9IFthcmdzXSBPcHRpb25hbCBhcnJheSBvZiBhcmd1bWVudHMgdG8gYmUgcGFzc2VkIHRvIGVhY2ggbGlzdGVuZXIuXG5cdCAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuXHQgKi9cblx0cHJvdG8uZW1pdEV2ZW50ID0gZnVuY3Rpb24gZW1pdEV2ZW50KGV2dCwgYXJncykge1xuXHRcdHZhciBsaXN0ZW5lcnMgPSB0aGlzLmdldExpc3RlbmVyc0FzT2JqZWN0KGV2dCk7XG5cdFx0dmFyIGxpc3RlbmVyO1xuXHRcdHZhciBpO1xuXHRcdHZhciBrZXk7XG5cdFx0dmFyIHJlc3BvbnNlO1xuXG5cdFx0Zm9yIChrZXkgaW4gbGlzdGVuZXJzKSB7XG5cdFx0XHRpZiAobGlzdGVuZXJzLmhhc093blByb3BlcnR5KGtleSkpIHtcblx0XHRcdFx0aSA9IGxpc3RlbmVyc1trZXldLmxlbmd0aDtcblxuXHRcdFx0XHR3aGlsZSAoaS0tKSB7XG5cdFx0XHRcdFx0Ly8gSWYgdGhlIGxpc3RlbmVyIHJldHVybnMgdHJ1ZSB0aGVuIGl0IHNoYWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgZXZlbnRcblx0XHRcdFx0XHQvLyBUaGUgZnVuY3Rpb24gaXMgZXhlY3V0ZWQgZWl0aGVyIHdpdGggYSBiYXNpYyBjYWxsIG9yIGFuIGFwcGx5IGlmIHRoZXJlIGlzIGFuIGFyZ3MgYXJyYXlcblx0XHRcdFx0XHRsaXN0ZW5lciA9IGxpc3RlbmVyc1trZXldW2ldO1xuXG5cdFx0XHRcdFx0aWYgKGxpc3RlbmVyLm9uY2UgPT09IHRydWUpIHtcblx0XHRcdFx0XHRcdHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZ0LCBsaXN0ZW5lci5saXN0ZW5lcik7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmVzcG9uc2UgPSBsaXN0ZW5lci5saXN0ZW5lci5hcHBseSh0aGlzLCBhcmdzIHx8IFtdKTtcblxuXHRcdFx0XHRcdGlmIChyZXNwb25zZSA9PT0gdGhpcy5fZ2V0T25jZVJldHVyblZhbHVlKCkpIHtcblx0XHRcdFx0XHRcdHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZ0LCBsaXN0ZW5lci5saXN0ZW5lcik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0LyoqXG5cdCAqIEFsaWFzIG9mIGVtaXRFdmVudFxuXHQgKi9cblx0cHJvdG8udHJpZ2dlciA9IGFsaWFzKCdlbWl0RXZlbnQnKTtcblxuXHQvKipcblx0ICogU3VidGx5IGRpZmZlcmVudCBmcm9tIGVtaXRFdmVudCBpbiB0aGF0IGl0IHdpbGwgcGFzcyBpdHMgYXJndW1lbnRzIG9uIHRvIHRoZSBsaXN0ZW5lcnMsIGFzIG9wcG9zZWQgdG8gdGFraW5nIGEgc2luZ2xlIGFycmF5IG9mIGFyZ3VtZW50cyB0byBwYXNzIG9uLlxuXHQgKiBBcyB3aXRoIGVtaXRFdmVudCwgeW91IGNhbiBwYXNzIGEgcmVnZXggaW4gcGxhY2Ugb2YgdGhlIGV2ZW50IG5hbWUgdG8gZW1pdCB0byBhbGwgZXZlbnRzIHRoYXQgbWF0Y2ggaXQuXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gZXZ0IE5hbWUgb2YgdGhlIGV2ZW50IHRvIGVtaXQgYW5kIGV4ZWN1dGUgbGlzdGVuZXJzIGZvci5cblx0ICogQHBhcmFtIHsuLi4qfSBPcHRpb25hbCBhZGRpdGlvbmFsIGFyZ3VtZW50cyB0byBiZSBwYXNzZWQgdG8gZWFjaCBsaXN0ZW5lci5cblx0ICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXG5cdCAqL1xuXHRwcm90by5lbWl0ID0gZnVuY3Rpb24gZW1pdChldnQpIHtcblx0XHR2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cdFx0cmV0dXJuIHRoaXMuZW1pdEV2ZW50KGV2dCwgYXJncyk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFNldHMgdGhlIGN1cnJlbnQgdmFsdWUgdG8gY2hlY2sgYWdhaW5zdCB3aGVuIGV4ZWN1dGluZyBsaXN0ZW5lcnMuIElmIGFcblx0ICogbGlzdGVuZXJzIHJldHVybiB2YWx1ZSBtYXRjaGVzIHRoZSBvbmUgc2V0IGhlcmUgdGhlbiBpdCB3aWxsIGJlIHJlbW92ZWRcblx0ICogYWZ0ZXIgZXhlY3V0aW9uLiBUaGlzIHZhbHVlIGRlZmF1bHRzIHRvIHRydWUuXG5cdCAqXG5cdCAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIG5ldyB2YWx1ZSB0byBjaGVjayBmb3Igd2hlbiBleGVjdXRpbmcgbGlzdGVuZXJzLlxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cblx0ICovXG5cdHByb3RvLnNldE9uY2VSZXR1cm5WYWx1ZSA9IGZ1bmN0aW9uIHNldE9uY2VSZXR1cm5WYWx1ZSh2YWx1ZSkge1xuXHRcdHRoaXMuX29uY2VSZXR1cm5WYWx1ZSA9IHZhbHVlO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBGZXRjaGVzIHRoZSBjdXJyZW50IHZhbHVlIHRvIGNoZWNrIGFnYWluc3Qgd2hlbiBleGVjdXRpbmcgbGlzdGVuZXJzLiBJZlxuXHQgKiB0aGUgbGlzdGVuZXJzIHJldHVybiB2YWx1ZSBtYXRjaGVzIHRoaXMgb25lIHRoZW4gaXQgc2hvdWxkIGJlIHJlbW92ZWRcblx0ICogYXV0b21hdGljYWxseS4gSXQgd2lsbCByZXR1cm4gdHJ1ZSBieSBkZWZhdWx0LlxuXHQgKlxuXHQgKiBAcmV0dXJuIHsqfEJvb2xlYW59IFRoZSBjdXJyZW50IHZhbHVlIHRvIGNoZWNrIGZvciBvciB0aGUgZGVmYXVsdCwgdHJ1ZS5cblx0ICogQGFwaSBwcml2YXRlXG5cdCAqL1xuXHRwcm90by5fZ2V0T25jZVJldHVyblZhbHVlID0gZnVuY3Rpb24gX2dldE9uY2VSZXR1cm5WYWx1ZSgpIHtcblx0XHRpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eSgnX29uY2VSZXR1cm5WYWx1ZScpKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fb25jZVJldHVyblZhbHVlO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogRmV0Y2hlcyB0aGUgZXZlbnRzIG9iamVjdCBhbmQgY3JlYXRlcyBvbmUgaWYgcmVxdWlyZWQuXG5cdCAqXG5cdCAqIEByZXR1cm4ge09iamVjdH0gVGhlIGV2ZW50cyBzdG9yYWdlIG9iamVjdC5cblx0ICogQGFwaSBwcml2YXRlXG5cdCAqL1xuXHRwcm90by5fZ2V0RXZlbnRzID0gZnVuY3Rpb24gX2dldEV2ZW50cygpIHtcblx0XHRyZXR1cm4gdGhpcy5fZXZlbnRzIHx8ICh0aGlzLl9ldmVudHMgPSB7fSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJldmVydHMgdGhlIGdsb2JhbCB7QGxpbmsgRXZlbnRFbWl0dGVyfSB0byBpdHMgcHJldmlvdXMgdmFsdWUgYW5kIHJldHVybnMgYSByZWZlcmVuY2UgdG8gdGhpcyB2ZXJzaW9uLlxuXHQgKlxuXHQgKiBAcmV0dXJuIHtGdW5jdGlvbn0gTm9uIGNvbmZsaWN0aW5nIEV2ZW50RW1pdHRlciBjbGFzcy5cblx0ICovXG5cdEV2ZW50RW1pdHRlci5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gbm9Db25mbGljdCgpIHtcblx0XHRleHBvcnRzLkV2ZW50RW1pdHRlciA9IG9yaWdpbmFsR2xvYmFsVmFsdWU7XG5cdFx0cmV0dXJuIEV2ZW50RW1pdHRlcjtcblx0fTtcblxuXHQvLyBFeHBvc2UgdGhlIGNsYXNzIGVpdGhlciB2aWEgQU1ELCBDb21tb25KUyBvciB0aGUgZ2xvYmFsIG9iamVjdFxuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0ZGVmaW5lKCdldmVudEVtaXR0ZXIvRXZlbnRFbWl0dGVyJyxbXSxmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gRXZlbnRFbWl0dGVyO1xuXHRcdH0pO1xuXHR9XG5cdGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKXtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcblx0fVxuXHRlbHNlIHtcblx0XHR0aGlzLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblx0fVxufS5jYWxsKHRoaXMpKTtcblxuLyohXG4gKiBldmVudGllIHYxLjAuNFxuICogZXZlbnQgYmluZGluZyBoZWxwZXJcbiAqICAgZXZlbnRpZS5iaW5kKCBlbGVtLCAnY2xpY2snLCBteUZuIClcbiAqICAgZXZlbnRpZS51bmJpbmQoIGVsZW0sICdjbGljaycsIG15Rm4gKVxuICovXG5cbi8qanNoaW50IGJyb3dzZXI6IHRydWUsIHVuZGVmOiB0cnVlLCB1bnVzZWQ6IHRydWUgKi9cbi8qZ2xvYmFsIGRlZmluZTogZmFsc2UgKi9cblxuKCBmdW5jdGlvbiggd2luZG93ICkge1xuXG5cblxudmFyIGRvY0VsZW0gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cbnZhciBiaW5kID0gZnVuY3Rpb24oKSB7fTtcblxuZnVuY3Rpb24gZ2V0SUVFdmVudCggb2JqICkge1xuICB2YXIgZXZlbnQgPSB3aW5kb3cuZXZlbnQ7XG4gIC8vIGFkZCBldmVudC50YXJnZXRcbiAgZXZlbnQudGFyZ2V0ID0gZXZlbnQudGFyZ2V0IHx8IGV2ZW50LnNyY0VsZW1lbnQgfHwgb2JqO1xuICByZXR1cm4gZXZlbnQ7XG59XG5cbmlmICggZG9jRWxlbS5hZGRFdmVudExpc3RlbmVyICkge1xuICBiaW5kID0gZnVuY3Rpb24oIG9iaiwgdHlwZSwgZm4gKSB7XG4gICAgb2JqLmFkZEV2ZW50TGlzdGVuZXIoIHR5cGUsIGZuLCBmYWxzZSApO1xuICB9O1xufSBlbHNlIGlmICggZG9jRWxlbS5hdHRhY2hFdmVudCApIHtcbiAgYmluZCA9IGZ1bmN0aW9uKCBvYmosIHR5cGUsIGZuICkge1xuICAgIG9ialsgdHlwZSArIGZuIF0gPSBmbi5oYW5kbGVFdmVudCA/XG4gICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGV2ZW50ID0gZ2V0SUVFdmVudCggb2JqICk7XG4gICAgICAgIGZuLmhhbmRsZUV2ZW50LmNhbGwoIGZuLCBldmVudCApO1xuICAgICAgfSA6XG4gICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGV2ZW50ID0gZ2V0SUVFdmVudCggb2JqICk7XG4gICAgICAgIGZuLmNhbGwoIG9iaiwgZXZlbnQgKTtcbiAgICAgIH07XG4gICAgb2JqLmF0dGFjaEV2ZW50KCBcIm9uXCIgKyB0eXBlLCBvYmpbIHR5cGUgKyBmbiBdICk7XG4gIH07XG59XG5cbnZhciB1bmJpbmQgPSBmdW5jdGlvbigpIHt9O1xuXG5pZiAoIGRvY0VsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lciApIHtcbiAgdW5iaW5kID0gZnVuY3Rpb24oIG9iaiwgdHlwZSwgZm4gKSB7XG4gICAgb2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIoIHR5cGUsIGZuLCBmYWxzZSApO1xuICB9O1xufSBlbHNlIGlmICggZG9jRWxlbS5kZXRhY2hFdmVudCApIHtcbiAgdW5iaW5kID0gZnVuY3Rpb24oIG9iaiwgdHlwZSwgZm4gKSB7XG4gICAgb2JqLmRldGFjaEV2ZW50KCBcIm9uXCIgKyB0eXBlLCBvYmpbIHR5cGUgKyBmbiBdICk7XG4gICAgdHJ5IHtcbiAgICAgIGRlbGV0ZSBvYmpbIHR5cGUgKyBmbiBdO1xuICAgIH0gY2F0Y2ggKCBlcnIgKSB7XG4gICAgICAvLyBjYW4ndCBkZWxldGUgd2luZG93IG9iamVjdCBwcm9wZXJ0aWVzXG4gICAgICBvYmpbIHR5cGUgKyBmbiBdID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfTtcbn1cblxudmFyIGV2ZW50aWUgPSB7XG4gIGJpbmQ6IGJpbmQsXG4gIHVuYmluZDogdW5iaW5kXG59O1xuXG4vLyB0cmFuc3BvcnRcbmlmICggdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xuICAvLyBBTURcbiAgZGVmaW5lKCAnZXZlbnRpZS9ldmVudGllJyxldmVudGllICk7XG59IGVsc2Uge1xuICAvLyBicm93c2VyIGdsb2JhbFxuICB3aW5kb3cuZXZlbnRpZSA9IGV2ZW50aWU7XG59XG5cbn0pKCB0aGlzICk7XG5cbi8qIVxuICogaW1hZ2VzTG9hZGVkIHYzLjIuMFxuICogSmF2YVNjcmlwdCBpcyBhbGwgbGlrZSBcIllvdSBpbWFnZXMgYXJlIGRvbmUgeWV0IG9yIHdoYXQ/XCJcbiAqIE1JVCBMaWNlbnNlXG4gKi9cblxuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkgeyAndXNlIHN0cmljdCc7XG4gIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuXG4gIC8qZ2xvYmFsIGRlZmluZTogZmFsc2UsIG1vZHVsZTogZmFsc2UsIHJlcXVpcmU6IGZhbHNlICovXG5cbiAgaWYgKCB0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcbiAgICAvLyBBTURcbiAgICBkZWZpbmUoIFtcbiAgICAgICdldmVudEVtaXR0ZXIvRXZlbnRFbWl0dGVyJyxcbiAgICAgICdldmVudGllL2V2ZW50aWUnXG4gICAgXSwgZnVuY3Rpb24oIEV2ZW50RW1pdHRlciwgZXZlbnRpZSApIHtcbiAgICAgIHJldHVybiBmYWN0b3J5KCB3aW5kb3csIEV2ZW50RW1pdHRlciwgZXZlbnRpZSApO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KFxuICAgICAgd2luZG93LFxuICAgICAgcmVxdWlyZSgnd29sZnk4Ny1ldmVudGVtaXR0ZXInKSxcbiAgICAgIHJlcXVpcmUoJ2V2ZW50aWUnKVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciBnbG9iYWxcbiAgICB3aW5kb3cuaW1hZ2VzTG9hZGVkID0gZmFjdG9yeShcbiAgICAgIHdpbmRvdyxcbiAgICAgIHdpbmRvdy5FdmVudEVtaXR0ZXIsXG4gICAgICB3aW5kb3cuZXZlbnRpZVxuICAgICk7XG4gIH1cblxufSkoIHdpbmRvdyxcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIGZhY3RvcnkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuZnVuY3Rpb24gZmFjdG9yeSggd2luZG93LCBFdmVudEVtaXR0ZXIsIGV2ZW50aWUgKSB7XG5cblxuXG52YXIgJCA9IHdpbmRvdy5qUXVlcnk7XG52YXIgY29uc29sZSA9IHdpbmRvdy5jb25zb2xlO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBoZWxwZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbi8vIGV4dGVuZCBvYmplY3RzXG5mdW5jdGlvbiBleHRlbmQoIGEsIGIgKSB7XG4gIGZvciAoIHZhciBwcm9wIGluIGIgKSB7XG4gICAgYVsgcHJvcCBdID0gYlsgcHJvcCBdO1xuICB9XG4gIHJldHVybiBhO1xufVxuXG52YXIgb2JqVG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuZnVuY3Rpb24gaXNBcnJheSggb2JqICkge1xuICByZXR1cm4gb2JqVG9TdHJpbmcuY2FsbCggb2JqICkgPT0gJ1tvYmplY3QgQXJyYXldJztcbn1cblxuLy8gdHVybiBlbGVtZW50IG9yIG5vZGVMaXN0IGludG8gYW4gYXJyYXlcbmZ1bmN0aW9uIG1ha2VBcnJheSggb2JqICkge1xuICB2YXIgYXJ5ID0gW107XG4gIGlmICggaXNBcnJheSggb2JqICkgKSB7XG4gICAgLy8gdXNlIG9iamVjdCBpZiBhbHJlYWR5IGFuIGFycmF5XG4gICAgYXJ5ID0gb2JqO1xuICB9IGVsc2UgaWYgKCB0eXBlb2Ygb2JqLmxlbmd0aCA9PSAnbnVtYmVyJyApIHtcbiAgICAvLyBjb252ZXJ0IG5vZGVMaXN0IHRvIGFycmF5XG4gICAgZm9yICggdmFyIGk9MDsgaSA8IG9iai5sZW5ndGg7IGkrKyApIHtcbiAgICAgIGFyeS5wdXNoKCBvYmpbaV0gKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gYXJyYXkgb2Ygc2luZ2xlIGluZGV4XG4gICAgYXJ5LnB1c2goIG9iaiApO1xuICB9XG4gIHJldHVybiBhcnk7XG59XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gaW1hZ2VzTG9hZGVkIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXksIEVsZW1lbnQsIE5vZGVMaXN0LCBTdHJpbmd9IGVsZW1cbiAgICogQHBhcmFtIHtPYmplY3Qgb3IgRnVuY3Rpb259IG9wdGlvbnMgLSBpZiBmdW5jdGlvbiwgdXNlIGFzIGNhbGxiYWNrXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uQWx3YXlzIC0gY2FsbGJhY2sgZnVuY3Rpb25cbiAgICovXG4gIGZ1bmN0aW9uIEltYWdlc0xvYWRlZCggZWxlbSwgb3B0aW9ucywgb25BbHdheXMgKSB7XG4gICAgLy8gY29lcmNlIEltYWdlc0xvYWRlZCgpIHdpdGhvdXQgbmV3LCB0byBiZSBuZXcgSW1hZ2VzTG9hZGVkKClcbiAgICBpZiAoICEoIHRoaXMgaW5zdGFuY2VvZiBJbWFnZXNMb2FkZWQgKSApIHtcbiAgICAgIHJldHVybiBuZXcgSW1hZ2VzTG9hZGVkKCBlbGVtLCBvcHRpb25zLCBvbkFsd2F5cyApO1xuICAgIH1cbiAgICAvLyB1c2UgZWxlbSBhcyBzZWxlY3RvciBzdHJpbmdcbiAgICBpZiAoIHR5cGVvZiBlbGVtID09ICdzdHJpbmcnICkge1xuICAgICAgZWxlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIGVsZW0gKTtcbiAgICB9XG5cbiAgICB0aGlzLmVsZW1lbnRzID0gbWFrZUFycmF5KCBlbGVtICk7XG4gICAgdGhpcy5vcHRpb25zID0gZXh0ZW5kKCB7fSwgdGhpcy5vcHRpb25zICk7XG5cbiAgICBpZiAoIHR5cGVvZiBvcHRpb25zID09ICdmdW5jdGlvbicgKSB7XG4gICAgICBvbkFsd2F5cyA9IG9wdGlvbnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4dGVuZCggdGhpcy5vcHRpb25zLCBvcHRpb25zICk7XG4gICAgfVxuXG4gICAgaWYgKCBvbkFsd2F5cyApIHtcbiAgICAgIHRoaXMub24oICdhbHdheXMnLCBvbkFsd2F5cyApO1xuICAgIH1cblxuICAgIHRoaXMuZ2V0SW1hZ2VzKCk7XG5cbiAgICBpZiAoICQgKSB7XG4gICAgICAvLyBhZGQgalF1ZXJ5IERlZmVycmVkIG9iamVjdFxuICAgICAgdGhpcy5qcURlZmVycmVkID0gbmV3ICQuRGVmZXJyZWQoKTtcbiAgICB9XG5cbiAgICAvLyBIQUNLIGNoZWNrIGFzeW5jIHRvIGFsbG93IHRpbWUgdG8gYmluZCBsaXN0ZW5lcnNcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuICAgICAgX3RoaXMuY2hlY2soKTtcbiAgICB9KTtcbiAgfVxuXG4gIEltYWdlc0xvYWRlZC5wcm90b3R5cGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5vcHRpb25zID0ge307XG5cbiAgSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5nZXRJbWFnZXMgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmltYWdlcyA9IFtdO1xuXG4gICAgLy8gZmlsdGVyICYgZmluZCBpdGVtcyBpZiB3ZSBoYXZlIGFuIGl0ZW0gc2VsZWN0b3JcbiAgICBmb3IgKCB2YXIgaT0wOyBpIDwgdGhpcy5lbGVtZW50cy5sZW5ndGg7IGkrKyApIHtcbiAgICAgIHZhciBlbGVtID0gdGhpcy5lbGVtZW50c1tpXTtcbiAgICAgIHRoaXMuYWRkRWxlbWVudEltYWdlcyggZWxlbSApO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtOb2RlfSBlbGVtZW50XG4gICAqL1xuICBJbWFnZXNMb2FkZWQucHJvdG90eXBlLmFkZEVsZW1lbnRJbWFnZXMgPSBmdW5jdGlvbiggZWxlbSApIHtcbiAgICAvLyBmaWx0ZXIgc2libGluZ3NcbiAgICBpZiAoIGVsZW0ubm9kZU5hbWUgPT0gJ0lNRycgKSB7XG4gICAgICB0aGlzLmFkZEltYWdlKCBlbGVtICk7XG4gICAgfVxuICAgIC8vIGdldCBiYWNrZ3JvdW5kIGltYWdlIG9uIGVsZW1lbnRcbiAgICBpZiAoIHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kID09PSB0cnVlICkge1xuICAgICAgdGhpcy5hZGRFbGVtZW50QmFja2dyb3VuZEltYWdlcyggZWxlbSApO1xuICAgIH1cblxuICAgIC8vIGZpbmQgY2hpbGRyZW5cbiAgICAvLyBubyBub24tZWxlbWVudCBub2RlcywgIzE0M1xuICAgIHZhciBub2RlVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG4gICAgaWYgKCAhbm9kZVR5cGUgfHwgIWVsZW1lbnROb2RlVHlwZXNbIG5vZGVUeXBlIF0gKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBjaGlsZEltZ3MgPSBlbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZycpO1xuICAgIC8vIGNvbmNhdCBjaGlsZEVsZW1zIHRvIGZpbHRlckZvdW5kIGFycmF5XG4gICAgZm9yICggdmFyIGk9MDsgaSA8IGNoaWxkSW1ncy5sZW5ndGg7IGkrKyApIHtcbiAgICAgIHZhciBpbWcgPSBjaGlsZEltZ3NbaV07XG4gICAgICB0aGlzLmFkZEltYWdlKCBpbWcgKTtcbiAgICB9XG5cbiAgICAvLyBnZXQgY2hpbGQgYmFja2dyb3VuZCBpbWFnZXNcbiAgICBpZiAoIHR5cGVvZiB0aGlzLm9wdGlvbnMuYmFja2dyb3VuZCA9PSAnc3RyaW5nJyApIHtcbiAgICAgIHZhciBjaGlsZHJlbiA9IGVsZW0ucXVlcnlTZWxlY3RvckFsbCggdGhpcy5vcHRpb25zLmJhY2tncm91bmQgKTtcbiAgICAgIGZvciAoIGk9MDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrICkge1xuICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgdGhpcy5hZGRFbGVtZW50QmFja2dyb3VuZEltYWdlcyggY2hpbGQgKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIGVsZW1lbnROb2RlVHlwZXMgPSB7XG4gICAgMTogdHJ1ZSxcbiAgICA5OiB0cnVlLFxuICAgIDExOiB0cnVlXG4gIH07XG5cbiAgSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5hZGRFbGVtZW50QmFja2dyb3VuZEltYWdlcyA9IGZ1bmN0aW9uKCBlbGVtICkge1xuICAgIHZhciBzdHlsZSA9IGdldFN0eWxlKCBlbGVtICk7XG4gICAgLy8gZ2V0IHVybCBpbnNpZGUgdXJsKFwiLi4uXCIpXG4gICAgdmFyIHJlVVJMID0gL3VybFxcKFsnXCJdKihbXidcIlxcKV0rKVsnXCJdKlxcKS9naTtcbiAgICB2YXIgbWF0Y2hlcyA9IHJlVVJMLmV4ZWMoIHN0eWxlLmJhY2tncm91bmRJbWFnZSApO1xuICAgIHdoaWxlICggbWF0Y2hlcyAhPT0gbnVsbCApIHtcbiAgICAgIHZhciB1cmwgPSBtYXRjaGVzICYmIG1hdGNoZXNbMV07XG4gICAgICBpZiAoIHVybCApIHtcbiAgICAgICAgdGhpcy5hZGRCYWNrZ3JvdW5kKCB1cmwsIGVsZW0gKTtcbiAgICAgIH1cbiAgICAgIG1hdGNoZXMgPSByZVVSTC5leGVjKCBzdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gSUU4XG4gIHZhciBnZXRTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlIHx8IGZ1bmN0aW9uKCBlbGVtICkge1xuICAgIHJldHVybiBlbGVtLmN1cnJlbnRTdHlsZTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtJbWFnZX0gaW1nXG4gICAqL1xuICBJbWFnZXNMb2FkZWQucHJvdG90eXBlLmFkZEltYWdlID0gZnVuY3Rpb24oIGltZyApIHtcbiAgICB2YXIgbG9hZGluZ0ltYWdlID0gbmV3IExvYWRpbmdJbWFnZSggaW1nICk7XG4gICAgdGhpcy5pbWFnZXMucHVzaCggbG9hZGluZ0ltYWdlICk7XG4gIH07XG5cbiAgSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5hZGRCYWNrZ3JvdW5kID0gZnVuY3Rpb24oIHVybCwgZWxlbSApIHtcbiAgICB2YXIgYmFja2dyb3VuZCA9IG5ldyBCYWNrZ3JvdW5kKCB1cmwsIGVsZW0gKTtcbiAgICB0aGlzLmltYWdlcy5wdXNoKCBiYWNrZ3JvdW5kICk7XG4gIH07XG5cbiAgSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5jaGVjayA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdGhpcy5wcm9ncmVzc2VkQ291bnQgPSAwO1xuICAgIHRoaXMuaGFzQW55QnJva2VuID0gZmFsc2U7XG4gICAgLy8gY29tcGxldGUgaWYgbm8gaW1hZ2VzXG4gICAgaWYgKCAhdGhpcy5pbWFnZXMubGVuZ3RoICkge1xuICAgICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uUHJvZ3Jlc3MoIGltYWdlLCBlbGVtLCBtZXNzYWdlICkge1xuICAgICAgLy8gSEFDSyAtIENocm9tZSB0cmlnZ2VycyBldmVudCBiZWZvcmUgb2JqZWN0IHByb3BlcnRpZXMgaGF2ZSBjaGFuZ2VkLiAjODNcbiAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuICAgICAgICBfdGhpcy5wcm9ncmVzcyggaW1hZ2UsIGVsZW0sIG1lc3NhZ2UgKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZvciAoIHZhciBpPTA7IGkgPCB0aGlzLmltYWdlcy5sZW5ndGg7IGkrKyApIHtcbiAgICAgIHZhciBsb2FkaW5nSW1hZ2UgPSB0aGlzLmltYWdlc1tpXTtcbiAgICAgIGxvYWRpbmdJbWFnZS5vbmNlKCAncHJvZ3Jlc3MnLCBvblByb2dyZXNzICk7XG4gICAgICBsb2FkaW5nSW1hZ2UuY2hlY2soKTtcbiAgICB9XG4gIH07XG5cbiAgSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5wcm9ncmVzcyA9IGZ1bmN0aW9uKCBpbWFnZSwgZWxlbSwgbWVzc2FnZSApIHtcbiAgICB0aGlzLnByb2dyZXNzZWRDb3VudCsrO1xuICAgIHRoaXMuaGFzQW55QnJva2VuID0gdGhpcy5oYXNBbnlCcm9rZW4gfHwgIWltYWdlLmlzTG9hZGVkO1xuICAgIC8vIHByb2dyZXNzIGV2ZW50XG4gICAgdGhpcy5lbWl0KCAncHJvZ3Jlc3MnLCB0aGlzLCBpbWFnZSwgZWxlbSApO1xuICAgIGlmICggdGhpcy5qcURlZmVycmVkICYmIHRoaXMuanFEZWZlcnJlZC5ub3RpZnkgKSB7XG4gICAgICB0aGlzLmpxRGVmZXJyZWQubm90aWZ5KCB0aGlzLCBpbWFnZSApO1xuICAgIH1cbiAgICAvLyBjaGVjayBpZiBjb21wbGV0ZWRcbiAgICBpZiAoIHRoaXMucHJvZ3Jlc3NlZENvdW50ID09IHRoaXMuaW1hZ2VzLmxlbmd0aCApIHtcbiAgICAgIHRoaXMuY29tcGxldGUoKTtcbiAgICB9XG5cbiAgICBpZiAoIHRoaXMub3B0aW9ucy5kZWJ1ZyAmJiBjb25zb2xlICkge1xuICAgICAgY29uc29sZS5sb2coICdwcm9ncmVzczogJyArIG1lc3NhZ2UsIGltYWdlLCBlbGVtICk7XG4gICAgfVxuICB9O1xuXG4gIEltYWdlc0xvYWRlZC5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZXZlbnROYW1lID0gdGhpcy5oYXNBbnlCcm9rZW4gPyAnZmFpbCcgOiAnZG9uZSc7XG4gICAgdGhpcy5pc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICB0aGlzLmVtaXQoIGV2ZW50TmFtZSwgdGhpcyApO1xuICAgIHRoaXMuZW1pdCggJ2Fsd2F5cycsIHRoaXMgKTtcbiAgICBpZiAoIHRoaXMuanFEZWZlcnJlZCApIHtcbiAgICAgIHZhciBqcU1ldGhvZCA9IHRoaXMuaGFzQW55QnJva2VuID8gJ3JlamVjdCcgOiAncmVzb2x2ZSc7XG4gICAgICB0aGlzLmpxRGVmZXJyZWRbIGpxTWV0aG9kIF0oIHRoaXMgKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbiAgZnVuY3Rpb24gTG9hZGluZ0ltYWdlKCBpbWcgKSB7XG4gICAgdGhpcy5pbWcgPSBpbWc7XG4gIH1cblxuICBMb2FkaW5nSW1hZ2UucHJvdG90eXBlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIExvYWRpbmdJbWFnZS5wcm90b3R5cGUuY2hlY2sgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBJZiBjb21wbGV0ZSBpcyB0cnVlIGFuZCBicm93c2VyIHN1cHBvcnRzIG5hdHVyYWwgc2l6ZXMsXG4gICAgLy8gdHJ5IHRvIGNoZWNrIGZvciBpbWFnZSBzdGF0dXMgbWFudWFsbHkuXG4gICAgdmFyIGlzQ29tcGxldGUgPSB0aGlzLmdldElzSW1hZ2VDb21wbGV0ZSgpO1xuICAgIGlmICggaXNDb21wbGV0ZSApIHtcbiAgICAgIC8vIHJlcG9ydCBiYXNlZCBvbiBuYXR1cmFsV2lkdGhcbiAgICAgIHRoaXMuY29uZmlybSggdGhpcy5pbWcubmF0dXJhbFdpZHRoICE9PSAwLCAnbmF0dXJhbFdpZHRoJyApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIElmIG5vbmUgb2YgdGhlIGNoZWNrcyBhYm92ZSBtYXRjaGVkLCBzaW11bGF0ZSBsb2FkaW5nIG9uIGRldGFjaGVkIGVsZW1lbnQuXG4gICAgdGhpcy5wcm94eUltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgZXZlbnRpZS5iaW5kKCB0aGlzLnByb3h5SW1hZ2UsICdsb2FkJywgdGhpcyApO1xuICAgIGV2ZW50aWUuYmluZCggdGhpcy5wcm94eUltYWdlLCAnZXJyb3InLCB0aGlzICk7XG4gICAgLy8gYmluZCB0byBpbWFnZSBhcyB3ZWxsIGZvciBGaXJlZm94LiAjMTkxXG4gICAgZXZlbnRpZS5iaW5kKCB0aGlzLmltZywgJ2xvYWQnLCB0aGlzICk7XG4gICAgZXZlbnRpZS5iaW5kKCB0aGlzLmltZywgJ2Vycm9yJywgdGhpcyApO1xuICAgIHRoaXMucHJveHlJbWFnZS5zcmMgPSB0aGlzLmltZy5zcmM7XG4gIH07XG5cbiAgTG9hZGluZ0ltYWdlLnByb3RvdHlwZS5nZXRJc0ltYWdlQ29tcGxldGUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5pbWcuY29tcGxldGUgJiYgdGhpcy5pbWcubmF0dXJhbFdpZHRoICE9PSB1bmRlZmluZWQ7XG4gIH07XG5cbiAgTG9hZGluZ0ltYWdlLnByb3RvdHlwZS5jb25maXJtID0gZnVuY3Rpb24oIGlzTG9hZGVkLCBtZXNzYWdlICkge1xuICAgIHRoaXMuaXNMb2FkZWQgPSBpc0xvYWRlZDtcbiAgICB0aGlzLmVtaXQoICdwcm9ncmVzcycsIHRoaXMsIHRoaXMuaW1nLCBtZXNzYWdlICk7XG4gIH07XG5cbiAgLy8gLS0tLS0gZXZlbnRzIC0tLS0tIC8vXG5cbiAgLy8gdHJpZ2dlciBzcGVjaWZpZWQgaGFuZGxlciBmb3IgZXZlbnQgdHlwZVxuICBMb2FkaW5nSW1hZ2UucHJvdG90eXBlLmhhbmRsZUV2ZW50ID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICAgIHZhciBtZXRob2QgPSAnb24nICsgZXZlbnQudHlwZTtcbiAgICBpZiAoIHRoaXNbIG1ldGhvZCBdICkge1xuICAgICAgdGhpc1sgbWV0aG9kIF0oIGV2ZW50ICk7XG4gICAgfVxuICB9O1xuXG4gIExvYWRpbmdJbWFnZS5wcm90b3R5cGUub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5jb25maXJtKCB0cnVlLCAnb25sb2FkJyApO1xuICAgIHRoaXMudW5iaW5kRXZlbnRzKCk7XG4gIH07XG5cbiAgTG9hZGluZ0ltYWdlLnByb3RvdHlwZS5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5jb25maXJtKCBmYWxzZSwgJ29uZXJyb3InICk7XG4gICAgdGhpcy51bmJpbmRFdmVudHMoKTtcbiAgfTtcblxuICBMb2FkaW5nSW1hZ2UucHJvdG90eXBlLnVuYmluZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuICAgIGV2ZW50aWUudW5iaW5kKCB0aGlzLnByb3h5SW1hZ2UsICdsb2FkJywgdGhpcyApO1xuICAgIGV2ZW50aWUudW5iaW5kKCB0aGlzLnByb3h5SW1hZ2UsICdlcnJvcicsIHRoaXMgKTtcbiAgICBldmVudGllLnVuYmluZCggdGhpcy5pbWcsICdsb2FkJywgdGhpcyApO1xuICAgIGV2ZW50aWUudW5iaW5kKCB0aGlzLmltZywgJ2Vycm9yJywgdGhpcyApO1xuICB9O1xuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEJhY2tncm91bmQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuICBmdW5jdGlvbiBCYWNrZ3JvdW5kKCB1cmwsIGVsZW1lbnQgKSB7XG4gICAgdGhpcy51cmwgPSB1cmw7XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLmltZyA9IG5ldyBJbWFnZSgpO1xuICB9XG5cbiAgLy8gaW5oZXJpdCBMb2FkaW5nSW1hZ2UgcHJvdG90eXBlXG4gIEJhY2tncm91bmQucHJvdG90eXBlID0gbmV3IExvYWRpbmdJbWFnZSgpO1xuXG4gIEJhY2tncm91bmQucHJvdG90eXBlLmNoZWNrID0gZnVuY3Rpb24oKSB7XG4gICAgZXZlbnRpZS5iaW5kKCB0aGlzLmltZywgJ2xvYWQnLCB0aGlzICk7XG4gICAgZXZlbnRpZS5iaW5kKCB0aGlzLmltZywgJ2Vycm9yJywgdGhpcyApO1xuICAgIHRoaXMuaW1nLnNyYyA9IHRoaXMudXJsO1xuICAgIC8vIGNoZWNrIGlmIGltYWdlIGlzIGFscmVhZHkgY29tcGxldGVcbiAgICB2YXIgaXNDb21wbGV0ZSA9IHRoaXMuZ2V0SXNJbWFnZUNvbXBsZXRlKCk7XG4gICAgaWYgKCBpc0NvbXBsZXRlICkge1xuICAgICAgdGhpcy5jb25maXJtKCB0aGlzLmltZy5uYXR1cmFsV2lkdGggIT09IDAsICduYXR1cmFsV2lkdGgnICk7XG4gICAgICB0aGlzLnVuYmluZEV2ZW50cygpO1xuICAgIH1cbiAgfTtcblxuICBCYWNrZ3JvdW5kLnByb3RvdHlwZS51bmJpbmRFdmVudHMgPSBmdW5jdGlvbigpIHtcbiAgICBldmVudGllLnVuYmluZCggdGhpcy5pbWcsICdsb2FkJywgdGhpcyApO1xuICAgIGV2ZW50aWUudW5iaW5kKCB0aGlzLmltZywgJ2Vycm9yJywgdGhpcyApO1xuICB9O1xuXG4gIEJhY2tncm91bmQucHJvdG90eXBlLmNvbmZpcm0gPSBmdW5jdGlvbiggaXNMb2FkZWQsIG1lc3NhZ2UgKSB7XG4gICAgdGhpcy5pc0xvYWRlZCA9IGlzTG9hZGVkO1xuICAgIHRoaXMuZW1pdCggJ3Byb2dyZXNzJywgdGhpcywgdGhpcy5lbGVtZW50LCBtZXNzYWdlICk7XG4gIH07XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0galF1ZXJ5IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbiAgSW1hZ2VzTG9hZGVkLm1ha2VKUXVlcnlQbHVnaW4gPSBmdW5jdGlvbiggalF1ZXJ5ICkge1xuICAgIGpRdWVyeSA9IGpRdWVyeSB8fCB3aW5kb3cualF1ZXJ5O1xuICAgIGlmICggIWpRdWVyeSApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gc2V0IGxvY2FsIHZhcmlhYmxlXG4gICAgJCA9IGpRdWVyeTtcbiAgICAvLyAkKCkuaW1hZ2VzTG9hZGVkKClcbiAgICAkLmZuLmltYWdlc0xvYWRlZCA9IGZ1bmN0aW9uKCBvcHRpb25zLCBjYWxsYmFjayApIHtcbiAgICAgIHZhciBpbnN0YW5jZSA9IG5ldyBJbWFnZXNMb2FkZWQoIHRoaXMsIG9wdGlvbnMsIGNhbGxiYWNrICk7XG4gICAgICByZXR1cm4gaW5zdGFuY2UuanFEZWZlcnJlZC5wcm9taXNlKCAkKHRoaXMpICk7XG4gICAgfTtcbiAgfTtcbiAgLy8gdHJ5IG1ha2luZyBwbHVnaW5cbiAgSW1hZ2VzTG9hZGVkLm1ha2VKUXVlcnlQbHVnaW4oKTtcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuICByZXR1cm4gSW1hZ2VzTG9hZGVkO1xuXG59KTtcblxuIiwiLyoqXG4gKiBCeFNsaWRlciB2NC4xLjIgLSBGdWxseSBsb2FkZWQsIHJlc3BvbnNpdmUgY29udGVudCBzbGlkZXJcbiAqIGh0dHA6Ly9ieHNsaWRlci5jb21cbiAqXG4gKiBDb3B5cmlnaHQgMjAxNCwgU3RldmVuIFdhbmRlcnNraSAtIGh0dHA6Ly9zdGV2ZW53YW5kZXJza2kuY29tIC0gaHR0cDovL2J4Y3JlYXRpdmUuY29tXG4gKiBXcml0dGVuIHdoaWxlIGRyaW5raW5nIEJlbGdpYW4gYWxlcyBhbmQgbGlzdGVuaW5nIHRvIGphenpcbiAqXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgLSBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG4gKi9cblxuOyhmdW5jdGlvbigkKXtcblxuXHR2YXIgcGx1Z2luID0ge307XG5cblx0dmFyIGRlZmF1bHRzID0ge1xuXG5cdFx0Ly8gR0VORVJBTFxuXHRcdG1vZGU6ICdob3Jpem9udGFsJyxcblx0XHRzbGlkZVNlbGVjdG9yOiAnJyxcblx0XHRpbmZpbml0ZUxvb3A6IHRydWUsXG5cdFx0aGlkZUNvbnRyb2xPbkVuZDogZmFsc2UsXG5cdFx0c3BlZWQ6IDUwMCxcblx0XHRlYXNpbmc6IG51bGwsXG5cdFx0c2xpZGVNYXJnaW46IDAsXG5cdFx0c3RhcnRTbGlkZTogMCxcblx0XHRyYW5kb21TdGFydDogZmFsc2UsXG5cdFx0Y2FwdGlvbnM6IGZhbHNlLFxuXHRcdHRpY2tlcjogZmFsc2UsXG5cdFx0dGlja2VySG92ZXI6IGZhbHNlLFxuXHRcdGFkYXB0aXZlSGVpZ2h0OiBmYWxzZSxcblx0XHRhZGFwdGl2ZUhlaWdodFNwZWVkOiA1MDAsXG5cdFx0dmlkZW86IGZhbHNlLFxuXHRcdHVzZUNTUzogdHJ1ZSxcblx0XHRwcmVsb2FkSW1hZ2VzOiAndmlzaWJsZScsXG5cdFx0cmVzcG9uc2l2ZTogdHJ1ZSxcblx0XHRzbGlkZVpJbmRleDogNTAsXG5cdFx0d3JhcHBlckNsYXNzOiAnYngtd3JhcHBlcicsXG5cblx0XHQvLyBUT1VDSFxuXHRcdHRvdWNoRW5hYmxlZDogdHJ1ZSxcblx0XHRzd2lwZVRocmVzaG9sZDogNTAsXG5cdFx0b25lVG9PbmVUb3VjaDogdHJ1ZSxcblx0XHRwcmV2ZW50RGVmYXVsdFN3aXBlWDogdHJ1ZSxcblx0XHRwcmV2ZW50RGVmYXVsdFN3aXBlWTogZmFsc2UsXG5cblx0XHQvLyBQQUdFUlxuXHRcdHBhZ2VyOiB0cnVlLFxuXHRcdHBhZ2VyVHlwZTogJ2Z1bGwnLFxuXHRcdHBhZ2VyU2hvcnRTZXBhcmF0b3I6ICcgLyAnLFxuXHRcdHBhZ2VyU2VsZWN0b3I6IG51bGwsXG5cdFx0YnVpbGRQYWdlcjogbnVsbCxcblx0XHRwYWdlckN1c3RvbTogbnVsbCxcblxuXHRcdC8vIENPTlRST0xTXG5cdFx0Y29udHJvbHM6IHRydWUsXG5cdFx0bmV4dFRleHQ6ICdOZXh0Jyxcblx0XHRwcmV2VGV4dDogJ1ByZXYnLFxuXHRcdG5leHRTZWxlY3RvcjogbnVsbCxcblx0XHRwcmV2U2VsZWN0b3I6IG51bGwsXG5cdFx0YXV0b0NvbnRyb2xzOiBmYWxzZSxcblx0XHRzdGFydFRleHQ6ICdTdGFydCcsXG5cdFx0c3RvcFRleHQ6ICdTdG9wJyxcblx0XHRhdXRvQ29udHJvbHNDb21iaW5lOiBmYWxzZSxcblx0XHRhdXRvQ29udHJvbHNTZWxlY3RvcjogbnVsbCxcblxuXHRcdC8vIEFVVE9cblx0XHRhdXRvOiBmYWxzZSxcblx0XHRwYXVzZTogNDAwMCxcblx0XHRhdXRvU3RhcnQ6IHRydWUsXG5cdFx0YXV0b0RpcmVjdGlvbjogJ25leHQnLFxuXHRcdGF1dG9Ib3ZlcjogZmFsc2UsXG5cdFx0YXV0b0RlbGF5OiAwLFxuXHRcdGF1dG9TbGlkZUZvck9uZVBhZ2U6IGZhbHNlLFxuXG5cdFx0Ly8gQ0FST1VTRUxcblx0XHRtaW5TbGlkZXM6IDEsXG5cdFx0bWF4U2xpZGVzOiAxLFxuXHRcdG1vdmVTbGlkZXM6IDAsXG5cdFx0c2xpZGVXaWR0aDogMCxcblxuXHRcdC8vIENBTExCQUNLU1xuXHRcdG9uU2xpZGVyTG9hZDogZnVuY3Rpb24oKSB7fSxcblx0XHRvblNsaWRlQmVmb3JlOiBmdW5jdGlvbigpIHt9LFxuXHRcdG9uU2xpZGVBZnRlcjogZnVuY3Rpb24oKSB7fSxcblx0XHRvblNsaWRlTmV4dDogZnVuY3Rpb24oKSB7fSxcblx0XHRvblNsaWRlUHJldjogZnVuY3Rpb24oKSB7fSxcblx0XHRvblNsaWRlclJlc2l6ZTogZnVuY3Rpb24oKSB7fVxuXHR9XG5cblx0JC5mbi5ieFNsaWRlciA9IGZ1bmN0aW9uKG9wdGlvbnMpe1xuXG5cdFx0aWYodGhpcy5sZW5ndGggPT0gMCkgcmV0dXJuIHRoaXM7XG5cblx0XHQvLyBzdXBwb3J0IG11dGx0aXBsZSBlbGVtZW50c1xuXHRcdGlmKHRoaXMubGVuZ3RoID4gMSl7XG5cdFx0XHR0aGlzLmVhY2goZnVuY3Rpb24oKXskKHRoaXMpLmJ4U2xpZGVyKG9wdGlvbnMpfSk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cblx0XHQvLyBjcmVhdGUgYSBuYW1lc3BhY2UgdG8gYmUgdXNlZCB0aHJvdWdob3V0IHRoZSBwbHVnaW5cblx0XHR2YXIgc2xpZGVyID0ge307XG5cdFx0Ly8gc2V0IGEgcmVmZXJlbmNlIHRvIG91ciBzbGlkZXIgZWxlbWVudFxuXHRcdHZhciBlbCA9IHRoaXM7XG5cdFx0cGx1Z2luLmVsID0gdGhpcztcblxuXHRcdC8qKlxuXHRcdCAqIE1ha2VzIHNsaWRlc2hvdyByZXNwb25zaXZlXG5cdFx0ICovXG5cdFx0Ly8gZmlyc3QgZ2V0IHRoZSBvcmlnaW5hbCB3aW5kb3cgZGltZW5zICh0aGFua3MgYWxvdCBJRSlcblx0XHR2YXIgd2luZG93V2lkdGggPSAkKHdpbmRvdykud2lkdGgoKTtcblx0XHR2YXIgd2luZG93SGVpZ2h0ID0gJCh3aW5kb3cpLmhlaWdodCgpO1xuXG5cblxuXHRcdC8qKlxuXHRcdCAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdFx0ICogPSBQUklWQVRFIEZVTkNUSU9OU1xuXHRcdCAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdFx0ICovXG5cblx0XHQvKipcblx0XHQgKiBJbml0aWFsaXplcyBuYW1lc3BhY2Ugc2V0dGluZ3MgdG8gYmUgdXNlZCB0aHJvdWdob3V0IHBsdWdpblxuXHRcdCAqL1xuXHRcdHZhciBpbml0ID0gZnVuY3Rpb24oKXtcblx0XHRcdC8vIG1lcmdlIHVzZXItc3VwcGxpZWQgb3B0aW9ucyB3aXRoIHRoZSBkZWZhdWx0c1xuXHRcdFx0c2xpZGVyLnNldHRpbmdzID0gJC5leHRlbmQoe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcblx0XHRcdC8vIHBhcnNlIHNsaWRlV2lkdGggc2V0dGluZ1xuXHRcdFx0c2xpZGVyLnNldHRpbmdzLnNsaWRlV2lkdGggPSBwYXJzZUludChzbGlkZXIuc2V0dGluZ3Muc2xpZGVXaWR0aCk7XG5cdFx0XHQvLyBzdG9yZSB0aGUgb3JpZ2luYWwgY2hpbGRyZW5cblx0XHRcdHNsaWRlci5jaGlsZHJlbiA9IGVsLmNoaWxkcmVuKHNsaWRlci5zZXR0aW5ncy5zbGlkZVNlbGVjdG9yKTtcblx0XHRcdC8vIGNoZWNrIGlmIGFjdHVhbCBudW1iZXIgb2Ygc2xpZGVzIGlzIGxlc3MgdGhhbiBtaW5TbGlkZXMgLyBtYXhTbGlkZXNcblx0XHRcdGlmKHNsaWRlci5jaGlsZHJlbi5sZW5ndGggPCBzbGlkZXIuc2V0dGluZ3MubWluU2xpZGVzKSBzbGlkZXIuc2V0dGluZ3MubWluU2xpZGVzID0gc2xpZGVyLmNoaWxkcmVuLmxlbmd0aDtcblx0XHRcdGlmKHNsaWRlci5jaGlsZHJlbi5sZW5ndGggPCBzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzKSBzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzID0gc2xpZGVyLmNoaWxkcmVuLmxlbmd0aDtcblx0XHRcdC8vIGlmIHJhbmRvbSBzdGFydCwgc2V0IHRoZSBzdGFydFNsaWRlIHNldHRpbmcgdG8gcmFuZG9tIG51bWJlclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLnJhbmRvbVN0YXJ0KSBzbGlkZXIuc2V0dGluZ3Muc3RhcnRTbGlkZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHNsaWRlci5jaGlsZHJlbi5sZW5ndGgpO1xuXHRcdFx0Ly8gc3RvcmUgYWN0aXZlIHNsaWRlIGluZm9ybWF0aW9uXG5cdFx0XHRzbGlkZXIuYWN0aXZlID0geyBpbmRleDogc2xpZGVyLnNldHRpbmdzLnN0YXJ0U2xpZGUgfVxuXHRcdFx0Ly8gc3RvcmUgaWYgdGhlIHNsaWRlciBpcyBpbiBjYXJvdXNlbCBtb2RlIChkaXNwbGF5aW5nIC8gbW92aW5nIG11bHRpcGxlIHNsaWRlcylcblx0XHRcdHNsaWRlci5jYXJvdXNlbCA9IHNsaWRlci5zZXR0aW5ncy5taW5TbGlkZXMgPiAxIHx8IHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMgPiAxO1xuXHRcdFx0Ly8gaWYgY2Fyb3VzZWwsIGZvcmNlIHByZWxvYWRJbWFnZXMgPSAnYWxsJ1xuXHRcdFx0aWYoc2xpZGVyLmNhcm91c2VsKSBzbGlkZXIuc2V0dGluZ3MucHJlbG9hZEltYWdlcyA9ICdhbGwnO1xuXHRcdFx0Ly8gY2FsY3VsYXRlIHRoZSBtaW4gLyBtYXggd2lkdGggdGhyZXNob2xkcyBiYXNlZCBvbiBtaW4gLyBtYXggbnVtYmVyIG9mIHNsaWRlc1xuXHRcdFx0Ly8gdXNlZCB0byBzZXR1cCBhbmQgdXBkYXRlIGNhcm91c2VsIHNsaWRlcyBkaW1lbnNpb25zXG5cdFx0XHRzbGlkZXIubWluVGhyZXNob2xkID0gKHNsaWRlci5zZXR0aW5ncy5taW5TbGlkZXMgKiBzbGlkZXIuc2V0dGluZ3Muc2xpZGVXaWR0aCkgKyAoKHNsaWRlci5zZXR0aW5ncy5taW5TbGlkZXMgLSAxKSAqIHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbik7XG5cdFx0XHRzbGlkZXIubWF4VGhyZXNob2xkID0gKHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMgKiBzbGlkZXIuc2V0dGluZ3Muc2xpZGVXaWR0aCkgKyAoKHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMgLSAxKSAqIHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbik7XG5cdFx0XHQvLyBzdG9yZSB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgc2xpZGVyIChpZiBjdXJyZW50bHkgYW5pbWF0aW5nLCB3b3JraW5nIGlzIHRydWUpXG5cdFx0XHRzbGlkZXIud29ya2luZyA9IGZhbHNlO1xuXHRcdFx0Ly8gaW5pdGlhbGl6ZSB0aGUgY29udHJvbHMgb2JqZWN0XG5cdFx0XHRzbGlkZXIuY29udHJvbHMgPSB7fTtcblx0XHRcdC8vIGluaXRpYWxpemUgYW4gYXV0byBpbnRlcnZhbFxuXHRcdFx0c2xpZGVyLmludGVydmFsID0gbnVsbDtcblx0XHRcdC8vIGRldGVybWluZSB3aGljaCBwcm9wZXJ0eSB0byB1c2UgZm9yIHRyYW5zaXRpb25zXG5cdFx0XHRzbGlkZXIuYW5pbVByb3AgPSBzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAndmVydGljYWwnID8gJ3RvcCcgOiAnbGVmdCc7XG5cdFx0XHQvLyBkZXRlcm1pbmUgaWYgaGFyZHdhcmUgYWNjZWxlcmF0aW9uIGNhbiBiZSB1c2VkXG5cdFx0XHRzbGlkZXIudXNpbmdDU1MgPSBzbGlkZXIuc2V0dGluZ3MudXNlQ1NTICYmIHNsaWRlci5zZXR0aW5ncy5tb2RlICE9ICdmYWRlJyAmJiAoZnVuY3Rpb24oKXtcblx0XHRcdFx0Ly8gY3JlYXRlIG91ciB0ZXN0IGRpdiBlbGVtZW50XG5cdFx0XHRcdHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0Ly8gY3NzIHRyYW5zaXRpb24gcHJvcGVydGllc1xuXHRcdFx0XHR2YXIgcHJvcHMgPSBbJ1dlYmtpdFBlcnNwZWN0aXZlJywgJ01velBlcnNwZWN0aXZlJywgJ09QZXJzcGVjdGl2ZScsICdtc1BlcnNwZWN0aXZlJ107XG5cdFx0XHRcdC8vIHRlc3QgZm9yIGVhY2ggcHJvcGVydHlcblx0XHRcdFx0Zm9yKHZhciBpIGluIHByb3BzKXtcblx0XHRcdFx0XHRpZihkaXYuc3R5bGVbcHJvcHNbaV1dICE9PSB1bmRlZmluZWQpe1xuXHRcdFx0XHRcdFx0c2xpZGVyLmNzc1ByZWZpeCA9IHByb3BzW2ldLnJlcGxhY2UoJ1BlcnNwZWN0aXZlJywgJycpLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdFx0XHRzbGlkZXIuYW5pbVByb3AgPSAnLScgKyBzbGlkZXIuY3NzUHJlZml4ICsgJy10cmFuc2Zvcm0nO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0oKSk7XG5cdFx0XHQvLyBpZiB2ZXJ0aWNhbCBtb2RlIGFsd2F5cyBtYWtlIG1heFNsaWRlcyBhbmQgbWluU2xpZGVzIGVxdWFsXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAndmVydGljYWwnKSBzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzID0gc2xpZGVyLnNldHRpbmdzLm1pblNsaWRlcztcblx0XHRcdC8vIHNhdmUgb3JpZ2luYWwgc3R5bGUgZGF0YVxuXHRcdFx0ZWwuZGF0YShcIm9yaWdTdHlsZVwiLCBlbC5hdHRyKFwic3R5bGVcIikpO1xuXHRcdFx0ZWwuY2hpbGRyZW4oc2xpZGVyLnNldHRpbmdzLnNsaWRlU2VsZWN0b3IpLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHQgICQodGhpcykuZGF0YShcIm9yaWdTdHlsZVwiLCAkKHRoaXMpLmF0dHIoXCJzdHlsZVwiKSk7XG5cdFx0XHR9KTtcblx0XHRcdC8vIHBlcmZvcm0gYWxsIERPTSAvIENTUyBtb2RpZmljYXRpb25zXG5cdFx0XHRzZXR1cCgpO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFBlcmZvcm1zIGFsbCBET00gYW5kIENTUyBtb2RpZmljYXRpb25zXG5cdFx0ICovXG5cdFx0dmFyIHNldHVwID0gZnVuY3Rpb24oKXtcblx0XHRcdC8vIHdyYXAgZWwgaW4gYSB3cmFwcGVyXG5cdFx0XHRlbC53cmFwKCc8ZGl2IGNsYXNzPVwiJyArIHNsaWRlci5zZXR0aW5ncy53cmFwcGVyQ2xhc3MgKyAnXCI+PGRpdiBjbGFzcz1cImJ4LXZpZXdwb3J0XCI+PC9kaXY+PC9kaXY+Jyk7XG5cdFx0XHQvLyBzdG9yZSBhIG5hbXNwYWNlIHJlZmVyZW5jZSB0byAuYngtdmlld3BvcnRcblx0XHRcdHNsaWRlci52aWV3cG9ydCA9IGVsLnBhcmVudCgpO1xuXHRcdFx0Ly8gYWRkIGEgbG9hZGluZyBkaXYgdG8gZGlzcGxheSB3aGlsZSBpbWcgYXJlIGxvYWRpbmdcblx0XHRcdHNsaWRlci5sb2FkZXIgPSAkKCc8ZGl2IGNsYXNzPVwiYngtbG9hZGluZ1wiIC8+Jyk7XG5cdFx0XHRzbGlkZXIudmlld3BvcnQucHJlcGVuZChzbGlkZXIubG9hZGVyKTtcblx0XHRcdC8vIHNldCBlbCB0byBhIG1hc3NpdmUgd2lkdGgsIHRvIGhvbGQgYW55IG5lZWRlZCBzbGlkZXNcblx0XHRcdC8vIGFsc28gc3RyaXAgYW55IG1hcmdpbiBhbmQgcGFkZGluZyBmcm9tIGVsXG5cdFx0XHRlbC5jc3Moe1xuXHRcdFx0XHR3aWR0aDogc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnID8gKHNsaWRlci5jaGlsZHJlbi5sZW5ndGggKiAxMDAgKyAyMTUpICsgJyUnIDogJ2F1dG8nLFxuXHRcdFx0XHRwb3NpdGlvbjogJ3JlbGF0aXZlJ1xuXHRcdFx0fSk7XG5cdFx0XHQvLyBpZiB1c2luZyBDU1MsIGFkZCB0aGUgZWFzaW5nIHByb3BlcnR5XG5cdFx0XHRpZihzbGlkZXIudXNpbmdDU1MgJiYgc2xpZGVyLnNldHRpbmdzLmVhc2luZyl7XG5cdFx0XHRcdGVsLmNzcygnLScgKyBzbGlkZXIuY3NzUHJlZml4ICsgJy10cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbicsIHNsaWRlci5zZXR0aW5ncy5lYXNpbmcpO1xuXHRcdFx0Ly8gaWYgbm90IHVzaW5nIENTUyBhbmQgbm8gZWFzaW5nIHZhbHVlIHdhcyBzdXBwbGllZCwgdXNlIHRoZSBkZWZhdWx0IEpTIGFuaW1hdGlvbiBlYXNpbmcgKHN3aW5nKVxuXHRcdFx0fWVsc2UgaWYoIXNsaWRlci5zZXR0aW5ncy5lYXNpbmcpe1xuXHRcdFx0XHRzbGlkZXIuc2V0dGluZ3MuZWFzaW5nID0gJ3N3aW5nJztcblx0XHRcdH1cblx0XHRcdHZhciBzbGlkZXNTaG93aW5nID0gZ2V0TnVtYmVyU2xpZGVzU2hvd2luZygpO1xuXHRcdFx0Ly8gbWFrZSBtb2RpZmljYXRpb25zIHRvIHRoZSB2aWV3cG9ydCAoLmJ4LXZpZXdwb3J0KVxuXHRcdFx0c2xpZGVyLnZpZXdwb3J0LmNzcyh7XG5cdFx0XHRcdHdpZHRoOiAnMTAwJScsXG5cdFx0XHRcdG92ZXJmbG93OiAnaGlkZGVuJyxcblx0XHRcdFx0cG9zaXRpb246ICdyZWxhdGl2ZSdcblx0XHRcdH0pO1xuXHRcdFx0c2xpZGVyLnZpZXdwb3J0LnBhcmVudCgpLmNzcyh7XG5cdFx0XHRcdG1heFdpZHRoOiBnZXRWaWV3cG9ydE1heFdpZHRoKClcblx0XHRcdH0pO1xuXHRcdFx0Ly8gbWFrZSBtb2RpZmljYXRpb24gdG8gdGhlIHdyYXBwZXIgKC5ieC13cmFwcGVyKVxuXHRcdFx0aWYoIXNsaWRlci5zZXR0aW5ncy5wYWdlcikge1xuXHRcdFx0XHRzbGlkZXIudmlld3BvcnQucGFyZW50KCkuY3NzKHtcblx0XHRcdFx0bWFyZ2luOiAnMCBhdXRvIDBweCdcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHQvLyBhcHBseSBjc3MgdG8gYWxsIHNsaWRlciBjaGlsZHJlblxuXHRcdFx0c2xpZGVyLmNoaWxkcmVuLmNzcyh7XG5cdFx0XHRcdCdmbG9hdCc6IHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICdob3Jpem9udGFsJyA/ICdsZWZ0JyA6ICdub25lJyxcblx0XHRcdFx0bGlzdFN0eWxlOiAnbm9uZScsXG5cdFx0XHRcdHBvc2l0aW9uOiAncmVsYXRpdmUnXG5cdFx0XHR9KTtcblx0XHRcdC8vIGFwcGx5IHRoZSBjYWxjdWxhdGVkIHdpZHRoIGFmdGVyIHRoZSBmbG9hdCBpcyBhcHBsaWVkIHRvIHByZXZlbnQgc2Nyb2xsYmFyIGludGVyZmVyZW5jZVxuXHRcdFx0c2xpZGVyLmNoaWxkcmVuLmNzcygnd2lkdGgnLCBnZXRTbGlkZVdpZHRoKCkpO1xuXHRcdFx0Ly8gaWYgc2xpZGVNYXJnaW4gaXMgc3VwcGxpZWQsIGFkZCB0aGUgY3NzXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnaG9yaXpvbnRhbCcgJiYgc2xpZGVyLnNldHRpbmdzLnNsaWRlTWFyZ2luID4gMCkgc2xpZGVyLmNoaWxkcmVuLmNzcygnbWFyZ2luUmlnaHQnLCBzbGlkZXIuc2V0dGluZ3Muc2xpZGVNYXJnaW4pO1xuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ3ZlcnRpY2FsJyAmJiBzbGlkZXIuc2V0dGluZ3Muc2xpZGVNYXJnaW4gPiAwKSBzbGlkZXIuY2hpbGRyZW4uY3NzKCdtYXJnaW5Cb3R0b20nLCBzbGlkZXIuc2V0dGluZ3Muc2xpZGVNYXJnaW4pO1xuXHRcdFx0Ly8gaWYgXCJmYWRlXCIgbW9kZSwgYWRkIHBvc2l0aW9uaW5nIGFuZCB6LWluZGV4IENTU1xuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2ZhZGUnKXtcblx0XHRcdFx0c2xpZGVyLmNoaWxkcmVuLmNzcyh7XG5cdFx0XHRcdFx0cG9zaXRpb246ICdhYnNvbHV0ZScsXG5cdFx0XHRcdFx0ekluZGV4OiAwLFxuXHRcdFx0XHRcdGRpc3BsYXk6ICdub25lJ1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0Ly8gcHJlcGFyZSB0aGUgei1pbmRleCBvbiB0aGUgc2hvd2luZyBlbGVtZW50XG5cdFx0XHRcdHNsaWRlci5jaGlsZHJlbi5lcShzbGlkZXIuc2V0dGluZ3Muc3RhcnRTbGlkZSkuY3NzKHt6SW5kZXg6IHNsaWRlci5zZXR0aW5ncy5zbGlkZVpJbmRleCwgZGlzcGxheTogJ2Jsb2NrJ30pO1xuXHRcdFx0fVxuXHRcdFx0Ly8gY3JlYXRlIGFuIGVsZW1lbnQgdG8gY29udGFpbiBhbGwgc2xpZGVyIGNvbnRyb2xzIChwYWdlciwgc3RhcnQgLyBzdG9wLCBldGMpXG5cdFx0XHRzbGlkZXIuY29udHJvbHMuZWwgPSAkKCc8ZGl2IGNsYXNzPVwiYngtY29udHJvbHNcIiAvPicpO1xuXHRcdFx0Ly8gaWYgY2FwdGlvbnMgYXJlIHJlcXVlc3RlZCwgYWRkIHRoZW1cblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5jYXB0aW9ucykgYXBwZW5kQ2FwdGlvbnMoKTtcblx0XHRcdC8vIGNoZWNrIGlmIHN0YXJ0U2xpZGUgaXMgbGFzdCBzbGlkZVxuXHRcdFx0c2xpZGVyLmFjdGl2ZS5sYXN0ID0gc2xpZGVyLnNldHRpbmdzLnN0YXJ0U2xpZGUgPT0gZ2V0UGFnZXJRdHkoKSAtIDE7XG5cdFx0XHQvLyBpZiB2aWRlbyBpcyB0cnVlLCBzZXQgdXAgdGhlIGZpdFZpZHMgcGx1Z2luXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MudmlkZW8pIGVsLmZpdFZpZHMoKTtcblx0XHRcdC8vIHNldCB0aGUgZGVmYXVsdCBwcmVsb2FkIHNlbGVjdG9yICh2aXNpYmxlKVxuXHRcdFx0dmFyIHByZWxvYWRTZWxlY3RvciA9IHNsaWRlci5jaGlsZHJlbi5lcShzbGlkZXIuc2V0dGluZ3Muc3RhcnRTbGlkZSk7XG5cdFx0XHRpZiAoc2xpZGVyLnNldHRpbmdzLnByZWxvYWRJbWFnZXMgPT0gXCJhbGxcIikgcHJlbG9hZFNlbGVjdG9yID0gc2xpZGVyLmNoaWxkcmVuO1xuXHRcdFx0Ly8gb25seSBjaGVjayBmb3IgY29udHJvbCBhZGRpdGlvbiBpZiBub3QgaW4gXCJ0aWNrZXJcIiBtb2RlXG5cdFx0XHRpZighc2xpZGVyLnNldHRpbmdzLnRpY2tlcil7XG5cdFx0XHRcdC8vIGlmIHBhZ2VyIGlzIHJlcXVlc3RlZCwgYWRkIGl0XG5cdFx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5wYWdlcikgYXBwZW5kUGFnZXIoKTtcblx0XHRcdFx0Ly8gaWYgY29udHJvbHMgYXJlIHJlcXVlc3RlZCwgYWRkIHRoZW1cblx0XHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLmNvbnRyb2xzKSBhcHBlbmRDb250cm9scygpO1xuXHRcdFx0XHQvLyBpZiBhdXRvIGlzIHRydWUsIGFuZCBhdXRvIGNvbnRyb2xzIGFyZSByZXF1ZXN0ZWQsIGFkZCB0aGVtXG5cdFx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5hdXRvICYmIHNsaWRlci5zZXR0aW5ncy5hdXRvQ29udHJvbHMpIGFwcGVuZENvbnRyb2xzQXV0bygpO1xuXHRcdFx0XHQvLyBpZiBhbnkgY29udHJvbCBvcHRpb24gaXMgcmVxdWVzdGVkLCBhZGQgdGhlIGNvbnRyb2xzIHdyYXBwZXJcblx0XHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLmNvbnRyb2xzIHx8IHNsaWRlci5zZXR0aW5ncy5hdXRvQ29udHJvbHMgfHwgc2xpZGVyLnNldHRpbmdzLnBhZ2VyKSBzbGlkZXIudmlld3BvcnQuYWZ0ZXIoc2xpZGVyLmNvbnRyb2xzLmVsKTtcblx0XHRcdC8vIGlmIHRpY2tlciBtb2RlLCBkbyBub3QgYWxsb3cgYSBwYWdlclxuXHRcdFx0fWVsc2V7XG5cdFx0XHRcdHNsaWRlci5zZXR0aW5ncy5wYWdlciA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0Ly8gcHJlbG9hZCBhbGwgaW1nLCB0aGVuIHBlcmZvcm0gZmluYWwgRE9NIC8gQ1NTIG1vZGlmaWNhdGlvbnMgdGhhdCBkZXBlbmQgb24gaW1nIGJlaW5nIGxvYWRlZFxuXHRcdFx0bG9hZEVsZW1lbnRzKHByZWxvYWRTZWxlY3Rvciwgc3RhcnQpO1xuXHRcdH1cblxuXHRcdHZhciBsb2FkRWxlbWVudHMgPSBmdW5jdGlvbihzZWxlY3RvciwgY2FsbGJhY2spe1xuXHRcdFx0dmFyIHRvdGFsID0gc2VsZWN0b3IuZmluZCgnaW1nLCBpZnJhbWUnKS5sZW5ndGg7XG5cdFx0XHRpZiAodG90YWwgPT0gMCl7XG5cdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdHZhciBjb3VudCA9IDA7XG5cdFx0XHRzZWxlY3Rvci5maW5kKCdpbWcsIGlmcmFtZScpLmVhY2goZnVuY3Rpb24oKXtcblx0XHRcdFx0JCh0aGlzKS5vbmUoJ2xvYWQnLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0ICBpZigrK2NvdW50ID09IHRvdGFsKSBjYWxsYmFjaygpO1xuXHRcdFx0XHR9KS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQgIGlmKHRoaXMuY29tcGxldGUpICQodGhpcykubG9hZCgpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFN0YXJ0IHRoZSBzbGlkZXJcblx0XHQgKi9cblx0XHR2YXIgc3RhcnQgPSBmdW5jdGlvbigpe1xuXHRcdFx0Ly8gaWYgaW5maW5pdGUgbG9vcCwgcHJlcGFyZSBhZGRpdGlvbmFsIHNsaWRlc1xuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLmluZmluaXRlTG9vcCAmJiBzbGlkZXIuc2V0dGluZ3MubW9kZSAhPSAnZmFkZScgJiYgIXNsaWRlci5zZXR0aW5ncy50aWNrZXIpe1xuXHRcdFx0XHR2YXIgc2xpY2UgPSBzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAndmVydGljYWwnID8gc2xpZGVyLnNldHRpbmdzLm1pblNsaWRlcyA6IHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXM7XG5cdFx0XHRcdHZhciBzbGljZUFwcGVuZCA9IHNsaWRlci5jaGlsZHJlbi5zbGljZSgwLCBzbGljZSkuY2xvbmUoKS5hZGRDbGFzcygnYngtY2xvbmUnKTtcblx0XHRcdFx0dmFyIHNsaWNlUHJlcGVuZCA9IHNsaWRlci5jaGlsZHJlbi5zbGljZSgtc2xpY2UpLmNsb25lKCkuYWRkQ2xhc3MoJ2J4LWNsb25lJyk7XG5cdFx0XHRcdGVsLmFwcGVuZChzbGljZUFwcGVuZCkucHJlcGVuZChzbGljZVByZXBlbmQpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gcmVtb3ZlIHRoZSBsb2FkaW5nIERPTSBlbGVtZW50XG5cdFx0XHRzbGlkZXIubG9hZGVyLnJlbW92ZSgpO1xuXHRcdFx0Ly8gc2V0IHRoZSBsZWZ0IC8gdG9wIHBvc2l0aW9uIG9mIFwiZWxcIlxuXHRcdFx0c2V0U2xpZGVQb3NpdGlvbigpO1xuXHRcdFx0Ly8gaWYgXCJ2ZXJ0aWNhbFwiIG1vZGUsIGFsd2F5cyB1c2UgYWRhcHRpdmVIZWlnaHQgdG8gcHJldmVudCBvZGQgYmVoYXZpb3Jcblx0XHRcdGlmIChzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAndmVydGljYWwnKSBzbGlkZXIuc2V0dGluZ3MuYWRhcHRpdmVIZWlnaHQgPSB0cnVlO1xuXHRcdFx0Ly8gc2V0IHRoZSB2aWV3cG9ydCBoZWlnaHRcblx0XHRcdHNsaWRlci52aWV3cG9ydC5oZWlnaHQoZ2V0Vmlld3BvcnRIZWlnaHQoKSk7XG5cdFx0XHQvLyBtYWtlIHN1cmUgZXZlcnl0aGluZyBpcyBwb3NpdGlvbmVkIGp1c3QgcmlnaHQgKHNhbWUgYXMgYSB3aW5kb3cgcmVzaXplKVxuXHRcdFx0ZWwucmVkcmF3U2xpZGVyKCk7XG5cdFx0XHQvLyBvblNsaWRlckxvYWQgY2FsbGJhY2tcblx0XHRcdHNsaWRlci5zZXR0aW5ncy5vblNsaWRlckxvYWQoc2xpZGVyLmFjdGl2ZS5pbmRleCk7XG5cdFx0XHQvLyBzbGlkZXIgaGFzIGJlZW4gZnVsbHkgaW5pdGlhbGl6ZWRcblx0XHRcdHNsaWRlci5pbml0aWFsaXplZCA9IHRydWU7XG5cdFx0XHQvLyBiaW5kIHRoZSByZXNpemUgY2FsbCB0byB0aGUgd2luZG93XG5cdFx0XHRpZiAoc2xpZGVyLnNldHRpbmdzLnJlc3BvbnNpdmUpICQod2luZG93KS5iaW5kKCdyZXNpemUnLCByZXNpemVXaW5kb3cpO1xuXHRcdFx0Ly8gaWYgYXV0byBpcyB0cnVlIGFuZCBoYXMgbW9yZSB0aGFuIDEgcGFnZSwgc3RhcnQgdGhlIHNob3dcblx0XHRcdGlmIChzbGlkZXIuc2V0dGluZ3MuYXV0byAmJiBzbGlkZXIuc2V0dGluZ3MuYXV0b1N0YXJ0ICYmIChnZXRQYWdlclF0eSgpID4gMSB8fCBzbGlkZXIuc2V0dGluZ3MuYXV0b1NsaWRlRm9yT25lUGFnZSkpIGluaXRBdXRvKCk7XG5cdFx0XHQvLyBpZiB0aWNrZXIgaXMgdHJ1ZSwgc3RhcnQgdGhlIHRpY2tlclxuXHRcdFx0aWYgKHNsaWRlci5zZXR0aW5ncy50aWNrZXIpIGluaXRUaWNrZXIoKTtcblx0XHRcdC8vIGlmIHBhZ2VyIGlzIHJlcXVlc3RlZCwgbWFrZSB0aGUgYXBwcm9wcmlhdGUgcGFnZXIgbGluayBhY3RpdmVcblx0XHRcdGlmIChzbGlkZXIuc2V0dGluZ3MucGFnZXIpIHVwZGF0ZVBhZ2VyQWN0aXZlKHNsaWRlci5zZXR0aW5ncy5zdGFydFNsaWRlKTtcblx0XHRcdC8vIGNoZWNrIGZvciBhbnkgdXBkYXRlcyB0byB0aGUgY29udHJvbHMgKGxpa2UgaGlkZUNvbnRyb2xPbkVuZCB1cGRhdGVzKVxuXHRcdFx0aWYgKHNsaWRlci5zZXR0aW5ncy5jb250cm9scykgdXBkYXRlRGlyZWN0aW9uQ29udHJvbHMoKTtcblx0XHRcdC8vIGlmIHRvdWNoRW5hYmxlZCBpcyB0cnVlLCBzZXR1cCB0aGUgdG91Y2ggZXZlbnRzXG5cdFx0XHRpZiAoc2xpZGVyLnNldHRpbmdzLnRvdWNoRW5hYmxlZCAmJiAhc2xpZGVyLnNldHRpbmdzLnRpY2tlcikgaW5pdFRvdWNoKCk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyB0aGUgY2FsY3VsYXRlZCBoZWlnaHQgb2YgdGhlIHZpZXdwb3J0LCB1c2VkIHRvIGRldGVybWluZSBlaXRoZXIgYWRhcHRpdmVIZWlnaHQgb3IgdGhlIG1heEhlaWdodCB2YWx1ZVxuXHRcdCAqL1xuXHRcdHZhciBnZXRWaWV3cG9ydEhlaWdodCA9IGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgaGVpZ2h0ID0gMDtcblx0XHRcdC8vIGZpcnN0IGRldGVybWluZSB3aGljaCBjaGlsZHJlbiAoc2xpZGVzKSBzaG91bGQgYmUgdXNlZCBpbiBvdXIgaGVpZ2h0IGNhbGN1bGF0aW9uXG5cdFx0XHR2YXIgY2hpbGRyZW4gPSAkKCk7XG5cdFx0XHQvLyBpZiBtb2RlIGlzIG5vdCBcInZlcnRpY2FsXCIgYW5kIGFkYXB0aXZlSGVpZ2h0IGlzIGZhbHNlLCBpbmNsdWRlIGFsbCBjaGlsZHJlblxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm1vZGUgIT0gJ3ZlcnRpY2FsJyAmJiAhc2xpZGVyLnNldHRpbmdzLmFkYXB0aXZlSGVpZ2h0KXtcblx0XHRcdFx0Y2hpbGRyZW4gPSBzbGlkZXIuY2hpbGRyZW47XG5cdFx0XHR9ZWxzZXtcblx0XHRcdFx0Ly8gaWYgbm90IGNhcm91c2VsLCByZXR1cm4gdGhlIHNpbmdsZSBhY3RpdmUgY2hpbGRcblx0XHRcdFx0aWYoIXNsaWRlci5jYXJvdXNlbCl7XG5cdFx0XHRcdFx0Y2hpbGRyZW4gPSBzbGlkZXIuY2hpbGRyZW4uZXEoc2xpZGVyLmFjdGl2ZS5pbmRleCk7XG5cdFx0XHRcdC8vIGlmIGNhcm91c2VsLCByZXR1cm4gYSBzbGljZSBvZiBjaGlsZHJlblxuXHRcdFx0XHR9ZWxzZXtcblx0XHRcdFx0XHQvLyBnZXQgdGhlIGluZGl2aWR1YWwgc2xpZGUgaW5kZXhcblx0XHRcdFx0XHR2YXIgY3VycmVudEluZGV4ID0gc2xpZGVyLnNldHRpbmdzLm1vdmVTbGlkZXMgPT0gMSA/IHNsaWRlci5hY3RpdmUuaW5kZXggOiBzbGlkZXIuYWN0aXZlLmluZGV4ICogZ2V0TW92ZUJ5KCk7XG5cdFx0XHRcdFx0Ly8gYWRkIHRoZSBjdXJyZW50IHNsaWRlIHRvIHRoZSBjaGlsZHJlblxuXHRcdFx0XHRcdGNoaWxkcmVuID0gc2xpZGVyLmNoaWxkcmVuLmVxKGN1cnJlbnRJbmRleCk7XG5cdFx0XHRcdFx0Ly8gY3ljbGUgdGhyb3VnaCB0aGUgcmVtYWluaW5nIFwic2hvd2luZ1wiIHNsaWRlc1xuXHRcdFx0XHRcdGZvciAoaSA9IDE7IGkgPD0gc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcyAtIDE7IGkrKyl7XG5cdFx0XHRcdFx0XHQvLyBpZiBsb29wZWQgYmFjayB0byB0aGUgc3RhcnRcblx0XHRcdFx0XHRcdGlmKGN1cnJlbnRJbmRleCArIGkgPj0gc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCl7XG5cdFx0XHRcdFx0XHRcdGNoaWxkcmVuID0gY2hpbGRyZW4uYWRkKHNsaWRlci5jaGlsZHJlbi5lcShpIC0gMSkpO1xuXHRcdFx0XHRcdFx0fWVsc2V7XG5cdFx0XHRcdFx0XHRcdGNoaWxkcmVuID0gY2hpbGRyZW4uYWRkKHNsaWRlci5jaGlsZHJlbi5lcShjdXJyZW50SW5kZXggKyBpKSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHQvLyBpZiBcInZlcnRpY2FsXCIgbW9kZSwgY2FsY3VsYXRlIHRoZSBzdW0gb2YgdGhlIGhlaWdodHMgb2YgdGhlIGNoaWxkcmVuXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAndmVydGljYWwnKXtcblx0XHRcdFx0Y2hpbGRyZW4uZWFjaChmdW5jdGlvbihpbmRleCkge1xuXHRcdFx0XHQgIGhlaWdodCArPSAkKHRoaXMpLm91dGVySGVpZ2h0KCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHQvLyBhZGQgdXNlci1zdXBwbGllZCBtYXJnaW5zXG5cdFx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbiA+IDApe1xuXHRcdFx0XHRcdGhlaWdodCArPSBzbGlkZXIuc2V0dGluZ3Muc2xpZGVNYXJnaW4gKiAoc2xpZGVyLnNldHRpbmdzLm1pblNsaWRlcyAtIDEpO1xuXHRcdFx0XHR9XG5cdFx0XHQvLyBpZiBub3QgXCJ2ZXJ0aWNhbFwiIG1vZGUsIGNhbGN1bGF0ZSB0aGUgbWF4IGhlaWdodCBvZiB0aGUgY2hpbGRyZW5cblx0XHRcdH1lbHNle1xuXHRcdFx0XHRoZWlnaHQgPSBNYXRoLm1heC5hcHBseShNYXRoLCBjaGlsZHJlbi5tYXAoZnVuY3Rpb24oKXtcblx0XHRcdFx0XHRyZXR1cm4gJCh0aGlzKS5vdXRlckhlaWdodChmYWxzZSk7XG5cdFx0XHRcdH0pLmdldCgpKTtcblx0XHRcdH1cblxuXHRcdFx0aWYoc2xpZGVyLnZpZXdwb3J0LmNzcygnYm94LXNpemluZycpID09ICdib3JkZXItYm94Jyl7XG5cdFx0XHRcdGhlaWdodCArPVx0cGFyc2VGbG9hdChzbGlkZXIudmlld3BvcnQuY3NzKCdwYWRkaW5nLXRvcCcpKSArIHBhcnNlRmxvYXQoc2xpZGVyLnZpZXdwb3J0LmNzcygncGFkZGluZy1ib3R0b20nKSkgK1xuXHRcdFx0XHRcdFx0XHRwYXJzZUZsb2F0KHNsaWRlci52aWV3cG9ydC5jc3MoJ2JvcmRlci10b3Atd2lkdGgnKSkgKyBwYXJzZUZsb2F0KHNsaWRlci52aWV3cG9ydC5jc3MoJ2JvcmRlci1ib3R0b20td2lkdGgnKSk7XG5cdFx0XHR9ZWxzZSBpZihzbGlkZXIudmlld3BvcnQuY3NzKCdib3gtc2l6aW5nJykgPT0gJ3BhZGRpbmctYm94Jyl7XG5cdFx0XHRcdGhlaWdodCArPVx0cGFyc2VGbG9hdChzbGlkZXIudmlld3BvcnQuY3NzKCdwYWRkaW5nLXRvcCcpKSArIHBhcnNlRmxvYXQoc2xpZGVyLnZpZXdwb3J0LmNzcygncGFkZGluZy1ib3R0b20nKSk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBoZWlnaHQ7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyB0aGUgY2FsY3VsYXRlZCB3aWR0aCB0byBiZSB1c2VkIGZvciB0aGUgb3V0ZXIgd3JhcHBlciAvIHZpZXdwb3J0XG5cdFx0ICovXG5cdFx0dmFyIGdldFZpZXdwb3J0TWF4V2lkdGggPSBmdW5jdGlvbigpe1xuXHRcdFx0dmFyIHdpZHRoID0gJzEwMCUnO1xuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLnNsaWRlV2lkdGggPiAwKXtcblx0XHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnKXtcblx0XHRcdFx0XHR3aWR0aCA9IChzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzICogc2xpZGVyLnNldHRpbmdzLnNsaWRlV2lkdGgpICsgKChzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzIC0gMSkgKiBzbGlkZXIuc2V0dGluZ3Muc2xpZGVNYXJnaW4pO1xuXHRcdFx0XHR9ZWxzZXtcblx0XHRcdFx0XHR3aWR0aCA9IHNsaWRlci5zZXR0aW5ncy5zbGlkZVdpZHRoO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gd2lkdGg7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyB0aGUgY2FsY3VsYXRlZCB3aWR0aCB0byBiZSBhcHBsaWVkIHRvIGVhY2ggc2xpZGVcblx0XHQgKi9cblx0XHR2YXIgZ2V0U2xpZGVXaWR0aCA9IGZ1bmN0aW9uKCl7XG5cdFx0XHQvLyBzdGFydCB3aXRoIGFueSB1c2VyLXN1cHBsaWVkIHNsaWRlIHdpZHRoXG5cdFx0XHR2YXIgbmV3RWxXaWR0aCA9IHNsaWRlci5zZXR0aW5ncy5zbGlkZVdpZHRoO1xuXHRcdFx0Ly8gZ2V0IHRoZSBjdXJyZW50IHZpZXdwb3J0IHdpZHRoXG5cdFx0XHR2YXIgd3JhcFdpZHRoID0gc2xpZGVyLnZpZXdwb3J0LndpZHRoKCk7XG5cdFx0XHQvLyBpZiBzbGlkZSB3aWR0aCB3YXMgbm90IHN1cHBsaWVkLCBvciBpcyBsYXJnZXIgdGhhbiB0aGUgdmlld3BvcnQgdXNlIHRoZSB2aWV3cG9ydCB3aWR0aFxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLnNsaWRlV2lkdGggPT0gMCB8fFxuXHRcdFx0XHQoc2xpZGVyLnNldHRpbmdzLnNsaWRlV2lkdGggPiB3cmFwV2lkdGggJiYgIXNsaWRlci5jYXJvdXNlbCkgfHxcblx0XHRcdFx0c2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ3ZlcnRpY2FsJyl7XG5cdFx0XHRcdG5ld0VsV2lkdGggPSB3cmFwV2lkdGg7XG5cdFx0XHQvLyBpZiBjYXJvdXNlbCwgdXNlIHRoZSB0aHJlc2hvbGRzIHRvIGRldGVybWluZSB0aGUgd2lkdGhcblx0XHRcdH1lbHNlIGlmKHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMgPiAxICYmIHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICdob3Jpem9udGFsJyl7XG5cdFx0XHRcdGlmKHdyYXBXaWR0aCA+IHNsaWRlci5tYXhUaHJlc2hvbGQpe1xuXHRcdFx0XHRcdC8vIG5ld0VsV2lkdGggPSAod3JhcFdpZHRoIC0gKHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbiAqIChzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzIC0gMSkpKSAvIHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXM7XG5cdFx0XHRcdH1lbHNlIGlmKHdyYXBXaWR0aCA8IHNsaWRlci5taW5UaHJlc2hvbGQpe1xuXHRcdFx0XHRcdG5ld0VsV2lkdGggPSAod3JhcFdpZHRoIC0gKHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbiAqIChzbGlkZXIuc2V0dGluZ3MubWluU2xpZGVzIC0gMSkpKSAvIHNsaWRlci5zZXR0aW5ncy5taW5TbGlkZXM7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBuZXdFbFdpZHRoO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgdGhlIG51bWJlciBvZiBzbGlkZXMgY3VycmVudGx5IHZpc2libGUgaW4gdGhlIHZpZXdwb3J0IChpbmNsdWRlcyBwYXJ0aWFsbHkgdmlzaWJsZSBzbGlkZXMpXG5cdFx0ICovXG5cdFx0dmFyIGdldE51bWJlclNsaWRlc1Nob3dpbmcgPSBmdW5jdGlvbigpe1xuXHRcdFx0dmFyIHNsaWRlc1Nob3dpbmcgPSAxO1xuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnICYmIHNsaWRlci5zZXR0aW5ncy5zbGlkZVdpZHRoID4gMCl7XG5cdFx0XHRcdC8vIGlmIHZpZXdwb3J0IGlzIHNtYWxsZXIgdGhhbiBtaW5UaHJlc2hvbGQsIHJldHVybiBtaW5TbGlkZXNcblx0XHRcdFx0aWYoc2xpZGVyLnZpZXdwb3J0LndpZHRoKCkgPCBzbGlkZXIubWluVGhyZXNob2xkKXtcblx0XHRcdFx0XHRzbGlkZXNTaG93aW5nID0gc2xpZGVyLnNldHRpbmdzLm1pblNsaWRlcztcblx0XHRcdFx0Ly8gaWYgdmlld3BvcnQgaXMgbGFyZ2VyIHRoYW4gbWluVGhyZXNob2xkLCByZXR1cm4gbWF4U2xpZGVzXG5cdFx0XHRcdH1lbHNlIGlmKHNsaWRlci52aWV3cG9ydC53aWR0aCgpID4gc2xpZGVyLm1heFRocmVzaG9sZCl7XG5cdFx0XHRcdFx0c2xpZGVzU2hvd2luZyA9IHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXM7XG5cdFx0XHRcdC8vIGlmIHZpZXdwb3J0IGlzIGJldHdlZW4gbWluIC8gbWF4IHRocmVzaG9sZHMsIGRpdmlkZSB2aWV3cG9ydCB3aWR0aCBieSBmaXJzdCBjaGlsZCB3aWR0aFxuXHRcdFx0XHR9ZWxzZXtcblx0XHRcdFx0XHR2YXIgY2hpbGRXaWR0aCA9IHNsaWRlci5jaGlsZHJlbi5maXJzdCgpLndpZHRoKCkgKyBzbGlkZXIuc2V0dGluZ3Muc2xpZGVNYXJnaW47XG5cdFx0XHRcdFx0c2xpZGVzU2hvd2luZyA9IE1hdGguZmxvb3IoKHNsaWRlci52aWV3cG9ydC53aWR0aCgpICtcblx0XHRcdFx0XHRcdHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbikgLyBjaGlsZFdpZHRoKTtcblx0XHRcdFx0fVxuXHRcdFx0Ly8gaWYgXCJ2ZXJ0aWNhbFwiIG1vZGUsIHNsaWRlcyBzaG93aW5nIHdpbGwgYWx3YXlzIGJlIG1pblNsaWRlc1xuXHRcdFx0fWVsc2UgaWYoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ3ZlcnRpY2FsJyl7XG5cdFx0XHRcdHNsaWRlc1Nob3dpbmcgPSBzbGlkZXIuc2V0dGluZ3MubWluU2xpZGVzO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHNsaWRlc1Nob3dpbmc7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIHBhZ2VzIChvbmUgZnVsbCB2aWV3cG9ydCBvZiBzbGlkZXMgaXMgb25lIFwicGFnZVwiKVxuXHRcdCAqL1xuXHRcdHZhciBnZXRQYWdlclF0eSA9IGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgcGFnZXJRdHkgPSAwO1xuXHRcdFx0Ly8gaWYgbW92ZVNsaWRlcyBpcyBzcGVjaWZpZWQgYnkgdGhlIHVzZXJcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5tb3ZlU2xpZGVzID4gMCl7XG5cdFx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5pbmZpbml0ZUxvb3Ape1xuXHRcdFx0XHRcdHBhZ2VyUXR5ID0gTWF0aC5jZWlsKHNsaWRlci5jaGlsZHJlbi5sZW5ndGggLyBnZXRNb3ZlQnkoKSk7XG5cdFx0XHRcdH1lbHNle1xuXHRcdFx0XHRcdC8vIHVzZSBhIHdoaWxlIGxvb3AgdG8gZGV0ZXJtaW5lIHBhZ2VzXG5cdFx0XHRcdFx0dmFyIGJyZWFrUG9pbnQgPSAwO1xuXHRcdFx0XHRcdHZhciBjb3VudGVyID0gMFxuXHRcdFx0XHRcdC8vIHdoZW4gYnJlYWtwb2ludCBnb2VzIGFib3ZlIGNoaWxkcmVuIGxlbmd0aCwgY291bnRlciBpcyB0aGUgbnVtYmVyIG9mIHBhZ2VzXG5cdFx0XHRcdFx0d2hpbGUgKGJyZWFrUG9pbnQgPCBzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoKXtcblx0XHRcdFx0XHRcdCsrcGFnZXJRdHk7XG5cdFx0XHRcdFx0XHRicmVha1BvaW50ID0gY291bnRlciArIGdldE51bWJlclNsaWRlc1Nob3dpbmcoKTtcblx0XHRcdFx0XHRcdGNvdW50ZXIgKz0gc2xpZGVyLnNldHRpbmdzLm1vdmVTbGlkZXMgPD0gZ2V0TnVtYmVyU2xpZGVzU2hvd2luZygpID8gc2xpZGVyLnNldHRpbmdzLm1vdmVTbGlkZXMgOiBnZXROdW1iZXJTbGlkZXNTaG93aW5nKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHQvLyBpZiBtb3ZlU2xpZGVzIGlzIDAgKGF1dG8pIGRpdmlkZSBjaGlsZHJlbiBsZW5ndGggYnkgc2lkZXMgc2hvd2luZywgdGhlbiByb3VuZCB1cFxuXHRcdFx0fWVsc2V7XG5cdFx0XHRcdHBhZ2VyUXR5ID0gTWF0aC5jZWlsKHNsaWRlci5jaGlsZHJlbi5sZW5ndGggLyBnZXROdW1iZXJTbGlkZXNTaG93aW5nKCkpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHBhZ2VyUXR5O1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgdGhlIG51bWJlciBvZiBpbmRpdnVhbCBzbGlkZXMgYnkgd2hpY2ggdG8gc2hpZnQgdGhlIHNsaWRlclxuXHRcdCAqL1xuXHRcdHZhciBnZXRNb3ZlQnkgPSBmdW5jdGlvbigpe1xuXHRcdFx0Ly8gaWYgbW92ZVNsaWRlcyB3YXMgc2V0IGJ5IHRoZSB1c2VyIGFuZCBtb3ZlU2xpZGVzIGlzIGxlc3MgdGhhbiBudW1iZXIgb2Ygc2xpZGVzIHNob3dpbmdcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5tb3ZlU2xpZGVzID4gMCAmJiBzbGlkZXIuc2V0dGluZ3MubW92ZVNsaWRlcyA8PSBnZXROdW1iZXJTbGlkZXNTaG93aW5nKCkpe1xuXHRcdFx0XHRyZXR1cm4gc2xpZGVyLnNldHRpbmdzLm1vdmVTbGlkZXM7XG5cdFx0XHR9XG5cdFx0XHQvLyBpZiBtb3ZlU2xpZGVzIGlzIDAgKGF1dG8pXG5cdFx0XHRyZXR1cm4gZ2V0TnVtYmVyU2xpZGVzU2hvd2luZygpO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFNldHMgdGhlIHNsaWRlcidzIChlbCkgbGVmdCBvciB0b3AgcG9zaXRpb25cblx0XHQgKi9cblx0XHR2YXIgc2V0U2xpZGVQb3NpdGlvbiA9IGZ1bmN0aW9uKCl7XG5cdFx0XHQvLyBpZiBsYXN0IHNsaWRlLCBub3QgaW5maW5pdGUgbG9vcCwgYW5kIG51bWJlciBvZiBjaGlsZHJlbiBpcyBsYXJnZXIgdGhhbiBzcGVjaWZpZWQgbWF4U2xpZGVzXG5cdFx0XHRpZihzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoID4gc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcyAmJiBzbGlkZXIuYWN0aXZlLmxhc3QgJiYgIXNsaWRlci5zZXR0aW5ncy5pbmZpbml0ZUxvb3Ape1xuXHRcdFx0XHRpZiAoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnKXtcblx0XHRcdFx0XHQvLyBnZXQgdGhlIGxhc3QgY2hpbGQncyBwb3NpdGlvblxuXHRcdFx0XHRcdHZhciBsYXN0Q2hpbGQgPSBzbGlkZXIuY2hpbGRyZW4ubGFzdCgpO1xuXHRcdFx0XHRcdHZhciBwb3NpdGlvbiA9IGxhc3RDaGlsZC5wb3NpdGlvbigpO1xuXHRcdFx0XHRcdC8vIHNldCB0aGUgbGVmdCBwb3NpdGlvblxuXHRcdFx0XHRcdHNldFBvc2l0aW9uUHJvcGVydHkoLShwb3NpdGlvbi5sZWZ0IC0gKHNsaWRlci52aWV3cG9ydC53aWR0aCgpIC0gbGFzdENoaWxkLm91dGVyV2lkdGgoKSkpLCAncmVzZXQnLCAwKTtcblx0XHRcdFx0fWVsc2UgaWYoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ3ZlcnRpY2FsJyl7XG5cdFx0XHRcdFx0Ly8gZ2V0IHRoZSBsYXN0IHNob3dpbmcgaW5kZXgncyBwb3NpdGlvblxuXHRcdFx0XHRcdHZhciBsYXN0U2hvd2luZ0luZGV4ID0gc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCAtIHNsaWRlci5zZXR0aW5ncy5taW5TbGlkZXM7XG5cdFx0XHRcdFx0dmFyIHBvc2l0aW9uID0gc2xpZGVyLmNoaWxkcmVuLmVxKGxhc3RTaG93aW5nSW5kZXgpLnBvc2l0aW9uKCk7XG5cdFx0XHRcdFx0Ly8gc2V0IHRoZSB0b3AgcG9zaXRpb25cblx0XHRcdFx0XHRzZXRQb3NpdGlvblByb3BlcnR5KC1wb3NpdGlvbi50b3AsICdyZXNldCcsIDApO1xuXHRcdFx0XHR9XG5cdFx0XHQvLyBpZiBub3QgbGFzdCBzbGlkZVxuXHRcdFx0fWVsc2V7XG5cdFx0XHRcdC8vIGdldCB0aGUgcG9zaXRpb24gb2YgdGhlIGZpcnN0IHNob3dpbmcgc2xpZGVcblx0XHRcdFx0dmFyIHBvc2l0aW9uID0gc2xpZGVyLmNoaWxkcmVuLmVxKHNsaWRlci5hY3RpdmUuaW5kZXggKiBnZXRNb3ZlQnkoKSkucG9zaXRpb24oKTtcblx0XHRcdFx0Ly8gY2hlY2sgZm9yIGxhc3Qgc2xpZGVcblx0XHRcdFx0aWYgKHNsaWRlci5hY3RpdmUuaW5kZXggPT0gZ2V0UGFnZXJRdHkoKSAtIDEpIHNsaWRlci5hY3RpdmUubGFzdCA9IHRydWU7XG5cdFx0XHRcdC8vIHNldCB0aGUgcmVwZWN0aXZlIHBvc2l0aW9uXG5cdFx0XHRcdGlmIChwb3NpdGlvbiAhPSB1bmRlZmluZWQpe1xuXHRcdFx0XHRcdGlmIChzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnaG9yaXpvbnRhbCcpIHNldFBvc2l0aW9uUHJvcGVydHkoLXBvc2l0aW9uLmxlZnQsICdyZXNldCcsIDApO1xuXHRcdFx0XHRcdGVsc2UgaWYgKHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICd2ZXJ0aWNhbCcpIHNldFBvc2l0aW9uUHJvcGVydHkoLXBvc2l0aW9uLnRvcCwgJ3Jlc2V0JywgMCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBTZXRzIHRoZSBlbCdzIGFuaW1hdGluZyBwcm9wZXJ0eSBwb3NpdGlvbiAod2hpY2ggaW4gdHVybiB3aWxsIHNvbWV0aW1lcyBhbmltYXRlIGVsKS5cblx0XHQgKiBJZiB1c2luZyBDU1MsIHNldHMgdGhlIHRyYW5zZm9ybSBwcm9wZXJ0eS4gSWYgbm90IHVzaW5nIENTUywgc2V0cyB0aGUgdG9wIC8gbGVmdCBwcm9wZXJ0eS5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB2YWx1ZSAoaW50KVxuXHRcdCAqICAtIHRoZSBhbmltYXRpbmcgcHJvcGVydHkncyB2YWx1ZVxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHR5cGUgKHN0cmluZykgJ3NsaWRlcicsICdyZXNldCcsICd0aWNrZXInXG5cdFx0ICogIC0gdGhlIHR5cGUgb2YgaW5zdGFuY2UgZm9yIHdoaWNoIHRoZSBmdW5jdGlvbiBpcyBiZWluZ1xuXHRcdCAqXG5cdFx0ICogQHBhcmFtIGR1cmF0aW9uIChpbnQpXG5cdFx0ICogIC0gdGhlIGFtb3VudCBvZiB0aW1lIChpbiBtcykgdGhlIHRyYW5zaXRpb24gc2hvdWxkIG9jY3VweVxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHBhcmFtcyAoYXJyYXkpIG9wdGlvbmFsXG5cdFx0ICogIC0gYW4gb3B0aW9uYWwgcGFyYW1ldGVyIGNvbnRhaW5pbmcgYW55IHZhcmlhYmxlcyB0aGF0IG5lZWQgdG8gYmUgcGFzc2VkIGluXG5cdFx0ICovXG5cdFx0dmFyIHNldFBvc2l0aW9uUHJvcGVydHkgPSBmdW5jdGlvbih2YWx1ZSwgdHlwZSwgZHVyYXRpb24sIHBhcmFtcyl7XG5cdFx0XHQvLyB1c2UgQ1NTIHRyYW5zZm9ybVxuXHRcdFx0aWYoc2xpZGVyLnVzaW5nQ1NTKXtcblx0XHRcdFx0Ly8gZGV0ZXJtaW5lIHRoZSB0cmFuc2xhdGUzZCB2YWx1ZVxuXHRcdFx0XHR2YXIgcHJvcFZhbHVlID0gc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ3ZlcnRpY2FsJyA/ICd0cmFuc2xhdGUzZCgwLCAnICsgdmFsdWUgKyAncHgsIDApJyA6ICd0cmFuc2xhdGUzZCgnICsgdmFsdWUgKyAncHgsIDAsIDApJztcblx0XHRcdFx0Ly8gYWRkIHRoZSBDU1MgdHJhbnNpdGlvbi1kdXJhdGlvblxuXHRcdFx0XHRlbC5jc3MoJy0nICsgc2xpZGVyLmNzc1ByZWZpeCArICctdHJhbnNpdGlvbi1kdXJhdGlvbicsIGR1cmF0aW9uIC8gMTAwMCArICdzJyk7XG5cdFx0XHRcdGlmKHR5cGUgPT0gJ3NsaWRlJyl7XG5cdFx0XHRcdFx0Ly8gc2V0IHRoZSBwcm9wZXJ0eSB2YWx1ZVxuXHRcdFx0XHRcdGVsLmNzcyhzbGlkZXIuYW5pbVByb3AsIHByb3BWYWx1ZSk7XG5cdFx0XHRcdFx0Ly8gYmluZCBhIGNhbGxiYWNrIG1ldGhvZCAtIGV4ZWN1dGVzIHdoZW4gQ1NTIHRyYW5zaXRpb24gY29tcGxldGVzXG5cdFx0XHRcdFx0ZWwuYmluZCgndHJhbnNpdGlvbmVuZCB3ZWJraXRUcmFuc2l0aW9uRW5kIG9UcmFuc2l0aW9uRW5kIE1TVHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0XHQvLyB1bmJpbmQgdGhlIGNhbGxiYWNrXG5cdFx0XHRcdFx0XHRlbC51bmJpbmQoJ3RyYW5zaXRpb25lbmQgd2Via2l0VHJhbnNpdGlvbkVuZCBvVHJhbnNpdGlvbkVuZCBNU1RyYW5zaXRpb25FbmQnKTtcblx0XHRcdFx0XHRcdHVwZGF0ZUFmdGVyU2xpZGVUcmFuc2l0aW9uKCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1lbHNlIGlmKHR5cGUgPT0gJ3Jlc2V0Jyl7XG5cdFx0XHRcdFx0ZWwuY3NzKHNsaWRlci5hbmltUHJvcCwgcHJvcFZhbHVlKTtcblx0XHRcdFx0fWVsc2UgaWYodHlwZSA9PSAndGlja2VyJyl7XG5cdFx0XHRcdFx0Ly8gbWFrZSB0aGUgdHJhbnNpdGlvbiB1c2UgJ2xpbmVhcidcblx0XHRcdFx0XHRlbC5jc3MoJy0nICsgc2xpZGVyLmNzc1ByZWZpeCArICctdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24nLCAnbGluZWFyJyk7XG5cdFx0XHRcdFx0ZWwuY3NzKHNsaWRlci5hbmltUHJvcCwgcHJvcFZhbHVlKTtcblx0XHRcdFx0XHQvLyBiaW5kIGEgY2FsbGJhY2sgbWV0aG9kIC0gZXhlY3V0ZXMgd2hlbiBDU1MgdHJhbnNpdGlvbiBjb21wbGV0ZXNcblx0XHRcdFx0XHRlbC5iaW5kKCd0cmFuc2l0aW9uZW5kIHdlYmtpdFRyYW5zaXRpb25FbmQgb1RyYW5zaXRpb25FbmQgTVNUcmFuc2l0aW9uRW5kJywgZnVuY3Rpb24oKXtcblx0XHRcdFx0XHRcdC8vIHVuYmluZCB0aGUgY2FsbGJhY2tcblx0XHRcdFx0XHRcdGVsLnVuYmluZCgndHJhbnNpdGlvbmVuZCB3ZWJraXRUcmFuc2l0aW9uRW5kIG9UcmFuc2l0aW9uRW5kIE1TVHJhbnNpdGlvbkVuZCcpO1xuXHRcdFx0XHRcdFx0Ly8gcmVzZXQgdGhlIHBvc2l0aW9uXG5cdFx0XHRcdFx0XHRzZXRQb3NpdGlvblByb3BlcnR5KHBhcmFtc1sncmVzZXRWYWx1ZSddLCAncmVzZXQnLCAwKTtcblx0XHRcdFx0XHRcdC8vIHN0YXJ0IHRoZSBsb29wIGFnYWluXG5cdFx0XHRcdFx0XHR0aWNrZXJMb29wKCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdC8vIHVzZSBKUyBhbmltYXRlXG5cdFx0XHR9ZWxzZXtcblx0XHRcdFx0dmFyIGFuaW1hdGVPYmogPSB7fTtcblx0XHRcdFx0YW5pbWF0ZU9ialtzbGlkZXIuYW5pbVByb3BdID0gdmFsdWU7XG5cdFx0XHRcdGlmKHR5cGUgPT0gJ3NsaWRlJyl7XG5cdFx0XHRcdFx0ZWwuYW5pbWF0ZShhbmltYXRlT2JqLCBkdXJhdGlvbiwgc2xpZGVyLnNldHRpbmdzLmVhc2luZywgZnVuY3Rpb24oKXtcblx0XHRcdFx0XHRcdHVwZGF0ZUFmdGVyU2xpZGVUcmFuc2l0aW9uKCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1lbHNlIGlmKHR5cGUgPT0gJ3Jlc2V0Jyl7XG5cdFx0XHRcdFx0ZWwuY3NzKHNsaWRlci5hbmltUHJvcCwgdmFsdWUpXG5cdFx0XHRcdH1lbHNlIGlmKHR5cGUgPT0gJ3RpY2tlcicpe1xuXHRcdFx0XHRcdGVsLmFuaW1hdGUoYW5pbWF0ZU9iaiwgc3BlZWQsICdsaW5lYXInLCBmdW5jdGlvbigpe1xuXHRcdFx0XHRcdFx0c2V0UG9zaXRpb25Qcm9wZXJ0eShwYXJhbXNbJ3Jlc2V0VmFsdWUnXSwgJ3Jlc2V0JywgMCk7XG5cdFx0XHRcdFx0XHQvLyBydW4gdGhlIHJlY3Vyc2l2ZSBsb29wIGFmdGVyIGFuaW1hdGlvblxuXHRcdFx0XHRcdFx0dGlja2VyTG9vcCgpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogUG9wdWxhdGVzIHRoZSBwYWdlciB3aXRoIHByb3BlciBhbW91bnQgb2YgcGFnZXNcblx0XHQgKi9cblx0XHR2YXIgcG9wdWxhdGVQYWdlciA9IGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgcGFnZXJIdG1sID0gJyc7XG5cdFx0XHR2YXIgcGFnZXJRdHkgPSBnZXRQYWdlclF0eSgpO1xuXHRcdFx0Ly8gbG9vcCB0aHJvdWdoIGVhY2ggcGFnZXIgaXRlbVxuXHRcdFx0Zm9yKHZhciBpPTA7IGkgPCBwYWdlclF0eTsgaSsrKXtcblx0XHRcdFx0dmFyIGxpbmtDb250ZW50ID0gJyc7XG5cdFx0XHRcdC8vIGlmIGEgYnVpbGRQYWdlciBmdW5jdGlvbiBpcyBzdXBwbGllZCwgdXNlIGl0IHRvIGdldCBwYWdlciBsaW5rIHZhbHVlLCBlbHNlIHVzZSBpbmRleCArIDFcblx0XHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLmJ1aWxkUGFnZXIgJiYgJC5pc0Z1bmN0aW9uKHNsaWRlci5zZXR0aW5ncy5idWlsZFBhZ2VyKSl7XG5cdFx0XHRcdFx0bGlua0NvbnRlbnQgPSBzbGlkZXIuc2V0dGluZ3MuYnVpbGRQYWdlcihpKTtcblx0XHRcdFx0XHRzbGlkZXIucGFnZXJFbC5hZGRDbGFzcygnYngtY3VzdG9tLXBhZ2VyJyk7XG5cdFx0XHRcdH1lbHNle1xuXHRcdFx0XHRcdGxpbmtDb250ZW50ID0gaSArIDE7XG5cdFx0XHRcdFx0c2xpZGVyLnBhZ2VyRWwuYWRkQ2xhc3MoJ2J4LWRlZmF1bHQtcGFnZXInKTtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyB2YXIgbGlua0NvbnRlbnQgPSBzbGlkZXIuc2V0dGluZ3MuYnVpbGRQYWdlciAmJiAkLmlzRnVuY3Rpb24oc2xpZGVyLnNldHRpbmdzLmJ1aWxkUGFnZXIpID8gc2xpZGVyLnNldHRpbmdzLmJ1aWxkUGFnZXIoaSkgOiBpICsgMTtcblx0XHRcdFx0Ly8gYWRkIHRoZSBtYXJrdXAgdG8gdGhlIHN0cmluZ1xuXHRcdFx0XHRwYWdlckh0bWwgKz0gJzxkaXYgY2xhc3M9XCJieC1wYWdlci1pdGVtXCI+PGEgaHJlZj1cIlwiIGRhdGEtc2xpZGUtaW5kZXg9XCInICsgaSArICdcIiBjbGFzcz1cImJ4LXBhZ2VyLWxpbmtcIj4nICsgbGlua0NvbnRlbnQgKyAnPC9hPjwvZGl2Pic7XG5cdFx0XHR9O1xuXHRcdFx0Ly8gcG9wdWxhdGUgdGhlIHBhZ2VyIGVsZW1lbnQgd2l0aCBwYWdlciBsaW5rc1xuXHRcdFx0c2xpZGVyLnBhZ2VyRWwuaHRtbChwYWdlckh0bWwpO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIEFwcGVuZHMgdGhlIHBhZ2VyIHRvIHRoZSBjb250cm9scyBlbGVtZW50XG5cdFx0ICovXG5cdFx0dmFyIGFwcGVuZFBhZ2VyID0gZnVuY3Rpb24oKXtcblx0XHRcdGlmKCFzbGlkZXIuc2V0dGluZ3MucGFnZXJDdXN0b20pe1xuXHRcdFx0XHQvLyBjcmVhdGUgdGhlIHBhZ2VyIERPTSBlbGVtZW50XG5cdFx0XHRcdHNsaWRlci5wYWdlckVsID0gJCgnPGRpdiBjbGFzcz1cImJ4LXBhZ2VyXCIgLz4nKTtcblx0XHRcdFx0Ly8gaWYgYSBwYWdlciBzZWxlY3RvciB3YXMgc3VwcGxpZWQsIHBvcHVsYXRlIGl0IHdpdGggdGhlIHBhZ2VyXG5cdFx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5wYWdlclNlbGVjdG9yKXtcblx0XHRcdFx0XHQkKHNsaWRlci5zZXR0aW5ncy5wYWdlclNlbGVjdG9yKS5odG1sKHNsaWRlci5wYWdlckVsKTtcblx0XHRcdFx0Ly8gaWYgbm8gcGFnZXIgc2VsZWN0b3Igd2FzIHN1cHBsaWVkLCBhZGQgaXQgYWZ0ZXIgdGhlIHdyYXBwZXJcblx0XHRcdFx0fWVsc2V7XG5cdFx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLmVsLmFkZENsYXNzKCdieC1oYXMtcGFnZXInKS5hcHBlbmQoc2xpZGVyLnBhZ2VyRWwpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIHBvcHVsYXRlIHRoZSBwYWdlclxuXHRcdFx0XHRwb3B1bGF0ZVBhZ2VyKCk7XG5cdFx0XHR9ZWxzZXtcblx0XHRcdFx0c2xpZGVyLnBhZ2VyRWwgPSAkKHNsaWRlci5zZXR0aW5ncy5wYWdlckN1c3RvbSk7XG5cdFx0XHR9XG5cdFx0XHQvLyBhc3NpZ24gdGhlIHBhZ2VyIGNsaWNrIGJpbmRpbmdcblx0XHRcdHNsaWRlci5wYWdlckVsLm9uKCdjbGljaycsICdhJywgY2xpY2tQYWdlckJpbmQpO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIEFwcGVuZHMgcHJldiAvIG5leHQgY29udHJvbHMgdG8gdGhlIGNvbnRyb2xzIGVsZW1lbnRcblx0XHQgKi9cblx0XHR2YXIgYXBwZW5kQ29udHJvbHMgPSBmdW5jdGlvbigpe1xuXHRcdFx0c2xpZGVyLmNvbnRyb2xzLm5leHQgPSAkKCc8YSBjbGFzcz1cImJ4LW5leHRcIiBocmVmPVwiXCI+JyArIHNsaWRlci5zZXR0aW5ncy5uZXh0VGV4dCArICc8L2E+Jyk7XG5cdFx0XHRzbGlkZXIuY29udHJvbHMucHJldiA9ICQoJzxhIGNsYXNzPVwiYngtcHJldlwiIGhyZWY9XCJcIj4nICsgc2xpZGVyLnNldHRpbmdzLnByZXZUZXh0ICsgJzwvYT4nKTtcblx0XHRcdC8vIGJpbmQgY2xpY2sgYWN0aW9ucyB0byB0aGUgY29udHJvbHNcblx0XHRcdHNsaWRlci5jb250cm9scy5uZXh0LmJpbmQoJ2NsaWNrJywgY2xpY2tOZXh0QmluZCk7XG5cdFx0XHRzbGlkZXIuY29udHJvbHMucHJldi5iaW5kKCdjbGljaycsIGNsaWNrUHJldkJpbmQpO1xuXHRcdFx0Ly8gaWYgbmV4dFNsZWN0b3Igd2FzIHN1cHBsaWVkLCBwb3B1bGF0ZSBpdFxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm5leHRTZWxlY3Rvcil7XG5cdFx0XHRcdCQoc2xpZGVyLnNldHRpbmdzLm5leHRTZWxlY3RvcikuYXBwZW5kKHNsaWRlci5jb250cm9scy5uZXh0KTtcblx0XHRcdH1cblx0XHRcdC8vIGlmIHByZXZTbGVjdG9yIHdhcyBzdXBwbGllZCwgcG9wdWxhdGUgaXRcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5wcmV2U2VsZWN0b3Ipe1xuXHRcdFx0XHQkKHNsaWRlci5zZXR0aW5ncy5wcmV2U2VsZWN0b3IpLmFwcGVuZChzbGlkZXIuY29udHJvbHMucHJldik7XG5cdFx0XHR9XG5cdFx0XHQvLyBpZiBubyBjdXN0b20gc2VsZWN0b3JzIHdlcmUgc3VwcGxpZWRcblx0XHRcdGlmKCFzbGlkZXIuc2V0dGluZ3MubmV4dFNlbGVjdG9yICYmICFzbGlkZXIuc2V0dGluZ3MucHJldlNlbGVjdG9yKXtcblx0XHRcdFx0Ly8gYWRkIHRoZSBjb250cm9scyB0byB0aGUgRE9NXG5cdFx0XHRcdHNsaWRlci5jb250cm9scy5kaXJlY3Rpb25FbCA9ICQoJzxkaXYgY2xhc3M9XCJieC1jb250cm9scy1kaXJlY3Rpb25cIiAvPicpO1xuXHRcdFx0XHQvLyBhZGQgdGhlIGNvbnRyb2wgZWxlbWVudHMgdG8gdGhlIGRpcmVjdGlvbkVsXG5cdFx0XHRcdHNsaWRlci5jb250cm9scy5kaXJlY3Rpb25FbC5hcHBlbmQoc2xpZGVyLmNvbnRyb2xzLnByZXYpLmFwcGVuZChzbGlkZXIuY29udHJvbHMubmV4dCk7XG5cdFx0XHRcdC8vIHNsaWRlci52aWV3cG9ydC5hcHBlbmQoc2xpZGVyLmNvbnRyb2xzLmRpcmVjdGlvbkVsKTtcblx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLmVsLmFkZENsYXNzKCdieC1oYXMtY29udHJvbHMtZGlyZWN0aW9uJykuYXBwZW5kKHNsaWRlci5jb250cm9scy5kaXJlY3Rpb25FbCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogQXBwZW5kcyBzdGFydCAvIHN0b3AgYXV0byBjb250cm9scyB0byB0aGUgY29udHJvbHMgZWxlbWVudFxuXHRcdCAqL1xuXHRcdHZhciBhcHBlbmRDb250cm9sc0F1dG8gPSBmdW5jdGlvbigpe1xuXHRcdFx0c2xpZGVyLmNvbnRyb2xzLnN0YXJ0ID0gJCgnPGRpdiBjbGFzcz1cImJ4LWNvbnRyb2xzLWF1dG8taXRlbVwiPjxhIGNsYXNzPVwiYngtc3RhcnRcIiBocmVmPVwiXCI+JyArIHNsaWRlci5zZXR0aW5ncy5zdGFydFRleHQgKyAnPC9hPjwvZGl2PicpO1xuXHRcdFx0c2xpZGVyLmNvbnRyb2xzLnN0b3AgPSAkKCc8ZGl2IGNsYXNzPVwiYngtY29udHJvbHMtYXV0by1pdGVtXCI+PGEgY2xhc3M9XCJieC1zdG9wXCIgaHJlZj1cIlwiPicgKyBzbGlkZXIuc2V0dGluZ3Muc3RvcFRleHQgKyAnPC9hPjwvZGl2PicpO1xuXHRcdFx0Ly8gYWRkIHRoZSBjb250cm9scyB0byB0aGUgRE9NXG5cdFx0XHRzbGlkZXIuY29udHJvbHMuYXV0b0VsID0gJCgnPGRpdiBjbGFzcz1cImJ4LWNvbnRyb2xzLWF1dG9cIiAvPicpO1xuXHRcdFx0Ly8gYmluZCBjbGljayBhY3Rpb25zIHRvIHRoZSBjb250cm9sc1xuXHRcdFx0c2xpZGVyLmNvbnRyb2xzLmF1dG9FbC5vbignY2xpY2snLCAnLmJ4LXN0YXJ0JywgY2xpY2tTdGFydEJpbmQpO1xuXHRcdFx0c2xpZGVyLmNvbnRyb2xzLmF1dG9FbC5vbignY2xpY2snLCAnLmJ4LXN0b3AnLCBjbGlja1N0b3BCaW5kKTtcblx0XHRcdC8vIGlmIGF1dG9Db250cm9sc0NvbWJpbmUsIGluc2VydCBvbmx5IHRoZSBcInN0YXJ0XCIgY29udHJvbFxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLmF1dG9Db250cm9sc0NvbWJpbmUpe1xuXHRcdFx0XHRzbGlkZXIuY29udHJvbHMuYXV0b0VsLmFwcGVuZChzbGlkZXIuY29udHJvbHMuc3RhcnQpO1xuXHRcdFx0Ly8gaWYgYXV0b0NvbnRyb2xzQ29tYmluZSBpcyBmYWxzZSwgaW5zZXJ0IGJvdGggY29udHJvbHNcblx0XHRcdH1lbHNle1xuXHRcdFx0XHRzbGlkZXIuY29udHJvbHMuYXV0b0VsLmFwcGVuZChzbGlkZXIuY29udHJvbHMuc3RhcnQpLmFwcGVuZChzbGlkZXIuY29udHJvbHMuc3RvcCk7XG5cdFx0XHR9XG5cdFx0XHQvLyBpZiBhdXRvIGNvbnRyb2xzIHNlbGVjdG9yIHdhcyBzdXBwbGllZCwgcG9wdWxhdGUgaXQgd2l0aCB0aGUgY29udHJvbHNcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5hdXRvQ29udHJvbHNTZWxlY3Rvcil7XG5cdFx0XHRcdCQoc2xpZGVyLnNldHRpbmdzLmF1dG9Db250cm9sc1NlbGVjdG9yKS5odG1sKHNsaWRlci5jb250cm9scy5hdXRvRWwpO1xuXHRcdFx0Ly8gaWYgYXV0byBjb250cm9scyBzZWxlY3RvciB3YXMgbm90IHN1cHBsaWVkLCBhZGQgaXQgYWZ0ZXIgdGhlIHdyYXBwZXJcblx0XHRcdH1lbHNle1xuXHRcdFx0XHRzbGlkZXIuY29udHJvbHMuZWwuYWRkQ2xhc3MoJ2J4LWhhcy1jb250cm9scy1hdXRvJykuYXBwZW5kKHNsaWRlci5jb250cm9scy5hdXRvRWwpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gdXBkYXRlIHRoZSBhdXRvIGNvbnRyb2xzXG5cdFx0XHR1cGRhdGVBdXRvQ29udHJvbHMoc2xpZGVyLnNldHRpbmdzLmF1dG9TdGFydCA/ICdzdG9wJyA6ICdzdGFydCcpO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIEFwcGVuZHMgaW1hZ2UgY2FwdGlvbnMgdG8gdGhlIERPTVxuXHRcdCAqL1xuXHRcdHZhciBhcHBlbmRDYXB0aW9ucyA9IGZ1bmN0aW9uKCl7XG5cdFx0XHQvLyBjeWNsZSB0aHJvdWdoIGVhY2ggY2hpbGRcblx0XHRcdHNsaWRlci5jaGlsZHJlbi5lYWNoKGZ1bmN0aW9uKGluZGV4KXtcblx0XHRcdFx0Ly8gZ2V0IHRoZSBpbWFnZSB0aXRsZSBhdHRyaWJ1dGVcblx0XHRcdFx0dmFyIHRpdGxlID0gJCh0aGlzKS5maW5kKCdpbWc6Zmlyc3QnKS5hdHRyKCd0aXRsZScpO1xuXHRcdFx0XHQvLyBhcHBlbmQgdGhlIGNhcHRpb25cblx0XHRcdFx0aWYgKHRpdGxlICE9IHVuZGVmaW5lZCAmJiAoJycgKyB0aXRsZSkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiYngtY2FwdGlvblwiPjxzcGFuPicgKyB0aXRsZSArICc8L3NwYW4+PC9kaXY+Jyk7XG4gICAgICAgICAgICAgICAgfVxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogQ2xpY2sgbmV4dCBiaW5kaW5nXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gZSAoZXZlbnQpXG5cdFx0ICogIC0gRE9NIGV2ZW50IG9iamVjdFxuXHRcdCAqL1xuXHRcdHZhciBjbGlja05leHRCaW5kID0gZnVuY3Rpb24oZSl7XG5cdFx0XHQvLyBpZiBhdXRvIHNob3cgaXMgcnVubmluZywgc3RvcCBpdFxuXHRcdFx0aWYgKHNsaWRlci5zZXR0aW5ncy5hdXRvKSBlbC5zdG9wQXV0bygpO1xuXHRcdFx0ZWwuZ29Ub05leHRTbGlkZSgpO1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIENsaWNrIHByZXYgYmluZGluZ1xuXHRcdCAqXG5cdFx0ICogQHBhcmFtIGUgKGV2ZW50KVxuXHRcdCAqICAtIERPTSBldmVudCBvYmplY3Rcblx0XHQgKi9cblx0XHR2YXIgY2xpY2tQcmV2QmluZCA9IGZ1bmN0aW9uKGUpe1xuXHRcdFx0Ly8gaWYgYXV0byBzaG93IGlzIHJ1bm5pbmcsIHN0b3AgaXRcblx0XHRcdGlmIChzbGlkZXIuc2V0dGluZ3MuYXV0bykgZWwuc3RvcEF1dG8oKTtcblx0XHRcdGVsLmdvVG9QcmV2U2xpZGUoKTtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBDbGljayBzdGFydCBiaW5kaW5nXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gZSAoZXZlbnQpXG5cdFx0ICogIC0gRE9NIGV2ZW50IG9iamVjdFxuXHRcdCAqL1xuXHRcdHZhciBjbGlja1N0YXJ0QmluZCA9IGZ1bmN0aW9uKGUpe1xuXHRcdFx0ZWwuc3RhcnRBdXRvKCk7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogQ2xpY2sgc3RvcCBiaW5kaW5nXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gZSAoZXZlbnQpXG5cdFx0ICogIC0gRE9NIGV2ZW50IG9iamVjdFxuXHRcdCAqL1xuXHRcdHZhciBjbGlja1N0b3BCaW5kID0gZnVuY3Rpb24oZSl7XG5cdFx0XHRlbC5zdG9wQXV0bygpO1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIENsaWNrIHBhZ2VyIGJpbmRpbmdcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSBlIChldmVudClcblx0XHQgKiAgLSBET00gZXZlbnQgb2JqZWN0XG5cdFx0ICovXG5cdFx0dmFyIGNsaWNrUGFnZXJCaW5kID0gZnVuY3Rpb24oZSl7XG5cdFx0XHQvLyBpZiBhdXRvIHNob3cgaXMgcnVubmluZywgc3RvcCBpdFxuXHRcdFx0aWYgKHNsaWRlci5zZXR0aW5ncy5hdXRvKSBlbC5zdG9wQXV0bygpO1xuXHRcdFx0dmFyIHBhZ2VyTGluayA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcblx0XHRcdGlmKHBhZ2VyTGluay5hdHRyKCdkYXRhLXNsaWRlLWluZGV4JykgIT09IHVuZGVmaW5lZCl7XG5cdFx0XHRcdHZhciBwYWdlckluZGV4ID0gcGFyc2VJbnQocGFnZXJMaW5rLmF0dHIoJ2RhdGEtc2xpZGUtaW5kZXgnKSk7XG5cdFx0XHRcdC8vIGlmIGNsaWNrZWQgcGFnZXIgbGluayBpcyBub3QgYWN0aXZlLCBjb250aW51ZSB3aXRoIHRoZSBnb1RvU2xpZGUgY2FsbFxuXHRcdFx0XHRpZihwYWdlckluZGV4ICE9IHNsaWRlci5hY3RpdmUuaW5kZXgpIGVsLmdvVG9TbGlkZShwYWdlckluZGV4KTtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFVwZGF0ZXMgdGhlIHBhZ2VyIGxpbmtzIHdpdGggYW4gYWN0aXZlIGNsYXNzXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gc2xpZGVJbmRleCAoaW50KVxuXHRcdCAqICAtIGluZGV4IG9mIHNsaWRlIHRvIG1ha2UgYWN0aXZlXG5cdFx0ICovXG5cdFx0dmFyIHVwZGF0ZVBhZ2VyQWN0aXZlID0gZnVuY3Rpb24oc2xpZGVJbmRleCl7XG5cdFx0XHQvLyBpZiBcInNob3J0XCIgcGFnZXIgdHlwZVxuXHRcdFx0dmFyIGxlbiA9IHNsaWRlci5jaGlsZHJlbi5sZW5ndGg7IC8vIG5iIG9mIGNoaWxkcmVuXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MucGFnZXJUeXBlID09ICdzaG9ydCcpe1xuXHRcdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzID4gMSkge1xuXHRcdFx0XHRcdGxlbiA9IE1hdGguY2VpbChzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoL3NsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHNsaWRlci5wYWdlckVsLmh0bWwoIChzbGlkZUluZGV4ICsgMSkgKyBzbGlkZXIuc2V0dGluZ3MucGFnZXJTaG9ydFNlcGFyYXRvciArIGxlbik7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdC8vIHJlbW92ZSBhbGwgcGFnZXIgYWN0aXZlIGNsYXNzZXNcblx0XHRcdHNsaWRlci5wYWdlckVsLmZpbmQoJ2EnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG5cdFx0XHQvLyBhcHBseSB0aGUgYWN0aXZlIGNsYXNzIGZvciBhbGwgcGFnZXJzXG5cdFx0XHRzbGlkZXIucGFnZXJFbC5lYWNoKGZ1bmN0aW9uKGksIGVsKSB7ICQoZWwpLmZpbmQoJ2EnKS5lcShzbGlkZUluZGV4KS5hZGRDbGFzcygnYWN0aXZlJyk7IH0pO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFBlcmZvcm1zIG5lZWRlZCBhY3Rpb25zIGFmdGVyIGEgc2xpZGUgdHJhbnNpdGlvblxuXHRcdCAqL1xuXHRcdHZhciB1cGRhdGVBZnRlclNsaWRlVHJhbnNpdGlvbiA9IGZ1bmN0aW9uKCl7XG5cdFx0XHQvLyBpZiBpbmZpbnRlIGxvb3AgaXMgdHJ1ZVxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLmluZmluaXRlTG9vcCl7XG5cdFx0XHRcdHZhciBwb3NpdGlvbiA9ICcnO1xuXHRcdFx0XHQvLyBmaXJzdCBzbGlkZVxuXHRcdFx0XHRpZihzbGlkZXIuYWN0aXZlLmluZGV4ID09IDApe1xuXHRcdFx0XHRcdC8vIHNldCB0aGUgbmV3IHBvc2l0aW9uXG5cdFx0XHRcdFx0cG9zaXRpb24gPSBzbGlkZXIuY2hpbGRyZW4uZXEoMCkucG9zaXRpb24oKTtcblx0XHRcdFx0Ly8gY2Fyb3VzZWwsIGxhc3Qgc2xpZGVcblx0XHRcdFx0fWVsc2UgaWYoc2xpZGVyLmFjdGl2ZS5pbmRleCA9PSBnZXRQYWdlclF0eSgpIC0gMSAmJiBzbGlkZXIuY2Fyb3VzZWwpe1xuXHRcdFx0XHRcdHBvc2l0aW9uID0gc2xpZGVyLmNoaWxkcmVuLmVxKChnZXRQYWdlclF0eSgpIC0gMSkgKiBnZXRNb3ZlQnkoKSkucG9zaXRpb24oKTtcblx0XHRcdFx0Ly8gbGFzdCBzbGlkZVxuXHRcdFx0XHR9ZWxzZSBpZihzbGlkZXIuYWN0aXZlLmluZGV4ID09IHNsaWRlci5jaGlsZHJlbi5sZW5ndGggLSAxKXtcblx0XHRcdFx0XHRwb3NpdGlvbiA9IHNsaWRlci5jaGlsZHJlbi5lcShzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoIC0gMSkucG9zaXRpb24oKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZihwb3NpdGlvbil7XG5cdFx0XHRcdFx0aWYgKHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICdob3Jpem9udGFsJykgeyBzZXRQb3NpdGlvblByb3BlcnR5KC1wb3NpdGlvbi5sZWZ0LCAncmVzZXQnLCAwKTsgfVxuXHRcdFx0XHRcdGVsc2UgaWYgKHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICd2ZXJ0aWNhbCcpIHsgc2V0UG9zaXRpb25Qcm9wZXJ0eSgtcG9zaXRpb24udG9wLCAncmVzZXQnLCAwKTsgfVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHQvLyBkZWNsYXJlIHRoYXQgdGhlIHRyYW5zaXRpb24gaXMgY29tcGxldGVcblx0XHRcdHNsaWRlci53b3JraW5nID0gZmFsc2U7XG5cdFx0XHQvLyBvblNsaWRlQWZ0ZXIgY2FsbGJhY2tcblx0XHRcdHNsaWRlci5zZXR0aW5ncy5vblNsaWRlQWZ0ZXIoc2xpZGVyLmNoaWxkcmVuLmVxKHNsaWRlci5hY3RpdmUuaW5kZXgpLCBzbGlkZXIub2xkSW5kZXgsIHNsaWRlci5hY3RpdmUuaW5kZXgpO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFVwZGF0ZXMgdGhlIGF1dG8gY29udHJvbHMgc3RhdGUgKGVpdGhlciBhY3RpdmUsIG9yIGNvbWJpbmVkIHN3aXRjaClcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSBzdGF0ZSAoc3RyaW5nKSBcInN0YXJ0XCIsIFwic3RvcFwiXG5cdFx0ICogIC0gdGhlIG5ldyBzdGF0ZSBvZiB0aGUgYXV0byBzaG93XG5cdFx0ICovXG5cdFx0dmFyIHVwZGF0ZUF1dG9Db250cm9scyA9IGZ1bmN0aW9uKHN0YXRlKXtcblx0XHRcdC8vIGlmIGF1dG9Db250cm9sc0NvbWJpbmUgaXMgdHJ1ZSwgcmVwbGFjZSB0aGUgY3VycmVudCBjb250cm9sIHdpdGggdGhlIG5ldyBzdGF0ZVxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLmF1dG9Db250cm9sc0NvbWJpbmUpe1xuXHRcdFx0XHRzbGlkZXIuY29udHJvbHMuYXV0b0VsLmh0bWwoc2xpZGVyLmNvbnRyb2xzW3N0YXRlXSk7XG5cdFx0XHQvLyBpZiBhdXRvQ29udHJvbHNDb21iaW5lIGlzIGZhbHNlLCBhcHBseSB0aGUgXCJhY3RpdmVcIiBjbGFzcyB0byB0aGUgYXBwcm9wcmlhdGUgY29udHJvbFxuXHRcdFx0fWVsc2V7XG5cdFx0XHRcdHNsaWRlci5jb250cm9scy5hdXRvRWwuZmluZCgnYScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLmF1dG9FbC5maW5kKCdhOm5vdCguYngtJyArIHN0YXRlICsgJyknKS5hZGRDbGFzcygnYWN0aXZlJyk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogVXBkYXRlcyB0aGUgZGlyZWN0aW9uIGNvbnRyb2xzIChjaGVja3MgaWYgZWl0aGVyIHNob3VsZCBiZSBoaWRkZW4pXG5cdFx0ICovXG5cdFx0dmFyIHVwZGF0ZURpcmVjdGlvbkNvbnRyb2xzID0gZnVuY3Rpb24oKXtcblx0XHRcdGlmKGdldFBhZ2VyUXR5KCkgPT0gMSl7XG5cdFx0XHRcdHNsaWRlci5jb250cm9scy5wcmV2LmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuXHRcdFx0XHRzbGlkZXIuY29udHJvbHMubmV4dC5hZGRDbGFzcygnZGlzYWJsZWQnKTtcblx0XHRcdH1lbHNlIGlmKCFzbGlkZXIuc2V0dGluZ3MuaW5maW5pdGVMb29wICYmIHNsaWRlci5zZXR0aW5ncy5oaWRlQ29udHJvbE9uRW5kKXtcblx0XHRcdFx0Ly8gaWYgZmlyc3Qgc2xpZGVcblx0XHRcdFx0aWYgKHNsaWRlci5hY3RpdmUuaW5kZXggPT0gMCl7XG5cdFx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLnByZXYuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG5cdFx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLm5leHQucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XG5cdFx0XHRcdC8vIGlmIGxhc3Qgc2xpZGVcblx0XHRcdFx0fWVsc2UgaWYoc2xpZGVyLmFjdGl2ZS5pbmRleCA9PSBnZXRQYWdlclF0eSgpIC0gMSl7XG5cdFx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLm5leHQuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG5cdFx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLnByZXYucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XG5cdFx0XHRcdC8vIGlmIGFueSBzbGlkZSBpbiB0aGUgbWlkZGxlXG5cdFx0XHRcdH1lbHNle1xuXHRcdFx0XHRcdHNsaWRlci5jb250cm9scy5wcmV2LnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xuXHRcdFx0XHRcdHNsaWRlci5jb250cm9scy5uZXh0LnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogSW5pdGlhbHplcyB0aGUgYXV0byBwcm9jZXNzXG5cdFx0ICovXG5cdFx0dmFyIGluaXRBdXRvID0gZnVuY3Rpb24oKXtcblx0XHRcdC8vIGlmIGF1dG9EZWxheSB3YXMgc3VwcGxpZWQsIGxhdW5jaCB0aGUgYXV0byBzaG93IHVzaW5nIGEgc2V0VGltZW91dCgpIGNhbGxcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5hdXRvRGVsYXkgPiAwKXtcblx0XHRcdFx0dmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGVsLnN0YXJ0QXV0bywgc2xpZGVyLnNldHRpbmdzLmF1dG9EZWxheSk7XG5cdFx0XHQvLyBpZiBhdXRvRGVsYXkgd2FzIG5vdCBzdXBwbGllZCwgc3RhcnQgdGhlIGF1dG8gc2hvdyBub3JtYWxseVxuXHRcdFx0fWVsc2V7XG5cdFx0XHRcdGVsLnN0YXJ0QXV0bygpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gaWYgYXV0b0hvdmVyIGlzIHJlcXVlc3RlZFxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLmF1dG9Ib3Zlcil7XG5cdFx0XHRcdC8vIG9uIGVsIGhvdmVyXG5cdFx0XHRcdGVsLmhvdmVyKGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0Ly8gaWYgdGhlIGF1dG8gc2hvdyBpcyBjdXJyZW50bHkgcGxheWluZyAoaGFzIGFuIGFjdGl2ZSBpbnRlcnZhbClcblx0XHRcdFx0XHRpZihzbGlkZXIuaW50ZXJ2YWwpe1xuXHRcdFx0XHRcdFx0Ly8gc3RvcCB0aGUgYXV0byBzaG93IGFuZCBwYXNzIHRydWUgYWd1bWVudCB3aGljaCB3aWxsIHByZXZlbnQgY29udHJvbCB1cGRhdGVcblx0XHRcdFx0XHRcdGVsLnN0b3BBdXRvKHRydWUpO1xuXHRcdFx0XHRcdFx0Ly8gY3JlYXRlIGEgbmV3IGF1dG9QYXVzZWQgdmFsdWUgd2hpY2ggd2lsbCBiZSB1c2VkIGJ5IHRoZSByZWxhdGl2ZSBcIm1vdXNlb3V0XCIgZXZlbnRcblx0XHRcdFx0XHRcdHNsaWRlci5hdXRvUGF1c2VkID0gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sIGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0Ly8gaWYgdGhlIGF1dG9QYXVzZWQgdmFsdWUgd2FzIGNyZWF0ZWQgYmUgdGhlIHByaW9yIFwibW91c2VvdmVyXCIgZXZlbnRcblx0XHRcdFx0XHRpZihzbGlkZXIuYXV0b1BhdXNlZCl7XG5cdFx0XHRcdFx0XHQvLyBzdGFydCB0aGUgYXV0byBzaG93IGFuZCBwYXNzIHRydWUgYWd1bWVudCB3aGljaCB3aWxsIHByZXZlbnQgY29udHJvbCB1cGRhdGVcblx0XHRcdFx0XHRcdGVsLnN0YXJ0QXV0byh0cnVlKTtcblx0XHRcdFx0XHRcdC8vIHJlc2V0IHRoZSBhdXRvUGF1c2VkIHZhbHVlXG5cdFx0XHRcdFx0XHRzbGlkZXIuYXV0b1BhdXNlZCA9IG51bGw7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBJbml0aWFsemVzIHRoZSB0aWNrZXIgcHJvY2Vzc1xuXHRcdCAqL1xuXHRcdHZhciBpbml0VGlja2VyID0gZnVuY3Rpb24oKXtcblx0XHRcdHZhciBzdGFydFBvc2l0aW9uID0gMDtcblx0XHRcdC8vIGlmIGF1dG9EaXJlY3Rpb24gaXMgXCJuZXh0XCIsIGFwcGVuZCBhIGNsb25lIG9mIHRoZSBlbnRpcmUgc2xpZGVyXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuYXV0b0RpcmVjdGlvbiA9PSAnbmV4dCcpe1xuXHRcdFx0XHRlbC5hcHBlbmQoc2xpZGVyLmNoaWxkcmVuLmNsb25lKCkuYWRkQ2xhc3MoJ2J4LWNsb25lJykpO1xuXHRcdFx0Ly8gaWYgYXV0b0RpcmVjdGlvbiBpcyBcInByZXZcIiwgcHJlcGVuZCBhIGNsb25lIG9mIHRoZSBlbnRpcmUgc2xpZGVyLCBhbmQgc2V0IHRoZSBsZWZ0IHBvc2l0aW9uXG5cdFx0XHR9ZWxzZXtcblx0XHRcdFx0ZWwucHJlcGVuZChzbGlkZXIuY2hpbGRyZW4uY2xvbmUoKS5hZGRDbGFzcygnYngtY2xvbmUnKSk7XG5cdFx0XHRcdHZhciBwb3NpdGlvbiA9IHNsaWRlci5jaGlsZHJlbi5maXJzdCgpLnBvc2l0aW9uKCk7XG5cdFx0XHRcdHN0YXJ0UG9zaXRpb24gPSBzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnaG9yaXpvbnRhbCcgPyAtcG9zaXRpb24ubGVmdCA6IC1wb3NpdGlvbi50b3A7XG5cdFx0XHR9XG5cdFx0XHRzZXRQb3NpdGlvblByb3BlcnR5KHN0YXJ0UG9zaXRpb24sICdyZXNldCcsIDApO1xuXHRcdFx0Ly8gZG8gbm90IGFsbG93IGNvbnRyb2xzIGluIHRpY2tlciBtb2RlXG5cdFx0XHRzbGlkZXIuc2V0dGluZ3MucGFnZXIgPSBmYWxzZTtcblx0XHRcdHNsaWRlci5zZXR0aW5ncy5jb250cm9scyA9IGZhbHNlO1xuXHRcdFx0c2xpZGVyLnNldHRpbmdzLmF1dG9Db250cm9scyA9IGZhbHNlO1xuXHRcdFx0Ly8gaWYgYXV0b0hvdmVyIGlzIHJlcXVlc3RlZFxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLnRpY2tlckhvdmVyICYmICFzbGlkZXIudXNpbmdDU1Mpe1xuXHRcdFx0XHQvLyBvbiBlbCBob3ZlclxuXHRcdFx0XHRzbGlkZXIudmlld3BvcnQuaG92ZXIoZnVuY3Rpb24oKXtcblx0XHRcdFx0XHRlbC5zdG9wKCk7XG5cdFx0XHRcdH0sIGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0Ly8gY2FsY3VsYXRlIHRoZSB0b3RhbCB3aWR0aCBvZiBjaGlsZHJlbiAodXNlZCB0byBjYWxjdWxhdGUgdGhlIHNwZWVkIHJhdGlvKVxuXHRcdFx0XHRcdHZhciB0b3RhbERpbWVucyA9IDA7XG5cdFx0XHRcdFx0c2xpZGVyLmNoaWxkcmVuLmVhY2goZnVuY3Rpb24oaW5kZXgpe1xuXHRcdFx0XHRcdCAgdG90YWxEaW1lbnMgKz0gc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnID8gJCh0aGlzKS5vdXRlcldpZHRoKHRydWUpIDogJCh0aGlzKS5vdXRlckhlaWdodCh0cnVlKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHQvLyBjYWxjdWxhdGUgdGhlIHNwZWVkIHJhdGlvICh1c2VkIHRvIGRldGVybWluZSB0aGUgbmV3IHNwZWVkIHRvIGZpbmlzaCB0aGUgcGF1c2VkIGFuaW1hdGlvbilcblx0XHRcdFx0XHR2YXIgcmF0aW8gPSBzbGlkZXIuc2V0dGluZ3Muc3BlZWQgLyB0b3RhbERpbWVucztcblx0XHRcdFx0XHQvLyBkZXRlcm1pbmUgd2hpY2ggcHJvcGVydHkgdG8gdXNlXG5cdFx0XHRcdFx0dmFyIHByb3BlcnR5ID0gc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnID8gJ2xlZnQnIDogJ3RvcCc7XG5cdFx0XHRcdFx0Ly8gY2FsY3VsYXRlIHRoZSBuZXcgc3BlZWRcblx0XHRcdFx0XHR2YXIgbmV3U3BlZWQgPSByYXRpbyAqICh0b3RhbERpbWVucyAtIChNYXRoLmFicyhwYXJzZUludChlbC5jc3MocHJvcGVydHkpKSkpKTtcblx0XHRcdFx0XHR0aWNrZXJMb29wKG5ld1NwZWVkKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHQvLyBzdGFydCB0aGUgdGlja2VyIGxvb3Bcblx0XHRcdHRpY2tlckxvb3AoKTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBSdW5zIGEgY29udGludW91cyBsb29wLCBuZXdzIHRpY2tlci1zdHlsZVxuXHRcdCAqL1xuXHRcdHZhciB0aWNrZXJMb29wID0gZnVuY3Rpb24ocmVzdW1lU3BlZWQpe1xuXHRcdFx0c3BlZWQgPSByZXN1bWVTcGVlZCA/IHJlc3VtZVNwZWVkIDogc2xpZGVyLnNldHRpbmdzLnNwZWVkO1xuXHRcdFx0dmFyIHBvc2l0aW9uID0ge2xlZnQ6IDAsIHRvcDogMH07XG5cdFx0XHR2YXIgcmVzZXQgPSB7bGVmdDogMCwgdG9wOiAwfTtcblx0XHRcdC8vIGlmIFwibmV4dFwiIGFuaW1hdGUgbGVmdCBwb3NpdGlvbiB0byBsYXN0IGNoaWxkLCB0aGVuIHJlc2V0IGxlZnQgdG8gMFxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLmF1dG9EaXJlY3Rpb24gPT0gJ25leHQnKXtcblx0XHRcdFx0cG9zaXRpb24gPSBlbC5maW5kKCcuYngtY2xvbmUnKS5maXJzdCgpLnBvc2l0aW9uKCk7XG5cdFx0XHQvLyBpZiBcInByZXZcIiBhbmltYXRlIGxlZnQgcG9zaXRpb24gdG8gMCwgdGhlbiByZXNldCBsZWZ0IHRvIGZpcnN0IG5vbi1jbG9uZSBjaGlsZFxuXHRcdFx0fWVsc2V7XG5cdFx0XHRcdHJlc2V0ID0gc2xpZGVyLmNoaWxkcmVuLmZpcnN0KCkucG9zaXRpb24oKTtcblx0XHRcdH1cblx0XHRcdHZhciBhbmltYXRlUHJvcGVydHkgPSBzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnaG9yaXpvbnRhbCcgPyAtcG9zaXRpb24ubGVmdCA6IC1wb3NpdGlvbi50b3A7XG5cdFx0XHR2YXIgcmVzZXRWYWx1ZSA9IHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICdob3Jpem9udGFsJyA/IC1yZXNldC5sZWZ0IDogLXJlc2V0LnRvcDtcblx0XHRcdHZhciBwYXJhbXMgPSB7cmVzZXRWYWx1ZTogcmVzZXRWYWx1ZX07XG5cdFx0XHRzZXRQb3NpdGlvblByb3BlcnR5KGFuaW1hdGVQcm9wZXJ0eSwgJ3RpY2tlcicsIHNwZWVkLCBwYXJhbXMpO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIEluaXRpYWxpemVzIHRvdWNoIGV2ZW50c1xuXHRcdCAqL1xuXHRcdHZhciBpbml0VG91Y2ggPSBmdW5jdGlvbigpe1xuXHRcdFx0Ly8gaW5pdGlhbGl6ZSBvYmplY3QgdG8gY29udGFpbiBhbGwgdG91Y2ggdmFsdWVzXG5cdFx0XHRzbGlkZXIudG91Y2ggPSB7XG5cdFx0XHRcdHN0YXJ0OiB7eDogMCwgeTogMH0sXG5cdFx0XHRcdGVuZDoge3g6IDAsIHk6IDB9XG5cdFx0XHR9XG5cdFx0XHRzbGlkZXIudmlld3BvcnQuYmluZCgndG91Y2hzdGFydCcsIG9uVG91Y2hTdGFydCk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogRXZlbnQgaGFuZGxlciBmb3IgXCJ0b3VjaHN0YXJ0XCJcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSBlIChldmVudClcblx0XHQgKiAgLSBET00gZXZlbnQgb2JqZWN0XG5cdFx0ICovXG5cdFx0dmFyIG9uVG91Y2hTdGFydCA9IGZ1bmN0aW9uKGUpe1xuXHRcdFx0aWYoc2xpZGVyLndvcmtpbmcpe1xuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR9ZWxzZXtcblx0XHRcdFx0Ly8gcmVjb3JkIHRoZSBvcmlnaW5hbCBwb3NpdGlvbiB3aGVuIHRvdWNoIHN0YXJ0c1xuXHRcdFx0XHRzbGlkZXIudG91Y2gub3JpZ2luYWxQb3MgPSBlbC5wb3NpdGlvbigpO1xuXHRcdFx0XHR2YXIgb3JpZyA9IGUub3JpZ2luYWxFdmVudDtcblx0XHRcdFx0Ly8gcmVjb3JkIHRoZSBzdGFydGluZyB0b3VjaCB4LCB5IGNvb3JkaW5hdGVzXG5cdFx0XHRcdHNsaWRlci50b3VjaC5zdGFydC54ID0gb3JpZy5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWDtcblx0XHRcdFx0c2xpZGVyLnRvdWNoLnN0YXJ0LnkgPSBvcmlnLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZO1xuXHRcdFx0XHQvLyBiaW5kIGEgXCJ0b3VjaG1vdmVcIiBldmVudCB0byB0aGUgdmlld3BvcnRcblx0XHRcdFx0c2xpZGVyLnZpZXdwb3J0LmJpbmQoJ3RvdWNobW92ZScsIG9uVG91Y2hNb3ZlKTtcblx0XHRcdFx0Ly8gYmluZCBhIFwidG91Y2hlbmRcIiBldmVudCB0byB0aGUgdmlld3BvcnRcblx0XHRcdFx0c2xpZGVyLnZpZXdwb3J0LmJpbmQoJ3RvdWNoZW5kJywgb25Ub3VjaEVuZCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogRXZlbnQgaGFuZGxlciBmb3IgXCJ0b3VjaG1vdmVcIlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIGUgKGV2ZW50KVxuXHRcdCAqICAtIERPTSBldmVudCBvYmplY3Rcblx0XHQgKi9cblx0XHR2YXIgb25Ub3VjaE1vdmUgPSBmdW5jdGlvbihlKXtcblx0XHRcdHZhciBvcmlnID0gZS5vcmlnaW5hbEV2ZW50O1xuXHRcdFx0Ly8gaWYgc2Nyb2xsaW5nIG9uIHkgYXhpcywgZG8gbm90IHByZXZlbnQgZGVmYXVsdFxuXHRcdFx0dmFyIHhNb3ZlbWVudCA9IE1hdGguYWJzKG9yaWcuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVggLSBzbGlkZXIudG91Y2guc3RhcnQueCk7XG5cdFx0XHR2YXIgeU1vdmVtZW50ID0gTWF0aC5hYnMob3JpZy5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWSAtIHNsaWRlci50b3VjaC5zdGFydC55KTtcblx0XHRcdC8vIHggYXhpcyBzd2lwZVxuXHRcdFx0aWYoKHhNb3ZlbWVudCAqIDMpID4geU1vdmVtZW50ICYmIHNsaWRlci5zZXR0aW5ncy5wcmV2ZW50RGVmYXVsdFN3aXBlWCl7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdC8vIHkgYXhpcyBzd2lwZVxuXHRcdFx0fWVsc2UgaWYoKHlNb3ZlbWVudCAqIDMpID4geE1vdmVtZW50ICYmIHNsaWRlci5zZXR0aW5ncy5wcmV2ZW50RGVmYXVsdFN3aXBlWSl7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdH1cblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5tb2RlICE9ICdmYWRlJyAmJiBzbGlkZXIuc2V0dGluZ3Mub25lVG9PbmVUb3VjaCl7XG5cdFx0XHRcdHZhciB2YWx1ZSA9IDA7XG5cdFx0XHRcdC8vIGlmIGhvcml6b250YWwsIGRyYWcgYWxvbmcgeCBheGlzXG5cdFx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICdob3Jpem9udGFsJyl7XG5cdFx0XHRcdFx0dmFyIGNoYW5nZSA9IG9yaWcuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVggLSBzbGlkZXIudG91Y2guc3RhcnQueDtcblx0XHRcdFx0XHR2YWx1ZSA9IHNsaWRlci50b3VjaC5vcmlnaW5hbFBvcy5sZWZ0ICsgY2hhbmdlO1xuXHRcdFx0XHQvLyBpZiB2ZXJ0aWNhbCwgZHJhZyBhbG9uZyB5IGF4aXNcblx0XHRcdFx0fWVsc2V7XG5cdFx0XHRcdFx0dmFyIGNoYW5nZSA9IG9yaWcuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVkgLSBzbGlkZXIudG91Y2guc3RhcnQueTtcblx0XHRcdFx0XHR2YWx1ZSA9IHNsaWRlci50b3VjaC5vcmlnaW5hbFBvcy50b3AgKyBjaGFuZ2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0c2V0UG9zaXRpb25Qcm9wZXJ0eSh2YWx1ZSwgJ3Jlc2V0JywgMCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogRXZlbnQgaGFuZGxlciBmb3IgXCJ0b3VjaGVuZFwiXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gZSAoZXZlbnQpXG5cdFx0ICogIC0gRE9NIGV2ZW50IG9iamVjdFxuXHRcdCAqL1xuXHRcdHZhciBvblRvdWNoRW5kID0gZnVuY3Rpb24oZSl7XG5cdFx0XHRzbGlkZXIudmlld3BvcnQudW5iaW5kKCd0b3VjaG1vdmUnLCBvblRvdWNoTW92ZSk7XG5cdFx0XHR2YXIgb3JpZyA9IGUub3JpZ2luYWxFdmVudDtcblx0XHRcdHZhciB2YWx1ZSA9IDA7XG5cdFx0XHQvLyByZWNvcmQgZW5kIHgsIHkgcG9zaXRpb25zXG5cdFx0XHRzbGlkZXIudG91Y2guZW5kLnggPSBvcmlnLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYO1xuXHRcdFx0c2xpZGVyLnRvdWNoLmVuZC55ID0gb3JpZy5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWTtcblx0XHRcdC8vIGlmIGZhZGUgbW9kZSwgY2hlY2sgaWYgYWJzb2x1dGUgeCBkaXN0YW5jZSBjbGVhcnMgdGhlIHRocmVzaG9sZFxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2ZhZGUnKXtcblx0XHRcdFx0dmFyIGRpc3RhbmNlID0gTWF0aC5hYnMoc2xpZGVyLnRvdWNoLnN0YXJ0LnggLSBzbGlkZXIudG91Y2guZW5kLngpO1xuXHRcdFx0XHRpZihkaXN0YW5jZSA+PSBzbGlkZXIuc2V0dGluZ3Muc3dpcGVUaHJlc2hvbGQpe1xuXHRcdFx0XHRcdHNsaWRlci50b3VjaC5zdGFydC54ID4gc2xpZGVyLnRvdWNoLmVuZC54ID8gZWwuZ29Ub05leHRTbGlkZSgpIDogZWwuZ29Ub1ByZXZTbGlkZSgpO1xuXHRcdFx0XHRcdGVsLnN0b3BBdXRvKCk7XG5cdFx0XHRcdH1cblx0XHRcdC8vIG5vdCBmYWRlIG1vZGVcblx0XHRcdH1lbHNle1xuXHRcdFx0XHR2YXIgZGlzdGFuY2UgPSAwO1xuXHRcdFx0XHQvLyBjYWxjdWxhdGUgZGlzdGFuY2UgYW5kIGVsJ3MgYW5pbWF0ZSBwcm9wZXJ0eVxuXHRcdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnaG9yaXpvbnRhbCcpe1xuXHRcdFx0XHRcdGRpc3RhbmNlID0gc2xpZGVyLnRvdWNoLmVuZC54IC0gc2xpZGVyLnRvdWNoLnN0YXJ0Lng7XG5cdFx0XHRcdFx0dmFsdWUgPSBzbGlkZXIudG91Y2gub3JpZ2luYWxQb3MubGVmdDtcblx0XHRcdFx0fWVsc2V7XG5cdFx0XHRcdFx0ZGlzdGFuY2UgPSBzbGlkZXIudG91Y2guZW5kLnkgLSBzbGlkZXIudG91Y2guc3RhcnQueTtcblx0XHRcdFx0XHR2YWx1ZSA9IHNsaWRlci50b3VjaC5vcmlnaW5hbFBvcy50b3A7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gaWYgbm90IGluZmluaXRlIGxvb3AgYW5kIGZpcnN0IC8gbGFzdCBzbGlkZSwgZG8gbm90IGF0dGVtcHQgYSBzbGlkZSB0cmFuc2l0aW9uXG5cdFx0XHRcdGlmKCFzbGlkZXIuc2V0dGluZ3MuaW5maW5pdGVMb29wICYmICgoc2xpZGVyLmFjdGl2ZS5pbmRleCA9PSAwICYmIGRpc3RhbmNlID4gMCkgfHwgKHNsaWRlci5hY3RpdmUubGFzdCAmJiBkaXN0YW5jZSA8IDApKSl7XG5cdFx0XHRcdFx0c2V0UG9zaXRpb25Qcm9wZXJ0eSh2YWx1ZSwgJ3Jlc2V0JywgMjAwKTtcblx0XHRcdFx0fWVsc2V7XG5cdFx0XHRcdFx0Ly8gY2hlY2sgaWYgZGlzdGFuY2UgY2xlYXJzIHRocmVzaG9sZFxuXHRcdFx0XHRcdGlmKE1hdGguYWJzKGRpc3RhbmNlKSA+PSBzbGlkZXIuc2V0dGluZ3Muc3dpcGVUaHJlc2hvbGQpe1xuXHRcdFx0XHRcdFx0ZGlzdGFuY2UgPCAwID8gZWwuZ29Ub05leHRTbGlkZSgpIDogZWwuZ29Ub1ByZXZTbGlkZSgpO1xuXHRcdFx0XHRcdFx0ZWwuc3RvcEF1dG8oKTtcblx0XHRcdFx0XHR9ZWxzZXtcblx0XHRcdFx0XHRcdC8vIGVsLmFuaW1hdGUocHJvcGVydHksIDIwMCk7XG5cdFx0XHRcdFx0XHRzZXRQb3NpdGlvblByb3BlcnR5KHZhbHVlLCAncmVzZXQnLCAyMDApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0c2xpZGVyLnZpZXdwb3J0LnVuYmluZCgndG91Y2hlbmQnLCBvblRvdWNoRW5kKTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBXaW5kb3cgcmVzaXplIGV2ZW50IGNhbGxiYWNrXG5cdFx0ICovXG5cdFx0dmFyIHJlc2l6ZVdpbmRvdyA9IGZ1bmN0aW9uKGUpe1xuXHRcdFx0Ly8gZG9uJ3QgZG8gYW55dGhpbmcgaWYgc2xpZGVyIGlzbid0IGluaXRpYWxpemVkLlxuXHRcdFx0aWYoIXNsaWRlci5pbml0aWFsaXplZCkgcmV0dXJuO1xuXHRcdFx0Ly8gZ2V0IHRoZSBuZXcgd2luZG93IGRpbWVucyAoYWdhaW4sIHRoYW5rIHlvdSBJRSlcblx0XHRcdHZhciB3aW5kb3dXaWR0aE5ldyA9ICQod2luZG93KS53aWR0aCgpO1xuXHRcdFx0dmFyIHdpbmRvd0hlaWdodE5ldyA9ICQod2luZG93KS5oZWlnaHQoKTtcblx0XHRcdC8vIG1ha2Ugc3VyZSB0aGF0IGl0IGlzIGEgdHJ1ZSB3aW5kb3cgcmVzaXplXG5cdFx0XHQvLyAqd2UgbXVzdCBjaGVjayB0aGlzIGJlY2F1c2Ugb3VyIGRpbm9zYXVyIGZyaWVuZCBJRSBmaXJlcyBhIHdpbmRvdyByZXNpemUgZXZlbnQgd2hlbiBjZXJ0YWluIERPTSBlbGVtZW50c1xuXHRcdFx0Ly8gYXJlIHJlc2l6ZWQuIENhbiB5b3UganVzdCBkaWUgYWxyZWFkeT8qXG5cdFx0XHRpZih3aW5kb3dXaWR0aCAhPSB3aW5kb3dXaWR0aE5ldyB8fCB3aW5kb3dIZWlnaHQgIT0gd2luZG93SGVpZ2h0TmV3KXtcblx0XHRcdFx0Ly8gc2V0IHRoZSBuZXcgd2luZG93IGRpbWVuc1xuXHRcdFx0XHR3aW5kb3dXaWR0aCA9IHdpbmRvd1dpZHRoTmV3O1xuXHRcdFx0XHR3aW5kb3dIZWlnaHQgPSB3aW5kb3dIZWlnaHROZXc7XG5cdFx0XHRcdC8vIHVwZGF0ZSBhbGwgZHluYW1pYyBlbGVtZW50c1xuXHRcdFx0XHRlbC5yZWRyYXdTbGlkZXIoKTtcblx0XHRcdFx0Ly8gQ2FsbCB1c2VyIHJlc2l6ZSBoYW5kbGVyXG5cdFx0XHRcdHNsaWRlci5zZXR0aW5ncy5vblNsaWRlclJlc2l6ZS5jYWxsKGVsLCBzbGlkZXIuYWN0aXZlLmluZGV4KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRcdCAqID0gUFVCTElDIEZVTkNUSU9OU1xuXHRcdCAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdFx0ICovXG5cblx0XHQvKipcblx0XHQgKiBQZXJmb3JtcyBzbGlkZSB0cmFuc2l0aW9uIHRvIHRoZSBzcGVjaWZpZWQgc2xpZGVcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSBzbGlkZUluZGV4IChpbnQpXG5cdFx0ICogIC0gdGhlIGRlc3RpbmF0aW9uIHNsaWRlJ3MgaW5kZXggKHplcm8tYmFzZWQpXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gZGlyZWN0aW9uIChzdHJpbmcpXG5cdFx0ICogIC0gSU5URVJOQUwgVVNFIE9OTFkgLSB0aGUgZGlyZWN0aW9uIG9mIHRyYXZlbCAoXCJwcmV2XCIgLyBcIm5leHRcIilcblx0XHQgKi9cblx0XHRlbC5nb1RvU2xpZGUgPSBmdW5jdGlvbihzbGlkZUluZGV4LCBkaXJlY3Rpb24pe1xuXHRcdFx0Ly8gaWYgcGx1Z2luIGlzIGN1cnJlbnRseSBpbiBtb3Rpb24sIGlnbm9yZSByZXF1ZXN0XG5cdFx0XHRpZihzbGlkZXIud29ya2luZyB8fCBzbGlkZXIuYWN0aXZlLmluZGV4ID09IHNsaWRlSW5kZXgpIHJldHVybjtcblx0XHRcdC8vIGRlY2xhcmUgdGhhdCBwbHVnaW4gaXMgaW4gbW90aW9uXG5cdFx0XHRzbGlkZXIud29ya2luZyA9IHRydWU7XG5cdFx0XHQvLyBzdG9yZSB0aGUgb2xkIGluZGV4XG5cdFx0XHRzbGlkZXIub2xkSW5kZXggPSBzbGlkZXIuYWN0aXZlLmluZGV4O1xuXHRcdFx0Ly8gaWYgc2xpZGVJbmRleCBpcyBsZXNzIHRoYW4gemVybywgc2V0IGFjdGl2ZSBpbmRleCB0byBsYXN0IGNoaWxkICh0aGlzIGhhcHBlbnMgZHVyaW5nIGluZmluaXRlIGxvb3ApXG5cdFx0XHRpZihzbGlkZUluZGV4IDwgMCl7XG5cdFx0XHRcdHNsaWRlci5hY3RpdmUuaW5kZXggPSBnZXRQYWdlclF0eSgpIC0gMTtcblx0XHRcdC8vIGlmIHNsaWRlSW5kZXggaXMgZ3JlYXRlciB0aGFuIGNoaWxkcmVuIGxlbmd0aCwgc2V0IGFjdGl2ZSBpbmRleCB0byAwICh0aGlzIGhhcHBlbnMgZHVyaW5nIGluZmluaXRlIGxvb3ApXG5cdFx0XHR9ZWxzZSBpZihzbGlkZUluZGV4ID49IGdldFBhZ2VyUXR5KCkpe1xuXHRcdFx0XHRzbGlkZXIuYWN0aXZlLmluZGV4ID0gMDtcblx0XHRcdC8vIHNldCBhY3RpdmUgaW5kZXggdG8gcmVxdWVzdGVkIHNsaWRlXG5cdFx0XHR9ZWxzZXtcblx0XHRcdFx0c2xpZGVyLmFjdGl2ZS5pbmRleCA9IHNsaWRlSW5kZXg7XG5cdFx0XHR9XG5cdFx0XHQvLyBvblNsaWRlQmVmb3JlLCBvblNsaWRlTmV4dCwgb25TbGlkZVByZXYgY2FsbGJhY2tzXG5cdFx0XHRzbGlkZXIuc2V0dGluZ3Mub25TbGlkZUJlZm9yZShzbGlkZXIuY2hpbGRyZW4uZXEoc2xpZGVyLmFjdGl2ZS5pbmRleCksIHNsaWRlci5vbGRJbmRleCwgc2xpZGVyLmFjdGl2ZS5pbmRleCk7XG5cdFx0XHRpZihkaXJlY3Rpb24gPT0gJ25leHQnKXtcblx0XHRcdFx0c2xpZGVyLnNldHRpbmdzLm9uU2xpZGVOZXh0KHNsaWRlci5jaGlsZHJlbi5lcShzbGlkZXIuYWN0aXZlLmluZGV4KSwgc2xpZGVyLm9sZEluZGV4LCBzbGlkZXIuYWN0aXZlLmluZGV4KTtcblx0XHRcdH1lbHNlIGlmKGRpcmVjdGlvbiA9PSAncHJldicpe1xuXHRcdFx0XHRzbGlkZXIuc2V0dGluZ3Mub25TbGlkZVByZXYoc2xpZGVyLmNoaWxkcmVuLmVxKHNsaWRlci5hY3RpdmUuaW5kZXgpLCBzbGlkZXIub2xkSW5kZXgsIHNsaWRlci5hY3RpdmUuaW5kZXgpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gY2hlY2sgaWYgbGFzdCBzbGlkZVxuXHRcdFx0c2xpZGVyLmFjdGl2ZS5sYXN0ID0gc2xpZGVyLmFjdGl2ZS5pbmRleCA+PSBnZXRQYWdlclF0eSgpIC0gMTtcblx0XHRcdC8vIHVwZGF0ZSB0aGUgcGFnZXIgd2l0aCBhY3RpdmUgY2xhc3Ncblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5wYWdlcikgdXBkYXRlUGFnZXJBY3RpdmUoc2xpZGVyLmFjdGl2ZS5pbmRleCk7XG5cdFx0XHQvLyAvLyBjaGVjayBmb3IgZGlyZWN0aW9uIGNvbnRyb2wgdXBkYXRlXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuY29udHJvbHMpIHVwZGF0ZURpcmVjdGlvbkNvbnRyb2xzKCk7XG5cdFx0XHQvLyBpZiBzbGlkZXIgaXMgc2V0IHRvIG1vZGU6IFwiZmFkZVwiXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnZmFkZScpe1xuXHRcdFx0XHQvLyBpZiBhZGFwdGl2ZUhlaWdodCBpcyB0cnVlIGFuZCBuZXh0IGhlaWdodCBpcyBkaWZmZXJlbnQgZnJvbSBjdXJyZW50IGhlaWdodCwgYW5pbWF0ZSB0byB0aGUgbmV3IGhlaWdodFxuXHRcdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuYWRhcHRpdmVIZWlnaHQgJiYgc2xpZGVyLnZpZXdwb3J0LmhlaWdodCgpICE9IGdldFZpZXdwb3J0SGVpZ2h0KCkpe1xuXHRcdFx0XHRcdHNsaWRlci52aWV3cG9ydC5hbmltYXRlKHtoZWlnaHQ6IGdldFZpZXdwb3J0SGVpZ2h0KCl9LCBzbGlkZXIuc2V0dGluZ3MuYWRhcHRpdmVIZWlnaHRTcGVlZCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gZmFkZSBvdXQgdGhlIHZpc2libGUgY2hpbGQgYW5kIHJlc2V0IGl0cyB6LWluZGV4IHZhbHVlXG5cdFx0XHRcdHNsaWRlci5jaGlsZHJlbi5maWx0ZXIoJzp2aXNpYmxlJykuZmFkZU91dChzbGlkZXIuc2V0dGluZ3Muc3BlZWQpLmNzcyh7ekluZGV4OiAwfSk7XG5cdFx0XHRcdC8vIGZhZGUgaW4gdGhlIG5ld2x5IHJlcXVlc3RlZCBzbGlkZVxuXHRcdFx0XHRzbGlkZXIuY2hpbGRyZW4uZXEoc2xpZGVyLmFjdGl2ZS5pbmRleCkuY3NzKCd6SW5kZXgnLCBzbGlkZXIuc2V0dGluZ3Muc2xpZGVaSW5kZXgrMSkuZmFkZUluKHNsaWRlci5zZXR0aW5ncy5zcGVlZCwgZnVuY3Rpb24oKXtcblx0XHRcdFx0XHQkKHRoaXMpLmNzcygnekluZGV4Jywgc2xpZGVyLnNldHRpbmdzLnNsaWRlWkluZGV4KTtcblx0XHRcdFx0XHR1cGRhdGVBZnRlclNsaWRlVHJhbnNpdGlvbigpO1xuXHRcdFx0XHR9KTtcblx0XHRcdC8vIHNsaWRlciBtb2RlIGlzIG5vdCBcImZhZGVcIlxuXHRcdFx0fWVsc2V7XG5cdFx0XHRcdC8vIGlmIGFkYXB0aXZlSGVpZ2h0IGlzIHRydWUgYW5kIG5leHQgaGVpZ2h0IGlzIGRpZmZlcmVudCBmcm9tIGN1cnJlbnQgaGVpZ2h0LCBhbmltYXRlIHRvIHRoZSBuZXcgaGVpZ2h0XG5cdFx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5hZGFwdGl2ZUhlaWdodCAmJiBzbGlkZXIudmlld3BvcnQuaGVpZ2h0KCkgIT0gZ2V0Vmlld3BvcnRIZWlnaHQoKSl7XG5cdFx0XHRcdFx0c2xpZGVyLnZpZXdwb3J0LmFuaW1hdGUoe2hlaWdodDogZ2V0Vmlld3BvcnRIZWlnaHQoKX0sIHNsaWRlci5zZXR0aW5ncy5hZGFwdGl2ZUhlaWdodFNwZWVkKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR2YXIgbW92ZUJ5ID0gMDtcblx0XHRcdFx0dmFyIHBvc2l0aW9uID0ge2xlZnQ6IDAsIHRvcDogMH07XG5cdFx0XHRcdC8vIGlmIGNhcm91c2VsIGFuZCBub3QgaW5maW5pdGUgbG9vcFxuXHRcdFx0XHRpZighc2xpZGVyLnNldHRpbmdzLmluZmluaXRlTG9vcCAmJiBzbGlkZXIuY2Fyb3VzZWwgJiYgc2xpZGVyLmFjdGl2ZS5sYXN0KXtcblx0XHRcdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnaG9yaXpvbnRhbCcpe1xuXHRcdFx0XHRcdFx0Ly8gZ2V0IHRoZSBsYXN0IGNoaWxkIHBvc2l0aW9uXG5cdFx0XHRcdFx0XHR2YXIgbGFzdENoaWxkID0gc2xpZGVyLmNoaWxkcmVuLmVxKHNsaWRlci5jaGlsZHJlbi5sZW5ndGggLSAxKTtcblx0XHRcdFx0XHRcdHBvc2l0aW9uID0gbGFzdENoaWxkLnBvc2l0aW9uKCk7XG5cdFx0XHRcdFx0XHQvLyBjYWxjdWxhdGUgdGhlIHBvc2l0aW9uIG9mIHRoZSBsYXN0IHNsaWRlXG5cdFx0XHRcdFx0XHRtb3ZlQnkgPSBzbGlkZXIudmlld3BvcnQud2lkdGgoKSAtIGxhc3RDaGlsZC5vdXRlcldpZHRoKCk7XG5cdFx0XHRcdFx0fWVsc2V7XG5cdFx0XHRcdFx0XHQvLyBnZXQgbGFzdCBzaG93aW5nIGluZGV4IHBvc2l0aW9uXG5cdFx0XHRcdFx0XHR2YXIgbGFzdFNob3dpbmdJbmRleCA9IHNsaWRlci5jaGlsZHJlbi5sZW5ndGggLSBzbGlkZXIuc2V0dGluZ3MubWluU2xpZGVzO1xuXHRcdFx0XHRcdFx0cG9zaXRpb24gPSBzbGlkZXIuY2hpbGRyZW4uZXEobGFzdFNob3dpbmdJbmRleCkucG9zaXRpb24oKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gaG9yaXpvbnRhbCBjYXJvdXNlbCwgZ29pbmcgcHJldmlvdXMgd2hpbGUgb24gZmlyc3Qgc2xpZGUgKGluZmluaXRlTG9vcCBtb2RlKVxuXHRcdFx0XHR9ZWxzZSBpZihzbGlkZXIuY2Fyb3VzZWwgJiYgc2xpZGVyLmFjdGl2ZS5sYXN0ICYmIGRpcmVjdGlvbiA9PSAncHJldicpe1xuXHRcdFx0XHRcdC8vIGdldCB0aGUgbGFzdCBjaGlsZCBwb3NpdGlvblxuXHRcdFx0XHRcdHZhciBlcSA9IHNsaWRlci5zZXR0aW5ncy5tb3ZlU2xpZGVzID09IDEgPyBzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzIC0gZ2V0TW92ZUJ5KCkgOiAoKGdldFBhZ2VyUXR5KCkgLSAxKSAqIGdldE1vdmVCeSgpKSAtIChzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoIC0gc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcyk7XG5cdFx0XHRcdFx0dmFyIGxhc3RDaGlsZCA9IGVsLmNoaWxkcmVuKCcuYngtY2xvbmUnKS5lcShlcSk7XG5cdFx0XHRcdFx0cG9zaXRpb24gPSBsYXN0Q2hpbGQucG9zaXRpb24oKTtcblx0XHRcdFx0Ly8gaWYgaW5maW5pdGUgbG9vcCBhbmQgXCJOZXh0XCIgaXMgY2xpY2tlZCBvbiB0aGUgbGFzdCBzbGlkZVxuXHRcdFx0XHR9ZWxzZSBpZihkaXJlY3Rpb24gPT0gJ25leHQnICYmIHNsaWRlci5hY3RpdmUuaW5kZXggPT0gMCl7XG5cdFx0XHRcdFx0Ly8gZ2V0IHRoZSBsYXN0IGNsb25lIHBvc2l0aW9uXG5cdFx0XHRcdFx0cG9zaXRpb24gPSBlbC5maW5kKCc+IC5ieC1jbG9uZScpLmVxKHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMpLnBvc2l0aW9uKCk7XG5cdFx0XHRcdFx0c2xpZGVyLmFjdGl2ZS5sYXN0ID0gZmFsc2U7XG5cdFx0XHRcdC8vIG5vcm1hbCBub24temVybyByZXF1ZXN0c1xuXHRcdFx0XHR9ZWxzZSBpZihzbGlkZUluZGV4ID49IDApe1xuXHRcdFx0XHRcdHZhciByZXF1ZXN0RWwgPSBzbGlkZUluZGV4ICogZ2V0TW92ZUJ5KCk7XG5cdFx0XHRcdFx0cG9zaXRpb24gPSBzbGlkZXIuY2hpbGRyZW4uZXEocmVxdWVzdEVsKS5wb3NpdGlvbigpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0LyogSWYgdGhlIHBvc2l0aW9uIGRvZXNuJ3QgZXhpc3Rcblx0XHRcdFx0ICogKGUuZy4gaWYgeW91IGRlc3Ryb3kgdGhlIHNsaWRlciBvbiBhIG5leHQgY2xpY2spLFxuXHRcdFx0XHQgKiBpdCBkb2Vzbid0IHRocm93IGFuIGVycm9yLlxuXHRcdFx0XHQgKi9cblx0XHRcdFx0aWYgKFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZihwb3NpdGlvbikpIHtcblx0XHRcdFx0XHR2YXIgdmFsdWUgPSBzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnaG9yaXpvbnRhbCcgPyAtKHBvc2l0aW9uLmxlZnQgLSBtb3ZlQnkpIDogLXBvc2l0aW9uLnRvcDtcblx0XHRcdFx0XHQvLyBwbHVnaW4gdmFsdWVzIHRvIGJlIGFuaW1hdGVkXG5cdFx0XHRcdFx0c2V0UG9zaXRpb25Qcm9wZXJ0eSh2YWx1ZSwgJ3NsaWRlJywgc2xpZGVyLnNldHRpbmdzLnNwZWVkKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFRyYW5zaXRpb25zIHRvIHRoZSBuZXh0IHNsaWRlIGluIHRoZSBzaG93XG5cdFx0ICovXG5cdFx0ZWwuZ29Ub05leHRTbGlkZSA9IGZ1bmN0aW9uKCl7XG5cdFx0XHQvLyBpZiBpbmZpbml0ZUxvb3AgaXMgZmFsc2UgYW5kIGxhc3QgcGFnZSBpcyBzaG93aW5nLCBkaXNyZWdhcmQgY2FsbFxuXHRcdFx0aWYgKCFzbGlkZXIuc2V0dGluZ3MuaW5maW5pdGVMb29wICYmIHNsaWRlci5hY3RpdmUubGFzdCkgcmV0dXJuO1xuXHRcdFx0dmFyIHBhZ2VySW5kZXggPSBwYXJzZUludChzbGlkZXIuYWN0aXZlLmluZGV4KSArIDE7XG5cdFx0XHRlbC5nb1RvU2xpZGUocGFnZXJJbmRleCwgJ25leHQnKTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBUcmFuc2l0aW9ucyB0byB0aGUgcHJldiBzbGlkZSBpbiB0aGUgc2hvd1xuXHRcdCAqL1xuXHRcdGVsLmdvVG9QcmV2U2xpZGUgPSBmdW5jdGlvbigpe1xuXHRcdFx0Ly8gaWYgaW5maW5pdGVMb29wIGlzIGZhbHNlIGFuZCBsYXN0IHBhZ2UgaXMgc2hvd2luZywgZGlzcmVnYXJkIGNhbGxcblx0XHRcdGlmICghc2xpZGVyLnNldHRpbmdzLmluZmluaXRlTG9vcCAmJiBzbGlkZXIuYWN0aXZlLmluZGV4ID09IDApIHJldHVybjtcblx0XHRcdHZhciBwYWdlckluZGV4ID0gcGFyc2VJbnQoc2xpZGVyLmFjdGl2ZS5pbmRleCkgLSAxO1xuXHRcdFx0ZWwuZ29Ub1NsaWRlKHBhZ2VySW5kZXgsICdwcmV2Jyk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogU3RhcnRzIHRoZSBhdXRvIHNob3dcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSBwcmV2ZW50Q29udHJvbFVwZGF0ZSAoYm9vbGVhbilcblx0XHQgKiAgLSBpZiB0cnVlLCBhdXRvIGNvbnRyb2xzIHN0YXRlIHdpbGwgbm90IGJlIHVwZGF0ZWRcblx0XHQgKi9cblx0XHRlbC5zdGFydEF1dG8gPSBmdW5jdGlvbihwcmV2ZW50Q29udHJvbFVwZGF0ZSl7XG5cdFx0XHQvLyBpZiBhbiBpbnRlcnZhbCBhbHJlYWR5IGV4aXN0cywgZGlzcmVnYXJkIGNhbGxcblx0XHRcdGlmKHNsaWRlci5pbnRlcnZhbCkgcmV0dXJuO1xuXHRcdFx0Ly8gY3JlYXRlIGFuIGludGVydmFsXG5cdFx0XHRzbGlkZXIuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpe1xuXHRcdFx0XHRzbGlkZXIuc2V0dGluZ3MuYXV0b0RpcmVjdGlvbiA9PSAnbmV4dCcgPyBlbC5nb1RvTmV4dFNsaWRlKCkgOiBlbC5nb1RvUHJldlNsaWRlKCk7XG5cdFx0XHR9LCBzbGlkZXIuc2V0dGluZ3MucGF1c2UpO1xuXHRcdFx0Ly8gaWYgYXV0byBjb250cm9scyBhcmUgZGlzcGxheWVkIGFuZCBwcmV2ZW50Q29udHJvbFVwZGF0ZSBpcyBub3QgdHJ1ZVxuXHRcdFx0aWYgKHNsaWRlci5zZXR0aW5ncy5hdXRvQ29udHJvbHMgJiYgcHJldmVudENvbnRyb2xVcGRhdGUgIT0gdHJ1ZSkgdXBkYXRlQXV0b0NvbnRyb2xzKCdzdG9wJyk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogU3RvcHMgdGhlIGF1dG8gc2hvd1xuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHByZXZlbnRDb250cm9sVXBkYXRlIChib29sZWFuKVxuXHRcdCAqICAtIGlmIHRydWUsIGF1dG8gY29udHJvbHMgc3RhdGUgd2lsbCBub3QgYmUgdXBkYXRlZFxuXHRcdCAqL1xuXHRcdGVsLnN0b3BBdXRvID0gZnVuY3Rpb24ocHJldmVudENvbnRyb2xVcGRhdGUpe1xuXHRcdFx0Ly8gaWYgbm8gaW50ZXJ2YWwgZXhpc3RzLCBkaXNyZWdhcmQgY2FsbFxuXHRcdFx0aWYoIXNsaWRlci5pbnRlcnZhbCkgcmV0dXJuO1xuXHRcdFx0Ly8gY2xlYXIgdGhlIGludGVydmFsXG5cdFx0XHRjbGVhckludGVydmFsKHNsaWRlci5pbnRlcnZhbCk7XG5cdFx0XHRzbGlkZXIuaW50ZXJ2YWwgPSBudWxsO1xuXHRcdFx0Ly8gaWYgYXV0byBjb250cm9scyBhcmUgZGlzcGxheWVkIGFuZCBwcmV2ZW50Q29udHJvbFVwZGF0ZSBpcyBub3QgdHJ1ZVxuXHRcdFx0aWYgKHNsaWRlci5zZXR0aW5ncy5hdXRvQ29udHJvbHMgJiYgcHJldmVudENvbnRyb2xVcGRhdGUgIT0gdHJ1ZSkgdXBkYXRlQXV0b0NvbnRyb2xzKCdzdGFydCcpO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgY3VycmVudCBzbGlkZSBpbmRleCAoemVyby1iYXNlZClcblx0XHQgKi9cblx0XHRlbC5nZXRDdXJyZW50U2xpZGUgPSBmdW5jdGlvbigpe1xuXHRcdFx0cmV0dXJuIHNsaWRlci5hY3RpdmUuaW5kZXg7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyBjdXJyZW50IHNsaWRlIGVsZW1lbnRcblx0XHQgKi9cblx0XHRlbC5nZXRDdXJyZW50U2xpZGVFbGVtZW50ID0gZnVuY3Rpb24oKXtcblx0XHRcdHJldHVybiBzbGlkZXIuY2hpbGRyZW4uZXEoc2xpZGVyLmFjdGl2ZS5pbmRleCk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyBudW1iZXIgb2Ygc2xpZGVzIGluIHNob3dcblx0XHQgKi9cblx0XHRlbC5nZXRTbGlkZUNvdW50ID0gZnVuY3Rpb24oKXtcblx0XHRcdHJldHVybiBzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFVwZGF0ZSBhbGwgZHluYW1pYyBzbGlkZXIgZWxlbWVudHNcblx0XHQgKi9cblx0XHRlbC5yZWRyYXdTbGlkZXIgPSBmdW5jdGlvbigpe1xuXHRcdFx0Ly8gcmVzaXplIGFsbCBjaGlsZHJlbiBpbiByYXRpbyB0byBuZXcgc2NyZWVuIHNpemVcblx0XHRcdHNsaWRlci5jaGlsZHJlbi5hZGQoZWwuZmluZCgnLmJ4LWNsb25lJykpLndpZHRoKGdldFNsaWRlV2lkdGgoKSk7XG5cdFx0XHQvLyBhZGp1c3QgdGhlIGhlaWdodFxuXHRcdFx0c2xpZGVyLnZpZXdwb3J0LmNzcygnaGVpZ2h0JywgZ2V0Vmlld3BvcnRIZWlnaHQoKSk7XG5cdFx0XHQvLyB1cGRhdGUgdGhlIHNsaWRlIHBvc2l0aW9uXG5cdFx0XHRpZighc2xpZGVyLnNldHRpbmdzLnRpY2tlcikgc2V0U2xpZGVQb3NpdGlvbigpO1xuXHRcdFx0Ly8gaWYgYWN0aXZlLmxhc3Qgd2FzIHRydWUgYmVmb3JlIHRoZSBzY3JlZW4gcmVzaXplLCB3ZSB3YW50XG5cdFx0XHQvLyB0byBrZWVwIGl0IGxhc3Qgbm8gbWF0dGVyIHdoYXQgc2NyZWVuIHNpemUgd2UgZW5kIG9uXG5cdFx0XHRpZiAoc2xpZGVyLmFjdGl2ZS5sYXN0KSBzbGlkZXIuYWN0aXZlLmluZGV4ID0gZ2V0UGFnZXJRdHkoKSAtIDE7XG5cdFx0XHQvLyBpZiB0aGUgYWN0aXZlIGluZGV4IChwYWdlKSBubyBsb25nZXIgZXhpc3RzIGR1ZSB0byB0aGUgcmVzaXplLCBzaW1wbHkgc2V0IHRoZSBpbmRleCBhcyBsYXN0XG5cdFx0XHRpZiAoc2xpZGVyLmFjdGl2ZS5pbmRleCA+PSBnZXRQYWdlclF0eSgpKSBzbGlkZXIuYWN0aXZlLmxhc3QgPSB0cnVlO1xuXHRcdFx0Ly8gaWYgYSBwYWdlciBpcyBiZWluZyBkaXNwbGF5ZWQgYW5kIGEgY3VzdG9tIHBhZ2VyIGlzIG5vdCBiZWluZyB1c2VkLCB1cGRhdGUgaXRcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5wYWdlciAmJiAhc2xpZGVyLnNldHRpbmdzLnBhZ2VyQ3VzdG9tKXtcblx0XHRcdFx0cG9wdWxhdGVQYWdlcigpO1xuXHRcdFx0XHR1cGRhdGVQYWdlckFjdGl2ZShzbGlkZXIuYWN0aXZlLmluZGV4KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBEZXN0cm95IHRoZSBjdXJyZW50IGluc3RhbmNlIG9mIHRoZSBzbGlkZXIgKHJldmVydCBldmVyeXRoaW5nIGJhY2sgdG8gb3JpZ2luYWwgc3RhdGUpXG5cdFx0ICovXG5cdFx0ZWwuZGVzdHJveVNsaWRlciA9IGZ1bmN0aW9uKCl7XG5cdFx0XHQvLyBkb24ndCBkbyBhbnl0aGluZyBpZiBzbGlkZXIgaGFzIGFscmVhZHkgYmVlbiBkZXN0cm95ZWRcblx0XHRcdGlmKCFzbGlkZXIuaW5pdGlhbGl6ZWQpIHJldHVybjtcblx0XHRcdHNsaWRlci5pbml0aWFsaXplZCA9IGZhbHNlO1xuXHRcdFx0JCgnLmJ4LWNsb25lJywgdGhpcykucmVtb3ZlKCk7XG5cdFx0XHRzbGlkZXIuY2hpbGRyZW4uZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0JCh0aGlzKS5kYXRhKFwib3JpZ1N0eWxlXCIpICE9IHVuZGVmaW5lZCA/ICQodGhpcykuYXR0cihcInN0eWxlXCIsICQodGhpcykuZGF0YShcIm9yaWdTdHlsZVwiKSkgOiAkKHRoaXMpLnJlbW92ZUF0dHIoJ3N0eWxlJyk7XG5cdFx0XHR9KTtcblx0XHRcdCQodGhpcykuZGF0YShcIm9yaWdTdHlsZVwiKSAhPSB1bmRlZmluZWQgPyB0aGlzLmF0dHIoXCJzdHlsZVwiLCAkKHRoaXMpLmRhdGEoXCJvcmlnU3R5bGVcIikpIDogJCh0aGlzKS5yZW1vdmVBdHRyKCdzdHlsZScpO1xuXHRcdFx0JCh0aGlzKS51bndyYXAoKS51bndyYXAoKTtcblx0XHRcdGlmKHNsaWRlci5jb250cm9scy5lbCkgc2xpZGVyLmNvbnRyb2xzLmVsLnJlbW92ZSgpO1xuXHRcdFx0aWYoc2xpZGVyLmNvbnRyb2xzLm5leHQpIHNsaWRlci5jb250cm9scy5uZXh0LnJlbW92ZSgpO1xuXHRcdFx0aWYoc2xpZGVyLmNvbnRyb2xzLnByZXYpIHNsaWRlci5jb250cm9scy5wcmV2LnJlbW92ZSgpO1xuXHRcdFx0aWYoc2xpZGVyLnBhZ2VyRWwgJiYgc2xpZGVyLnNldHRpbmdzLmNvbnRyb2xzKSBzbGlkZXIucGFnZXJFbC5yZW1vdmUoKTtcblx0XHRcdCQoJy5ieC1jYXB0aW9uJywgdGhpcykucmVtb3ZlKCk7XG5cdFx0XHRpZihzbGlkZXIuY29udHJvbHMuYXV0b0VsKSBzbGlkZXIuY29udHJvbHMuYXV0b0VsLnJlbW92ZSgpO1xuXHRcdFx0Y2xlYXJJbnRlcnZhbChzbGlkZXIuaW50ZXJ2YWwpO1xuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLnJlc3BvbnNpdmUpICQod2luZG93KS51bmJpbmQoJ3Jlc2l6ZScsIHJlc2l6ZVdpbmRvdyk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogUmVsb2FkIHRoZSBzbGlkZXIgKHJldmVydCBhbGwgRE9NIGNoYW5nZXMsIGFuZCByZS1pbml0aWFsaXplKVxuXHRcdCAqL1xuXHRcdGVsLnJlbG9hZFNsaWRlciA9IGZ1bmN0aW9uKHNldHRpbmdzKXtcblx0XHRcdGlmIChzZXR0aW5ncyAhPSB1bmRlZmluZWQpIG9wdGlvbnMgPSBzZXR0aW5ncztcblx0XHRcdGVsLmRlc3Ryb3lTbGlkZXIoKTtcblx0XHRcdGluaXQoKTtcblx0XHR9XG5cblx0XHRpbml0KCk7XG5cblx0XHQvLyByZXR1cm5zIHRoZSBjdXJyZW50IGpRdWVyeSBvYmplY3Rcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG59KShqUXVlcnkpO1xuIiwiLyoqXG4gKiBqUXVlcnkgTWFzb25yeSB2Mi4xLjA4XG4gKiBBIGR5bmFtaWMgbGF5b3V0IHBsdWdpbiBmb3IgalF1ZXJ5XG4gKiBUaGUgZmxpcC1zaWRlIG9mIENTUyBGbG9hdHNcbiAqIGh0dHA6Ly9tYXNvbnJ5LmRlc2FuZHJvLmNvbVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIENvcHlyaWdodCAyMDEyIERhdmlkIERlU2FuZHJvXG4gKi9cbihmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9dC5ldmVudCxpO3Iuc3BlY2lhbC5zbWFydHJlc2l6ZT17c2V0dXA6ZnVuY3Rpb24oKXt0KHRoaXMpLmJpbmQoXCJyZXNpemVcIixyLnNwZWNpYWwuc21hcnRyZXNpemUuaGFuZGxlcil9LHRlYXJkb3duOmZ1bmN0aW9uKCl7dCh0aGlzKS51bmJpbmQoXCJyZXNpemVcIixyLnNwZWNpYWwuc21hcnRyZXNpemUuaGFuZGxlcil9LGhhbmRsZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLHM9YXJndW1lbnRzO2UudHlwZT1cInNtYXJ0cmVzaXplXCIsaSYmY2xlYXJUaW1lb3V0KGkpLGk9c2V0VGltZW91dChmdW5jdGlvbigpe3IuZGlzcGF0Y2guYXBwbHkobixzKX0sdD09PVwiZXhlY0FzYXBcIj8wOjEwMCl9fSx0LmZuLnNtYXJ0cmVzaXplPWZ1bmN0aW9uKGUpe3JldHVybiBlP3RoaXMuYmluZChcInNtYXJ0cmVzaXplXCIsZSk6dGhpcy50cmlnZ2VyKFwic21hcnRyZXNpemVcIixbXCJleGVjQXNhcFwiXSl9LHQuTWFzb249ZnVuY3Rpb24oZSxuKXt0aGlzLmVsZW1lbnQ9dChuKSx0aGlzLl9jcmVhdGUoZSksdGhpcy5faW5pdCgpfSx0Lk1hc29uLnNldHRpbmdzPXtpc1Jlc2l6YWJsZTohMCxpc0FuaW1hdGVkOiExLGFuaW1hdGlvbk9wdGlvbnM6e3F1ZXVlOiExLGR1cmF0aW9uOjUwMH0sZ3V0dGVyV2lkdGg6MCxpc1JUTDohMSxpc0ZpdFdpZHRoOiExLGNvbnRhaW5lclN0eWxlOntwb3NpdGlvbjpcInJlbGF0aXZlXCJ9fSx0Lk1hc29uLnByb3RvdHlwZT17X2ZpbHRlckZpbmRCcmlja3M6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5vcHRpb25zLml0ZW1TZWxlY3RvcjtyZXR1cm4gdD9lLmZpbHRlcih0KS5hZGQoZS5maW5kKHQpKTplfSxfZ2V0QnJpY2tzOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2ZpbHRlckZpbmRCcmlja3MoZSkuY3NzKHtwb3NpdGlvbjpcImFic29sdXRlXCJ9KS5hZGRDbGFzcyhcIm1hc29ucnktYnJpY2tcIik7cmV0dXJuIHR9LF9jcmVhdGU6ZnVuY3Rpb24obil7dGhpcy5vcHRpb25zPXQuZXh0ZW5kKCEwLHt9LHQuTWFzb24uc2V0dGluZ3MsbiksdGhpcy5zdHlsZVF1ZXVlPVtdO3ZhciByPXRoaXMuZWxlbWVudFswXS5zdHlsZTt0aGlzLm9yaWdpbmFsU3R5bGU9e2hlaWdodDpyLmhlaWdodHx8XCJcIn07dmFyIGk9dGhpcy5vcHRpb25zLmNvbnRhaW5lclN0eWxlO2Zvcih2YXIgcyBpbiBpKXRoaXMub3JpZ2luYWxTdHlsZVtzXT1yW3NdfHxcIlwiO3RoaXMuZWxlbWVudC5jc3MoaSksdGhpcy5ob3Jpem9udGFsRGlyZWN0aW9uPXRoaXMub3B0aW9ucy5pc1JUTD9cInJpZ2h0XCI6XCJsZWZ0XCI7dmFyIG89dGhpcy5lbGVtZW50LmNzcyhcInBhZGRpbmctXCIrdGhpcy5ob3Jpem9udGFsRGlyZWN0aW9uKSx1PXRoaXMuZWxlbWVudC5jc3MoXCJwYWRkaW5nLXRvcFwiKTt0aGlzLm9mZnNldD17eDpvP3BhcnNlSW50KG8sMTApOjAseTp1P3BhcnNlSW50KHUsMTApOjB9LHRoaXMuaXNGbHVpZD10aGlzLm9wdGlvbnMuY29sdW1uV2lkdGgmJnR5cGVvZiB0aGlzLm9wdGlvbnMuY29sdW1uV2lkdGg9PVwiZnVuY3Rpb25cIjt2YXIgYT10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLmVsZW1lbnQuYWRkQ2xhc3MoXCJtYXNvbnJ5XCIpfSwwKSx0aGlzLm9wdGlvbnMuaXNSZXNpemFibGUmJnQoZSkuYmluZChcInNtYXJ0cmVzaXplLm1hc29ucnlcIixmdW5jdGlvbigpe2EucmVzaXplKCl9KSx0aGlzLnJlbG9hZEl0ZW1zKCl9LF9pbml0OmZ1bmN0aW9uKGUpe3RoaXMuX2dldENvbHVtbnMoKSx0aGlzLl9yZUxheW91dChlKX0sb3B0aW9uOmZ1bmN0aW9uKGUsbil7dC5pc1BsYWluT2JqZWN0KGUpJiYodGhpcy5vcHRpb25zPXQuZXh0ZW5kKCEwLHRoaXMub3B0aW9ucyxlKSl9LGxheW91dDpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wLHI9ZS5sZW5ndGg7bjxyO24rKyl0aGlzLl9wbGFjZUJyaWNrKGVbbl0pO3ZhciBpPXt9O2kuaGVpZ2h0PU1hdGgubWF4LmFwcGx5KE1hdGgsdGhpcy5jb2xZcyk7aWYodGhpcy5vcHRpb25zLmlzRml0V2lkdGgpe3ZhciBzPTA7bj10aGlzLmNvbHM7d2hpbGUoLS1uKXtpZih0aGlzLmNvbFlzW25dIT09MClicmVhaztzKyt9aS53aWR0aD0odGhpcy5jb2xzLXMpKnRoaXMuY29sdW1uV2lkdGgtdGhpcy5vcHRpb25zLmd1dHRlcldpZHRofXRoaXMuc3R5bGVRdWV1ZS5wdXNoKHskZWw6dGhpcy5lbGVtZW50LHN0eWxlOml9KTt2YXIgbz10aGlzLmlzTGFpZE91dD90aGlzLm9wdGlvbnMuaXNBbmltYXRlZD9cImFuaW1hdGVcIjpcImNzc1wiOlwiY3NzXCIsdT10aGlzLm9wdGlvbnMuYW5pbWF0aW9uT3B0aW9ucyxhO2ZvcihuPTAscj10aGlzLnN0eWxlUXVldWUubGVuZ3RoO248cjtuKyspYT10aGlzLnN0eWxlUXVldWVbbl0sYS4kZWxbb10oYS5zdHlsZSx1KTt0aGlzLnN0eWxlUXVldWU9W10sdCYmdC5jYWxsKGUpLHRoaXMuaXNMYWlkT3V0PSEwfSxfZ2V0Q29sdW1uczpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3B0aW9ucy5pc0ZpdFdpZHRoP3RoaXMuZWxlbWVudC5wYXJlbnQoKTp0aGlzLmVsZW1lbnQsdD1lLndpZHRoKCk7dGhpcy5jb2x1bW5XaWR0aD10aGlzLmlzRmx1aWQ/dGhpcy5vcHRpb25zLmNvbHVtbldpZHRoKHQpOnRoaXMub3B0aW9ucy5jb2x1bW5XaWR0aHx8dGhpcy4kYnJpY2tzLm91dGVyV2lkdGgoITApfHx0LHRoaXMuY29sdW1uV2lkdGgrPXRoaXMub3B0aW9ucy5ndXR0ZXJXaWR0aCx0aGlzLmNvbHM9TWF0aC5mbG9vcigodCt0aGlzLm9wdGlvbnMuZ3V0dGVyV2lkdGgpL3RoaXMuY29sdW1uV2lkdGgpLHRoaXMuY29scz1NYXRoLm1heCh0aGlzLmNvbHMsMSl9LF9wbGFjZUJyaWNrOmZ1bmN0aW9uKGUpe3ZhciBuPXQoZSkscixpLHMsbyx1O3I9TWF0aC5jZWlsKG4ub3V0ZXJXaWR0aCghMCkvdGhpcy5jb2x1bW5XaWR0aCkscj1NYXRoLm1pbihyLHRoaXMuY29scyk7aWYocj09PTEpcz10aGlzLmNvbFlzO2Vsc2V7aT10aGlzLmNvbHMrMS1yLHM9W107Zm9yKHU9MDt1PGk7dSsrKW89dGhpcy5jb2xZcy5zbGljZSh1LHUrciksc1t1XT1NYXRoLm1heC5hcHBseShNYXRoLG8pfXZhciBhPU1hdGgubWluLmFwcGx5KE1hdGgscyksZj0wO2Zvcih2YXIgbD0wLGM9cy5sZW5ndGg7bDxjO2wrKylpZihzW2xdPT09YSl7Zj1sO2JyZWFrfXZhciBoPXt0b3A6YSt0aGlzLm9mZnNldC55fTtoW3RoaXMuaG9yaXpvbnRhbERpcmVjdGlvbl09dGhpcy5jb2x1bW5XaWR0aCpmK3RoaXMub2Zmc2V0LngsdGhpcy5zdHlsZVF1ZXVlLnB1c2goeyRlbDpuLHN0eWxlOmh9KTt2YXIgcD1hK24ub3V0ZXJIZWlnaHQoITApLGQ9dGhpcy5jb2xzKzEtYztmb3IobD0wO2w8ZDtsKyspdGhpcy5jb2xZc1tmK2xdPXB9LHJlc2l6ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuY29sczt0aGlzLl9nZXRDb2x1bW5zKCksKHRoaXMuaXNGbHVpZHx8dGhpcy5jb2xzIT09ZSkmJnRoaXMuX3JlTGF5b3V0KCl9LF9yZUxheW91dDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmNvbHM7dGhpcy5jb2xZcz1bXTt3aGlsZSh0LS0pdGhpcy5jb2xZcy5wdXNoKDApO3RoaXMubGF5b3V0KHRoaXMuJGJyaWNrcyxlKX0scmVsb2FkSXRlbXM6ZnVuY3Rpb24oKXt0aGlzLiRicmlja3M9dGhpcy5fZ2V0QnJpY2tzKHRoaXMuZWxlbWVudC5jaGlsZHJlbigpKX0scmVsb2FkOmZ1bmN0aW9uKGUpe3RoaXMucmVsb2FkSXRlbXMoKSx0aGlzLl9pbml0KGUpfSxhcHBlbmRlZDpmdW5jdGlvbihlLHQsbil7aWYodCl7dGhpcy5fZmlsdGVyRmluZEJyaWNrcyhlKS5jc3Moe3RvcDp0aGlzLmVsZW1lbnQuaGVpZ2h0KCl9KTt2YXIgcj10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtyLl9hcHBlbmRlZChlLG4pfSwxKX1lbHNlIHRoaXMuX2FwcGVuZGVkKGUsbil9LF9hcHBlbmRlZDpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuX2dldEJyaWNrcyhlKTt0aGlzLiRicmlja3M9dGhpcy4kYnJpY2tzLmFkZChuKSx0aGlzLmxheW91dChuLHQpfSxyZW1vdmU6ZnVuY3Rpb24oZSl7dGhpcy4kYnJpY2tzPXRoaXMuJGJyaWNrcy5ub3QoZSksZS5yZW1vdmUoKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuJGJyaWNrcy5yZW1vdmVDbGFzcyhcIm1hc29ucnktYnJpY2tcIikuZWFjaChmdW5jdGlvbigpe3RoaXMuc3R5bGUucG9zaXRpb249XCJcIix0aGlzLnN0eWxlLnRvcD1cIlwiLHRoaXMuc3R5bGUubGVmdD1cIlwifSk7dmFyIG49dGhpcy5lbGVtZW50WzBdLnN0eWxlO2Zvcih2YXIgciBpbiB0aGlzLm9yaWdpbmFsU3R5bGUpbltyXT10aGlzLm9yaWdpbmFsU3R5bGVbcl07dGhpcy5lbGVtZW50LnVuYmluZChcIi5tYXNvbnJ5XCIpLnJlbW92ZUNsYXNzKFwibWFzb25yeVwiKS5yZW1vdmVEYXRhKFwibWFzb25yeVwiKSx0KGUpLnVuYmluZChcIi5tYXNvbnJ5XCIpfX0sdC5mbi5pbWFnZXNMb2FkZWQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdSgpe2UuY2FsbChuLHIpfWZ1bmN0aW9uIGEoZSl7dmFyIG49ZS50YXJnZXQ7bi5zcmMhPT1zJiZ0LmluQXJyYXkobixvKT09PS0xJiYoby5wdXNoKG4pLC0taTw9MCYmKHNldFRpbWVvdXQodSksci51bmJpbmQoXCIuaW1hZ2VzTG9hZGVkXCIsYSkpKX12YXIgbj10aGlzLHI9bi5maW5kKFwiaW1nXCIpLmFkZChuLmZpbHRlcihcImltZ1wiKSksaT1yLmxlbmd0aCxzPVwiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFJQUFBQUFBQVAvLy95d0FBQUFBQVFBQkFBQUNBVXdBT3c9PVwiLG89W107cmV0dXJuIGl8fHUoKSxyLmJpbmQoXCJsb2FkLmltYWdlc0xvYWRlZCBlcnJvci5pbWFnZXNMb2FkZWRcIixhKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zcmM7dGhpcy5zcmM9cyx0aGlzLnNyYz1lfSksbn07dmFyIHM9ZnVuY3Rpb24odCl7ZS5jb25zb2xlJiZlLmNvbnNvbGUuZXJyb3IodCl9O3QuZm4ubWFzb25yeT1mdW5jdGlvbihlKXtpZih0eXBlb2YgZT09XCJzdHJpbmdcIil7dmFyIG49QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciByPXQuZGF0YSh0aGlzLFwibWFzb25yeVwiKTtpZighcil7cyhcImNhbm5vdCBjYWxsIG1ldGhvZHMgb24gbWFzb25yeSBwcmlvciB0byBpbml0aWFsaXphdGlvbjsgYXR0ZW1wdGVkIHRvIGNhbGwgbWV0aG9kICdcIitlK1wiJ1wiKTtyZXR1cm59aWYoIXQuaXNGdW5jdGlvbihyW2VdKXx8ZS5jaGFyQXQoMCk9PT1cIl9cIil7cyhcIm5vIHN1Y2ggbWV0aG9kICdcIitlK1wiJyBmb3IgbWFzb25yeSBpbnN0YW5jZVwiKTtyZXR1cm59cltlXS5hcHBseShyLG4pfSl9ZWxzZSB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgbj10LmRhdGEodGhpcyxcIm1hc29ucnlcIik7bj8obi5vcHRpb24oZXx8e30pLG4uX2luaXQoKSk6dC5kYXRhKHRoaXMsXCJtYXNvbnJ5XCIsbmV3IHQuTWFzb24oZSx0aGlzKSl9KTtyZXR1cm4gdGhpc319KSh3aW5kb3csalF1ZXJ5KTsiLCIkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCcuYnhzbGlkZXInKS5ieFNsaWRlcih7XG4gICAgICAgICAgICBhdXRvOiBmYWxzZSxcbiAgICAgICAgICAgIGF1dG9Db250cm9sczogdHJ1ZVxuICAgICAgICB9KTtcblxuICAgICAgICBmdW5jdGlvbiBncmlkKCkge1xuICAgICAgICAgICAgdmFyICRncmlkID0gJCgnLmdyaWQnKTtcbiAgICAgICAgICAgICRncmlkLmltYWdlc0xvYWRlZChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJGdyaWQubWFzb25yeSh7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1TZWxlY3RvcjogJy5ncmlkLWl0ZW0nLFxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5XaWR0aDogZnVuY3Rpb24oIGNvbnRhaW5lcldpZHRoICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChjb250YWluZXJXaWR0aCAvIDMgLSAxMClcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZ3V0dGVyV2lkdGg6IDEwXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHNlYXJjaCgpIHtcbiAgICAgICAgICAgICQoJy5pZGVhcycpLmZpbmQoJ2RpdicpLnJlbW92ZSgpO1xuICAgICAgICAgICAgdmFyICRzZWFyY2hLZXkgPSAkKCcuc2VhcmNoX19maWVsZCcpLnZhbCgpO1xuXG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHVybDogJ2h0dHBzOi8vcGl4YWJheS5jb20vYXBpLz9rZXk9MjY1MDU4NC1lOGZlYWI5YjExZWQ2NDRkY2VjNzI4YWM5JnE9JyArICRzZWFyY2hLZXkgKyAnJmltYWdlX3R5cGU9cGhvdG8nLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbnAnLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgJGh0bWwgPSAkKCcjY29udGFpbmVyJykuaHRtbCgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgJGNvbnRlbnQgPSB0bXBsKCRodG1sLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnLmlkZWFzJykuYXBwZW5kKCRjb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgZ3JpZCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ0Vycm9yIScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VhcmNoKCk7XG5cbiAgICAgICAgJCgnLnNlYXJjaF9fYnV0dG9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHNlYXJjaCgpO1xuICAgICAgICAgICAgJCgnLnNlYXJjaF9fZmllbGQnKS52YWwoJycpO1xuICAgICAgICB9KVxuICAgIH1cbik7XG4iLCIvLyBTaW1wbGUgSmF2YVNjcmlwdCBUZW1wbGF0aW5nXG4vLyBKb2huIFJlc2lnIC0gaHR0cDovL2Vqb2huLm9yZy8gLSBNSVQgTGljZW5zZWRcbihmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNhY2hlID0ge307XG5cbiAgICB0aGlzLnRtcGwgPSBmdW5jdGlvbiB0bXBsKHN0ciwgZGF0YSkge1xuICAgICAgICAvLyBGaWd1cmUgb3V0IGlmIHdlJ3JlIGdldHRpbmcgYSB0ZW1wbGF0ZSwgb3IgaWYgd2UgbmVlZCB0b1xuICAgICAgICAvLyBsb2FkIHRoZSB0ZW1wbGF0ZSAtIGFuZCBiZSBzdXJlIHRvIGNhY2hlIHRoZSByZXN1bHQuXG4gICAgICAgIHZhciBmbiA9ICEvXFxXLy50ZXN0KHN0cikgP1xuICAgICAgICAgICAgY2FjaGVbc3RyXSA9IGNhY2hlW3N0cl0gfHxcbiAgICAgICAgICAgICAgICB0bXBsKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHN0cikuaW5uZXJIVE1MKSA6XG5cbiAgICAgICAgICAgIC8vIEdlbmVyYXRlIGEgcmV1c2FibGUgZnVuY3Rpb24gdGhhdCB3aWxsIHNlcnZlIGFzIGEgdGVtcGxhdGVcbiAgICAgICAgICAgIC8vIGdlbmVyYXRvciAoYW5kIHdoaWNoIHdpbGwgYmUgY2FjaGVkKS5cbiAgICAgICAgICAgIG5ldyBGdW5jdGlvbihcIm9ialwiLFxuICAgICAgICAgICAgICAgIFwidmFyIHA9W10scHJpbnQ9ZnVuY3Rpb24oKXtwLnB1c2guYXBwbHkocCxhcmd1bWVudHMpO307XCIgK1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEludHJvZHVjZSB0aGUgZGF0YSBhcyBsb2NhbCB2YXJpYWJsZXMgdXNpbmcgd2l0aCgpe31cbiAgICAgICAgICAgICAgICBcIndpdGgob2JqKXtwLnB1c2goJ1wiICtcblxuICAgICAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IHRoZSB0ZW1wbGF0ZSBpbnRvIHB1cmUgSmF2YVNjcmlwdFxuICAgICAgICAgICAgICAgIHN0clxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvW1xcclxcdFxcbl0vZywgXCIgXCIpXG4gICAgICAgICAgICAgICAgICAgIC5zcGxpdChcIjwlXCIpLmpvaW4oXCJcXHRcIilcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLygoXnwlPilbXlxcdF0qKScvZywgXCIkMVxcclwiKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFx0PSguKj8pJT4vZywgXCInLCQxLCdcIilcbiAgICAgICAgICAgICAgICAgICAgLnNwbGl0KFwiXFx0XCIpLmpvaW4oXCInKTtcIilcbiAgICAgICAgICAgICAgICAgICAgLnNwbGl0KFwiJT5cIikuam9pbihcInAucHVzaCgnXCIpXG4gICAgICAgICAgICAgICAgICAgIC5zcGxpdChcIlxcclwiKS5qb2luKFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICArIFwiJyk7fXJldHVybiBwLmpvaW4oJycpO1wiKTtcblxuICAgICAgICAvLyBQcm92aWRlIHNvbWUgYmFzaWMgY3VycnlpbmcgdG8gdGhlIHVzZXJcbiAgICAgICAgcmV0dXJuIGRhdGEgPyBmbihkYXRhKSA6IGZuO1xuICAgIH07XG59KSgpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
