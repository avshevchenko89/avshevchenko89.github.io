(function(){"use strict";function t(){}function e(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function i(t){return function(){return this[t].apply(this,arguments)}}var n=t.prototype,s=this,o=s.EventEmitter;n.getListeners=function(t){var e,i,n=this._getEvents();if("object"==typeof t){e={};for(i in n)n.hasOwnProperty(i)&&t.test(i)&&(e[i]=n[i])}else e=n[t]||(n[t]=[]);return e},n.flattenListeners=function(t){var e,i=[];for(e=0;e<t.length;e+=1)i.push(t[e].listener);return i},n.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&(e={},e[t]=i),e||i},n.addListener=function(t,i){var n,s=this.getListenersAsObject(t),o="object"==typeof i;for(n in s)s.hasOwnProperty(n)&&e(s[n],i)===-1&&s[n].push(o?i:{listener:i,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function(t){return this.getListeners(t),this},n.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},n.removeListener=function(t,i){var n,s,o=this.getListenersAsObject(t);for(s in o)o.hasOwnProperty(s)&&(n=e(o[s],i),n!==-1&&o[s].splice(n,1));return this},n.off=i("removeListener"),n.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},n.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},n.manipulateListeners=function(t,e,i){var n,s,o=t?this.removeListener:this.addListener,r=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(n=i.length;n--;)o.call(this,e,i[n]);else for(n in e)e.hasOwnProperty(n)&&(s=e[n])&&("function"==typeof s?o.call(this,n,s):r.call(this,n,s));return this},n.removeEvent=function(t){var e,i=typeof t,n=this._getEvents();if("string"===i)delete n[t];else if("object"===i)for(e in n)n.hasOwnProperty(e)&&t.test(e)&&delete n[e];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(t,e){var i,n,s,o,r=this.getListenersAsObject(t);for(s in r)if(r.hasOwnProperty(s))for(n=r[s].length;n--;)i=r[s][n],i.once===!0&&this.removeListener(t,i.listener),o=i.listener.apply(this,e||[]),o===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},n.trigger=i("emitEvent"),n.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},n.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},n._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},n._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return s.EventEmitter=o,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}).call(this),function(t){function e(e){var i=t.event;return i.target=i.target||i.srcElement||e,i}var i=document.documentElement,n=function(){};i.addEventListener?n=function(t,e,i){t.addEventListener(e,i,!1)}:i.attachEvent&&(n=function(t,i,n){t[i+n]=n.handleEvent?function(){var i=e(t);n.handleEvent.call(n,i)}:function(){var i=e(t);n.call(t,i)},t.attachEvent("on"+i,t[i+n])});var s=function(){};i.removeEventListener?s=function(t,e,i){t.removeEventListener(e,i,!1)}:i.detachEvent&&(s=function(t,e,i){t.detachEvent("on"+e,t[e+i]);try{delete t[e+i]}catch(n){t[e+i]=void 0}});var o={bind:n,unbind:s};"function"==typeof define&&define.amd?define("eventie/eventie",o):t.eventie=o}(this),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("wolfy87-eventemitter"),require("eventie")):t.imagesLoaded=e(t,t.EventEmitter,t.eventie)}(window,function(t,e,i){function n(t,e){for(var i in e)t[i]=e[i];return t}function s(t){return"[object Array]"==p.call(t)}function o(t){var e=[];if(s(t))e=t;else if("number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e}function r(t,e,i){if(!(this instanceof r))return new r(t,e,i);"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=o(t),this.options=n({},this.options),"function"==typeof e?i=e:n(this.options,e),i&&this.on("always",i),this.getImages(),d&&(this.jqDeferred=new d.Deferred);var s=this;setTimeout(function(){s.check()})}function a(t){this.img=t}function l(t,e){this.url=t,this.element=e,this.img=new Image}var d=t.jQuery,c=t.console,p=Object.prototype.toString;r.prototype=new e,r.prototype.options={},r.prototype.getImages=function(){this.images=[];for(var t=0;t<this.elements.length;t++){var e=this.elements[t];this.addElementImages(e)}},r.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),this.options.background===!0&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&u[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var s=i[n];this.addImage(s)}if("string"==typeof this.options.background){var o=t.querySelectorAll(this.options.background);for(n=0;n<o.length;n++){var r=o[n];this.addElementBackgroundImages(r)}}}};var u={1:!0,9:!0,11:!0};r.prototype.addElementBackgroundImages=function(t){for(var e=h(t),i=/url\(['"]*([^'"\)]+)['"]*\)/gi,n=i.exec(e.backgroundImage);null!==n;){var s=n&&n[1];s&&this.addBackground(s,t),n=i.exec(e.backgroundImage)}};var h=t.getComputedStyle||function(t){return t.currentStyle};return r.prototype.addImage=function(t){var e=new a(t);this.images.push(e)},r.prototype.addBackground=function(t,e){var i=new l(t,e);this.images.push(i)},r.prototype.check=function(){function t(t,i,n){setTimeout(function(){e.progress(t,i,n)})}var e=this;if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length)return void this.complete();for(var i=0;i<this.images.length;i++){var n=this.images[i];n.once("progress",t),n.check()}},r.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emit("progress",this,t,e),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&c&&c.log("progress: "+i,t,e)},r.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emit(t,this),this.emit("always",this),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},a.prototype=new e,a.prototype.check=function(){var t=this.getIsImageComplete();return t?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,i.bind(this.proxyImage,"load",this),i.bind(this.proxyImage,"error",this),i.bind(this.img,"load",this),i.bind(this.img,"error",this),void(this.proxyImage.src=this.img.src))},a.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},a.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("progress",this,this.img,e)},a.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},a.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},a.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},a.prototype.unbindEvents=function(){i.unbind(this.proxyImage,"load",this),i.unbind(this.proxyImage,"error",this),i.unbind(this.img,"load",this),i.unbind(this.img,"error",this)},l.prototype=new a,l.prototype.check=function(){i.bind(this.img,"load",this),i.bind(this.img,"error",this),this.img.src=this.url;var t=this.getIsImageComplete();t&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},l.prototype.unbindEvents=function(){i.unbind(this.img,"load",this),i.unbind(this.img,"error",this)},l.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("progress",this,this.element,e)},r.makeJQueryPlugin=function(e){e=e||t.jQuery,e&&(d=e,d.fn.imagesLoaded=function(t,e){var i=new r(this,t,e);return i.jqDeferred.promise(d(this))})},r.makeJQueryPlugin(),r}),function(t){var e={},n={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){},onSliderResize:function(){}};t.fn.bxSlider=function(s){if(0==this.length)return this;if(this.length>1)return this.each(function(){t(this).bxSlider(s)}),this;var o={},r=this;e.el=this;var a=t(window).width(),l=t(window).height(),d=function(){o.settings=t.extend({},n,s),o.settings.slideWidth=parseInt(o.settings.slideWidth),o.children=r.children(o.settings.slideSelector),o.children.length<o.settings.minSlides&&(o.settings.minSlides=o.children.length),o.children.length<o.settings.maxSlides&&(o.settings.maxSlides=o.children.length),o.settings.randomStart&&(o.settings.startSlide=Math.floor(Math.random()*o.children.length)),o.active={index:o.settings.startSlide},o.carousel=o.settings.minSlides>1||o.settings.maxSlides>1,o.carousel&&(o.settings.preloadImages="all"),o.minThreshold=o.settings.minSlides*o.settings.slideWidth+(o.settings.minSlides-1)*o.settings.slideMargin,o.maxThreshold=o.settings.maxSlides*o.settings.slideWidth+(o.settings.maxSlides-1)*o.settings.slideMargin,o.working=!1,o.controls={},o.interval=null,o.animProp="vertical"==o.settings.mode?"top":"left",o.usingCSS=o.settings.useCSS&&"fade"!=o.settings.mode&&function(){var t=document.createElement("div"),e=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in e)if(void 0!==t.style[e[i]])return o.cssPrefix=e[i].replace("Perspective","").toLowerCase(),o.animProp="-"+o.cssPrefix+"-transform",!0;return!1}(),"vertical"==o.settings.mode&&(o.settings.maxSlides=o.settings.minSlides),r.data("origStyle",r.attr("style")),r.children(o.settings.slideSelector).each(function(){t(this).data("origStyle",t(this).attr("style"))}),c()},c=function(){r.wrap('<div class="'+o.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),o.viewport=r.parent(),o.loader=t('<div class="bx-loading" />'),o.viewport.prepend(o.loader),r.css({width:"horizontal"==o.settings.mode?100*o.children.length+215+"%":"auto",position:"relative"}),o.usingCSS&&o.settings.easing?r.css("-"+o.cssPrefix+"-transition-timing-function",o.settings.easing):o.settings.easing||(o.settings.easing="swing");v();o.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),o.viewport.parent().css({maxWidth:m()}),o.settings.pager||o.viewport.parent().css({margin:"0 auto 0px"}),o.children.css({"float":"horizontal"==o.settings.mode?"left":"none",listStyle:"none",position:"relative"}),o.children.css("width",g()),"horizontal"==o.settings.mode&&o.settings.slideMargin>0&&o.children.css("marginRight",o.settings.slideMargin),"vertical"==o.settings.mode&&o.settings.slideMargin>0&&o.children.css("marginBottom",o.settings.slideMargin),"fade"==o.settings.mode&&(o.children.css({position:"absolute",zIndex:0,display:"none"}),o.children.eq(o.settings.startSlide).css({zIndex:o.settings.slideZIndex,display:"block"})),o.controls.el=t('<div class="bx-controls" />'),o.settings.captions&&P(),o.active.last=o.settings.startSlide==f()-1,o.settings.video&&r.fitVids();var e=o.children.eq(o.settings.startSlide);"all"==o.settings.preloadImages&&(e=o.children),o.settings.ticker?o.settings.pager=!1:(o.settings.pager&&S(),o.settings.controls&&I(),o.settings.auto&&o.settings.autoControls&&C(),(o.settings.controls||o.settings.autoControls||o.settings.pager)&&o.viewport.after(o.controls.el)),p(e,u)},p=function(e,i){var n=e.find("img, iframe").length;if(0==n)return void i();var s=0;e.find("img, iframe").each(function(){t(this).one("load",function(){++s==n&&i()}).each(function(){this.complete&&t(this).load()})})},u=function(){if(o.settings.infiniteLoop&&"fade"!=o.settings.mode&&!o.settings.ticker){var e="vertical"==o.settings.mode?o.settings.minSlides:o.settings.maxSlides,i=o.children.slice(0,e).clone().addClass("bx-clone"),n=o.children.slice(-e).clone().addClass("bx-clone");r.append(i).prepend(n)}o.loader.remove(),y(),"vertical"==o.settings.mode&&(o.settings.adaptiveHeight=!0),o.viewport.height(h()),r.redrawSlider(),o.settings.onSliderLoad(o.active.index),o.initialized=!0,o.settings.responsive&&t(window).bind("resize",X),o.settings.auto&&o.settings.autoStart&&(f()>1||o.settings.autoSlideForOnePage)&&M(),o.settings.ticker&&_(),o.settings.pager&&W(o.settings.startSlide),o.settings.controls&&L(),o.settings.touchEnabled&&!o.settings.ticker&&j()},h=function(){var e=0,n=t();if("vertical"==o.settings.mode||o.settings.adaptiveHeight)if(o.carousel){var s=1==o.settings.moveSlides?o.active.index:o.active.index*w();for(n=o.children.eq(s),i=1;i<=o.settings.maxSlides-1;i++)n=s+i>=o.children.length?n.add(o.children.eq(i-1)):n.add(o.children.eq(s+i))}else n=o.children.eq(o.active.index);else n=o.children;return"vertical"==o.settings.mode?(n.each(function(i){e+=t(this).outerHeight()}),o.settings.slideMargin>0&&(e+=o.settings.slideMargin*(o.settings.minSlides-1))):e=Math.max.apply(Math,n.map(function(){return t(this).outerHeight(!1)}).get()),"border-box"==o.viewport.css("box-sizing")?e+=parseFloat(o.viewport.css("padding-top"))+parseFloat(o.viewport.css("padding-bottom"))+parseFloat(o.viewport.css("border-top-width"))+parseFloat(o.viewport.css("border-bottom-width")):"padding-box"==o.viewport.css("box-sizing")&&(e+=parseFloat(o.viewport.css("padding-top"))+parseFloat(o.viewport.css("padding-bottom"))),e},m=function(){var t="100%";return o.settings.slideWidth>0&&(t="horizontal"==o.settings.mode?o.settings.maxSlides*o.settings.slideWidth+(o.settings.maxSlides-1)*o.settings.slideMargin:o.settings.slideWidth),t},g=function(){var t=o.settings.slideWidth,e=o.viewport.width();return 0==o.settings.slideWidth||o.settings.slideWidth>e&&!o.carousel||"vertical"==o.settings.mode?t=e:o.settings.maxSlides>1&&"horizontal"==o.settings.mode&&(e>o.maxThreshold||e<o.minThreshold&&(t=(e-o.settings.slideMargin*(o.settings.minSlides-1))/o.settings.minSlides)),t},v=function(){var t=1;if("horizontal"==o.settings.mode&&o.settings.slideWidth>0)if(o.viewport.width()<o.minThreshold)t=o.settings.minSlides;else if(o.viewport.width()>o.maxThreshold)t=o.settings.maxSlides;else{var e=o.children.first().width()+o.settings.slideMargin;t=Math.floor((o.viewport.width()+o.settings.slideMargin)/e)}else"vertical"==o.settings.mode&&(t=o.settings.minSlides);return t},f=function(){var t=0;if(o.settings.moveSlides>0)if(o.settings.infiniteLoop)t=Math.ceil(o.children.length/w());else for(var e=0,i=0;e<o.children.length;)++t,e=i+v(),i+=o.settings.moveSlides<=v()?o.settings.moveSlides:v();else t=Math.ceil(o.children.length/v());return t},w=function(){return o.settings.moveSlides>0&&o.settings.moveSlides<=v()?o.settings.moveSlides:v()},y=function(){if(o.children.length>o.settings.maxSlides&&o.active.last&&!o.settings.infiniteLoop){if("horizontal"==o.settings.mode){var t=o.children.last(),e=t.position();x(-(e.left-(o.viewport.width()-t.outerWidth())),"reset",0)}else if("vertical"==o.settings.mode){var i=o.children.length-o.settings.minSlides,e=o.children.eq(i).position();x(-e.top,"reset",0)}}else{var e=o.children.eq(o.active.index*w()).position();o.active.index==f()-1&&(o.active.last=!0),void 0!=e&&("horizontal"==o.settings.mode?x(-e.left,"reset",0):"vertical"==o.settings.mode&&x(-e.top,"reset",0))}},x=function(t,e,i,n){if(o.usingCSS){var s="vertical"==o.settings.mode?"translate3d(0, "+t+"px, 0)":"translate3d("+t+"px, 0, 0)";r.css("-"+o.cssPrefix+"-transition-duration",i/1e3+"s"),"slide"==e?(r.css(o.animProp,s),r.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){r.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),z()})):"reset"==e?r.css(o.animProp,s):"ticker"==e&&(r.css("-"+o.cssPrefix+"-transition-timing-function","linear"),r.css(o.animProp,s),r.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){r.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),x(n.resetValue,"reset",0),O()}))}else{var a={};a[o.animProp]=t,"slide"==e?r.animate(a,i,o.settings.easing,function(){z()}):"reset"==e?r.css(o.animProp,t):"ticker"==e&&r.animate(a,speed,"linear",function(){x(n.resetValue,"reset",0),O()})}},b=function(){for(var e="",i=f(),n=0;n<i;n++){var s="";o.settings.buildPager&&t.isFunction(o.settings.buildPager)?(s=o.settings.buildPager(n),o.pagerEl.addClass("bx-custom-pager")):(s=n+1,o.pagerEl.addClass("bx-default-pager")),e+='<div class="bx-pager-item"><a href="" data-slide-index="'+n+'" class="bx-pager-link">'+s+"</a></div>"}o.pagerEl.html(e)},S=function(){o.settings.pagerCustom?o.pagerEl=t(o.settings.pagerCustom):(o.pagerEl=t('<div class="bx-pager" />'),o.settings.pagerSelector?t(o.settings.pagerSelector).html(o.pagerEl):o.controls.el.addClass("bx-has-pager").append(o.pagerEl),b()),o.pagerEl.on("click","a",k)},I=function(){o.controls.next=t('<a class="bx-next" href="">'+o.settings.nextText+"</a>"),o.controls.prev=t('<a class="bx-prev" href="">'+o.settings.prevText+"</a>"),o.controls.next.bind("click",T),o.controls.prev.bind("click",E),o.settings.nextSelector&&t(o.settings.nextSelector).append(o.controls.next),o.settings.prevSelector&&t(o.settings.prevSelector).append(o.controls.prev),o.settings.nextSelector||o.settings.prevSelector||(o.controls.directionEl=t('<div class="bx-controls-direction" />'),o.controls.directionEl.append(o.controls.prev).append(o.controls.next),o.controls.el.addClass("bx-has-controls-direction").append(o.controls.directionEl))},C=function(){o.controls.start=t('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+o.settings.startText+"</a></div>"),o.controls.stop=t('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+o.settings.stopText+"</a></div>"),o.controls.autoEl=t('<div class="bx-controls-auto" />'),o.controls.autoEl.on("click",".bx-start",A),o.controls.autoEl.on("click",".bx-stop",$),o.settings.autoControlsCombine?o.controls.autoEl.append(o.controls.start):o.controls.autoEl.append(o.controls.start).append(o.controls.stop),o.settings.autoControlsSelector?t(o.settings.autoControlsSelector).html(o.controls.autoEl):o.controls.el.addClass("bx-has-controls-auto").append(o.controls.autoEl),D(o.settings.autoStart?"stop":"start")},P=function(){o.children.each(function(e){var i=t(this).find("img:first").attr("title");void 0!=i&&(""+i).length&&t(this).append('<div class="bx-caption"><span>'+i+"</span></div>")})},T=function(t){o.settings.auto&&r.stopAuto(),r.goToNextSlide(),t.preventDefault()},E=function(t){o.settings.auto&&r.stopAuto(),r.goToPrevSlide(),t.preventDefault()},A=function(t){r.startAuto(),t.preventDefault()},$=function(t){r.stopAuto(),t.preventDefault()},k=function(e){o.settings.auto&&r.stopAuto();var i=t(e.currentTarget);if(void 0!==i.attr("data-slide-index")){var n=parseInt(i.attr("data-slide-index"));n!=o.active.index&&r.goToSlide(n),e.preventDefault()}},W=function(e){var i=o.children.length;return"short"==o.settings.pagerType?(o.settings.maxSlides>1&&(i=Math.ceil(o.children.length/o.settings.maxSlides)),void o.pagerEl.html(e+1+o.settings.pagerShortSeparator+i)):(o.pagerEl.find("a").removeClass("active"),void o.pagerEl.each(function(i,n){t(n).find("a").eq(e).addClass("active")}))},z=function(){if(o.settings.infiniteLoop){var t="";0==o.active.index?t=o.children.eq(0).position():o.active.index==f()-1&&o.carousel?t=o.children.eq((f()-1)*w()).position():o.active.index==o.children.length-1&&(t=o.children.eq(o.children.length-1).position()),t&&("horizontal"==o.settings.mode?x(-t.left,"reset",0):"vertical"==o.settings.mode&&x(-t.top,"reset",0))}o.working=!1,o.settings.onSlideAfter(o.children.eq(o.active.index),o.oldIndex,o.active.index)},D=function(t){o.settings.autoControlsCombine?o.controls.autoEl.html(o.controls[t]):(o.controls.autoEl.find("a").removeClass("active"),o.controls.autoEl.find("a:not(.bx-"+t+")").addClass("active"))},L=function(){1==f()?(o.controls.prev.addClass("disabled"),o.controls.next.addClass("disabled")):!o.settings.infiniteLoop&&o.settings.hideControlOnEnd&&(0==o.active.index?(o.controls.prev.addClass("disabled"),o.controls.next.removeClass("disabled")):o.active.index==f()-1?(o.controls.next.addClass("disabled"),o.controls.prev.removeClass("disabled")):(o.controls.prev.removeClass("disabled"),o.controls.next.removeClass("disabled")))},M=function(){if(o.settings.autoDelay>0){setTimeout(r.startAuto,o.settings.autoDelay)}else r.startAuto();o.settings.autoHover&&r.hover(function(){o.interval&&(r.stopAuto(!0),o.autoPaused=!0)},function(){o.autoPaused&&(r.startAuto(!0),o.autoPaused=null)})},_=function(){var e=0;if("next"==o.settings.autoDirection)r.append(o.children.clone().addClass("bx-clone"));else{r.prepend(o.children.clone().addClass("bx-clone"));var i=o.children.first().position();e="horizontal"==o.settings.mode?-i.left:-i.top}x(e,"reset",0),o.settings.pager=!1,o.settings.controls=!1,o.settings.autoControls=!1,o.settings.tickerHover&&!o.usingCSS&&o.viewport.hover(function(){r.stop()},function(){var e=0;o.children.each(function(i){e+="horizontal"==o.settings.mode?t(this).outerWidth(!0):t(this).outerHeight(!0)});var i=o.settings.speed/e,n="horizontal"==o.settings.mode?"left":"top",s=i*(e-Math.abs(parseInt(r.css(n))));O(s)}),O()},O=function(t){speed=t?t:o.settings.speed;var e={left:0,top:0},i={left:0,top:0};"next"==o.settings.autoDirection?e=r.find(".bx-clone").first().position():i=o.children.first().position();var n="horizontal"==o.settings.mode?-e.left:-e.top,s="horizontal"==o.settings.mode?-i.left:-i.top,a={resetValue:s};x(n,"ticker",speed,a)},j=function(){o.touch={start:{x:0,y:0},end:{x:0,y:0}},o.viewport.bind("touchstart",q)},q=function(t){if(o.working)t.preventDefault();else{o.touch.originalPos=r.position();var e=t.originalEvent;o.touch.start.x=e.changedTouches[0].pageX,o.touch.start.y=e.changedTouches[0].pageY,o.viewport.bind("touchmove",F),o.viewport.bind("touchend",B)}},F=function(t){var e=t.originalEvent,i=Math.abs(e.changedTouches[0].pageX-o.touch.start.x),n=Math.abs(e.changedTouches[0].pageY-o.touch.start.y);if(3*i>n&&o.settings.preventDefaultSwipeX?t.preventDefault():3*n>i&&o.settings.preventDefaultSwipeY&&t.preventDefault(),"fade"!=o.settings.mode&&o.settings.oneToOneTouch){var s=0;if("horizontal"==o.settings.mode){var r=e.changedTouches[0].pageX-o.touch.start.x;s=o.touch.originalPos.left+r}else{var r=e.changedTouches[0].pageY-o.touch.start.y;s=o.touch.originalPos.top+r}x(s,"reset",0)}},B=function(t){o.viewport.unbind("touchmove",F);var e=t.originalEvent,i=0;if(o.touch.end.x=e.changedTouches[0].pageX,o.touch.end.y=e.changedTouches[0].pageY,"fade"==o.settings.mode){var n=Math.abs(o.touch.start.x-o.touch.end.x);n>=o.settings.swipeThreshold&&(o.touch.start.x>o.touch.end.x?r.goToNextSlide():r.goToPrevSlide(),r.stopAuto())}else{var n=0;"horizontal"==o.settings.mode?(n=o.touch.end.x-o.touch.start.x,i=o.touch.originalPos.left):(n=o.touch.end.y-o.touch.start.y,i=o.touch.originalPos.top),!o.settings.infiniteLoop&&(0==o.active.index&&n>0||o.active.last&&n<0)?x(i,"reset",200):Math.abs(n)>=o.settings.swipeThreshold?(n<0?r.goToNextSlide():r.goToPrevSlide(),r.stopAuto()):x(i,"reset",200)}o.viewport.unbind("touchend",B)},X=function(e){if(o.initialized){var i=t(window).width(),n=t(window).height();a==i&&l==n||(a=i,l=n,r.redrawSlider(),o.settings.onSliderResize.call(r,o.active.index))}};return r.goToSlide=function(e,i){if(!o.working&&o.active.index!=e)if(o.working=!0,o.oldIndex=o.active.index,e<0?o.active.index=f()-1:e>=f()?o.active.index=0:o.active.index=e,o.settings.onSlideBefore(o.children.eq(o.active.index),o.oldIndex,o.active.index),"next"==i?o.settings.onSlideNext(o.children.eq(o.active.index),o.oldIndex,o.active.index):"prev"==i&&o.settings.onSlidePrev(o.children.eq(o.active.index),o.oldIndex,o.active.index),o.active.last=o.active.index>=f()-1,o.settings.pager&&W(o.active.index),o.settings.controls&&L(),"fade"==o.settings.mode)o.settings.adaptiveHeight&&o.viewport.height()!=h()&&o.viewport.animate({height:h()},o.settings.adaptiveHeightSpeed),o.children.filter(":visible").fadeOut(o.settings.speed).css({zIndex:0}),o.children.eq(o.active.index).css("zIndex",o.settings.slideZIndex+1).fadeIn(o.settings.speed,function(){t(this).css("zIndex",o.settings.slideZIndex),z()});else{o.settings.adaptiveHeight&&o.viewport.height()!=h()&&o.viewport.animate({height:h()},o.settings.adaptiveHeightSpeed);var n=0,s={left:0,top:0};if(!o.settings.infiniteLoop&&o.carousel&&o.active.last)if("horizontal"==o.settings.mode){var a=o.children.eq(o.children.length-1);s=a.position(),n=o.viewport.width()-a.outerWidth()}else{var l=o.children.length-o.settings.minSlides;s=o.children.eq(l).position()}else if(o.carousel&&o.active.last&&"prev"==i){var d=1==o.settings.moveSlides?o.settings.maxSlides-w():(f()-1)*w()-(o.children.length-o.settings.maxSlides),a=r.children(".bx-clone").eq(d);s=a.position()}else if("next"==i&&0==o.active.index)s=r.find("> .bx-clone").eq(o.settings.maxSlides).position(),o.active.last=!1;else if(e>=0){var c=e*w();s=o.children.eq(c).position()}if("undefined"!=typeof s){var p="horizontal"==o.settings.mode?-(s.left-n):-s.top;x(p,"slide",o.settings.speed)}}},r.goToNextSlide=function(){if(o.settings.infiniteLoop||!o.active.last){var t=parseInt(o.active.index)+1;r.goToSlide(t,"next")}},r.goToPrevSlide=function(){if(o.settings.infiniteLoop||0!=o.active.index){var t=parseInt(o.active.index)-1;r.goToSlide(t,"prev")}},r.startAuto=function(t){o.interval||(o.interval=setInterval(function(){"next"==o.settings.autoDirection?r.goToNextSlide():r.goToPrevSlide()},o.settings.pause),o.settings.autoControls&&1!=t&&D("stop"))},r.stopAuto=function(t){o.interval&&(clearInterval(o.interval),o.interval=null,o.settings.autoControls&&1!=t&&D("start"))},r.getCurrentSlide=function(){return o.active.index},r.getCurrentSlideElement=function(){return o.children.eq(o.active.index)},r.getSlideCount=function(){return o.children.length},r.redrawSlider=function(){o.children.add(r.find(".bx-clone")).width(g()),o.viewport.css("height",h()),o.settings.ticker||y(),o.active.last&&(o.active.index=f()-1),o.active.index>=f()&&(o.active.last=!0),o.settings.pager&&!o.settings.pagerCustom&&(b(),W(o.active.index))},r.destroySlider=function(){o.initialized&&(o.initialized=!1,t(".bx-clone",this).remove(),o.children.each(function(){void 0!=t(this).data("origStyle")?t(this).attr("style",t(this).data("origStyle")):t(this).removeAttr("style")}),void 0!=t(this).data("origStyle")?this.attr("style",t(this).data("origStyle")):t(this).removeAttr("style"),t(this).unwrap().unwrap(),o.controls.el&&o.controls.el.remove(),o.controls.next&&o.controls.next.remove(),o.controls.prev&&o.controls.prev.remove(),o.pagerEl&&o.settings.controls&&o.pagerEl.remove(),t(".bx-caption",this).remove(),o.controls.autoEl&&o.controls.autoEl.remove(),clearInterval(o.interval),o.settings.responsive&&t(window).unbind("resize",X))},r.reloadSlider=function(t){void 0!=t&&(s=t),r.destroySlider(),d()},d(),this}}(jQuery),function(t,e,i){"use strict";var n,s=e.event;s.special.smartresize={setup:function(){e(this).bind("resize",s.special.smartresize.handler)},teardown:function(){e(this).unbind("resize",s.special.smartresize.handler)},handler:function(t,e){var i=this,o=arguments;t.type="smartresize",n&&clearTimeout(n),n=setTimeout(function(){s.dispatch.apply(i,o)},"execAsap"===e?0:100)}},e.fn.smartresize=function(t){return t?this.bind("smartresize",t):this.trigger("smartresize",["execAsap"])},e.Mason=function(t,i){this.element=e(i),this._create(t),this._init()},e.Mason.settings={isResizable:!0,isAnimated:!1,animationOptions:{queue:!1,duration:500},gutterWidth:0,isRTL:!1,isFitWidth:!1,containerStyle:{position:"relative"}},e.Mason.prototype={_filterFindBricks:function(t){var e=this.options.itemSelector;return e?t.filter(e).add(t.find(e)):t},_getBricks:function(t){var e=this._filterFindBricks(t).css({position:"absolute"}).addClass("masonry-brick");return e},_create:function(i){this.options=e.extend(!0,{},e.Mason.settings,i),this.styleQueue=[];var n=this.element[0].style;this.originalStyle={height:n.height||""};var s=this.options.containerStyle;for(var o in s)this.originalStyle[o]=n[o]||"";this.element.css(s),this.horizontalDirection=this.options.isRTL?"right":"left";var r=this.element.css("padding-"+this.horizontalDirection),a=this.element.css("padding-top");this.offset={x:r?parseInt(r,10):0,y:a?parseInt(a,10):0},this.isFluid=this.options.columnWidth&&"function"==typeof this.options.columnWidth;var l=this;setTimeout(function(){l.element.addClass("masonry")},0),this.options.isResizable&&e(t).bind("smartresize.masonry",function(){l.resize()}),this.reloadItems()},_init:function(t){this._getColumns(),this._reLayout(t)},option:function(t,i){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))},layout:function(t,e){for(var i=0,n=t.length;i<n;i++)this._placeBrick(t[i]);var s={};if(s.height=Math.max.apply(Math,this.colYs),this.options.isFitWidth){var o=0;for(i=this.cols;--i&&0===this.colYs[i];)o++;s.width=(this.cols-o)*this.columnWidth-this.options.gutterWidth}this.styleQueue.push({$el:this.element,style:s});var r,a=this.isLaidOut&&this.options.isAnimated?"animate":"css",l=this.options.animationOptions;for(i=0,n=this.styleQueue.length;i<n;i++)r=this.styleQueue[i],r.$el[a](r.style,l);this.styleQueue=[],e&&e.call(t),this.isLaidOut=!0},_getColumns:function(){var t=this.options.isFitWidth?this.element.parent():this.element,e=t.width();this.columnWidth=this.isFluid?this.options.columnWidth(e):this.options.columnWidth||this.$bricks.outerWidth(!0)||e,this.columnWidth+=this.options.gutterWidth,this.cols=Math.floor((e+this.options.gutterWidth)/this.columnWidth),this.cols=Math.max(this.cols,1)},_placeBrick:function(t){var i,n,s,o,r,a=e(t);if(i=Math.ceil(a.outerWidth(!0)/this.columnWidth),i=Math.min(i,this.cols),1===i)s=this.colYs;else for(n=this.cols+1-i,s=[],r=0;r<n;r++)o=this.colYs.slice(r,r+i),s[r]=Math.max.apply(Math,o);for(var l=Math.min.apply(Math,s),d=0,c=0,p=s.length;c<p;c++)if(s[c]===l){d=c;break}var u={top:l+this.offset.y};u[this.horizontalDirection]=this.columnWidth*d+this.offset.x,this.styleQueue.push({$el:a,style:u});var h=l+a.outerHeight(!0),m=this.cols+1-p;for(c=0;c<m;c++)this.colYs[d+c]=h},resize:function(){var t=this.cols;this._getColumns(),(this.isFluid||this.cols!==t)&&this._reLayout()},_reLayout:function(t){var e=this.cols;for(this.colYs=[];e--;)this.colYs.push(0);this.layout(this.$bricks,t)},reloadItems:function(){this.$bricks=this._getBricks(this.element.children())},reload:function(t){this.reloadItems(),this._init(t)},appended:function(t,e,i){if(e){this._filterFindBricks(t).css({top:this.element.height()});var n=this;setTimeout(function(){n._appended(t,i)},1)}else this._appended(t,i)},_appended:function(t,e){var i=this._getBricks(t);this.$bricks=this.$bricks.add(i),this.layout(i,e)},remove:function(t){this.$bricks=this.$bricks.not(t),t.remove()},destroy:function(){this.$bricks.removeClass("masonry-brick").each(function(){this.style.position="",this.style.top="",this.style.left=""});var i=this.element[0].style;for(var n in this.originalStyle)i[n]=this.originalStyle[n];this.element.unbind(".masonry").removeClass("masonry").removeData("masonry"),e(t).unbind(".masonry")}},e.fn.imagesLoaded=function(t){function i(){t.call(s,o)}function n(t){var s=t.target;s.src!==a&&e.inArray(s,l)===-1&&(l.push(s),
--r<=0&&(setTimeout(i),o.unbind(".imagesLoaded",n)))}var s=this,o=s.find("img").add(s.filter("img")),r=o.length,a="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",l=[];return r||i(),o.bind("load.imagesLoaded error.imagesLoaded",n).each(function(){var t=this.src;this.src=a,this.src=t}),s};var o=function(e){t.console&&t.console.error(e)};e.fn.masonry=function(t){if("string"==typeof t){var i=Array.prototype.slice.call(arguments,1);this.each(function(){var n=e.data(this,"masonry");return n?e.isFunction(n[t])&&"_"!==t.charAt(0)?void n[t].apply(n,i):void o("no such method '"+t+"' for masonry instance"):void o("cannot call methods on masonry prior to initialization; attempted to call method '"+t+"'")})}else this.each(function(){var i=e.data(this,"masonry");i?(i.option(t||{}),i._init()):e.data(this,"masonry",new e.Mason(t,this))});return this}}(window,jQuery),"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),function(t,e,i){var n={init:function(e,i){var n=this;n.$elem=t(i),n.options=t.extend({},t.fn.owlCarousel.options,n.$elem.data(),e),n.userOptions=e,n.loadContent()},loadContent:function(){function e(t){var e,i="";if("function"==typeof n.options.jsonSuccess)n.options.jsonSuccess.apply(this,[t]);else{for(e in t.owl)t.owl.hasOwnProperty(e)&&(i+=t.owl[e].item);n.$elem.html(i)}n.logIn()}var i,n=this;"function"==typeof n.options.beforeInit&&n.options.beforeInit.apply(this,[n.$elem]),"string"==typeof n.options.jsonPath?(i=n.options.jsonPath,t.getJSON(i,e)):n.logIn()},logIn:function(){var t=this;t.$elem.data("owl-originalStyles",t.$elem.attr("style")),t.$elem.data("owl-originalClasses",t.$elem.attr("class")),t.$elem.css({opacity:0}),t.orignalItems=t.options.items,t.checkBrowser(),t.wrapperWidth=0,t.checkVisible=null,t.setVars()},setVars:function(){var t=this;return 0!==t.$elem.children().length&&(t.baseClass(),t.eventTypes(),t.$userItems=t.$elem.children(),t.itemsAmount=t.$userItems.length,t.wrapItems(),t.$owlItems=t.$elem.find(".owl-item"),t.$owlWrapper=t.$elem.find(".owl-wrapper"),t.playDirection="next",t.prevItem=0,t.prevArr=[0],t.currentItem=0,t.customEvents(),void t.onStartup())},onStartup:function(){var t=this;t.updateItems(),t.calculateAll(),t.buildControls(),t.updateControls(),t.response(),t.moveEvents(),t.stopOnHover(),t.owlStatus(),t.options.transitionStyle!==!1&&t.transitionTypes(t.options.transitionStyle),t.options.autoPlay===!0&&(t.options.autoPlay=5e3),t.play(),t.$elem.find(".owl-wrapper").css("display","block"),t.$elem.is(":visible")?t.$elem.css("opacity",1):t.watchVisibility(),t.onstartup=!1,t.eachMoveUpdate(),"function"==typeof t.options.afterInit&&t.options.afterInit.apply(this,[t.$elem])},eachMoveUpdate:function(){var t=this;t.options.lazyLoad===!0&&t.lazyLoad(),t.options.autoHeight===!0&&t.autoHeight(),t.onVisibleItems(),"function"==typeof t.options.afterAction&&t.options.afterAction.apply(this,[t.$elem])},updateVars:function(){var t=this;"function"==typeof t.options.beforeUpdate&&t.options.beforeUpdate.apply(this,[t.$elem]),t.watchVisibility(),t.updateItems(),t.calculateAll(),t.updatePosition(),t.updateControls(),t.eachMoveUpdate(),"function"==typeof t.options.afterUpdate&&t.options.afterUpdate.apply(this,[t.$elem])},reload:function(){var t=this;e.setTimeout(function(){t.updateVars()},0)},watchVisibility:function(){var t=this;return t.$elem.is(":visible")===!1&&(t.$elem.css({opacity:0}),e.clearInterval(t.autoPlayInterval),e.clearInterval(t.checkVisible),void(t.checkVisible=e.setInterval(function(){t.$elem.is(":visible")&&(t.reload(),t.$elem.animate({opacity:1},200),e.clearInterval(t.checkVisible))},500)))},wrapItems:function(){var t=this;t.$userItems.wrapAll('<div class="owl-wrapper">').wrap('<div class="owl-item"></div>'),t.$elem.find(".owl-wrapper").wrap('<div class="owl-wrapper-outer">'),t.wrapperOuter=t.$elem.find(".owl-wrapper-outer"),t.$elem.css("display","block")},baseClass:function(){var t=this,e=t.$elem.hasClass(t.options.baseClass),i=t.$elem.hasClass(t.options.theme);e||t.$elem.addClass(t.options.baseClass),i||t.$elem.addClass(t.options.theme)},updateItems:function(){var e,i,n=this;if(n.options.responsive===!1)return!1;if(n.options.singleItem===!0)return n.options.items=n.orignalItems=1,n.options.itemsCustom=!1,n.options.itemsDesktop=!1,n.options.itemsDesktopSmall=!1,n.options.itemsTablet=!1,n.options.itemsTabletSmall=!1,n.options.itemsMobile=!1,!1;if(e=t(n.options.responsiveBaseWidth).width(),e>(n.options.itemsDesktop[0]||n.orignalItems)&&(n.options.items=n.orignalItems),n.options.itemsCustom!==!1)for(n.options.itemsCustom.sort(function(t,e){return t[0]-e[0]}),i=0;i<n.options.itemsCustom.length;i+=1)n.options.itemsCustom[i][0]<=e&&(n.options.items=n.options.itemsCustom[i][1]);else e<=n.options.itemsDesktop[0]&&n.options.itemsDesktop!==!1&&(n.options.items=n.options.itemsDesktop[1]),e<=n.options.itemsDesktopSmall[0]&&n.options.itemsDesktopSmall!==!1&&(n.options.items=n.options.itemsDesktopSmall[1]),e<=n.options.itemsTablet[0]&&n.options.itemsTablet!==!1&&(n.options.items=n.options.itemsTablet[1]),e<=n.options.itemsTabletSmall[0]&&n.options.itemsTabletSmall!==!1&&(n.options.items=n.options.itemsTabletSmall[1]),e<=n.options.itemsMobile[0]&&n.options.itemsMobile!==!1&&(n.options.items=n.options.itemsMobile[1]);n.options.items>n.itemsAmount&&n.options.itemsScaleUp===!0&&(n.options.items=n.itemsAmount)},response:function(){var i,n,s=this;return s.options.responsive===!0&&(n=t(e).width(),s.resizer=function(){t(e).width()!==n&&(s.options.autoPlay!==!1&&e.clearInterval(s.autoPlayInterval),e.clearTimeout(i),i=e.setTimeout(function(){n=t(e).width(),s.updateVars()},s.options.responsiveRefreshRate))},void t(e).resize(s.resizer))},updatePosition:function(){var t=this;t.jumpTo(t.currentItem),t.options.autoPlay!==!1&&t.checkAp()},appendItemsSizes:function(){var e=this,i=0,n=e.itemsAmount-e.options.items;e.$owlItems.each(function(s){var o=t(this);o.css({width:e.itemWidth}).data("owl-item",Number(s)),s%e.options.items!==0&&s!==n||s>n||(i+=1),o.data("owl-roundPages",i)})},appendWrapperSizes:function(){var t=this,e=t.$owlItems.length*t.itemWidth;t.$owlWrapper.css({width:2*e,left:0}),t.appendItemsSizes()},calculateAll:function(){var t=this;t.calculateWidth(),t.appendWrapperSizes(),t.loops(),t.max()},calculateWidth:function(){var t=this;t.itemWidth=Math.round(t.$elem.width()/t.options.items)},max:function(){var t=this,e=(t.itemsAmount*t.itemWidth-t.options.items*t.itemWidth)*-1;return t.options.items>t.itemsAmount?(t.maximumItem=0,e=0,t.maximumPixels=0):(t.maximumItem=t.itemsAmount-t.options.items,t.maximumPixels=e),e},min:function(){return 0},loops:function(){var e,i,n,s=this,o=0,r=0;for(s.positionsInArray=[0],s.pagesInArray=[],e=0;e<s.itemsAmount;e+=1)r+=s.itemWidth,s.positionsInArray.push(-r),s.options.scrollPerPage===!0&&(i=t(s.$owlItems[e]),n=i.data("owl-roundPages"),n!==o&&(s.pagesInArray[o]=s.positionsInArray[e],o=n))},buildControls:function(){var e=this;e.options.navigation!==!0&&e.options.pagination!==!0||(e.owlControls=t('<div class="owl-controls"/>').toggleClass("clickable",!e.browser.isTouch).appendTo(e.$elem)),e.options.pagination===!0&&e.buildPagination(),e.options.navigation===!0&&e.buildButtons()},buildButtons:function(){var e=this,i=t('<div class="owl-buttons"/>');e.owlControls.append(i),e.buttonPrev=t("<div/>",{"class":"owl-prev",html:e.options.navigationText[0]||""}),e.buttonNext=t("<div/>",{"class":"owl-next",html:e.options.navigationText[1]||""}),i.append(e.buttonPrev).append(e.buttonNext),i.on("touchstart.owlControls mousedown.owlControls",'div[class^="owl"]',function(t){t.preventDefault()}),i.on("touchend.owlControls mouseup.owlControls",'div[class^="owl"]',function(i){i.preventDefault(),t(this).hasClass("owl-next")?e.next():e.prev()})},buildPagination:function(){var e=this;e.paginationWrapper=t('<div class="owl-pagination"/>'),e.owlControls.append(e.paginationWrapper),e.paginationWrapper.on("touchend.owlControls mouseup.owlControls",".owl-page",function(i){i.preventDefault(),Number(t(this).data("owl-page"))!==e.currentItem&&e.goTo(Number(t(this).data("owl-page")),!0)})},updatePagination:function(){var e,i,n,s,o,r,a=this;if(a.options.pagination===!1)return!1;for(a.paginationWrapper.html(""),e=0,i=a.itemsAmount-a.itemsAmount%a.options.items,s=0;s<a.itemsAmount;s+=1)s%a.options.items===0&&(e+=1,i===s&&(n=a.itemsAmount-a.options.items),o=t("<div/>",{"class":"owl-page"}),r=t("<span></span>",{text:a.options.paginationNumbers===!0?e:"","class":a.options.paginationNumbers===!0?"owl-numbers":""}),o.append(r),o.data("owl-page",i===s?n:s),o.data("owl-roundPages",e),a.paginationWrapper.append(o));a.checkPagination()},checkPagination:function(){var e=this;return e.options.pagination!==!1&&void e.paginationWrapper.find(".owl-page").each(function(){t(this).data("owl-roundPages")===t(e.$owlItems[e.currentItem]).data("owl-roundPages")&&(e.paginationWrapper.find(".owl-page").removeClass("active"),t(this).addClass("active"))})},checkNavigation:function(){var t=this;return t.options.navigation!==!1&&void(t.options.rewindNav===!1&&(0===t.currentItem&&0===t.maximumItem?(t.buttonPrev.addClass("disabled"),t.buttonNext.addClass("disabled")):0===t.currentItem&&0!==t.maximumItem?(t.buttonPrev.addClass("disabled"),t.buttonNext.removeClass("disabled")):t.currentItem===t.maximumItem?(t.buttonPrev.removeClass("disabled"),t.buttonNext.addClass("disabled")):0!==t.currentItem&&t.currentItem!==t.maximumItem&&(t.buttonPrev.removeClass("disabled"),t.buttonNext.removeClass("disabled"))))},updateControls:function(){var t=this;t.updatePagination(),t.checkNavigation(),t.owlControls&&(t.options.items>=t.itemsAmount?t.owlControls.hide():t.owlControls.show())},destroyControls:function(){var t=this;t.owlControls&&t.owlControls.remove()},next:function(t){var e=this;if(e.isTransition)return!1;if(e.currentItem+=e.options.scrollPerPage===!0?e.options.items:1,e.currentItem>e.maximumItem+(e.options.scrollPerPage===!0?e.options.items-1:0)){if(e.options.rewindNav!==!0)return e.currentItem=e.maximumItem,!1;e.currentItem=0,t="rewind"}e.goTo(e.currentItem,t)},prev:function(t){var e=this;if(e.isTransition)return!1;if(e.options.scrollPerPage===!0&&e.currentItem>0&&e.currentItem<e.options.items?e.currentItem=0:e.currentItem-=e.options.scrollPerPage===!0?e.options.items:1,e.currentItem<0){if(e.options.rewindNav!==!0)return e.currentItem=0,!1;e.currentItem=e.maximumItem,t="rewind"}e.goTo(e.currentItem,t)},goTo:function(t,i,n){var s,o=this;return!o.isTransition&&("function"==typeof o.options.beforeMove&&o.options.beforeMove.apply(this,[o.$elem]),t>=o.maximumItem?t=o.maximumItem:t<=0&&(t=0),o.currentItem=o.owl.currentItem=t,o.options.transitionStyle!==!1&&"drag"!==n&&1===o.options.items&&o.browser.support3d===!0?(o.swapSpeed(0),o.browser.support3d===!0?o.transition3d(o.positionsInArray[t]):o.css2slide(o.positionsInArray[t],1),o.afterGo(),o.singleItemTransition(),!1):(s=o.positionsInArray[t],o.browser.support3d===!0?(o.isCss3Finish=!1,i===!0?(o.swapSpeed("paginationSpeed"),e.setTimeout(function(){o.isCss3Finish=!0},o.options.paginationSpeed)):"rewind"===i?(o.swapSpeed(o.options.rewindSpeed),e.setTimeout(function(){o.isCss3Finish=!0},o.options.rewindSpeed)):(o.swapSpeed("slideSpeed"),e.setTimeout(function(){o.isCss3Finish=!0},o.options.slideSpeed)),o.transition3d(s)):i===!0?o.css2slide(s,o.options.paginationSpeed):"rewind"===i?o.css2slide(s,o.options.rewindSpeed):o.css2slide(s,o.options.slideSpeed),void o.afterGo()))},jumpTo:function(t){var e=this;"function"==typeof e.options.beforeMove&&e.options.beforeMove.apply(this,[e.$elem]),t>=e.maximumItem||t===-1?t=e.maximumItem:t<=0&&(t=0),e.swapSpeed(0),e.browser.support3d===!0?e.transition3d(e.positionsInArray[t]):e.css2slide(e.positionsInArray[t],1),e.currentItem=e.owl.currentItem=t,e.afterGo()},afterGo:function(){var t=this;t.prevArr.push(t.currentItem),t.prevItem=t.owl.prevItem=t.prevArr[t.prevArr.length-2],t.prevArr.shift(0),t.prevItem!==t.currentItem&&(t.checkPagination(),t.checkNavigation(),t.eachMoveUpdate(),t.options.autoPlay!==!1&&t.checkAp()),"function"==typeof t.options.afterMove&&t.prevItem!==t.currentItem&&t.options.afterMove.apply(this,[t.$elem])},stop:function(){var t=this;t.apStatus="stop",e.clearInterval(t.autoPlayInterval)},checkAp:function(){var t=this;"stop"!==t.apStatus&&t.play()},play:function(){var t=this;return t.apStatus="play",t.options.autoPlay!==!1&&(e.clearInterval(t.autoPlayInterval),void(t.autoPlayInterval=e.setInterval(function(){t.next(!0)},t.options.autoPlay)))},swapSpeed:function(t){var e=this;"slideSpeed"===t?e.$owlWrapper.css(e.addCssSpeed(e.options.slideSpeed)):"paginationSpeed"===t?e.$owlWrapper.css(e.addCssSpeed(e.options.paginationSpeed)):"string"!=typeof t&&e.$owlWrapper.css(e.addCssSpeed(t))},addCssSpeed:function(t){return{"-webkit-transition":"all "+t+"ms ease","-moz-transition":"all "+t+"ms ease","-o-transition":"all "+t+"ms ease",transition:"all "+t+"ms ease"}},removeTransition:function(){return{"-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""}},doTranslate:function(t){return{"-webkit-transform":"translate3d("+t+"px, 0px, 0px)","-moz-transform":"translate3d("+t+"px, 0px, 0px)","-o-transform":"translate3d("+t+"px, 0px, 0px)","-ms-transform":"translate3d("+t+"px, 0px, 0px)",transform:"translate3d("+t+"px, 0px,0px)"}},transition3d:function(t){var e=this;e.$owlWrapper.css(e.doTranslate(t))},css2move:function(t){var e=this;e.$owlWrapper.css({left:t})},css2slide:function(t,e){var i=this;i.isCssFinish=!1,i.$owlWrapper.stop(!0,!0).animate({left:t},{duration:e||i.options.slideSpeed,complete:function(){i.isCssFinish=!0}})},checkBrowser:function(){var t,n,s,o,r=this,a="translate3d(0px, 0px, 0px)",l=i.createElement("div");l.style.cssText="  -moz-transform:"+a+"; -ms-transform:"+a+"; -o-transform:"+a+"; -webkit-transform:"+a+"; transform:"+a,t=/translate3d\(0px, 0px, 0px\)/g,n=l.style.cssText.match(t),s=null!==n&&1===n.length,o="ontouchstart"in e||e.navigator.msMaxTouchPoints,r.browser={support3d:s,isTouch:o}},moveEvents:function(){var t=this;t.options.mouseDrag===!1&&t.options.touchDrag===!1||(t.gestures(),t.disabledEvents())},eventTypes:function(){var t=this,e=["s","e","x"];t.ev_types={},t.options.mouseDrag===!0&&t.options.touchDrag===!0?e=["touchstart.owl mousedown.owl","touchmove.owl mousemove.owl","touchend.owl touchcancel.owl mouseup.owl"]:t.options.mouseDrag===!1&&t.options.touchDrag===!0?e=["touchstart.owl","touchmove.owl","touchend.owl touchcancel.owl"]:t.options.mouseDrag===!0&&t.options.touchDrag===!1&&(e=["mousedown.owl","mousemove.owl","mouseup.owl"]),t.ev_types.start=e[0],t.ev_types.move=e[1],t.ev_types.end=e[2]},disabledEvents:function(){var e=this;e.$elem.on("dragstart.owl",function(t){t.preventDefault()}),e.$elem.on("mousedown.disableTextSelect",function(e){return t(e.target).is("input, textarea, select, option")})},gestures:function(){function n(t){if(void 0!==t.touches)return{x:t.touches[0].pageX,y:t.touches[0].pageY};if(void 0===t.touches){if(void 0!==t.pageX)return{x:t.pageX,y:t.pageY};if(void 0===t.pageX)return{x:t.clientX,y:t.clientY}}}function s(e){"on"===e?(t(i).on(l.ev_types.move,r),t(i).on(l.ev_types.end,a)):"off"===e&&(t(i).off(l.ev_types.move),t(i).off(l.ev_types.end))}function o(i){var o,r=i.originalEvent||i||e.event;if(3===r.which)return!1;if(!(l.itemsAmount<=l.options.items)){if(l.isCssFinish===!1&&!l.options.dragBeforeAnimFinish)return!1;if(l.isCss3Finish===!1&&!l.options.dragBeforeAnimFinish)return!1;l.options.autoPlay!==!1&&e.clearInterval(l.autoPlayInterval),l.browser.isTouch===!0||l.$owlWrapper.hasClass("grabbing")||l.$owlWrapper.addClass("grabbing"),l.newPosX=0,l.newRelativeX=0,t(this).css(l.removeTransition()),o=t(this).position(),d.relativePos=o.left,d.offsetX=n(r).x-o.left,d.offsetY=n(r).y-o.top,s("on"),d.sliding=!1,d.targetElement=r.target||r.srcElement}}function r(s){var o,r,a=s.originalEvent||s||e.event;l.newPosX=n(a).x-d.offsetX,l.newPosY=n(a).y-d.offsetY,l.newRelativeX=l.newPosX-d.relativePos,"function"==typeof l.options.startDragging&&d.dragging!==!0&&0!==l.newRelativeX&&(d.dragging=!0,l.options.startDragging.apply(l,[l.$elem])),(l.newRelativeX>8||l.newRelativeX<-8)&&l.browser.isTouch===!0&&(void 0!==a.preventDefault?a.preventDefault():a.returnValue=!1,d.sliding=!0),(l.newPosY>10||l.newPosY<-10)&&d.sliding===!1&&t(i).off("touchmove.owl"),o=function(){return l.newRelativeX/5},r=function(){return l.maximumPixels+l.newRelativeX/5},l.newPosX=Math.max(Math.min(l.newPosX,o()),r()),l.browser.support3d===!0?l.transition3d(l.newPosX):l.css2move(l.newPosX)}function a(i){var n,o,r,a=i.originalEvent||i||e.event;a.target=a.target||a.srcElement,d.dragging=!1,l.browser.isTouch!==!0&&l.$owlWrapper.removeClass("grabbing"),l.newRelativeX<0?l.dragDirection=l.owl.dragDirection="left":l.dragDirection=l.owl.dragDirection="right",0!==l.newRelativeX&&(n=l.getNewPosition(),l.goTo(n,!1,"drag"),d.targetElement===a.target&&l.browser.isTouch!==!0&&(t(a.target).on("click.disable",function(e){e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),t(e.target).off("click.disable")}),o=t._data(a.target,"events").click,r=o.pop(),o.splice(0,0,r))),s("off")}var l=this,d={offsetX:0,offsetY:0,baseElWidth:0,relativePos:0,position:null,minSwipe:null,maxSwipe:null,sliding:null,dargging:null,targetElement:null};l.isCssFinish=!0,l.$elem.on(l.ev_types.start,".owl-wrapper",o)},getNewPosition:function(){var t=this,e=t.closestItem();return e>t.maximumItem?(t.currentItem=t.maximumItem,e=t.maximumItem):t.newPosX>=0&&(e=0,t.currentItem=0),e},closestItem:function(){var e=this,i=e.options.scrollPerPage===!0?e.pagesInArray:e.positionsInArray,n=e.newPosX,s=null;return t.each(i,function(o,r){n-e.itemWidth/20>i[o+1]&&n-e.itemWidth/20<r&&"left"===e.moveDirection()?(s=r,e.options.scrollPerPage===!0?e.currentItem=t.inArray(s,e.positionsInArray):e.currentItem=o):n+e.itemWidth/20<r&&n+e.itemWidth/20>(i[o+1]||i[o]-e.itemWidth)&&"right"===e.moveDirection()&&(e.options.scrollPerPage===!0?(s=i[o+1]||i[i.length-1],e.currentItem=t.inArray(s,e.positionsInArray)):(s=i[o+1],e.currentItem=o+1))}),e.currentItem},moveDirection:function(){var t,e=this;return e.newRelativeX<0?(t="right",e.playDirection="next"):(t="left",e.playDirection="prev"),t},customEvents:function(){var t=this;t.$elem.on("owl.next",function(){t.next()}),t.$elem.on("owl.prev",function(){t.prev()}),t.$elem.on("owl.play",function(e,i){t.options.autoPlay=i,t.play(),t.hoverStatus="play"}),t.$elem.on("owl.stop",function(){t.stop(),t.hoverStatus="stop"}),t.$elem.on("owl.goTo",function(e,i){t.goTo(i)}),t.$elem.on("owl.jumpTo",function(e,i){t.jumpTo(i)})},stopOnHover:function(){var t=this;t.options.stopOnHover===!0&&t.browser.isTouch!==!0&&t.options.autoPlay!==!1&&(t.$elem.on("mouseover",function(){t.stop()}),t.$elem.on("mouseout",function(){"stop"!==t.hoverStatus&&t.play()}))},lazyLoad:function(){var e,i,n,s,o,r=this;if(r.options.lazyLoad===!1)return!1;for(e=0;e<r.itemsAmount;e+=1)i=t(r.$owlItems[e]),"loaded"!==i.data("owl-loaded")&&(n=i.data("owl-item"),s=i.find(".lazyOwl"),"string"==typeof s.data("src")?(void 0===i.data("owl-loaded")&&(s.hide(),i.addClass("loading").data("owl-loaded","checked")),o=r.options.lazyFollow!==!0||n>=r.currentItem,o&&n<r.currentItem+r.options.items&&s.length&&r.lazyPreload(i,s)):i.data("owl-loaded","loaded"))},lazyPreload:function(t,i){function n(){t.data("owl-loaded","loaded").removeClass("loading"),i.removeAttr("data-src"),"fade"===r.options.lazyEffect?i.fadeIn(400):i.show(),"function"==typeof r.options.afterLazyLoad&&r.options.afterLazyLoad.apply(this,[r.$elem])}function s(){a+=1,r.completeImg(i.get(0))||o===!0?n():a<=100?e.setTimeout(s,100):n()}var o,r=this,a=0;"DIV"===i.prop("tagName")?(i.css("background-image","url("+i.data("src")+")"),o=!0):i[0].src=i.data("src"),s()},autoHeight:function(){function i(){var i=t(o.$owlItems[o.currentItem]).height();o.wrapperOuter.css("height",i+"px"),o.wrapperOuter.hasClass("autoHeight")||e.setTimeout(function(){o.wrapperOuter.addClass("autoHeight")},0)}function n(){s+=1,o.completeImg(r.get(0))?i():s<=100?e.setTimeout(n,100):o.wrapperOuter.css("height","")}var s,o=this,r=t(o.$owlItems[o.currentItem]).find("img");void 0!==r.get(0)?(s=0,n()):i()},completeImg:function(t){var e;return!!t.complete&&(e=typeof t.naturalWidth,"undefined"===e||0!==t.naturalWidth)},onVisibleItems:function(){var e,i=this;for(i.options.addClassActive===!0&&i.$owlItems.removeClass("active"),i.visibleItems=[],e=i.currentItem;e<i.currentItem+i.options.items;e+=1)i.visibleItems.push(e),i.options.addClassActive===!0&&t(i.$owlItems[e]).addClass("active");i.owl.visibleItems=i.visibleItems},transitionTypes:function(t){var e=this;e.outClass="owl-"+t+"-out",e.inClass="owl-"+t+"-in"},singleItemTransition:function(){function t(t){return{position:"relative",left:t+"px"}}var e=this,i=e.outClass,n=e.inClass,s=e.$owlItems.eq(e.currentItem),o=e.$owlItems.eq(e.prevItem),r=Math.abs(e.positionsInArray[e.currentItem])+e.positionsInArray[e.prevItem],a=Math.abs(e.positionsInArray[e.currentItem])+e.itemWidth/2,l="webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend";e.isTransition=!0,e.$owlWrapper.addClass("owl-origin").css({"-webkit-transform-origin":a+"px","-moz-perspective-origin":a+"px","perspective-origin":a+"px"}),o.css(t(r,10)).addClass(i).on(l,function(){e.endPrev=!0,o.off(l),e.clearTransStyle(o,i)}),s.addClass(n).on(l,function(){e.endCurrent=!0,s.off(l),e.clearTransStyle(s,n)})},clearTransStyle:function(t,e){var i=this;t.css({position:"",left:""}).removeClass(e),i.endPrev&&i.endCurrent&&(i.$owlWrapper.removeClass("owl-origin"),i.endPrev=!1,i.endCurrent=!1,i.isTransition=!1)},owlStatus:function(){var t=this;t.owl={userOptions:t.userOptions,baseElement:t.$elem,userItems:t.$userItems,owlItems:t.$owlItems,currentItem:t.currentItem,prevItem:t.prevItem,visibleItems:t.visibleItems,isTouch:t.browser.isTouch,browser:t.browser,dragDirection:t.dragDirection}},clearEvents:function(){var n=this;n.$elem.off(".owl owl mousedown.disableTextSelect"),t(i).off(".owl owl"),t(e).off("resize",n.resizer)},unWrap:function(){var t=this;0!==t.$elem.children().length&&(t.$owlWrapper.unwrap(),t.$userItems.unwrap().unwrap(),t.owlControls&&t.owlControls.remove()),t.clearEvents(),t.$elem.attr("style",t.$elem.data("owl-originalStyles")||"").attr("class",t.$elem.data("owl-originalClasses"))},destroy:function(){var t=this;t.stop(),e.clearInterval(t.checkVisible),t.unWrap(),t.$elem.removeData()},reinit:function(e){var i=this,n=t.extend({},i.userOptions,e);i.unWrap(),i.init(n,i.$elem)},addItem:function(t,e){var i,n=this;return!!t&&(0===n.$elem.children().length?(n.$elem.append(t),n.setVars(),!1):(n.unWrap(),i=void 0===e||e===-1?-1:e,i>=n.$userItems.length||i===-1?n.$userItems.eq(-1).after(t):n.$userItems.eq(i).before(t),void n.setVars()))},removeItem:function(t){var e,i=this;return 0!==i.$elem.children().length&&(e=void 0===t||t===-1?-1:t,i.unWrap(),i.$userItems.eq(e).remove(),void i.setVars())}};t.fn.owlCarousel=function(e){return this.each(function(){if(t(this).data("owl-init")===!0)return!1;t(this).data("owl-init",!0);var i=Object.create(n);i.init(e,this),t.data(this,"owlCarousel",i)})},t.fn.owlCarousel.options={items:5,itemsCustom:!1,itemsDesktop:[1199,4],itemsDesktopSmall:[979,3],itemsTablet:[768,2],itemsTabletSmall:!1,itemsMobile:[479,1],singleItem:!1,itemsScaleUp:!1,slideSpeed:200,paginationSpeed:800,rewindSpeed:1e3,autoPlay:!1,stopOnHover:!1,navigation:!1,navigationText:["prev","next"],rewindNav:!0,scrollPerPage:!1,pagination:!0,paginationNumbers:!1,responsive:!0,responsiveRefreshRate:200,responsiveBaseWidth:e,baseClass:"owl-carousel",theme:"owl-theme",lazyLoad:!1,lazyFollow:!0,lazyEffect:"fade",autoHeight:!1,jsonPath:!1,jsonSuccess:!1,dragBeforeAnimFinish:!0,mouseDrag:!0,touchDrag:!0,addClassActive:!1,transitionStyle:!1,beforeUpdate:!1,afterUpdate:!1,beforeInit:!1,afterInit:!1,beforeMove:!1,afterMove:!1,afterAction:!1,startDragging:!1,afterLazyLoad:!1}}(jQuery,window,document),$(function(){function t(){var t=$(".grid");t.imagesLoaded(function(){t.masonry({itemSelector:".grid-item",columnWidth:function(t){return t/3-10},gutterWidth:10})})}function e(){$(".ideas").find("div").remove();var e=$(".search__field").val();$.ajax({url:"https://pixabay.com/api/?key=2650584-e8feab9b11ed644dcec728ac9&q="+e+"&image_type=photo",dataType:"jsonp",success:function(e){var i=$("#container").html(),n=tmpl(i,e);$(".ideas").append(n),t()},error:function(){alert("Error!")}})}$(".owl-carousel").owlCarousel(),e(),$(".search__button").on("click",function(t){t.preventDefault(),e(),$(".search__field").val("")})}),function(){var t={};this.tmpl=function e(i,n){var s=/\W/.test(i)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+i.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):t[i]=t[i]||e(document.getElementById(i).innerHTML);return n?s(n):s}}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImltYWdlc2xvYWRlZC5wa2dkLmpzIiwianF1ZXJ5LmJ4c2xpZGVyLmpzIiwianF1ZXJ5Lm1hc29ucnkubWluLmpzIiwib3dsLmNhcm91c2VsLmpzIiwic2NyaXB0LmpzIiwidG1wbC5qcyJdLCJuYW1lcyI6WyJFdmVudEVtaXR0ZXIiLCJpbmRleE9mTGlzdGVuZXIiLCJsaXN0ZW5lcnMiLCJsaXN0ZW5lciIsImkiLCJsZW5ndGgiLCJhbGlhcyIsIm5hbWUiLCJ0aGlzIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJwcm90byIsInByb3RvdHlwZSIsImV4cG9ydHMiLCJvcmlnaW5hbEdsb2JhbFZhbHVlIiwiZ2V0TGlzdGVuZXJzIiwiZXZ0IiwicmVzcG9uc2UiLCJrZXkiLCJldmVudHMiLCJfZ2V0RXZlbnRzIiwiaGFzT3duUHJvcGVydHkiLCJ0ZXN0IiwiZmxhdHRlbkxpc3RlbmVycyIsImZsYXRMaXN0ZW5lcnMiLCJwdXNoIiwiZ2V0TGlzdGVuZXJzQXNPYmplY3QiLCJBcnJheSIsImFkZExpc3RlbmVyIiwibGlzdGVuZXJJc1dyYXBwZWQiLCJvbmNlIiwib24iLCJhZGRPbmNlTGlzdGVuZXIiLCJkZWZpbmVFdmVudCIsImRlZmluZUV2ZW50cyIsImV2dHMiLCJyZW1vdmVMaXN0ZW5lciIsImluZGV4Iiwic3BsaWNlIiwib2ZmIiwiYWRkTGlzdGVuZXJzIiwibWFuaXB1bGF0ZUxpc3RlbmVycyIsInJlbW92ZUxpc3RlbmVycyIsInJlbW92ZSIsInZhbHVlIiwic2luZ2xlIiwibXVsdGlwbGUiLCJSZWdFeHAiLCJjYWxsIiwicmVtb3ZlRXZlbnQiLCJ0eXBlIiwiX2V2ZW50cyIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXRFdmVudCIsImFyZ3MiLCJfZ2V0T25jZVJldHVyblZhbHVlIiwidHJpZ2dlciIsImVtaXQiLCJzbGljZSIsInNldE9uY2VSZXR1cm5WYWx1ZSIsIl9vbmNlUmV0dXJuVmFsdWUiLCJub0NvbmZsaWN0IiwiZGVmaW5lIiwiYW1kIiwibW9kdWxlIiwid2luZG93IiwiZ2V0SUVFdmVudCIsIm9iaiIsImV2ZW50IiwidGFyZ2V0Iiwic3JjRWxlbWVudCIsImRvY0VsZW0iLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsImJpbmQiLCJhZGRFdmVudExpc3RlbmVyIiwiZm4iLCJhdHRhY2hFdmVudCIsImhhbmRsZUV2ZW50IiwidW5iaW5kIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRldGFjaEV2ZW50IiwiZXJyIiwidW5kZWZpbmVkIiwiZXZlbnRpZSIsImZhY3RvcnkiLCJyZXF1aXJlIiwiaW1hZ2VzTG9hZGVkIiwiZXh0ZW5kIiwiYSIsImIiLCJwcm9wIiwiaXNBcnJheSIsIm9ialRvU3RyaW5nIiwibWFrZUFycmF5IiwiYXJ5IiwiSW1hZ2VzTG9hZGVkIiwiZWxlbSIsIm9wdGlvbnMiLCJvbkFsd2F5cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlbGVtZW50cyIsImdldEltYWdlcyIsIiQiLCJqcURlZmVycmVkIiwiRGVmZXJyZWQiLCJfdGhpcyIsInNldFRpbWVvdXQiLCJjaGVjayIsIkxvYWRpbmdJbWFnZSIsImltZyIsIkJhY2tncm91bmQiLCJ1cmwiLCJlbGVtZW50IiwiSW1hZ2UiLCJqUXVlcnkiLCJjb25zb2xlIiwiT2JqZWN0IiwidG9TdHJpbmciLCJpbWFnZXMiLCJhZGRFbGVtZW50SW1hZ2VzIiwibm9kZU5hbWUiLCJhZGRJbWFnZSIsImJhY2tncm91bmQiLCJhZGRFbGVtZW50QmFja2dyb3VuZEltYWdlcyIsIm5vZGVUeXBlIiwiZWxlbWVudE5vZGVUeXBlcyIsImNoaWxkSW1ncyIsImNoaWxkcmVuIiwiY2hpbGQiLCIxIiwiOSIsIjExIiwic3R5bGUiLCJnZXRTdHlsZSIsInJlVVJMIiwibWF0Y2hlcyIsImV4ZWMiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJhZGRCYWNrZ3JvdW5kIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImN1cnJlbnRTdHlsZSIsImxvYWRpbmdJbWFnZSIsIm9uUHJvZ3Jlc3MiLCJpbWFnZSIsIm1lc3NhZ2UiLCJwcm9ncmVzcyIsInByb2dyZXNzZWRDb3VudCIsImhhc0FueUJyb2tlbiIsImNvbXBsZXRlIiwiaXNMb2FkZWQiLCJub3RpZnkiLCJkZWJ1ZyIsImxvZyIsImV2ZW50TmFtZSIsImlzQ29tcGxldGUiLCJqcU1ldGhvZCIsImdldElzSW1hZ2VDb21wbGV0ZSIsImNvbmZpcm0iLCJuYXR1cmFsV2lkdGgiLCJwcm94eUltYWdlIiwic3JjIiwibWV0aG9kIiwib25sb2FkIiwidW5iaW5kRXZlbnRzIiwib25lcnJvciIsIm1ha2VKUXVlcnlQbHVnaW4iLCJjYWxsYmFjayIsImluc3RhbmNlIiwicHJvbWlzZSIsInBsdWdpbiIsImRlZmF1bHRzIiwibW9kZSIsInNsaWRlU2VsZWN0b3IiLCJpbmZpbml0ZUxvb3AiLCJoaWRlQ29udHJvbE9uRW5kIiwic3BlZWQiLCJlYXNpbmciLCJzbGlkZU1hcmdpbiIsInN0YXJ0U2xpZGUiLCJyYW5kb21TdGFydCIsImNhcHRpb25zIiwidGlja2VyIiwidGlja2VySG92ZXIiLCJhZGFwdGl2ZUhlaWdodCIsImFkYXB0aXZlSGVpZ2h0U3BlZWQiLCJ2aWRlbyIsInVzZUNTUyIsInByZWxvYWRJbWFnZXMiLCJyZXNwb25zaXZlIiwic2xpZGVaSW5kZXgiLCJ3cmFwcGVyQ2xhc3MiLCJ0b3VjaEVuYWJsZWQiLCJzd2lwZVRocmVzaG9sZCIsIm9uZVRvT25lVG91Y2giLCJwcmV2ZW50RGVmYXVsdFN3aXBlWCIsInByZXZlbnREZWZhdWx0U3dpcGVZIiwicGFnZXIiLCJwYWdlclR5cGUiLCJwYWdlclNob3J0U2VwYXJhdG9yIiwicGFnZXJTZWxlY3RvciIsImJ1aWxkUGFnZXIiLCJwYWdlckN1c3RvbSIsImNvbnRyb2xzIiwibmV4dFRleHQiLCJwcmV2VGV4dCIsIm5leHRTZWxlY3RvciIsInByZXZTZWxlY3RvciIsImF1dG9Db250cm9scyIsInN0YXJ0VGV4dCIsInN0b3BUZXh0IiwiYXV0b0NvbnRyb2xzQ29tYmluZSIsImF1dG9Db250cm9sc1NlbGVjdG9yIiwiYXV0byIsInBhdXNlIiwiYXV0b1N0YXJ0IiwiYXV0b0RpcmVjdGlvbiIsImF1dG9Ib3ZlciIsImF1dG9EZWxheSIsImF1dG9TbGlkZUZvck9uZVBhZ2UiLCJtaW5TbGlkZXMiLCJtYXhTbGlkZXMiLCJtb3ZlU2xpZGVzIiwic2xpZGVXaWR0aCIsIm9uU2xpZGVyTG9hZCIsIm9uU2xpZGVCZWZvcmUiLCJvblNsaWRlQWZ0ZXIiLCJvblNsaWRlTmV4dCIsIm9uU2xpZGVQcmV2Iiwib25TbGlkZXJSZXNpemUiLCJieFNsaWRlciIsImVhY2giLCJzbGlkZXIiLCJlbCIsIndpbmRvd1dpZHRoIiwid2lkdGgiLCJ3aW5kb3dIZWlnaHQiLCJoZWlnaHQiLCJpbml0Iiwic2V0dGluZ3MiLCJwYXJzZUludCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImFjdGl2ZSIsImNhcm91c2VsIiwibWluVGhyZXNob2xkIiwibWF4VGhyZXNob2xkIiwid29ya2luZyIsImludGVydmFsIiwiYW5pbVByb3AiLCJ1c2luZ0NTUyIsImRpdiIsImNyZWF0ZUVsZW1lbnQiLCJwcm9wcyIsImNzc1ByZWZpeCIsInJlcGxhY2UiLCJ0b0xvd2VyQ2FzZSIsImRhdGEiLCJhdHRyIiwic2V0dXAiLCJ3cmFwIiwidmlld3BvcnQiLCJwYXJlbnQiLCJsb2FkZXIiLCJwcmVwZW5kIiwiY3NzIiwicG9zaXRpb24iLCJnZXROdW1iZXJTbGlkZXNTaG93aW5nIiwib3ZlcmZsb3ciLCJtYXhXaWR0aCIsImdldFZpZXdwb3J0TWF4V2lkdGgiLCJtYXJnaW4iLCJmbG9hdCIsImxpc3RTdHlsZSIsImdldFNsaWRlV2lkdGgiLCJ6SW5kZXgiLCJkaXNwbGF5IiwiZXEiLCJhcHBlbmRDYXB0aW9ucyIsImxhc3QiLCJnZXRQYWdlclF0eSIsImZpdFZpZHMiLCJwcmVsb2FkU2VsZWN0b3IiLCJhcHBlbmRQYWdlciIsImFwcGVuZENvbnRyb2xzIiwiYXBwZW5kQ29udHJvbHNBdXRvIiwiYWZ0ZXIiLCJsb2FkRWxlbWVudHMiLCJzdGFydCIsInNlbGVjdG9yIiwidG90YWwiLCJmaW5kIiwiY291bnQiLCJvbmUiLCJsb2FkIiwic2xpY2VBcHBlbmQiLCJjbG9uZSIsImFkZENsYXNzIiwic2xpY2VQcmVwZW5kIiwiYXBwZW5kIiwic2V0U2xpZGVQb3NpdGlvbiIsImdldFZpZXdwb3J0SGVpZ2h0IiwicmVkcmF3U2xpZGVyIiwiaW5pdGlhbGl6ZWQiLCJyZXNpemVXaW5kb3ciLCJpbml0QXV0byIsImluaXRUaWNrZXIiLCJ1cGRhdGVQYWdlckFjdGl2ZSIsInVwZGF0ZURpcmVjdGlvbkNvbnRyb2xzIiwiaW5pdFRvdWNoIiwiY3VycmVudEluZGV4IiwiZ2V0TW92ZUJ5IiwiYWRkIiwib3V0ZXJIZWlnaHQiLCJtYXgiLCJtYXAiLCJnZXQiLCJwYXJzZUZsb2F0IiwibmV3RWxXaWR0aCIsIndyYXBXaWR0aCIsInNsaWRlc1Nob3dpbmciLCJjaGlsZFdpZHRoIiwiZmlyc3QiLCJwYWdlclF0eSIsImNlaWwiLCJicmVha1BvaW50IiwiY291bnRlciIsImxhc3RDaGlsZCIsInNldFBvc2l0aW9uUHJvcGVydHkiLCJsZWZ0Iiwib3V0ZXJXaWR0aCIsImxhc3RTaG93aW5nSW5kZXgiLCJ0b3AiLCJkdXJhdGlvbiIsInBhcmFtcyIsInByb3BWYWx1ZSIsInVwZGF0ZUFmdGVyU2xpZGVUcmFuc2l0aW9uIiwidGlja2VyTG9vcCIsImFuaW1hdGVPYmoiLCJhbmltYXRlIiwicG9wdWxhdGVQYWdlciIsInBhZ2VySHRtbCIsImxpbmtDb250ZW50IiwiaXNGdW5jdGlvbiIsInBhZ2VyRWwiLCJodG1sIiwiY2xpY2tQYWdlckJpbmQiLCJuZXh0IiwicHJldiIsImNsaWNrTmV4dEJpbmQiLCJjbGlja1ByZXZCaW5kIiwiZGlyZWN0aW9uRWwiLCJzdG9wIiwiYXV0b0VsIiwiY2xpY2tTdGFydEJpbmQiLCJjbGlja1N0b3BCaW5kIiwidXBkYXRlQXV0b0NvbnRyb2xzIiwidGl0bGUiLCJlIiwic3RvcEF1dG8iLCJnb1RvTmV4dFNsaWRlIiwicHJldmVudERlZmF1bHQiLCJnb1RvUHJldlNsaWRlIiwic3RhcnRBdXRvIiwicGFnZXJMaW5rIiwiY3VycmVudFRhcmdldCIsInBhZ2VySW5kZXgiLCJnb1RvU2xpZGUiLCJzbGlkZUluZGV4IiwibGVuIiwicmVtb3ZlQ2xhc3MiLCJvbGRJbmRleCIsInN0YXRlIiwiaG92ZXIiLCJhdXRvUGF1c2VkIiwic3RhcnRQb3NpdGlvbiIsInRvdGFsRGltZW5zIiwicmF0aW8iLCJwcm9wZXJ0eSIsIm5ld1NwZWVkIiwiYWJzIiwicmVzdW1lU3BlZWQiLCJyZXNldCIsImFuaW1hdGVQcm9wZXJ0eSIsInJlc2V0VmFsdWUiLCJ0b3VjaCIsIngiLCJ5IiwiZW5kIiwib25Ub3VjaFN0YXJ0Iiwib3JpZ2luYWxQb3MiLCJvcmlnIiwib3JpZ2luYWxFdmVudCIsImNoYW5nZWRUb3VjaGVzIiwicGFnZVgiLCJwYWdlWSIsIm9uVG91Y2hNb3ZlIiwib25Ub3VjaEVuZCIsInhNb3ZlbWVudCIsInlNb3ZlbWVudCIsImNoYW5nZSIsImRpc3RhbmNlIiwid2luZG93V2lkdGhOZXciLCJ3aW5kb3dIZWlnaHROZXciLCJkaXJlY3Rpb24iLCJmaWx0ZXIiLCJmYWRlT3V0IiwiZmFkZUluIiwibW92ZUJ5IiwicmVxdWVzdEVsIiwicHJldmVudENvbnRyb2xVcGRhdGUiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJnZXRDdXJyZW50U2xpZGUiLCJnZXRDdXJyZW50U2xpZGVFbGVtZW50IiwiZ2V0U2xpZGVDb3VudCIsImRlc3Ryb3lTbGlkZXIiLCJyZW1vdmVBdHRyIiwidW53cmFwIiwicmVsb2FkU2xpZGVyIiwidCIsIm4iLCJyIiwic3BlY2lhbCIsInNtYXJ0cmVzaXplIiwiaGFuZGxlciIsInRlYXJkb3duIiwicyIsImNsZWFyVGltZW91dCIsImRpc3BhdGNoIiwiTWFzb24iLCJfY3JlYXRlIiwiX2luaXQiLCJpc1Jlc2l6YWJsZSIsImlzQW5pbWF0ZWQiLCJhbmltYXRpb25PcHRpb25zIiwicXVldWUiLCJndXR0ZXJXaWR0aCIsImlzUlRMIiwiaXNGaXRXaWR0aCIsImNvbnRhaW5lclN0eWxlIiwiX2ZpbHRlckZpbmRCcmlja3MiLCJpdGVtU2VsZWN0b3IiLCJfZ2V0QnJpY2tzIiwic3R5bGVRdWV1ZSIsIm9yaWdpbmFsU3R5bGUiLCJob3Jpem9udGFsRGlyZWN0aW9uIiwibyIsInUiLCJvZmZzZXQiLCJpc0ZsdWlkIiwiY29sdW1uV2lkdGgiLCJyZXNpemUiLCJyZWxvYWRJdGVtcyIsIl9nZXRDb2x1bW5zIiwiX3JlTGF5b3V0Iiwib3B0aW9uIiwiaXNQbGFpbk9iamVjdCIsImxheW91dCIsIl9wbGFjZUJyaWNrIiwiY29sWXMiLCJjb2xzIiwiJGVsIiwiaXNMYWlkT3V0IiwiJGJyaWNrcyIsIm1pbiIsImYiLCJsIiwiYyIsImgiLCJwIiwiZCIsInJlbG9hZCIsImFwcGVuZGVkIiwiX2FwcGVuZGVkIiwibm90IiwiZGVzdHJveSIsInJlbW92ZURhdGEiLCJpbkFycmF5IiwiZXJyb3IiLCJtYXNvbnJ5IiwiY2hhckF0IiwiY3JlYXRlIiwiRiIsIkNhcm91c2VsIiwiYmFzZSIsIiRlbGVtIiwib3dsQ2Fyb3VzZWwiLCJ1c2VyT3B0aW9ucyIsImxvYWRDb250ZW50IiwiZ2V0RGF0YSIsImNvbnRlbnQiLCJqc29uU3VjY2VzcyIsIm93bCIsIml0ZW0iLCJsb2dJbiIsImJlZm9yZUluaXQiLCJqc29uUGF0aCIsImdldEpTT04iLCJvcGFjaXR5Iiwib3JpZ25hbEl0ZW1zIiwiaXRlbXMiLCJjaGVja0Jyb3dzZXIiLCJ3cmFwcGVyV2lkdGgiLCJjaGVja1Zpc2libGUiLCJzZXRWYXJzIiwiYmFzZUNsYXNzIiwiZXZlbnRUeXBlcyIsIiR1c2VySXRlbXMiLCJpdGVtc0Ftb3VudCIsIndyYXBJdGVtcyIsIiRvd2xJdGVtcyIsIiRvd2xXcmFwcGVyIiwicGxheURpcmVjdGlvbiIsInByZXZJdGVtIiwicHJldkFyciIsImN1cnJlbnRJdGVtIiwiY3VzdG9tRXZlbnRzIiwib25TdGFydHVwIiwidXBkYXRlSXRlbXMiLCJjYWxjdWxhdGVBbGwiLCJidWlsZENvbnRyb2xzIiwidXBkYXRlQ29udHJvbHMiLCJtb3ZlRXZlbnRzIiwic3RvcE9uSG92ZXIiLCJvd2xTdGF0dXMiLCJ0cmFuc2l0aW9uU3R5bGUiLCJ0cmFuc2l0aW9uVHlwZXMiLCJhdXRvUGxheSIsInBsYXkiLCJpcyIsIndhdGNoVmlzaWJpbGl0eSIsIm9uc3RhcnR1cCIsImVhY2hNb3ZlVXBkYXRlIiwiYWZ0ZXJJbml0IiwibGF6eUxvYWQiLCJhdXRvSGVpZ2h0Iiwib25WaXNpYmxlSXRlbXMiLCJhZnRlckFjdGlvbiIsInVwZGF0ZVZhcnMiLCJiZWZvcmVVcGRhdGUiLCJ1cGRhdGVQb3NpdGlvbiIsImFmdGVyVXBkYXRlIiwiYXV0b1BsYXlJbnRlcnZhbCIsIndyYXBBbGwiLCJ3cmFwcGVyT3V0ZXIiLCJoYXNCYXNlQ2xhc3MiLCJoYXNDbGFzcyIsImhhc1RoZW1lQ2xhc3MiLCJ0aGVtZSIsInNpbmdsZUl0ZW0iLCJpdGVtc0N1c3RvbSIsIml0ZW1zRGVza3RvcCIsIml0ZW1zRGVza3RvcFNtYWxsIiwiaXRlbXNUYWJsZXQiLCJpdGVtc1RhYmxldFNtYWxsIiwiaXRlbXNNb2JpbGUiLCJyZXNwb25zaXZlQmFzZVdpZHRoIiwic29ydCIsIml0ZW1zU2NhbGVVcCIsInNtYWxsRGVsYXkiLCJsYXN0V2luZG93V2lkdGgiLCJyZXNpemVyIiwicmVzcG9uc2l2ZVJlZnJlc2hSYXRlIiwianVtcFRvIiwiY2hlY2tBcCIsImFwcGVuZEl0ZW1zU2l6ZXMiLCJyb3VuZFBhZ2VzIiwibGFzdEl0ZW0iLCIkdGhpcyIsIml0ZW1XaWR0aCIsIk51bWJlciIsImFwcGVuZFdyYXBwZXJTaXplcyIsImNhbGN1bGF0ZVdpZHRoIiwibG9vcHMiLCJyb3VuZCIsIm1heGltdW0iLCJtYXhpbXVtSXRlbSIsIm1heGltdW1QaXhlbHMiLCJyb3VuZFBhZ2VOdW0iLCJlbFdpZHRoIiwicG9zaXRpb25zSW5BcnJheSIsInBhZ2VzSW5BcnJheSIsInNjcm9sbFBlclBhZ2UiLCJuYXZpZ2F0aW9uIiwicGFnaW5hdGlvbiIsIm93bENvbnRyb2xzIiwidG9nZ2xlQ2xhc3MiLCJicm93c2VyIiwiaXNUb3VjaCIsImFwcGVuZFRvIiwiYnVpbGRQYWdpbmF0aW9uIiwiYnVpbGRCdXR0b25zIiwiYnV0dG9uc1dyYXBwZXIiLCJidXR0b25QcmV2IiwiY2xhc3MiLCJuYXZpZ2F0aW9uVGV4dCIsImJ1dHRvbk5leHQiLCJwYWdpbmF0aW9uV3JhcHBlciIsImdvVG8iLCJ1cGRhdGVQYWdpbmF0aW9uIiwibGFzdFBhZ2UiLCJwYWdpbmF0aW9uQnV0dG9uIiwicGFnaW5hdGlvbkJ1dHRvbklubmVyIiwidGV4dCIsInBhZ2luYXRpb25OdW1iZXJzIiwiY2hlY2tQYWdpbmF0aW9uIiwiY2hlY2tOYXZpZ2F0aW9uIiwicmV3aW5kTmF2IiwiaGlkZSIsInNob3ciLCJkZXN0cm95Q29udHJvbHMiLCJpc1RyYW5zaXRpb24iLCJkcmFnIiwiZ29Ub1BpeGVsIiwiYmVmb3JlTW92ZSIsInN1cHBvcnQzZCIsInN3YXBTcGVlZCIsInRyYW5zaXRpb24zZCIsImNzczJzbGlkZSIsImFmdGVyR28iLCJzaW5nbGVJdGVtVHJhbnNpdGlvbiIsImlzQ3NzM0ZpbmlzaCIsInBhZ2luYXRpb25TcGVlZCIsInJld2luZFNwZWVkIiwic2xpZGVTcGVlZCIsInNoaWZ0IiwiYWZ0ZXJNb3ZlIiwiYXBTdGF0dXMiLCJhY3Rpb24iLCJhZGRDc3NTcGVlZCIsIi13ZWJraXQtdHJhbnNpdGlvbiIsIi1tb3otdHJhbnNpdGlvbiIsIi1vLXRyYW5zaXRpb24iLCJ0cmFuc2l0aW9uIiwicmVtb3ZlVHJhbnNpdGlvbiIsImRvVHJhbnNsYXRlIiwicGl4ZWxzIiwiLXdlYmtpdC10cmFuc2Zvcm0iLCItbW96LXRyYW5zZm9ybSIsIi1vLXRyYW5zZm9ybSIsIi1tcy10cmFuc2Zvcm0iLCJ0cmFuc2Zvcm0iLCJjc3MybW92ZSIsImlzQ3NzRmluaXNoIiwicmVnZXgiLCJhc1N1cHBvcnQiLCJ0cmFuc2xhdGUzRCIsInRlbXBFbGVtIiwiY3NzVGV4dCIsIm1hdGNoIiwibmF2aWdhdG9yIiwibXNNYXhUb3VjaFBvaW50cyIsIm1vdXNlRHJhZyIsInRvdWNoRHJhZyIsImdlc3R1cmVzIiwiZGlzYWJsZWRFdmVudHMiLCJ0eXBlcyIsImV2X3R5cGVzIiwibW92ZSIsImdldFRvdWNoZXMiLCJ0b3VjaGVzIiwiY2xpZW50WCIsImNsaWVudFkiLCJzd2FwRXZlbnRzIiwiZHJhZ01vdmUiLCJkcmFnRW5kIiwiZHJhZ1N0YXJ0IiwiZXYiLCJ3aGljaCIsImRyYWdCZWZvcmVBbmltRmluaXNoIiwibmV3UG9zWCIsIm5ld1JlbGF0aXZlWCIsImxvY2FscyIsInJlbGF0aXZlUG9zIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJzbGlkaW5nIiwidGFyZ2V0RWxlbWVudCIsIm1pblN3aXBlIiwibWF4U3dpcGUiLCJuZXdQb3NZIiwic3RhcnREcmFnZ2luZyIsImRyYWdnaW5nIiwicmV0dXJuVmFsdWUiLCJuZXdQb3NpdGlvbiIsImhhbmRsZXJzIiwib3dsU3RvcEV2ZW50IiwiZHJhZ0RpcmVjdGlvbiIsImdldE5ld1Bvc2l0aW9uIiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwic3RvcFByb3BhZ2F0aW9uIiwiX2RhdGEiLCJjbGljayIsInBvcCIsImJhc2VFbFdpZHRoIiwiZGFyZ2dpbmciLCJjbG9zZXN0SXRlbSIsImFycmF5IiwiZ29hbCIsImNsb3Nlc3QiLCJ2IiwibW92ZURpcmVjdGlvbiIsImhvdmVyU3RhdHVzIiwiJGl0ZW0iLCJpdGVtTnVtYmVyIiwiJGxhenlJbWciLCJmb2xsb3ciLCJsYXp5Rm9sbG93IiwibGF6eVByZWxvYWQiLCJzaG93SW1hZ2UiLCJsYXp5RWZmZWN0IiwiYWZ0ZXJMYXp5TG9hZCIsImNoZWNrTGF6eUltYWdlIiwiaXRlcmF0aW9ucyIsImNvbXBsZXRlSW1nIiwiaXNCYWNrZ3JvdW5kSW1nIiwiYWRkSGVpZ2h0IiwiJGN1cnJlbnRJdGVtIiwiY2hlY2tJbWFnZSIsIiRjdXJyZW50aW1nIiwibmF0dXJhbFdpZHRoVHlwZSIsImFkZENsYXNzQWN0aXZlIiwidmlzaWJsZUl0ZW1zIiwiY2xhc3NOYW1lIiwib3V0Q2xhc3MiLCJpbkNsYXNzIiwidHJhbnNTdHlsZXMiLCJwcmV2UG9zIiwiJHByZXZJdGVtIiwib3JpZ2luIiwiYW5pbUVuZCIsIi13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbiIsIi1tb3otcGVyc3BlY3RpdmUtb3JpZ2luIiwicGVyc3BlY3RpdmUtb3JpZ2luIiwiZW5kUHJldiIsImNsZWFyVHJhbnNTdHlsZSIsImVuZEN1cnJlbnQiLCJjbGFzc1RvUmVtb3ZlIiwiYmFzZUVsZW1lbnQiLCJ1c2VySXRlbXMiLCJvd2xJdGVtcyIsImNsZWFyRXZlbnRzIiwidW5XcmFwIiwicmVpbml0IiwibmV3T3B0aW9ucyIsImFkZEl0ZW0iLCJodG1sU3RyaW5nIiwidGFyZ2V0UG9zaXRpb24iLCJiZWZvcmUiLCJyZW1vdmVJdGVtIiwiZ3JpZCIsIiRncmlkIiwiY29udGFpbmVyV2lkdGgiLCJzZWFyY2giLCIkc2VhcmNoS2V5IiwidmFsIiwiYWpheCIsImRhdGFUeXBlIiwic3VjY2VzcyIsIiRodG1sIiwiJGNvbnRlbnQiLCJ0bXBsIiwiYWxlcnQiLCJjYWNoZSIsInN0ciIsIkZ1bmN0aW9uIiwic3BsaXQiLCJqb2luIiwiZ2V0RWxlbWVudEJ5SWQiLCJpbm5lckhUTUwiXSwibWFwcGluZ3MiOiJDQWFBLFdBQ0EsWUFRQSxTQUFBQSxNQWVBLFFBQUFDLEdBQUFDLEVBQUFDLEdBRUEsSUFEQSxHQUFBQyxHQUFBRixFQUFBRyxPQUNBRCxLQUNBLEdBQUFGLEVBQUFFLEdBQUFELFdBQUFBLEVBQ0EsTUFBQUMsRUFJQSxVQVVBLFFBQUFFLEdBQUFDLEdBQ0EsTUFBQSxZQUNBLE1BQUFDLE1BQUFELEdBQUFFLE1BQUFELEtBQUFFLFlBaENBLEdBQUFDLEdBQUFYLEVBQUFZLFVBQ0FDLEVBQUFMLEtBQ0FNLEVBQUFELEVBQUFiLFlBMkNBVyxHQUFBSSxhQUFBLFNBQUFDLEdBQ0EsR0FDQUMsR0FDQUMsRUFGQUMsRUFBQVgsS0FBQVksWUFNQSxJQUFBLGdCQUFBSixHQUFBLENBQ0FDLElBQ0EsS0FBQUMsSUFBQUMsR0FDQUEs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LEtBQUFGLEVBQUF2ZixFQUNBM0osR0FBQSxVQUFBcU0sT0FBQThjLEdBQ0FWLEtBRUFoUixNQUFBLFdBQ0E0UixNQUFBLGFBbkNBcnBCLEVBQUEsaUJBQUFpWSxjQXdDQTJRLElBRUE1b0IsRUFBQSxtQkFBQXhFLEdBQUEsUUFBQSxTQUFBd1UsR0FDQUEsRUFBQUcsaUJBQ0F5WSxJQUNBNW9CLEVBQUEsa0JBQUE4b0IsSUFBQSxRQzdDQSxXQUNBLEdBQUFRLEtBRUFydkIsTUFBQW12QixLQUFBLFFBQUFBLEdBQUFHLEVBQUE1ZixHQUdBLEdBQUF0TCxHQUFBLEtBQUF0RCxLQUFBd3VCLEdBTUEsR0FBQUMsVUFBQSxNQUNBLDJFQU1BRCxFQUNBOWYsUUFBQSxZQUFBLEtBQ0FnZ0IsTUFBQSxNQUFBQyxLQUFBLE1BQ0FqZ0IsUUFBQSxtQkFBQSxRQUNBQSxRQUFBLGNBQUEsVUFDQWdnQixNQUFBLE1BQUFDLEtBQUEsT0FDQUQsTUFBQSxNQUFBQyxLQUFBLFlBQ0FELE1BQUEsTUFBQUMsS0FBQSxPQUNBLDBCQXBCQUosRUFBQUMsR0FBQUQsRUFBQUMsSUFDQUgsRUFBQW5yQixTQUFBMHJCLGVBQUFKLEdBQUFLLFVBc0JBLE9BQUFqZ0IsR0FBQXRMLEVBQUFzTCxHQUFBdEwiLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogaW1hZ2VzTG9hZGVkIFBBQ0tBR0VEIHYzLjIuMFxuICogSmF2YVNjcmlwdCBpcyBhbGwgbGlrZSBcIllvdSBpbWFnZXMgYXJlIGRvbmUgeWV0IG9yIHdoYXQ/XCJcbiAqIE1JVCBMaWNlbnNlXG4gKi9cblxuLyohXG4gKiBFdmVudEVtaXR0ZXIgdjQuMi42IC0gZ2l0LmlvL2VlXG4gKiBPbGl2ZXIgQ2FsZHdlbGxcbiAqIE1JVCBsaWNlbnNlXG4gKiBAcHJlc2VydmVcbiAqL1xuXG4oZnVuY3Rpb24gKCkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0LyoqXG5cdCAqIENsYXNzIGZvciBtYW5hZ2luZyBldmVudHMuXG5cdCAqIENhbiBiZSBleHRlbmRlZCB0byBwcm92aWRlIGV2ZW50IGZ1bmN0aW9uYWxpdHkgaW4gb3RoZXIgY2xhc3Nlcy5cblx0ICpcblx0ICogQGNsYXNzIEV2ZW50RW1pdHRlciBNYW5hZ2VzIGV2ZW50IHJlZ2lzdGVyaW5nIGFuZCBlbWl0dGluZy5cblx0ICovXG5cdGZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHt9XG5cblx0Ly8gU2hvcnRjdXRzIHRvIGltcHJvdmUgc3BlZWQgYW5kIHNpemVcblx0dmFyIHByb3RvID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZTtcblx0dmFyIGV4cG9ydHMgPSB0aGlzO1xuXHR2YXIgb3JpZ2luYWxHbG9iYWxWYWx1ZSA9IGV4cG9ydHMuRXZlbnRFbWl0dGVyO1xuXG5cdC8qKlxuXHQgKiBGaW5kcyB0aGUgaW5kZXggb2YgdGhlIGxpc3RlbmVyIGZvciB0aGUgZXZlbnQgaW4gaXQncyBzdG9yYWdlIGFycmF5LlxuXHQgKlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9uW119IGxpc3RlbmVycyBBcnJheSBvZiBsaXN0ZW5lcnMgdG8gc2VhcmNoIHRocm91Z2guXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIE1ldGhvZCB0byBsb29rIGZvci5cblx0ICogQHJldHVybiB7TnVtYmVyfSBJbmRleCBvZiB0aGUgc3BlY2lmaWVkIGxpc3RlbmVyLCAtMSBpZiBub3QgZm91bmRcblx0ICogQGFwaSBwcml2YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBpbmRleE9mTGlzdGVuZXIobGlzdGVuZXJzLCBsaXN0ZW5lcikge1xuXHRcdHZhciBpID0gbGlzdGVuZXJzLmxlbmd0aDtcblx0XHR3aGlsZSAoaS0tKSB7XG5cdFx0XHRpZiAobGlzdGVuZXJzW2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuXHRcdFx0XHRyZXR1cm4gaTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gLTE7XG5cdH1cblxuXHQvKipcblx0ICogQWxpYXMgYSBtZXRob2Qgd2hpbGUga2VlcGluZyB0aGUgY29udGV4dCBjb3JyZWN0LCB0byBhbGxvdyBmb3Igb3ZlcndyaXRpbmcgb2YgdGFyZ2V0IG1ldGhvZC5cblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIHRhcmdldCBtZXRob2QuXG5cdCAqIEByZXR1cm4ge0Z1bmN0aW9ufSBUaGUgYWxpYXNlZCBtZXRob2Rcblx0ICogQGFwaSBwcml2YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBhbGlhcyhuYW1lKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uIGFsaWFzQ2xvc3VyZSgpIHtcblx0XHRcdHJldHVybiB0aGlzW25hbWVdLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0fTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRoZSBsaXN0ZW5lciBhcnJheSBmb3IgdGhlIHNwZWNpZmllZCBldmVudC5cblx0ICogV2lsbCBpbml0aWFsaXNlIHRoZSBldmVudCBvYmplY3QgYW5kIGxpc3RlbmVyIGFycmF5cyBpZiByZXF1aXJlZC5cblx0ICogV2lsbCByZXR1cm4gYW4gb2JqZWN0IGlmIHlvdSB1c2UgYSByZWdleCBzZWFyY2guIFRoZSBvYmplY3QgY29udGFpbnMga2V5cyBmb3IgZWFjaCBtYXRjaGVkIGV2ZW50LiBTbyAvYmFbcnpdLyBtaWdodCByZXR1cm4gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYmFyIGFuZCBiYXouIEJ1dCBvbmx5IGlmIHlvdSBoYXZlIGVpdGhlciBkZWZpbmVkIHRoZW0gd2l0aCBkZWZpbmVFdmVudCBvciBhZGRlZCBzb21lIGxpc3RlbmVycyB0byB0aGVtLlxuXHQgKiBFYWNoIHByb3BlcnR5IGluIHRoZSBvYmplY3QgcmVzcG9uc2UgaXMgYW4gYXJyYXkgb2YgbGlzdGVuZXIgZnVuY3Rpb25zLlxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IGV2dCBOYW1lIG9mIHRoZSBldmVudCB0byByZXR1cm4gdGhlIGxpc3RlbmVycyBmcm9tLlxuXHQgKiBAcmV0dXJuIHtGdW5jdGlvbltdfE9iamVjdH0gQWxsIGxpc3RlbmVyIGZ1bmN0aW9ucyBmb3IgdGhlIGV2ZW50LlxuXHQgKi9cblx0cHJvdG8uZ2V0TGlzdGVuZXJzID0gZnVuY3Rpb24gZ2V0TGlzdGVuZXJzKGV2dCkge1xuXHRcdHZhciBldmVudHMgPSB0aGlzLl9nZXRFdmVudHMoKTtcblx0XHR2YXIgcmVzcG9uc2U7XG5cdFx0dmFyIGtleTtcblxuXHRcdC8vIFJldHVybiBhIGNvbmNhdGVuYXRlZCBhcnJheSBvZiBhbGwgbWF0Y2hpbmcgZXZlbnRzIGlmXG5cdFx0Ly8gdGhlIHNlbGVjdG9yIGlzIGEgcmVndWxhciBleHByZXNzaW9uLlxuXHRcdGlmICh0eXBlb2YgZXZ0ID09PSAnb2JqZWN0Jykge1xuXHRcdFx0cmVzcG9uc2UgPSB7fTtcblx0XHRcdGZvciAoa2V5IGluIGV2ZW50cykge1xuXHRcdFx0XHRpZiAoZXZlbnRzLmhhc093blByb3BlcnR5KGtleSkgJiYgZXZ0LnRlc3Qoa2V5KSkge1xuXHRcdFx0XHRcdHJlc3BvbnNlW2tleV0gPSBldmVudHNba2V5XTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdHJlc3BvbnNlID0gZXZlbnRzW2V2dF0gfHwgKGV2ZW50c1tldnRdID0gW10pO1xuXHRcdH1cblxuXHRcdHJldHVybiByZXNwb25zZTtcblx0fTtcblxuXHQvKipcblx0ICogVGFrZXMgYSBsaXN0IG9mIGxpc3RlbmVyIG9iamVjdHMgYW5kIGZsYXR0ZW5zIGl0IGludG8gYSBsaXN0IG9mIGxpc3RlbmVyIGZ1bmN0aW9ucy5cblx0ICpcblx0ICogQHBhcmFtIHtPYmplY3RbXX0gbGlzdGVuZXJzIFJhdyBsaXN0ZW5lciBvYmplY3RzLlxuXHQgKiBAcmV0dXJuIHtGdW5jdGlvbltdfSBKdXN0IHRoZSBsaXN0ZW5lciBmdW5jdGlvbnMuXG5cdCAqL1xuXHRwcm90by5mbGF0dGVuTGlzdGVuZXJzID0gZnVuY3Rpb24gZmxhdHRlbkxpc3RlbmVycyhsaXN0ZW5lcnMpIHtcblx0XHR2YXIgZmxhdExpc3RlbmVycyA9IFtdO1xuXHRcdHZhciBpO1xuXG5cdFx0Zm9yIChpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0ZmxhdExpc3RlbmVycy5wdXNoKGxpc3RlbmVyc1tpXS5saXN0ZW5lcik7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZsYXRMaXN0ZW5lcnM7XG5cdH07XG5cblx0LyoqXG5cdCAqIEZldGNoZXMgdGhlIHJlcXVlc3RlZCBsaXN0ZW5lcnMgdmlhIGdldExpc3RlbmVycyBidXQgd2lsbCBhbHdheXMgcmV0dXJuIHRoZSByZXN1bHRzIGluc2lkZSBhbiBvYmplY3QuIFRoaXMgaXMgbWFpbmx5IGZvciBpbnRlcm5hbCB1c2UgYnV0IG90aGVycyBtYXkgZmluZCBpdCB1c2VmdWwuXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gZXZ0IE5hbWUgb2YgdGhlIGV2ZW50IHRvIHJldHVybiB0aGUgbGlzdGVuZXJzIGZyb20uXG5cdCAqIEByZXR1cm4ge09iamVjdH0gQWxsIGxpc3RlbmVyIGZ1bmN0aW9ucyBmb3IgYW4gZXZlbnQgaW4gYW4gb2JqZWN0LlxuXHQgKi9cblx0cHJvdG8uZ2V0TGlzdGVuZXJzQXNPYmplY3QgPSBmdW5jdGlvbiBnZXRMaXN0ZW5lcnNBc09iamVjdChldnQpIHtcblx0XHR2YXIgbGlzdGVuZXJzID0gdGhpcy5nZXRMaXN0ZW5lcnMoZXZ0KTtcblx0XHR2YXIgcmVzcG9uc2U7XG5cblx0XHRpZiAobGlzdGVuZXJzIGluc3RhbmNlb2YgQXJyYXkpIHtcblx0XHRcdHJlc3BvbnNlID0ge307XG5cdFx0XHRyZXNwb25zZVtldnRdID0gbGlzdGVuZXJzO1xuXHRcdH1cblxuXHRcdHJldHVybiByZXNwb25zZSB8fCBsaXN0ZW5lcnM7XG5cdH07XG5cblx0LyoqXG5cdCAqIEFkZHMgYSBsaXN0ZW5lciBmdW5jdGlvbiB0byB0aGUgc3BlY2lmaWVkIGV2ZW50LlxuXHQgKiBUaGUgbGlzdGVuZXIgd2lsbCBub3QgYmUgYWRkZWQgaWYgaXQgaXMgYSBkdXBsaWNhdGUuXG5cdCAqIElmIHRoZSBsaXN0ZW5lciByZXR1cm5zIHRydWUgdGhlbiBpdCB3aWxsIGJlIHJlbW92ZWQgYWZ0ZXIgaXQgaXMgY2FsbGVkLlxuXHQgKiBJZiB5b3UgcGFzcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBhcyB0aGUgZXZlbnQgbmFtZSB0aGVuIHRoZSBsaXN0ZW5lciB3aWxsIGJlIGFkZGVkIHRvIGFsbCBldmVudHMgdGhhdCBtYXRjaCBpdC5cblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd8UmVnRXhwfSBldnQgTmFtZSBvZiB0aGUgZXZlbnQgdG8gYXR0YWNoIHRoZSBsaXN0ZW5lciB0by5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgTWV0aG9kIHRvIGJlIGNhbGxlZCB3aGVuIHRoZSBldmVudCBpcyBlbWl0dGVkLiBJZiB0aGUgZnVuY3Rpb24gcmV0dXJucyB0cnVlIHRoZW4gaXQgd2lsbCBiZSByZW1vdmVkIGFmdGVyIGNhbGxpbmcuXG5cdCAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuXHQgKi9cblx0cHJvdG8uYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiBhZGRMaXN0ZW5lcihldnQsIGxpc3RlbmVyKSB7XG5cdFx0dmFyIGxpc3RlbmVycyA9IHRoaXMuZ2V0TGlzdGVuZXJzQXNPYmplY3QoZXZ0KTtcblx0XHR2YXIgbGlzdGVuZXJJc1dyYXBwZWQgPSB0eXBlb2YgbGlzdGVuZXIgPT09ICdvYmplY3QnO1xuXHRcdHZhciBrZXk7XG5cblx0XHRmb3IgKGtleSBpbiBsaXN0ZW5lcnMpIHtcblx0XHRcdGlmIChsaXN0ZW5lcnMuaGFzT3duUHJvcGVydHkoa2V5KSAmJiBpbmRleE9mTGlzdGVuZXIobGlzdGVuZXJzW2tleV0sIGxpc3RlbmVyKSA9PT0gLTEpIHtcblx0XHRcdFx0bGlzdGVuZXJzW2tleV0ucHVzaChsaXN0ZW5lcklzV3JhcHBlZCA/IGxpc3RlbmVyIDoge1xuXHRcdFx0XHRcdGxpc3RlbmVyOiBsaXN0ZW5lcixcblx0XHRcdFx0XHRvbmNlOiBmYWxzZVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHQvKipcblx0ICogQWxpYXMgb2YgYWRkTGlzdGVuZXJcblx0ICovXG5cdHByb3RvLm9uID0gYWxpYXMoJ2FkZExpc3RlbmVyJyk7XG5cblx0LyoqXG5cdCAqIFNlbWktYWxpYXMgb2YgYWRkTGlzdGVuZXIuIEl0IHdpbGwgYWRkIGEgbGlzdGVuZXIgdGhhdCB3aWxsIGJlXG5cdCAqIGF1dG9tYXRpY2FsbHkgcmVtb3ZlZCBhZnRlciBpdCdzIGZpcnN0IGV4ZWN1dGlvbi5cblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd8UmVnRXhwfSBldnQgTmFtZSBvZiB0aGUgZXZlbnQgdG8gYXR0YWNoIHRoZSBsaXN0ZW5lciB0by5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgTWV0aG9kIHRvIGJlIGNhbGxlZCB3aGVuIHRoZSBldmVudCBpcyBlbWl0dGVkLiBJZiB0aGUgZnVuY3Rpb24gcmV0dXJucyB0cnVlIHRoZW4gaXQgd2lsbCBiZSByZW1vdmVkIGFmdGVyIGNhbGxpbmcuXG5cdCAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuXHQgKi9cblx0cHJvdG8uYWRkT25jZUxpc3RlbmVyID0gZnVuY3Rpb24gYWRkT25jZUxpc3RlbmVyKGV2dCwgbGlzdGVuZXIpIHtcblx0XHRyZXR1cm4gdGhpcy5hZGRMaXN0ZW5lcihldnQsIHtcblx0XHRcdGxpc3RlbmVyOiBsaXN0ZW5lcixcblx0XHRcdG9uY2U6IHRydWVcblx0XHR9KTtcblx0fTtcblxuXHQvKipcblx0ICogQWxpYXMgb2YgYWRkT25jZUxpc3RlbmVyLlxuXHQgKi9cblx0cHJvdG8ub25jZSA9IGFsaWFzKCdhZGRPbmNlTGlzdGVuZXInKTtcblxuXHQvKipcblx0ICogRGVmaW5lcyBhbiBldmVudCBuYW1lLiBUaGlzIGlzIHJlcXVpcmVkIGlmIHlvdSB3YW50IHRvIHVzZSBhIHJlZ2V4IHRvIGFkZCBhIGxpc3RlbmVyIHRvIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlLiBJZiB5b3UgZG9uJ3QgZG8gdGhpcyB0aGVuIGhvdyBkbyB5b3UgZXhwZWN0IGl0IHRvIGtub3cgd2hhdCBldmVudCB0byBhZGQgdG8/IFNob3VsZCBpdCBqdXN0IGFkZCB0byBldmVyeSBwb3NzaWJsZSBtYXRjaCBmb3IgYSByZWdleD8gTm8uIFRoYXQgaXMgc2NhcnkgYW5kIGJhZC5cblx0ICogWW91IG5lZWQgdG8gdGVsbCBpdCB3aGF0IGV2ZW50IG5hbWVzIHNob3VsZCBiZSBtYXRjaGVkIGJ5IGEgcmVnZXguXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBldnQgTmFtZSBvZiB0aGUgZXZlbnQgdG8gY3JlYXRlLlxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cblx0ICovXG5cdHByb3RvLmRlZmluZUV2ZW50ID0gZnVuY3Rpb24gZGVmaW5lRXZlbnQoZXZ0KSB7XG5cdFx0dGhpcy5nZXRMaXN0ZW5lcnMoZXZ0KTtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHQvKipcblx0ICogVXNlcyBkZWZpbmVFdmVudCB0byBkZWZpbmUgbXVsdGlwbGUgZXZlbnRzLlxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ1tdfSBldnRzIEFuIGFycmF5IG9mIGV2ZW50IG5hbWVzIHRvIGRlZmluZS5cblx0ICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXG5cdCAqL1xuXHRwcm90by5kZWZpbmVFdmVudHMgPSBmdW5jdGlvbiBkZWZpbmVFdmVudHMoZXZ0cykge1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZXZ0cy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0dGhpcy5kZWZpbmVFdmVudChldnRzW2ldKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJlbW92ZXMgYSBsaXN0ZW5lciBmdW5jdGlvbiBmcm9tIHRoZSBzcGVjaWZpZWQgZXZlbnQuXG5cdCAqIFdoZW4gcGFzc2VkIGEgcmVndWxhciBleHByZXNzaW9uIGFzIHRoZSBldmVudCBuYW1lLCBpdCB3aWxsIHJlbW92ZSB0aGUgbGlzdGVuZXIgZnJvbSBhbGwgZXZlbnRzIHRoYXQgbWF0Y2ggaXQuXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gZXZ0IE5hbWUgb2YgdGhlIGV2ZW50IHRvIHJlbW92ZSB0aGUgbGlzdGVuZXIgZnJvbS5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgTWV0aG9kIHRvIHJlbW92ZSBmcm9tIHRoZSBldmVudC5cblx0ICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXG5cdCAqL1xuXHRwcm90by5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGV2dCwgbGlzdGVuZXIpIHtcblx0XHR2YXIgbGlzdGVuZXJzID0gdGhpcy5nZXRMaXN0ZW5lcnNBc09iamVjdChldnQpO1xuXHRcdHZhciBpbmRleDtcblx0XHR2YXIga2V5O1xuXG5cdFx0Zm9yIChrZXkgaW4gbGlzdGVuZXJzKSB7XG5cdFx0XHRpZiAobGlzdGVuZXJzLmhhc093blByb3BlcnR5KGtleSkpIHtcblx0XHRcdFx0aW5kZXggPSBpbmRleE9mTGlzdGVuZXIobGlzdGVuZXJzW2tleV0sIGxpc3RlbmVyKTtcblxuXHRcdFx0XHRpZiAoaW5kZXggIT09IC0xKSB7XG5cdFx0XHRcdFx0bGlzdGVuZXJzW2tleV0uc3BsaWNlKGluZGV4LCAxKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBBbGlhcyBvZiByZW1vdmVMaXN0ZW5lclxuXHQgKi9cblx0cHJvdG8ub2ZmID0gYWxpYXMoJ3JlbW92ZUxpc3RlbmVyJyk7XG5cblx0LyoqXG5cdCAqIEFkZHMgbGlzdGVuZXJzIGluIGJ1bGsgdXNpbmcgdGhlIG1hbmlwdWxhdGVMaXN0ZW5lcnMgbWV0aG9kLlxuXHQgKiBJZiB5b3UgcGFzcyBhbiBvYmplY3QgYXMgdGhlIHNlY29uZCBhcmd1bWVudCB5b3UgY2FuIGFkZCB0byBtdWx0aXBsZSBldmVudHMgYXQgb25jZS4gVGhlIG9iamVjdCBzaG91bGQgY29udGFpbiBrZXkgdmFsdWUgcGFpcnMgb2YgZXZlbnRzIGFuZCBsaXN0ZW5lcnMgb3IgbGlzdGVuZXIgYXJyYXlzLiBZb3UgY2FuIGFsc28gcGFzcyBpdCBhbiBldmVudCBuYW1lIGFuZCBhbiBhcnJheSBvZiBsaXN0ZW5lcnMgdG8gYmUgYWRkZWQuXG5cdCAqIFlvdSBjYW4gYWxzbyBwYXNzIGl0IGEgcmVndWxhciBleHByZXNzaW9uIHRvIGFkZCB0aGUgYXJyYXkgb2YgbGlzdGVuZXJzIHRvIGFsbCBldmVudHMgdGhhdCBtYXRjaCBpdC5cblx0ICogWWVhaCwgdGhpcyBmdW5jdGlvbiBkb2VzIHF1aXRlIGEgYml0LiBUaGF0J3MgcHJvYmFibHkgYSBiYWQgdGhpbmcuXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdHxSZWdFeHB9IGV2dCBBbiBldmVudCBuYW1lIGlmIHlvdSB3aWxsIHBhc3MgYW4gYXJyYXkgb2YgbGlzdGVuZXJzIG5leHQuIEFuIG9iamVjdCBpZiB5b3Ugd2lzaCB0byBhZGQgdG8gbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2UuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb25bXX0gW2xpc3RlbmVyc10gQW4gb3B0aW9uYWwgYXJyYXkgb2YgbGlzdGVuZXIgZnVuY3Rpb25zIHRvIGFkZC5cblx0ICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXG5cdCAqL1xuXHRwcm90by5hZGRMaXN0ZW5lcnMgPSBmdW5jdGlvbiBhZGRMaXN0ZW5lcnMoZXZ0LCBsaXN0ZW5lcnMpIHtcblx0XHQvLyBQYXNzIHRocm91Z2ggdG8gbWFuaXB1bGF0ZUxpc3RlbmVyc1xuXHRcdHJldHVybiB0aGlzLm1hbmlwdWxhdGVMaXN0ZW5lcnMoZmFsc2UsIGV2dCwgbGlzdGVuZXJzKTtcblx0fTtcblxuXHQvKipcblx0ICogUmVtb3ZlcyBsaXN0ZW5lcnMgaW4gYnVsayB1c2luZyB0aGUgbWFuaXB1bGF0ZUxpc3RlbmVycyBtZXRob2QuXG5cdCAqIElmIHlvdSBwYXNzIGFuIG9iamVjdCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IHlvdSBjYW4gcmVtb3ZlIGZyb20gbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2UuIFRoZSBvYmplY3Qgc2hvdWxkIGNvbnRhaW4ga2V5IHZhbHVlIHBhaXJzIG9mIGV2ZW50cyBhbmQgbGlzdGVuZXJzIG9yIGxpc3RlbmVyIGFycmF5cy5cblx0ICogWW91IGNhbiBhbHNvIHBhc3MgaXQgYW4gZXZlbnQgbmFtZSBhbmQgYW4gYXJyYXkgb2YgbGlzdGVuZXJzIHRvIGJlIHJlbW92ZWQuXG5cdCAqIFlvdSBjYW4gYWxzbyBwYXNzIGl0IGEgcmVndWxhciBleHByZXNzaW9uIHRvIHJlbW92ZSB0aGUgbGlzdGVuZXJzIGZyb20gYWxsIGV2ZW50cyB0aGF0IG1hdGNoIGl0LlxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R8UmVnRXhwfSBldnQgQW4gZXZlbnQgbmFtZSBpZiB5b3Ugd2lsbCBwYXNzIGFuIGFycmF5IG9mIGxpc3RlbmVycyBuZXh0LiBBbiBvYmplY3QgaWYgeW91IHdpc2ggdG8gcmVtb3ZlIGZyb20gbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2UuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb25bXX0gW2xpc3RlbmVyc10gQW4gb3B0aW9uYWwgYXJyYXkgb2YgbGlzdGVuZXIgZnVuY3Rpb25zIHRvIHJlbW92ZS5cblx0ICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXG5cdCAqL1xuXHRwcm90by5yZW1vdmVMaXN0ZW5lcnMgPSBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcnMoZXZ0LCBsaXN0ZW5lcnMpIHtcblx0XHQvLyBQYXNzIHRocm91Z2ggdG8gbWFuaXB1bGF0ZUxpc3RlbmVyc1xuXHRcdHJldHVybiB0aGlzLm1hbmlwdWxhdGVMaXN0ZW5lcnModHJ1ZSwgZXZ0LCBsaXN0ZW5lcnMpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBFZGl0cyBsaXN0ZW5lcnMgaW4gYnVsay4gVGhlIGFkZExpc3RlbmVycyBhbmQgcmVtb3ZlTGlzdGVuZXJzIG1ldGhvZHMgYm90aCB1c2UgdGhpcyB0byBkbyB0aGVpciBqb2IuIFlvdSBzaG91bGQgcmVhbGx5IHVzZSB0aG9zZSBpbnN0ZWFkLCB0aGlzIGlzIGEgbGl0dGxlIGxvd2VyIGxldmVsLlxuXHQgKiBUaGUgZmlyc3QgYXJndW1lbnQgd2lsbCBkZXRlcm1pbmUgaWYgdGhlIGxpc3RlbmVycyBhcmUgcmVtb3ZlZCAodHJ1ZSkgb3IgYWRkZWQgKGZhbHNlKS5cblx0ICogSWYgeW91IHBhc3MgYW4gb2JqZWN0IGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgeW91IGNhbiBhZGQvcmVtb3ZlIGZyb20gbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2UuIFRoZSBvYmplY3Qgc2hvdWxkIGNvbnRhaW4ga2V5IHZhbHVlIHBhaXJzIG9mIGV2ZW50cyBhbmQgbGlzdGVuZXJzIG9yIGxpc3RlbmVyIGFycmF5cy5cblx0ICogWW91IGNhbiBhbHNvIHBhc3MgaXQgYW4gZXZlbnQgbmFtZSBhbmQgYW4gYXJyYXkgb2YgbGlzdGVuZXJzIHRvIGJlIGFkZGVkL3JlbW92ZWQuXG5cdCAqIFlvdSBjYW4gYWxzbyBwYXNzIGl0IGEgcmVndWxhciBleHByZXNzaW9uIHRvIG1hbmlwdWxhdGUgdGhlIGxpc3RlbmVycyBvZiBhbGwgZXZlbnRzIHRoYXQgbWF0Y2ggaXQuXG5cdCAqXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gcmVtb3ZlIFRydWUgaWYgeW91IHdhbnQgdG8gcmVtb3ZlIGxpc3RlbmVycywgZmFsc2UgaWYgeW91IHdhbnQgdG8gYWRkLlxuXHQgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R8UmVnRXhwfSBldnQgQW4gZXZlbnQgbmFtZSBpZiB5b3Ugd2lsbCBwYXNzIGFuIGFycmF5IG9mIGxpc3RlbmVycyBuZXh0LiBBbiBvYmplY3QgaWYgeW91IHdpc2ggdG8gYWRkL3JlbW92ZSBmcm9tIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9uW119IFtsaXN0ZW5lcnNdIEFuIG9wdGlvbmFsIGFycmF5IG9mIGxpc3RlbmVyIGZ1bmN0aW9ucyB0byBhZGQvcmVtb3ZlLlxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cblx0ICovXG5cdHByb3RvLm1hbmlwdWxhdGVMaXN0ZW5lcnMgPSBmdW5jdGlvbiBtYW5pcHVsYXRlTGlzdGVuZXJzKHJlbW92ZSwgZXZ0LCBsaXN0ZW5lcnMpIHtcblx0XHR2YXIgaTtcblx0XHR2YXIgdmFsdWU7XG5cdFx0dmFyIHNpbmdsZSA9IHJlbW92ZSA/IHRoaXMucmVtb3ZlTGlzdGVuZXIgOiB0aGlzLmFkZExpc3RlbmVyO1xuXHRcdHZhciBtdWx0aXBsZSA9IHJlbW92ZSA/IHRoaXMucmVtb3ZlTGlzdGVuZXJzIDogdGhpcy5hZGRMaXN0ZW5lcnM7XG5cblx0XHQvLyBJZiBldnQgaXMgYW4gb2JqZWN0IHRoZW4gcGFzcyBlYWNoIG9mIGl0J3MgcHJvcGVydGllcyB0byB0aGlzIG1ldGhvZFxuXHRcdGlmICh0eXBlb2YgZXZ0ID09PSAnb2JqZWN0JyAmJiAhKGV2dCBpbnN0YW5jZW9mIFJlZ0V4cCkpIHtcblx0XHRcdGZvciAoaSBpbiBldnQpIHtcblx0XHRcdFx0aWYgKGV2dC5oYXNPd25Qcm9wZXJ0eShpKSAmJiAodmFsdWUgPSBldnRbaV0pKSB7XG5cdFx0XHRcdFx0Ly8gUGFzcyB0aGUgc2luZ2xlIGxpc3RlbmVyIHN0cmFpZ2h0IHRocm91Z2ggdG8gdGhlIHNpbmd1bGFyIG1ldGhvZFxuXHRcdFx0XHRcdGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdHNpbmdsZS5jYWxsKHRoaXMsIGksIHZhbHVlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHQvLyBPdGhlcndpc2UgcGFzcyBiYWNrIHRvIHRoZSBtdWx0aXBsZSBmdW5jdGlvblxuXHRcdFx0XHRcdFx0bXVsdGlwbGUuY2FsbCh0aGlzLCBpLCB2YWx1ZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0Ly8gU28gZXZ0IG11c3QgYmUgYSBzdHJpbmdcblx0XHRcdC8vIEFuZCBsaXN0ZW5lcnMgbXVzdCBiZSBhbiBhcnJheSBvZiBsaXN0ZW5lcnNcblx0XHRcdC8vIExvb3Agb3ZlciBpdCBhbmQgcGFzcyBlYWNoIG9uZSB0byB0aGUgbXVsdGlwbGUgbWV0aG9kXG5cdFx0XHRpID0gbGlzdGVuZXJzLmxlbmd0aDtcblx0XHRcdHdoaWxlIChpLS0pIHtcblx0XHRcdFx0c2luZ2xlLmNhbGwodGhpcywgZXZ0LCBsaXN0ZW5lcnNbaV0pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZW1vdmVzIGFsbCBsaXN0ZW5lcnMgZnJvbSBhIHNwZWNpZmllZCBldmVudC5cblx0ICogSWYgeW91IGRvIG5vdCBzcGVjaWZ5IGFuIGV2ZW50IHRoZW4gYWxsIGxpc3RlbmVycyB3aWxsIGJlIHJlbW92ZWQuXG5cdCAqIFRoYXQgbWVhbnMgZXZlcnkgZXZlbnQgd2lsbCBiZSBlbXB0aWVkLlxuXHQgKiBZb3UgY2FuIGFsc28gcGFzcyBhIHJlZ2V4IHRvIHJlbW92ZSBhbGwgZXZlbnRzIHRoYXQgbWF0Y2ggaXQuXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gW2V2dF0gT3B0aW9uYWwgbmFtZSBvZiB0aGUgZXZlbnQgdG8gcmVtb3ZlIGFsbCBsaXN0ZW5lcnMgZm9yLiBXaWxsIHJlbW92ZSBmcm9tIGV2ZXJ5IGV2ZW50IGlmIG5vdCBwYXNzZWQuXG5cdCAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuXHQgKi9cblx0cHJvdG8ucmVtb3ZlRXZlbnQgPSBmdW5jdGlvbiByZW1vdmVFdmVudChldnQpIHtcblx0XHR2YXIgdHlwZSA9IHR5cGVvZiBldnQ7XG5cdFx0dmFyIGV2ZW50cyA9IHRoaXMuX2dldEV2ZW50cygpO1xuXHRcdHZhciBrZXk7XG5cblx0XHQvLyBSZW1vdmUgZGlmZmVyZW50IHRoaW5ncyBkZXBlbmRpbmcgb24gdGhlIHN0YXRlIG9mIGV2dFxuXHRcdGlmICh0eXBlID09PSAnc3RyaW5nJykge1xuXHRcdFx0Ly8gUmVtb3ZlIGFsbCBsaXN0ZW5lcnMgZm9yIHRoZSBzcGVjaWZpZWQgZXZlbnRcblx0XHRcdGRlbGV0ZSBldmVudHNbZXZ0XTtcblx0XHR9XG5cdFx0ZWxzZSBpZiAodHlwZSA9PT0gJ29iamVjdCcpIHtcblx0XHRcdC8vIFJlbW92ZSBhbGwgZXZlbnRzIG1hdGNoaW5nIHRoZSByZWdleC5cblx0XHRcdGZvciAoa2V5IGluIGV2ZW50cykge1xuXHRcdFx0XHRpZiAoZXZlbnRzLmhhc093blByb3BlcnR5KGtleSkgJiYgZXZ0LnRlc3Qoa2V5KSkge1xuXHRcdFx0XHRcdGRlbGV0ZSBldmVudHNba2V5XTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdC8vIFJlbW92ZSBhbGwgbGlzdGVuZXJzIGluIGFsbCBldmVudHNcblx0XHRcdGRlbGV0ZSB0aGlzLl9ldmVudHM7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0LyoqXG5cdCAqIEFsaWFzIG9mIHJlbW92ZUV2ZW50LlxuXHQgKlxuXHQgKiBBZGRlZCB0byBtaXJyb3IgdGhlIG5vZGUgQVBJLlxuXHQgKi9cblx0cHJvdG8ucmVtb3ZlQWxsTGlzdGVuZXJzID0gYWxpYXMoJ3JlbW92ZUV2ZW50Jyk7XG5cblx0LyoqXG5cdCAqIEVtaXRzIGFuIGV2ZW50IG9mIHlvdXIgY2hvaWNlLlxuXHQgKiBXaGVuIGVtaXR0ZWQsIGV2ZXJ5IGxpc3RlbmVyIGF0dGFjaGVkIHRvIHRoYXQgZXZlbnQgd2lsbCBiZSBleGVjdXRlZC5cblx0ICogSWYgeW91IHBhc3MgdGhlIG9wdGlvbmFsIGFyZ3VtZW50IGFycmF5IHRoZW4gdGhvc2UgYXJndW1lbnRzIHdpbGwgYmUgcGFzc2VkIHRvIGV2ZXJ5IGxpc3RlbmVyIHVwb24gZXhlY3V0aW9uLlxuXHQgKiBCZWNhdXNlIGl0IHVzZXMgYGFwcGx5YCwgeW91ciBhcnJheSBvZiBhcmd1bWVudHMgd2lsbCBiZSBwYXNzZWQgYXMgaWYgeW91IHdyb3RlIHRoZW0gb3V0IHNlcGFyYXRlbHkuXG5cdCAqIFNvIHRoZXkgd2lsbCBub3QgYXJyaXZlIHdpdGhpbiB0aGUgYXJyYXkgb24gdGhlIG90aGVyIHNpZGUsIHRoZXkgd2lsbCBiZSBzZXBhcmF0ZS5cblx0ICogWW91IGNhbiBhbHNvIHBhc3MgYSByZWd1bGFyIGV4cHJlc3Npb24gdG8gZW1pdCB0byBhbGwgZXZlbnRzIHRoYXQgbWF0Y2ggaXQuXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gZXZ0IE5hbWUgb2YgdGhlIGV2ZW50IHRvIGVtaXQgYW5kIGV4ZWN1dGUgbGlzdGVuZXJzIGZvci5cblx0ICogQHBhcmFtIHtBcnJheX0gW2FyZ3NdIE9wdGlvbmFsIGFycmF5IG9mIGFyZ3VtZW50cyB0byBiZSBwYXNzZWQgdG8gZWFjaCBsaXN0ZW5lci5cblx0ICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXG5cdCAqL1xuXHRwcm90by5lbWl0RXZlbnQgPSBmdW5jdGlvbiBlbWl0RXZlbnQoZXZ0LCBhcmdzKSB7XG5cdFx0dmFyIGxpc3RlbmVycyA9IHRoaXMuZ2V0TGlzdGVuZXJzQXNPYmplY3QoZXZ0KTtcblx0XHR2YXIgbGlzdGVuZXI7XG5cdFx0dmFyIGk7XG5cdFx0dmFyIGtleTtcblx0XHR2YXIgcmVzcG9uc2U7XG5cblx0XHRmb3IgKGtleSBpbiBsaXN0ZW5lcnMpIHtcblx0XHRcdGlmIChsaXN0ZW5lcnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHRcdFx0XHRpID0gbGlzdGVuZXJzW2tleV0ubGVuZ3RoO1xuXG5cdFx0XHRcdHdoaWxlIChpLS0pIHtcblx0XHRcdFx0XHQvLyBJZiB0aGUgbGlzdGVuZXIgcmV0dXJucyB0cnVlIHRoZW4gaXQgc2hhbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBldmVudFxuXHRcdFx0XHRcdC8vIFRoZSBmdW5jdGlvbiBpcyBleGVjdXRlZCBlaXRoZXIgd2l0aCBhIGJhc2ljIGNhbGwgb3IgYW4gYXBwbHkgaWYgdGhlcmUgaXMgYW4gYXJncyBhcnJheVxuXHRcdFx0XHRcdGxpc3RlbmVyID0gbGlzdGVuZXJzW2tleV1baV07XG5cblx0XHRcdFx0XHRpZiAobGlzdGVuZXIub25jZSA9PT0gdHJ1ZSkge1xuXHRcdFx0XHRcdFx0dGhpcy5yZW1vdmVMaXN0ZW5lcihldnQsIGxpc3RlbmVyLmxpc3RlbmVyKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXNwb25zZSA9IGxpc3RlbmVyLmxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3MgfHwgW10pO1xuXG5cdFx0XHRcdFx0aWYgKHJlc3BvbnNlID09PSB0aGlzLl9nZXRPbmNlUmV0dXJuVmFsdWUoKSkge1xuXHRcdFx0XHRcdFx0dGhpcy5yZW1vdmVMaXN0ZW5lcihldnQsIGxpc3RlbmVyLmxpc3RlbmVyKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHQvKipcblx0ICogQWxpYXMgb2YgZW1pdEV2ZW50XG5cdCAqL1xuXHRwcm90by50cmlnZ2VyID0gYWxpYXMoJ2VtaXRFdmVudCcpO1xuXG5cdC8qKlxuXHQgKiBTdWJ0bHkgZGlmZmVyZW50IGZyb20gZW1pdEV2ZW50IGluIHRoYXQgaXQgd2lsbCBwYXNzIGl0cyBhcmd1bWVudHMgb24gdG8gdGhlIGxpc3RlbmVycywgYXMgb3Bwb3NlZCB0byB0YWtpbmcgYSBzaW5nbGUgYXJyYXkgb2YgYXJndW1lbnRzIHRvIHBhc3Mgb24uXG5cdCAqIEFzIHdpdGggZW1pdEV2ZW50LCB5b3UgY2FuIHBhc3MgYSByZWdleCBpbiBwbGFjZSBvZiB0aGUgZXZlbnQgbmFtZSB0byBlbWl0IHRvIGFsbCBldmVudHMgdGhhdCBtYXRjaCBpdC5cblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd8UmVnRXhwfSBldnQgTmFtZSBvZiB0aGUgZXZlbnQgdG8gZW1pdCBhbmQgZXhlY3V0ZSBsaXN0ZW5lcnMgZm9yLlxuXHQgKiBAcGFyYW0gey4uLip9IE9wdGlvbmFsIGFkZGl0aW9uYWwgYXJndW1lbnRzIHRvIGJlIHBhc3NlZCB0byBlYWNoIGxpc3RlbmVyLlxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cblx0ICovXG5cdHByb3RvLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGV2dCkge1xuXHRcdHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcblx0XHRyZXR1cm4gdGhpcy5lbWl0RXZlbnQoZXZ0LCBhcmdzKTtcblx0fTtcblxuXHQvKipcblx0ICogU2V0cyB0aGUgY3VycmVudCB2YWx1ZSB0byBjaGVjayBhZ2FpbnN0IHdoZW4gZXhlY3V0aW5nIGxpc3RlbmVycy4gSWYgYVxuXHQgKiBsaXN0ZW5lcnMgcmV0dXJuIHZhbHVlIG1hdGNoZXMgdGhlIG9uZSBzZXQgaGVyZSB0aGVuIGl0IHdpbGwgYmUgcmVtb3ZlZFxuXHQgKiBhZnRlciBleGVjdXRpb24uIFRoaXMgdmFsdWUgZGVmYXVsdHMgdG8gdHJ1ZS5cblx0ICpcblx0ICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgbmV3IHZhbHVlIHRvIGNoZWNrIGZvciB3aGVuIGV4ZWN1dGluZyBsaXN0ZW5lcnMuXG5cdCAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuXHQgKi9cblx0cHJvdG8uc2V0T25jZVJldHVyblZhbHVlID0gZnVuY3Rpb24gc2V0T25jZVJldHVyblZhbHVlKHZhbHVlKSB7XG5cdFx0dGhpcy5fb25jZVJldHVyblZhbHVlID0gdmFsdWU7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0LyoqXG5cdCAqIEZldGNoZXMgdGhlIGN1cnJlbnQgdmFsdWUgdG8gY2hlY2sgYWdhaW5zdCB3aGVuIGV4ZWN1dGluZyBsaXN0ZW5lcnMuIElmXG5cdCAqIHRoZSBsaXN0ZW5lcnMgcmV0dXJuIHZhbHVlIG1hdGNoZXMgdGhpcyBvbmUgdGhlbiBpdCBzaG91bGQgYmUgcmVtb3ZlZFxuXHQgKiBhdXRvbWF0aWNhbGx5LiBJdCB3aWxsIHJldHVybiB0cnVlIGJ5IGRlZmF1bHQuXG5cdCAqXG5cdCAqIEByZXR1cm4geyp8Qm9vbGVhbn0gVGhlIGN1cnJlbnQgdmFsdWUgdG8gY2hlY2sgZm9yIG9yIHRoZSBkZWZhdWx0LCB0cnVlLlxuXHQgKiBAYXBpIHByaXZhdGVcblx0ICovXG5cdHByb3RvLl9nZXRPbmNlUmV0dXJuVmFsdWUgPSBmdW5jdGlvbiBfZ2V0T25jZVJldHVyblZhbHVlKCkge1xuXHRcdGlmICh0aGlzLmhhc093blByb3BlcnR5KCdfb25jZVJldHVyblZhbHVlJykpIHtcblx0XHRcdHJldHVybiB0aGlzLl9vbmNlUmV0dXJuVmFsdWU7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBGZXRjaGVzIHRoZSBldmVudHMgb2JqZWN0IGFuZCBjcmVhdGVzIG9uZSBpZiByZXF1aXJlZC5cblx0ICpcblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgZXZlbnRzIHN0b3JhZ2Ugb2JqZWN0LlxuXHQgKiBAYXBpIHByaXZhdGVcblx0ICovXG5cdHByb3RvLl9nZXRFdmVudHMgPSBmdW5jdGlvbiBfZ2V0RXZlbnRzKCkge1xuXHRcdHJldHVybiB0aGlzLl9ldmVudHMgfHwgKHRoaXMuX2V2ZW50cyA9IHt9KTtcblx0fTtcblxuXHQvKipcblx0ICogUmV2ZXJ0cyB0aGUgZ2xvYmFsIHtAbGluayBFdmVudEVtaXR0ZXJ9IHRvIGl0cyBwcmV2aW91cyB2YWx1ZSBhbmQgcmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGlzIHZlcnNpb24uXG5cdCAqXG5cdCAqIEByZXR1cm4ge0Z1bmN0aW9ufSBOb24gY29uZmxpY3RpbmcgRXZlbnRFbWl0dGVyIGNsYXNzLlxuXHQgKi9cblx0RXZlbnRFbWl0dGVyLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiBub0NvbmZsaWN0KCkge1xuXHRcdGV4cG9ydHMuRXZlbnRFbWl0dGVyID0gb3JpZ2luYWxHbG9iYWxWYWx1ZTtcblx0XHRyZXR1cm4gRXZlbnRFbWl0dGVyO1xuXHR9O1xuXG5cdC8vIEV4cG9zZSB0aGUgY2xhc3MgZWl0aGVyIHZpYSBBTUQsIENvbW1vbkpTIG9yIHRoZSBnbG9iYWwgb2JqZWN0XG5cdGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcblx0XHRkZWZpbmUoJ2V2ZW50RW1pdHRlci9FdmVudEVtaXR0ZXInLFtdLGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBFdmVudEVtaXR0ZXI7XG5cdFx0fSk7XG5cdH1cblx0ZWxzZSBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpe1xuXHRcdG1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xuXHR9XG5cdGVsc2Uge1xuXHRcdHRoaXMuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXHR9XG59LmNhbGwodGhpcykpO1xuXG4vKiFcbiAqIGV2ZW50aWUgdjEuMC40XG4gKiBldmVudCBiaW5kaW5nIGhlbHBlclxuICogICBldmVudGllLmJpbmQoIGVsZW0sICdjbGljaycsIG15Rm4gKVxuICogICBldmVudGllLnVuYmluZCggZWxlbSwgJ2NsaWNrJywgbXlGbiApXG4gKi9cblxuLypqc2hpbnQgYnJvd3NlcjogdHJ1ZSwgdW5kZWY6IHRydWUsIHVudXNlZDogdHJ1ZSAqL1xuLypnbG9iYWwgZGVmaW5lOiBmYWxzZSAqL1xuXG4oIGZ1bmN0aW9uKCB3aW5kb3cgKSB7XG5cblxuXG52YXIgZG9jRWxlbSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxudmFyIGJpbmQgPSBmdW5jdGlvbigpIHt9O1xuXG5mdW5jdGlvbiBnZXRJRUV2ZW50KCBvYmogKSB7XG4gIHZhciBldmVudCA9IHdpbmRvdy5ldmVudDtcbiAgLy8gYWRkIGV2ZW50LnRhcmdldFxuICBldmVudC50YXJnZXQgPSBldmVudC50YXJnZXQgfHwgZXZlbnQuc3JjRWxlbWVudCB8fCBvYmo7XG4gIHJldHVybiBldmVudDtcbn1cblxuaWYgKCBkb2NFbGVtLmFkZEV2ZW50TGlzdGVuZXIgKSB7XG4gIGJpbmQgPSBmdW5jdGlvbiggb2JqLCB0eXBlLCBmbiApIHtcbiAgICBvYmouYWRkRXZlbnRMaXN0ZW5lciggdHlwZSwgZm4sIGZhbHNlICk7XG4gIH07XG59IGVsc2UgaWYgKCBkb2NFbGVtLmF0dGFjaEV2ZW50ICkge1xuICBiaW5kID0gZnVuY3Rpb24oIG9iaiwgdHlwZSwgZm4gKSB7XG4gICAgb2JqWyB0eXBlICsgZm4gXSA9IGZuLmhhbmRsZUV2ZW50ID9cbiAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZXZlbnQgPSBnZXRJRUV2ZW50KCBvYmogKTtcbiAgICAgICAgZm4uaGFuZGxlRXZlbnQuY2FsbCggZm4sIGV2ZW50ICk7XG4gICAgICB9IDpcbiAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZXZlbnQgPSBnZXRJRUV2ZW50KCBvYmogKTtcbiAgICAgICAgZm4uY2FsbCggb2JqLCBldmVudCApO1xuICAgICAgfTtcbiAgICBvYmouYXR0YWNoRXZlbnQoIFwib25cIiArIHR5cGUsIG9ialsgdHlwZSArIGZuIF0gKTtcbiAgfTtcbn1cblxudmFyIHVuYmluZCA9IGZ1bmN0aW9uKCkge307XG5cbmlmICggZG9jRWxlbS5yZW1vdmVFdmVudExpc3RlbmVyICkge1xuICB1bmJpbmQgPSBmdW5jdGlvbiggb2JqLCB0eXBlLCBmbiApIHtcbiAgICBvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lciggdHlwZSwgZm4sIGZhbHNlICk7XG4gIH07XG59IGVsc2UgaWYgKCBkb2NFbGVtLmRldGFjaEV2ZW50ICkge1xuICB1bmJpbmQgPSBmdW5jdGlvbiggb2JqLCB0eXBlLCBmbiApIHtcbiAgICBvYmouZGV0YWNoRXZlbnQoIFwib25cIiArIHR5cGUsIG9ialsgdHlwZSArIGZuIF0gKTtcbiAgICB0cnkge1xuICAgICAgZGVsZXRlIG9ialsgdHlwZSArIGZuIF07XG4gICAgfSBjYXRjaCAoIGVyciApIHtcbiAgICAgIC8vIGNhbid0IGRlbGV0ZSB3aW5kb3cgb2JqZWN0IHByb3BlcnRpZXNcbiAgICAgIG9ialsgdHlwZSArIGZuIF0gPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9O1xufVxuXG52YXIgZXZlbnRpZSA9IHtcbiAgYmluZDogYmluZCxcbiAgdW5iaW5kOiB1bmJpbmRcbn07XG5cbi8vIHRyYW5zcG9ydFxuaWYgKCB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7XG4gIC8vIEFNRFxuICBkZWZpbmUoICdldmVudGllL2V2ZW50aWUnLGV2ZW50aWUgKTtcbn0gZWxzZSB7XG4gIC8vIGJyb3dzZXIgZ2xvYmFsXG4gIHdpbmRvdy5ldmVudGllID0gZXZlbnRpZTtcbn1cblxufSkoIHRoaXMgKTtcblxuLyohXG4gKiBpbWFnZXNMb2FkZWQgdjMuMi4wXG4gKiBKYXZhU2NyaXB0IGlzIGFsbCBsaWtlIFwiWW91IGltYWdlcyBhcmUgZG9uZSB5ZXQgb3Igd2hhdD9cIlxuICogTUlUIExpY2Vuc2VcbiAqL1xuXG4oIGZ1bmN0aW9uKCB3aW5kb3csIGZhY3RvcnkgKSB7ICd1c2Ugc3RyaWN0JztcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG5cbiAgLypnbG9iYWwgZGVmaW5lOiBmYWxzZSwgbW9kdWxlOiBmYWxzZSwgcmVxdWlyZTogZmFsc2UgKi9cblxuICBpZiAoIHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xuICAgIC8vIEFNRFxuICAgIGRlZmluZSggW1xuICAgICAgJ2V2ZW50RW1pdHRlci9FdmVudEVtaXR0ZXInLFxuICAgICAgJ2V2ZW50aWUvZXZlbnRpZSdcbiAgICBdLCBmdW5jdGlvbiggRXZlbnRFbWl0dGVyLCBldmVudGllICkge1xuICAgICAgcmV0dXJuIGZhY3RvcnkoIHdpbmRvdywgRXZlbnRFbWl0dGVyLCBldmVudGllICk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gICAgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoXG4gICAgICB3aW5kb3csXG4gICAgICByZXF1aXJlKCd3b2xmeTg3LWV2ZW50ZW1pdHRlcicpLFxuICAgICAgcmVxdWlyZSgnZXZlbnRpZScpXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBicm93c2VyIGdsb2JhbFxuICAgIHdpbmRvdy5pbWFnZXNMb2FkZWQgPSBmYWN0b3J5KFxuICAgICAgd2luZG93LFxuICAgICAgd2luZG93LkV2ZW50RW1pdHRlcixcbiAgICAgIHdpbmRvdy5ldmVudGllXG4gICAgKTtcbiAgfVxuXG59KSggd2luZG93LFxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAgZmFjdG9yeSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5mdW5jdGlvbiBmYWN0b3J5KCB3aW5kb3csIEV2ZW50RW1pdHRlciwgZXZlbnRpZSApIHtcblxuXG5cbnZhciAkID0gd2luZG93LmpRdWVyeTtcbnZhciBjb25zb2xlID0gd2luZG93LmNvbnNvbGU7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGhlbHBlcnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuLy8gZXh0ZW5kIG9iamVjdHNcbmZ1bmN0aW9uIGV4dGVuZCggYSwgYiApIHtcbiAgZm9yICggdmFyIHByb3AgaW4gYiApIHtcbiAgICBhWyBwcm9wIF0gPSBiWyBwcm9wIF07XG4gIH1cbiAgcmV0dXJuIGE7XG59XG5cbnZhciBvYmpUb1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5mdW5jdGlvbiBpc0FycmF5KCBvYmogKSB7XG4gIHJldHVybiBvYmpUb1N0cmluZy5jYWxsKCBvYmogKSA9PSAnW29iamVjdCBBcnJheV0nO1xufVxuXG4vLyB0dXJuIGVsZW1lbnQgb3Igbm9kZUxpc3QgaW50byBhbiBhcnJheVxuZnVuY3Rpb24gbWFrZUFycmF5KCBvYmogKSB7XG4gIHZhciBhcnkgPSBbXTtcbiAgaWYgKCBpc0FycmF5KCBvYmogKSApIHtcbiAgICAvLyB1c2Ugb2JqZWN0IGlmIGFscmVhZHkgYW4gYXJyYXlcbiAgICBhcnkgPSBvYmo7XG4gIH0gZWxzZSBpZiAoIHR5cGVvZiBvYmoubGVuZ3RoID09ICdudW1iZXInICkge1xuICAgIC8vIGNvbnZlcnQgbm9kZUxpc3QgdG8gYXJyYXlcbiAgICBmb3IgKCB2YXIgaT0wOyBpIDwgb2JqLmxlbmd0aDsgaSsrICkge1xuICAgICAgYXJ5LnB1c2goIG9ialtpXSApO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBhcnJheSBvZiBzaW5nbGUgaW5kZXhcbiAgICBhcnkucHVzaCggb2JqICk7XG4gIH1cbiAgcmV0dXJuIGFyeTtcbn1cblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBpbWFnZXNMb2FkZWQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuICAvKipcbiAgICogQHBhcmFtIHtBcnJheSwgRWxlbWVudCwgTm9kZUxpc3QsIFN0cmluZ30gZWxlbVxuICAgKiBAcGFyYW0ge09iamVjdCBvciBGdW5jdGlvbn0gb3B0aW9ucyAtIGlmIGZ1bmN0aW9uLCB1c2UgYXMgY2FsbGJhY2tcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gb25BbHdheXMgLSBjYWxsYmFjayBmdW5jdGlvblxuICAgKi9cbiAgZnVuY3Rpb24gSW1hZ2VzTG9hZGVkKCBlbGVtLCBvcHRpb25zLCBvbkFsd2F5cyApIHtcbiAgICAvLyBjb2VyY2UgSW1hZ2VzTG9hZGVkKCkgd2l0aG91dCBuZXcsIHRvIGJlIG5ldyBJbWFnZXNMb2FkZWQoKVxuICAgIGlmICggISggdGhpcyBpbnN0YW5jZW9mIEltYWdlc0xvYWRlZCApICkge1xuICAgICAgcmV0dXJuIG5ldyBJbWFnZXNMb2FkZWQoIGVsZW0sIG9wdGlvbnMsIG9uQWx3YXlzICk7XG4gICAgfVxuICAgIC8vIHVzZSBlbGVtIGFzIHNlbGVjdG9yIHN0cmluZ1xuICAgIGlmICggdHlwZW9mIGVsZW0gPT0gJ3N0cmluZycgKSB7XG4gICAgICBlbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCggZWxlbSApO1xuICAgIH1cblxuICAgIHRoaXMuZWxlbWVudHMgPSBtYWtlQXJyYXkoIGVsZW0gKTtcbiAgICB0aGlzLm9wdGlvbnMgPSBleHRlbmQoIHt9LCB0aGlzLm9wdGlvbnMgKTtcblxuICAgIGlmICggdHlwZW9mIG9wdGlvbnMgPT0gJ2Z1bmN0aW9uJyApIHtcbiAgICAgIG9uQWx3YXlzID0gb3B0aW9ucztcbiAgICB9IGVsc2Uge1xuICAgICAgZXh0ZW5kKCB0aGlzLm9wdGlvbnMsIG9wdGlvbnMgKTtcbiAgICB9XG5cbiAgICBpZiAoIG9uQWx3YXlzICkge1xuICAgICAgdGhpcy5vbiggJ2Fsd2F5cycsIG9uQWx3YXlzICk7XG4gICAgfVxuXG4gICAgdGhpcy5nZXRJbWFnZXMoKTtcblxuICAgIGlmICggJCApIHtcbiAgICAgIC8vIGFkZCBqUXVlcnkgRGVmZXJyZWQgb2JqZWN0XG4gICAgICB0aGlzLmpxRGVmZXJyZWQgPSBuZXcgJC5EZWZlcnJlZCgpO1xuICAgIH1cblxuICAgIC8vIEhBQ0sgY2hlY2sgYXN5bmMgdG8gYWxsb3cgdGltZSB0byBiaW5kIGxpc3RlbmVyc1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG4gICAgICBfdGhpcy5jaGVjaygpO1xuICAgIH0pO1xuICB9XG5cbiAgSW1hZ2VzTG9hZGVkLnByb3RvdHlwZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICBJbWFnZXNMb2FkZWQucHJvdG90eXBlLm9wdGlvbnMgPSB7fTtcblxuICBJbWFnZXNMb2FkZWQucHJvdG90eXBlLmdldEltYWdlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaW1hZ2VzID0gW107XG5cbiAgICAvLyBmaWx0ZXIgJiBmaW5kIGl0ZW1zIGlmIHdlIGhhdmUgYW4gaXRlbSBzZWxlY3RvclxuICAgIGZvciAoIHZhciBpPTA7IGkgPCB0aGlzLmVsZW1lbnRzLmxlbmd0aDsgaSsrICkge1xuICAgICAgdmFyIGVsZW0gPSB0aGlzLmVsZW1lbnRzW2ldO1xuICAgICAgdGhpcy5hZGRFbGVtZW50SW1hZ2VzKCBlbGVtICk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge05vZGV9IGVsZW1lbnRcbiAgICovXG4gIEltYWdlc0xvYWRlZC5wcm90b3R5cGUuYWRkRWxlbWVudEltYWdlcyA9IGZ1bmN0aW9uKCBlbGVtICkge1xuICAgIC8vIGZpbHRlciBzaWJsaW5nc1xuICAgIGlmICggZWxlbS5ub2RlTmFtZSA9PSAnSU1HJyApIHtcbiAgICAgIHRoaXMuYWRkSW1hZ2UoIGVsZW0gKTtcbiAgICB9XG4gICAgLy8gZ2V0IGJhY2tncm91bmQgaW1hZ2Ugb24gZWxlbWVudFxuICAgIGlmICggdGhpcy5vcHRpb25zLmJhY2tncm91bmQgPT09IHRydWUgKSB7XG4gICAgICB0aGlzLmFkZEVsZW1lbnRCYWNrZ3JvdW5kSW1hZ2VzKCBlbGVtICk7XG4gICAgfVxuXG4gICAgLy8gZmluZCBjaGlsZHJlblxuICAgIC8vIG5vIG5vbi1lbGVtZW50IG5vZGVzLCAjMTQzXG4gICAgdmFyIG5vZGVUeXBlID0gZWxlbS5ub2RlVHlwZTtcbiAgICBpZiAoICFub2RlVHlwZSB8fCAhZWxlbWVudE5vZGVUeXBlc1sgbm9kZVR5cGUgXSApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGNoaWxkSW1ncyA9IGVsZW0ucXVlcnlTZWxlY3RvckFsbCgnaW1nJyk7XG4gICAgLy8gY29uY2F0IGNoaWxkRWxlbXMgdG8gZmlsdGVyRm91bmQgYXJyYXlcbiAgICBmb3IgKCB2YXIgaT0wOyBpIDwgY2hpbGRJbWdzLmxlbmd0aDsgaSsrICkge1xuICAgICAgdmFyIGltZyA9IGNoaWxkSW1nc1tpXTtcbiAgICAgIHRoaXMuYWRkSW1hZ2UoIGltZyApO1xuICAgIH1cblxuICAgIC8vIGdldCBjaGlsZCBiYWNrZ3JvdW5kIGltYWdlc1xuICAgIGlmICggdHlwZW9mIHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kID09ICdzdHJpbmcnICkge1xuICAgICAgdmFyIGNoaWxkcmVuID0gZWxlbS5xdWVyeVNlbGVjdG9yQWxsKCB0aGlzLm9wdGlvbnMuYmFja2dyb3VuZCApO1xuICAgICAgZm9yICggaT0wOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKysgKSB7XG4gICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICB0aGlzLmFkZEVsZW1lbnRCYWNrZ3JvdW5kSW1hZ2VzKCBjaGlsZCApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgZWxlbWVudE5vZGVUeXBlcyA9IHtcbiAgICAxOiB0cnVlLFxuICAgIDk6IHRydWUsXG4gICAgMTE6IHRydWVcbiAgfTtcblxuICBJbWFnZXNMb2FkZWQucHJvdG90eXBlLmFkZEVsZW1lbnRCYWNrZ3JvdW5kSW1hZ2VzID0gZnVuY3Rpb24oIGVsZW0gKSB7XG4gICAgdmFyIHN0eWxlID0gZ2V0U3R5bGUoIGVsZW0gKTtcbiAgICAvLyBnZXQgdXJsIGluc2lkZSB1cmwoXCIuLi5cIilcbiAgICB2YXIgcmVVUkwgPSAvdXJsXFwoWydcIl0qKFteJ1wiXFwpXSspWydcIl0qXFwpL2dpO1xuICAgIHZhciBtYXRjaGVzID0gcmVVUkwuZXhlYyggc3R5bGUuYmFja2dyb3VuZEltYWdlICk7XG4gICAgd2hpbGUgKCBtYXRjaGVzICE9PSBudWxsICkge1xuICAgICAgdmFyIHVybCA9IG1hdGNoZXMgJiYgbWF0Y2hlc1sxXTtcbiAgICAgIGlmICggdXJsICkge1xuICAgICAgICB0aGlzLmFkZEJhY2tncm91bmQoIHVybCwgZWxlbSApO1xuICAgICAgfVxuICAgICAgbWF0Y2hlcyA9IHJlVVJMLmV4ZWMoIHN0eWxlLmJhY2tncm91bmRJbWFnZSApO1xuICAgIH1cbiAgfTtcblxuICAvLyBJRThcbiAgdmFyIGdldFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUgfHwgZnVuY3Rpb24oIGVsZW0gKSB7XG4gICAgcmV0dXJuIGVsZW0uY3VycmVudFN0eWxlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0ltYWdlfSBpbWdcbiAgICovXG4gIEltYWdlc0xvYWRlZC5wcm90b3R5cGUuYWRkSW1hZ2UgPSBmdW5jdGlvbiggaW1nICkge1xuICAgIHZhciBsb2FkaW5nSW1hZ2UgPSBuZXcgTG9hZGluZ0ltYWdlKCBpbWcgKTtcbiAgICB0aGlzLmltYWdlcy5wdXNoKCBsb2FkaW5nSW1hZ2UgKTtcbiAgfTtcblxuICBJbWFnZXNMb2FkZWQucHJvdG90eXBlLmFkZEJhY2tncm91bmQgPSBmdW5jdGlvbiggdXJsLCBlbGVtICkge1xuICAgIHZhciBiYWNrZ3JvdW5kID0gbmV3IEJhY2tncm91bmQoIHVybCwgZWxlbSApO1xuICAgIHRoaXMuaW1hZ2VzLnB1c2goIGJhY2tncm91bmQgKTtcbiAgfTtcblxuICBJbWFnZXNMb2FkZWQucHJvdG90eXBlLmNoZWNrID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB0aGlzLnByb2dyZXNzZWRDb3VudCA9IDA7XG4gICAgdGhpcy5oYXNBbnlCcm9rZW4gPSBmYWxzZTtcbiAgICAvLyBjb21wbGV0ZSBpZiBubyBpbWFnZXNcbiAgICBpZiAoICF0aGlzLmltYWdlcy5sZW5ndGggKSB7XG4gICAgICB0aGlzLmNvbXBsZXRlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Qcm9ncmVzcyggaW1hZ2UsIGVsZW0sIG1lc3NhZ2UgKSB7XG4gICAgICAvLyBIQUNLIC0gQ2hyb21lIHRyaWdnZXJzIGV2ZW50IGJlZm9yZSBvYmplY3QgcHJvcGVydGllcyBoYXZlIGNoYW5nZWQuICM4M1xuICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG4gICAgICAgIF90aGlzLnByb2dyZXNzKCBpbWFnZSwgZWxlbSwgbWVzc2FnZSApO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZm9yICggdmFyIGk9MDsgaSA8IHRoaXMuaW1hZ2VzLmxlbmd0aDsgaSsrICkge1xuICAgICAgdmFyIGxvYWRpbmdJbWFnZSA9IHRoaXMuaW1hZ2VzW2ldO1xuICAgICAgbG9hZGluZ0ltYWdlLm9uY2UoICdwcm9ncmVzcycsIG9uUHJvZ3Jlc3MgKTtcbiAgICAgIGxvYWRpbmdJbWFnZS5jaGVjaygpO1xuICAgIH1cbiAgfTtcblxuICBJbWFnZXNMb2FkZWQucHJvdG90eXBlLnByb2dyZXNzID0gZnVuY3Rpb24oIGltYWdlLCBlbGVtLCBtZXNzYWdlICkge1xuICAgIHRoaXMucHJvZ3Jlc3NlZENvdW50Kys7XG4gICAgdGhpcy5oYXNBbnlCcm9rZW4gPSB0aGlzLmhhc0FueUJyb2tlbiB8fCAhaW1hZ2UuaXNMb2FkZWQ7XG4gICAgLy8gcHJvZ3Jlc3MgZXZlbnRcbiAgICB0aGlzLmVtaXQoICdwcm9ncmVzcycsIHRoaXMsIGltYWdlLCBlbGVtICk7XG4gICAgaWYgKCB0aGlzLmpxRGVmZXJyZWQgJiYgdGhpcy5qcURlZmVycmVkLm5vdGlmeSApIHtcbiAgICAgIHRoaXMuanFEZWZlcnJlZC5ub3RpZnkoIHRoaXMsIGltYWdlICk7XG4gICAgfVxuICAgIC8vIGNoZWNrIGlmIGNvbXBsZXRlZFxuICAgIGlmICggdGhpcy5wcm9ncmVzc2VkQ291bnQgPT0gdGhpcy5pbWFnZXMubGVuZ3RoICkge1xuICAgICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgIH1cblxuICAgIGlmICggdGhpcy5vcHRpb25zLmRlYnVnICYmIGNvbnNvbGUgKSB7XG4gICAgICBjb25zb2xlLmxvZyggJ3Byb2dyZXNzOiAnICsgbWVzc2FnZSwgaW1hZ2UsIGVsZW0gKTtcbiAgICB9XG4gIH07XG5cbiAgSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBldmVudE5hbWUgPSB0aGlzLmhhc0FueUJyb2tlbiA/ICdmYWlsJyA6ICdkb25lJztcbiAgICB0aGlzLmlzQ29tcGxldGUgPSB0cnVlO1xuICAgIHRoaXMuZW1pdCggZXZlbnROYW1lLCB0aGlzICk7XG4gICAgdGhpcy5lbWl0KCAnYWx3YXlzJywgdGhpcyApO1xuICAgIGlmICggdGhpcy5qcURlZmVycmVkICkge1xuICAgICAgdmFyIGpxTWV0aG9kID0gdGhpcy5oYXNBbnlCcm9rZW4gPyAncmVqZWN0JyA6ICdyZXNvbHZlJztcbiAgICAgIHRoaXMuanFEZWZlcnJlZFsganFNZXRob2QgXSggdGhpcyApO1xuICAgIH1cbiAgfTtcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuICBmdW5jdGlvbiBMb2FkaW5nSW1hZ2UoIGltZyApIHtcbiAgICB0aGlzLmltZyA9IGltZztcbiAgfVxuXG4gIExvYWRpbmdJbWFnZS5wcm90b3R5cGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgTG9hZGluZ0ltYWdlLnByb3RvdHlwZS5jaGVjayA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIElmIGNvbXBsZXRlIGlzIHRydWUgYW5kIGJyb3dzZXIgc3VwcG9ydHMgbmF0dXJhbCBzaXplcyxcbiAgICAvLyB0cnkgdG8gY2hlY2sgZm9yIGltYWdlIHN0YXR1cyBtYW51YWxseS5cbiAgICB2YXIgaXNDb21wbGV0ZSA9IHRoaXMuZ2V0SXNJbWFnZUNvbXBsZXRlKCk7XG4gICAgaWYgKCBpc0NvbXBsZXRlICkge1xuICAgICAgLy8gcmVwb3J0IGJhc2VkIG9uIG5hdHVyYWxXaWR0aFxuICAgICAgdGhpcy5jb25maXJtKCB0aGlzLmltZy5uYXR1cmFsV2lkdGggIT09IDAsICduYXR1cmFsV2lkdGgnICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSWYgbm9uZSBvZiB0aGUgY2hlY2tzIGFib3ZlIG1hdGNoZWQsIHNpbXVsYXRlIGxvYWRpbmcgb24gZGV0YWNoZWQgZWxlbWVudC5cbiAgICB0aGlzLnByb3h5SW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICBldmVudGllLmJpbmQoIHRoaXMucHJveHlJbWFnZSwgJ2xvYWQnLCB0aGlzICk7XG4gICAgZXZlbnRpZS5iaW5kKCB0aGlzLnByb3h5SW1hZ2UsICdlcnJvcicsIHRoaXMgKTtcbiAgICAvLyBiaW5kIHRvIGltYWdlIGFzIHdlbGwgZm9yIEZpcmVmb3guICMxOTFcbiAgICBldmVudGllLmJpbmQoIHRoaXMuaW1nLCAnbG9hZCcsIHRoaXMgKTtcbiAgICBldmVudGllLmJpbmQoIHRoaXMuaW1nLCAnZXJyb3InLCB0aGlzICk7XG4gICAgdGhpcy5wcm94eUltYWdlLnNyYyA9IHRoaXMuaW1nLnNyYztcbiAgfTtcblxuICBMb2FkaW5nSW1hZ2UucHJvdG90eXBlLmdldElzSW1hZ2VDb21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmltZy5jb21wbGV0ZSAmJiB0aGlzLmltZy5uYXR1cmFsV2lkdGggIT09IHVuZGVmaW5lZDtcbiAgfTtcblxuICBMb2FkaW5nSW1hZ2UucHJvdG90eXBlLmNvbmZpcm0gPSBmdW5jdGlvbiggaXNMb2FkZWQsIG1lc3NhZ2UgKSB7XG4gICAgdGhpcy5pc0xvYWRlZCA9IGlzTG9hZGVkO1xuICAgIHRoaXMuZW1pdCggJ3Byb2dyZXNzJywgdGhpcywgdGhpcy5pbWcsIG1lc3NhZ2UgKTtcbiAgfTtcblxuICAvLyAtLS0tLSBldmVudHMgLS0tLS0gLy9cblxuICAvLyB0cmlnZ2VyIHNwZWNpZmllZCBoYW5kbGVyIGZvciBldmVudCB0eXBlXG4gIExvYWRpbmdJbWFnZS5wcm90b3R5cGUuaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gICAgdmFyIG1ldGhvZCA9ICdvbicgKyBldmVudC50eXBlO1xuICAgIGlmICggdGhpc1sgbWV0aG9kIF0gKSB7XG4gICAgICB0aGlzWyBtZXRob2QgXSggZXZlbnQgKTtcbiAgICB9XG4gIH07XG5cbiAgTG9hZGluZ0ltYWdlLnByb3RvdHlwZS5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmNvbmZpcm0oIHRydWUsICdvbmxvYWQnICk7XG4gICAgdGhpcy51bmJpbmRFdmVudHMoKTtcbiAgfTtcblxuICBMb2FkaW5nSW1hZ2UucHJvdG90eXBlLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmNvbmZpcm0oIGZhbHNlLCAnb25lcnJvcicgKTtcbiAgICB0aGlzLnVuYmluZEV2ZW50cygpO1xuICB9O1xuXG4gIExvYWRpbmdJbWFnZS5wcm90b3R5cGUudW5iaW5kRXZlbnRzID0gZnVuY3Rpb24oKSB7XG4gICAgZXZlbnRpZS51bmJpbmQoIHRoaXMucHJveHlJbWFnZSwgJ2xvYWQnLCB0aGlzICk7XG4gICAgZXZlbnRpZS51bmJpbmQoIHRoaXMucHJveHlJbWFnZSwgJ2Vycm9yJywgdGhpcyApO1xuICAgIGV2ZW50aWUudW5iaW5kKCB0aGlzLmltZywgJ2xvYWQnLCB0aGlzICk7XG4gICAgZXZlbnRpZS51bmJpbmQoIHRoaXMuaW1nLCAnZXJyb3InLCB0aGlzICk7XG4gIH07XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gQmFja2dyb3VuZCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4gIGZ1bmN0aW9uIEJhY2tncm91bmQoIHVybCwgZWxlbWVudCApIHtcbiAgICB0aGlzLnVybCA9IHVybDtcbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMuaW1nID0gbmV3IEltYWdlKCk7XG4gIH1cblxuICAvLyBpbmhlcml0IExvYWRpbmdJbWFnZSBwcm90b3R5cGVcbiAgQmFja2dyb3VuZC5wcm90b3R5cGUgPSBuZXcgTG9hZGluZ0ltYWdlKCk7XG5cbiAgQmFja2dyb3VuZC5wcm90b3R5cGUuY2hlY2sgPSBmdW5jdGlvbigpIHtcbiAgICBldmVudGllLmJpbmQoIHRoaXMuaW1nLCAnbG9hZCcsIHRoaXMgKTtcbiAgICBldmVudGllLmJpbmQoIHRoaXMuaW1nLCAnZXJyb3InLCB0aGlzICk7XG4gICAgdGhpcy5pbWcuc3JjID0gdGhpcy51cmw7XG4gICAgLy8gY2hlY2sgaWYgaW1hZ2UgaXMgYWxyZWFkeSBjb21wbGV0ZVxuICAgIHZhciBpc0NvbXBsZXRlID0gdGhpcy5nZXRJc0ltYWdlQ29tcGxldGUoKTtcbiAgICBpZiAoIGlzQ29tcGxldGUgKSB7XG4gICAgICB0aGlzLmNvbmZpcm0oIHRoaXMuaW1nLm5hdHVyYWxXaWR0aCAhPT0gMCwgJ25hdHVyYWxXaWR0aCcgKTtcbiAgICAgIHRoaXMudW5iaW5kRXZlbnRzKCk7XG4gICAgfVxuICB9O1xuXG4gIEJhY2tncm91bmQucHJvdG90eXBlLnVuYmluZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuICAgIGV2ZW50aWUudW5iaW5kKCB0aGlzLmltZywgJ2xvYWQnLCB0aGlzICk7XG4gICAgZXZlbnRpZS51bmJpbmQoIHRoaXMuaW1nLCAnZXJyb3InLCB0aGlzICk7XG4gIH07XG5cbiAgQmFja2dyb3VuZC5wcm90b3R5cGUuY29uZmlybSA9IGZ1bmN0aW9uKCBpc0xvYWRlZCwgbWVzc2FnZSApIHtcbiAgICB0aGlzLmlzTG9hZGVkID0gaXNMb2FkZWQ7XG4gICAgdGhpcy5lbWl0KCAncHJvZ3Jlc3MnLCB0aGlzLCB0aGlzLmVsZW1lbnQsIG1lc3NhZ2UgKTtcbiAgfTtcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBqUXVlcnkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuICBJbWFnZXNMb2FkZWQubWFrZUpRdWVyeVBsdWdpbiA9IGZ1bmN0aW9uKCBqUXVlcnkgKSB7XG4gICAgalF1ZXJ5ID0galF1ZXJ5IHx8IHdpbmRvdy5qUXVlcnk7XG4gICAgaWYgKCAhalF1ZXJ5ICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBzZXQgbG9jYWwgdmFyaWFibGVcbiAgICAkID0galF1ZXJ5O1xuICAgIC8vICQoKS5pbWFnZXNMb2FkZWQoKVxuICAgICQuZm4uaW1hZ2VzTG9hZGVkID0gZnVuY3Rpb24oIG9wdGlvbnMsIGNhbGxiYWNrICkge1xuICAgICAgdmFyIGluc3RhbmNlID0gbmV3IEltYWdlc0xvYWRlZCggdGhpcywgb3B0aW9ucywgY2FsbGJhY2sgKTtcbiAgICAgIHJldHVybiBpbnN0YW5jZS5qcURlZmVycmVkLnByb21pc2UoICQodGhpcykgKTtcbiAgICB9O1xuICB9O1xuICAvLyB0cnkgbWFraW5nIHBsdWdpblxuICBJbWFnZXNMb2FkZWQubWFrZUpRdWVyeVBsdWdpbigpO1xuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4gIHJldHVybiBJbWFnZXNMb2FkZWQ7XG5cbn0pO1xuXG4iLCIvKipcbiAqIEJ4U2xpZGVyIHY0LjEuMiAtIEZ1bGx5IGxvYWRlZCwgcmVzcG9uc2l2ZSBjb250ZW50IHNsaWRlclxuICogaHR0cDovL2J4c2xpZGVyLmNvbVxuICpcbiAqIENvcHlyaWdodCAyMDE0LCBTdGV2ZW4gV2FuZGVyc2tpIC0gaHR0cDovL3N0ZXZlbndhbmRlcnNraS5jb20gLSBodHRwOi8vYnhjcmVhdGl2ZS5jb21cbiAqIFdyaXR0ZW4gd2hpbGUgZHJpbmtpbmcgQmVsZ2lhbiBhbGVzIGFuZCBsaXN0ZW5pbmcgdG8gamF6elxuICpcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSAtIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbiAqL1xuXG47KGZ1bmN0aW9uKCQpe1xuXG5cdHZhciBwbHVnaW4gPSB7fTtcblxuXHR2YXIgZGVmYXVsdHMgPSB7XG5cblx0XHQvLyBHRU5FUkFMXG5cdFx0bW9kZTogJ2hvcml6b250YWwnLFxuXHRcdHNsaWRlU2VsZWN0b3I6ICcnLFxuXHRcdGluZmluaXRlTG9vcDogdHJ1ZSxcblx0XHRoaWRlQ29udHJvbE9uRW5kOiBmYWxzZSxcblx0XHRzcGVlZDogNTAwLFxuXHRcdGVhc2luZzogbnVsbCxcblx0XHRzbGlkZU1hcmdpbjogMCxcblx0XHRzdGFydFNsaWRlOiAwLFxuXHRcdHJhbmRvbVN0YXJ0OiBmYWxzZSxcblx0XHRjYXB0aW9uczogZmFsc2UsXG5cdFx0dGlja2VyOiBmYWxzZSxcblx0XHR0aWNrZXJIb3ZlcjogZmFsc2UsXG5cdFx0YWRhcHRpdmVIZWlnaHQ6IGZhbHNlLFxuXHRcdGFkYXB0aXZlSGVpZ2h0U3BlZWQ6IDUwMCxcblx0XHR2aWRlbzogZmFsc2UsXG5cdFx0dXNlQ1NTOiB0cnVlLFxuXHRcdHByZWxvYWRJbWFnZXM6ICd2aXNpYmxlJyxcblx0XHRyZXNwb25zaXZlOiB0cnVlLFxuXHRcdHNsaWRlWkluZGV4OiA1MCxcblx0XHR3cmFwcGVyQ2xhc3M6ICdieC13cmFwcGVyJyxcblxuXHRcdC8vIFRPVUNIXG5cdFx0dG91Y2hFbmFibGVkOiB0cnVlLFxuXHRcdHN3aXBlVGhyZXNob2xkOiA1MCxcblx0XHRvbmVUb09uZVRvdWNoOiB0cnVlLFxuXHRcdHByZXZlbnREZWZhdWx0U3dpcGVYOiB0cnVlLFxuXHRcdHByZXZlbnREZWZhdWx0U3dpcGVZOiBmYWxzZSxcblxuXHRcdC8vIFBBR0VSXG5cdFx0cGFnZXI6IHRydWUsXG5cdFx0cGFnZXJUeXBlOiAnZnVsbCcsXG5cdFx0cGFnZXJTaG9ydFNlcGFyYXRvcjogJyAvICcsXG5cdFx0cGFnZXJTZWxlY3RvcjogbnVsbCxcblx0XHRidWlsZFBhZ2VyOiBudWxsLFxuXHRcdHBhZ2VyQ3VzdG9tOiBudWxsLFxuXG5cdFx0Ly8gQ09OVFJPTFNcblx0XHRjb250cm9sczogdHJ1ZSxcblx0XHRuZXh0VGV4dDogJ05leHQnLFxuXHRcdHByZXZUZXh0OiAnUHJldicsXG5cdFx0bmV4dFNlbGVjdG9yOiBudWxsLFxuXHRcdHByZXZTZWxlY3RvcjogbnVsbCxcblx0XHRhdXRvQ29udHJvbHM6IGZhbHNlLFxuXHRcdHN0YXJ0VGV4dDogJ1N0YXJ0Jyxcblx0XHRzdG9wVGV4dDogJ1N0b3AnLFxuXHRcdGF1dG9Db250cm9sc0NvbWJpbmU6IGZhbHNlLFxuXHRcdGF1dG9Db250cm9sc1NlbGVjdG9yOiBudWxsLFxuXG5cdFx0Ly8gQVVUT1xuXHRcdGF1dG86IGZhbHNlLFxuXHRcdHBhdXNlOiA0MDAwLFxuXHRcdGF1dG9TdGFydDogdHJ1ZSxcblx0XHRhdXRvRGlyZWN0aW9uOiAnbmV4dCcsXG5cdFx0YXV0b0hvdmVyOiBmYWxzZSxcblx0XHRhdXRvRGVsYXk6IDAsXG5cdFx0YXV0b1NsaWRlRm9yT25lUGFnZTogZmFsc2UsXG5cblx0XHQvLyBDQVJPVVNFTFxuXHRcdG1pblNsaWRlczogMSxcblx0XHRtYXhTbGlkZXM6IDEsXG5cdFx0bW92ZVNsaWRlczogMCxcblx0XHRzbGlkZVdpZHRoOiAwLFxuXG5cdFx0Ly8gQ0FMTEJBQ0tTXG5cdFx0b25TbGlkZXJMb2FkOiBmdW5jdGlvbigpIHt9LFxuXHRcdG9uU2xpZGVCZWZvcmU6IGZ1bmN0aW9uKCkge30sXG5cdFx0b25TbGlkZUFmdGVyOiBmdW5jdGlvbigpIHt9LFxuXHRcdG9uU2xpZGVOZXh0OiBmdW5jdGlvbigpIHt9LFxuXHRcdG9uU2xpZGVQcmV2OiBmdW5jdGlvbigpIHt9LFxuXHRcdG9uU2xpZGVyUmVzaXplOiBmdW5jdGlvbigpIHt9XG5cdH1cblxuXHQkLmZuLmJ4U2xpZGVyID0gZnVuY3Rpb24ob3B0aW9ucyl7XG5cblx0XHRpZih0aGlzLmxlbmd0aCA9PSAwKSByZXR1cm4gdGhpcztcblxuXHRcdC8vIHN1cHBvcnQgbXV0bHRpcGxlIGVsZW1lbnRzXG5cdFx0aWYodGhpcy5sZW5ndGggPiAxKXtcblx0XHRcdHRoaXMuZWFjaChmdW5jdGlvbigpeyQodGhpcykuYnhTbGlkZXIob3B0aW9ucyl9KTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblxuXHRcdC8vIGNyZWF0ZSBhIG5hbWVzcGFjZSB0byBiZSB1c2VkIHRocm91Z2hvdXQgdGhlIHBsdWdpblxuXHRcdHZhciBzbGlkZXIgPSB7fTtcblx0XHQvLyBzZXQgYSByZWZlcmVuY2UgdG8gb3VyIHNsaWRlciBlbGVtZW50XG5cdFx0dmFyIGVsID0gdGhpcztcblx0XHRwbHVnaW4uZWwgPSB0aGlzO1xuXG5cdFx0LyoqXG5cdFx0ICogTWFrZXMgc2xpZGVzaG93IHJlc3BvbnNpdmVcblx0XHQgKi9cblx0XHQvLyBmaXJzdCBnZXQgdGhlIG9yaWdpbmFsIHdpbmRvdyBkaW1lbnMgKHRoYW5rcyBhbG90IElFKVxuXHRcdHZhciB3aW5kb3dXaWR0aCA9ICQod2luZG93KS53aWR0aCgpO1xuXHRcdHZhciB3aW5kb3dIZWlnaHQgPSAkKHdpbmRvdykuaGVpZ2h0KCk7XG5cblxuXG5cdFx0LyoqXG5cdFx0ICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0XHQgKiA9IFBSSVZBVEUgRlVOQ1RJT05TXG5cdFx0ICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0XHQgKi9cblxuXHRcdC8qKlxuXHRcdCAqIEluaXRpYWxpemVzIG5hbWVzcGFjZSBzZXR0aW5ncyB0byBiZSB1c2VkIHRocm91Z2hvdXQgcGx1Z2luXG5cdFx0ICovXG5cdFx0dmFyIGluaXQgPSBmdW5jdGlvbigpe1xuXHRcdFx0Ly8gbWVyZ2UgdXNlci1zdXBwbGllZCBvcHRpb25zIHdpdGggdGhlIGRlZmF1bHRzXG5cdFx0XHRzbGlkZXIuc2V0dGluZ3MgPSAkLmV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdGlvbnMpO1xuXHRcdFx0Ly8gcGFyc2Ugc2xpZGVXaWR0aCBzZXR0aW5nXG5cdFx0XHRzbGlkZXIuc2V0dGluZ3Muc2xpZGVXaWR0aCA9IHBhcnNlSW50KHNsaWRlci5zZXR0aW5ncy5zbGlkZVdpZHRoKTtcblx0XHRcdC8vIHN0b3JlIHRoZSBvcmlnaW5hbCBjaGlsZHJlblxuXHRcdFx0c2xpZGVyLmNoaWxkcmVuID0gZWwuY2hpbGRyZW4oc2xpZGVyLnNldHRpbmdzLnNsaWRlU2VsZWN0b3IpO1xuXHRcdFx0Ly8gY2hlY2sgaWYgYWN0dWFsIG51bWJlciBvZiBzbGlkZXMgaXMgbGVzcyB0aGFuIG1pblNsaWRlcyAvIG1heFNsaWRlc1xuXHRcdFx0aWYoc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCA8IHNsaWRlci5zZXR0aW5ncy5taW5TbGlkZXMpIHNsaWRlci5zZXR0aW5ncy5taW5TbGlkZXMgPSBzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoO1xuXHRcdFx0aWYoc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCA8IHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMpIHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMgPSBzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoO1xuXHRcdFx0Ly8gaWYgcmFuZG9tIHN0YXJ0LCBzZXQgdGhlIHN0YXJ0U2xpZGUgc2V0dGluZyB0byByYW5kb20gbnVtYmVyXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MucmFuZG9tU3RhcnQpIHNsaWRlci5zZXR0aW5ncy5zdGFydFNsaWRlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCk7XG5cdFx0XHQvLyBzdG9yZSBhY3RpdmUgc2xpZGUgaW5mb3JtYXRpb25cblx0XHRcdHNsaWRlci5hY3RpdmUgPSB7IGluZGV4OiBzbGlkZXIuc2V0dGluZ3Muc3RhcnRTbGlkZSB9XG5cdFx0XHQvLyBzdG9yZSBpZiB0aGUgc2xpZGVyIGlzIGluIGNhcm91c2VsIG1vZGUgKGRpc3BsYXlpbmcgLyBtb3ZpbmcgbXVsdGlwbGUgc2xpZGVzKVxuXHRcdFx0c2xpZGVyLmNhcm91c2VsID0gc2xpZGVyLnNldHRpbmdzLm1pblNsaWRlcyA+IDEgfHwgc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcyA+IDE7XG5cdFx0XHQvLyBpZiBjYXJvdXNlbCwgZm9yY2UgcHJlbG9hZEltYWdlcyA9ICdhbGwnXG5cdFx0XHRpZihzbGlkZXIuY2Fyb3VzZWwpIHNsaWRlci5zZXR0aW5ncy5wcmVsb2FkSW1hZ2VzID0gJ2FsbCc7XG5cdFx0XHQvLyBjYWxjdWxhdGUgdGhlIG1pbiAvIG1heCB3aWR0aCB0aHJlc2hvbGRzIGJhc2VkIG9uIG1pbiAvIG1heCBudW1iZXIgb2Ygc2xpZGVzXG5cdFx0XHQvLyB1c2VkIHRvIHNldHVwIGFuZCB1cGRhdGUgY2Fyb3VzZWwgc2xpZGVzIGRpbWVuc2lvbnNcblx0XHRcdHNsaWRlci5taW5UaHJlc2hvbGQgPSAoc2xpZGVyLnNldHRpbmdzLm1pblNsaWRlcyAqIHNsaWRlci5zZXR0aW5ncy5zbGlkZVdpZHRoKSArICgoc2xpZGVyLnNldHRpbmdzLm1pblNsaWRlcyAtIDEpICogc2xpZGVyLnNldHRpbmdzLnNsaWRlTWFyZ2luKTtcblx0XHRcdHNsaWRlci5tYXhUaHJlc2hvbGQgPSAoc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcyAqIHNsaWRlci5zZXR0aW5ncy5zbGlkZVdpZHRoKSArICgoc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcyAtIDEpICogc2xpZGVyLnNldHRpbmdzLnNsaWRlTWFyZ2luKTtcblx0XHRcdC8vIHN0b3JlIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBzbGlkZXIgKGlmIGN1cnJlbnRseSBhbmltYXRpbmcsIHdvcmtpbmcgaXMgdHJ1ZSlcblx0XHRcdHNsaWRlci53b3JraW5nID0gZmFsc2U7XG5cdFx0XHQvLyBpbml0aWFsaXplIHRoZSBjb250cm9scyBvYmplY3Rcblx0XHRcdHNsaWRlci5jb250cm9scyA9IHt9O1xuXHRcdFx0Ly8gaW5pdGlhbGl6ZSBhbiBhdXRvIGludGVydmFsXG5cdFx0XHRzbGlkZXIuaW50ZXJ2YWwgPSBudWxsO1xuXHRcdFx0Ly8gZGV0ZXJtaW5lIHdoaWNoIHByb3BlcnR5IHRvIHVzZSBmb3IgdHJhbnNpdGlvbnNcblx0XHRcdHNsaWRlci5hbmltUHJvcCA9IHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICd2ZXJ0aWNhbCcgPyAndG9wJyA6ICdsZWZ0Jztcblx0XHRcdC8vIGRldGVybWluZSBpZiBoYXJkd2FyZSBhY2NlbGVyYXRpb24gY2FuIGJlIHVzZWRcblx0XHRcdHNsaWRlci51c2luZ0NTUyA9IHNsaWRlci5zZXR0aW5ncy51c2VDU1MgJiYgc2xpZGVyLnNldHRpbmdzLm1vZGUgIT0gJ2ZhZGUnICYmIChmdW5jdGlvbigpe1xuXHRcdFx0XHQvLyBjcmVhdGUgb3VyIHRlc3QgZGl2IGVsZW1lbnRcblx0XHRcdFx0dmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0XHQvLyBjc3MgdHJhbnNpdGlvbiBwcm9wZXJ0aWVzXG5cdFx0XHRcdHZhciBwcm9wcyA9IFsnV2Via2l0UGVyc3BlY3RpdmUnLCAnTW96UGVyc3BlY3RpdmUnLCAnT1BlcnNwZWN0aXZlJywgJ21zUGVyc3BlY3RpdmUnXTtcblx0XHRcdFx0Ly8gdGVzdCBmb3IgZWFjaCBwcm9wZXJ0eVxuXHRcdFx0XHRmb3IodmFyIGkgaW4gcHJvcHMpe1xuXHRcdFx0XHRcdGlmKGRpdi5zdHlsZVtwcm9wc1tpXV0gIT09IHVuZGVmaW5lZCl7XG5cdFx0XHRcdFx0XHRzbGlkZXIuY3NzUHJlZml4ID0gcHJvcHNbaV0ucmVwbGFjZSgnUGVyc3BlY3RpdmUnLCAnJykudG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0XHRcdHNsaWRlci5hbmltUHJvcCA9ICctJyArIHNsaWRlci5jc3NQcmVmaXggKyAnLXRyYW5zZm9ybSc7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fSgpKTtcblx0XHRcdC8vIGlmIHZlcnRpY2FsIG1vZGUgYWx3YXlzIG1ha2UgbWF4U2xpZGVzIGFuZCBtaW5TbGlkZXMgZXF1YWxcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICd2ZXJ0aWNhbCcpIHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMgPSBzbGlkZXIuc2V0dGluZ3MubWluU2xpZGVzO1xuXHRcdFx0Ly8gc2F2ZSBvcmlnaW5hbCBzdHlsZSBkYXRhXG5cdFx0XHRlbC5kYXRhKFwib3JpZ1N0eWxlXCIsIGVsLmF0dHIoXCJzdHlsZVwiKSk7XG5cdFx0XHRlbC5jaGlsZHJlbihzbGlkZXIuc2V0dGluZ3Muc2xpZGVTZWxlY3RvcikuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdCAgJCh0aGlzKS5kYXRhKFwib3JpZ1N0eWxlXCIsICQodGhpcykuYXR0cihcInN0eWxlXCIpKTtcblx0XHRcdH0pO1xuXHRcdFx0Ly8gcGVyZm9ybSBhbGwgRE9NIC8gQ1NTIG1vZGlmaWNhdGlvbnNcblx0XHRcdHNldHVwKCk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogUGVyZm9ybXMgYWxsIERPTSBhbmQgQ1NTIG1vZGlmaWNhdGlvbnNcblx0XHQgKi9cblx0XHR2YXIgc2V0dXAgPSBmdW5jdGlvbigpe1xuXHRcdFx0Ly8gd3JhcCBlbCBpbiBhIHdyYXBwZXJcblx0XHRcdGVsLndyYXAoJzxkaXYgY2xhc3M9XCInICsgc2xpZGVyLnNldHRpbmdzLndyYXBwZXJDbGFzcyArICdcIj48ZGl2IGNsYXNzPVwiYngtdmlld3BvcnRcIj48L2Rpdj48L2Rpdj4nKTtcblx0XHRcdC8vIHN0b3JlIGEgbmFtc3BhY2UgcmVmZXJlbmNlIHRvIC5ieC12aWV3cG9ydFxuXHRcdFx0c2xpZGVyLnZpZXdwb3J0ID0gZWwucGFyZW50KCk7XG5cdFx0XHQvLyBhZGQgYSBsb2FkaW5nIGRpdiB0byBkaXNwbGF5IHdoaWxlIGltZyBhcmUgbG9hZGluZ1xuXHRcdFx0c2xpZGVyLmxvYWRlciA9ICQoJzxkaXYgY2xhc3M9XCJieC1sb2FkaW5nXCIgLz4nKTtcblx0XHRcdHNsaWRlci52aWV3cG9ydC5wcmVwZW5kKHNsaWRlci5sb2FkZXIpO1xuXHRcdFx0Ly8gc2V0IGVsIHRvIGEgbWFzc2l2ZSB3aWR0aCwgdG8gaG9sZCBhbnkgbmVlZGVkIHNsaWRlc1xuXHRcdFx0Ly8gYWxzbyBzdHJpcCBhbnkgbWFyZ2luIGFuZCBwYWRkaW5nIGZyb20gZWxcblx0XHRcdGVsLmNzcyh7XG5cdFx0XHRcdHdpZHRoOiBzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnaG9yaXpvbnRhbCcgPyAoc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCAqIDEwMCArIDIxNSkgKyAnJScgOiAnYXV0bycsXG5cdFx0XHRcdHBvc2l0aW9uOiAncmVsYXRpdmUnXG5cdFx0XHR9KTtcblx0XHRcdC8vIGlmIHVzaW5nIENTUywgYWRkIHRoZSBlYXNpbmcgcHJvcGVydHlcblx0XHRcdGlmKHNsaWRlci51c2luZ0NTUyAmJiBzbGlkZXIuc2V0dGluZ3MuZWFzaW5nKXtcblx0XHRcdFx0ZWwuY3NzKCctJyArIHNsaWRlci5jc3NQcmVmaXggKyAnLXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uJywgc2xpZGVyLnNldHRpbmdzLmVhc2luZyk7XG5cdFx0XHQvLyBpZiBub3QgdXNpbmcgQ1NTIGFuZCBubyBlYXNpbmcgdmFsdWUgd2FzIHN1cHBsaWVkLCB1c2UgdGhlIGRlZmF1bHQgSlMgYW5pbWF0aW9uIGVhc2luZyAoc3dpbmcpXG5cdFx0XHR9ZWxzZSBpZighc2xpZGVyLnNldHRpbmdzLmVhc2luZyl7XG5cdFx0XHRcdHNsaWRlci5zZXR0aW5ncy5lYXNpbmcgPSAnc3dpbmcnO1xuXHRcdFx0fVxuXHRcdFx0dmFyIHNsaWRlc1Nob3dpbmcgPSBnZXROdW1iZXJTbGlkZXNTaG93aW5nKCk7XG5cdFx0XHQvLyBtYWtlIG1vZGlmaWNhdGlvbnMgdG8gdGhlIHZpZXdwb3J0ICguYngtdmlld3BvcnQpXG5cdFx0XHRzbGlkZXIudmlld3BvcnQuY3NzKHtcblx0XHRcdFx0d2lkdGg6ICcxMDAlJyxcblx0XHRcdFx0b3ZlcmZsb3c6ICdoaWRkZW4nLFxuXHRcdFx0XHRwb3NpdGlvbjogJ3JlbGF0aXZlJ1xuXHRcdFx0fSk7XG5cdFx0XHRzbGlkZXIudmlld3BvcnQucGFyZW50KCkuY3NzKHtcblx0XHRcdFx0bWF4V2lkdGg6IGdldFZpZXdwb3J0TWF4V2lkdGgoKVxuXHRcdFx0fSk7XG5cdFx0XHQvLyBtYWtlIG1vZGlmaWNhdGlvbiB0byB0aGUgd3JhcHBlciAoLmJ4LXdyYXBwZXIpXG5cdFx0XHRpZighc2xpZGVyLnNldHRpbmdzLnBhZ2VyKSB7XG5cdFx0XHRcdHNsaWRlci52aWV3cG9ydC5wYXJlbnQoKS5jc3Moe1xuXHRcdFx0XHRtYXJnaW46ICcwIGF1dG8gMHB4J1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHRcdC8vIGFwcGx5IGNzcyB0byBhbGwgc2xpZGVyIGNoaWxkcmVuXG5cdFx0XHRzbGlkZXIuY2hpbGRyZW4uY3NzKHtcblx0XHRcdFx0J2Zsb2F0Jzogc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnID8gJ2xlZnQnIDogJ25vbmUnLFxuXHRcdFx0XHRsaXN0U3R5bGU6ICdub25lJyxcblx0XHRcdFx0cG9zaXRpb246ICdyZWxhdGl2ZSdcblx0XHRcdH0pO1xuXHRcdFx0Ly8gYXBwbHkgdGhlIGNhbGN1bGF0ZWQgd2lkdGggYWZ0ZXIgdGhlIGZsb2F0IGlzIGFwcGxpZWQgdG8gcHJldmVudCBzY3JvbGxiYXIgaW50ZXJmZXJlbmNlXG5cdFx0XHRzbGlkZXIuY2hpbGRyZW4uY3NzKCd3aWR0aCcsIGdldFNsaWRlV2lkdGgoKSk7XG5cdFx0XHQvLyBpZiBzbGlkZU1hcmdpbiBpcyBzdXBwbGllZCwgYWRkIHRoZSBjc3Ncblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICdob3Jpem9udGFsJyAmJiBzbGlkZXIuc2V0dGluZ3Muc2xpZGVNYXJnaW4gPiAwKSBzbGlkZXIuY2hpbGRyZW4uY3NzKCdtYXJnaW5SaWdodCcsIHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbik7XG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAndmVydGljYWwnICYmIHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbiA+IDApIHNsaWRlci5jaGlsZHJlbi5jc3MoJ21hcmdpbkJvdHRvbScsIHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbik7XG5cdFx0XHQvLyBpZiBcImZhZGVcIiBtb2RlLCBhZGQgcG9zaXRpb25pbmcgYW5kIHotaW5kZXggQ1NTXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnZmFkZScpe1xuXHRcdFx0XHRzbGlkZXIuY2hpbGRyZW4uY3NzKHtcblx0XHRcdFx0XHRwb3NpdGlvbjogJ2Fic29sdXRlJyxcblx0XHRcdFx0XHR6SW5kZXg6IDAsXG5cdFx0XHRcdFx0ZGlzcGxheTogJ25vbmUnXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHQvLyBwcmVwYXJlIHRoZSB6LWluZGV4IG9uIHRoZSBzaG93aW5nIGVsZW1lbnRcblx0XHRcdFx0c2xpZGVyLmNoaWxkcmVuLmVxKHNsaWRlci5zZXR0aW5ncy5zdGFydFNsaWRlKS5jc3Moe3pJbmRleDogc2xpZGVyLnNldHRpbmdzLnNsaWRlWkluZGV4LCBkaXNwbGF5OiAnYmxvY2snfSk7XG5cdFx0XHR9XG5cdFx0XHQvLyBjcmVhdGUgYW4gZWxlbWVudCB0byBjb250YWluIGFsbCBzbGlkZXIgY29udHJvbHMgKHBhZ2VyLCBzdGFydCAvIHN0b3AsIGV0Yylcblx0XHRcdHNsaWRlci5jb250cm9scy5lbCA9ICQoJzxkaXYgY2xhc3M9XCJieC1jb250cm9sc1wiIC8+Jyk7XG5cdFx0XHQvLyBpZiBjYXB0aW9ucyBhcmUgcmVxdWVzdGVkLCBhZGQgdGhlbVxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLmNhcHRpb25zKSBhcHBlbmRDYXB0aW9ucygpO1xuXHRcdFx0Ly8gY2hlY2sgaWYgc3RhcnRTbGlkZSBpcyBsYXN0IHNsaWRlXG5cdFx0XHRzbGlkZXIuYWN0aXZlLmxhc3QgPSBzbGlkZXIuc2V0dGluZ3Muc3RhcnRTbGlkZSA9PSBnZXRQYWdlclF0eSgpIC0gMTtcblx0XHRcdC8vIGlmIHZpZGVvIGlzIHRydWUsIHNldCB1cCB0aGUgZml0VmlkcyBwbHVnaW5cblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy52aWRlbykgZWwuZml0VmlkcygpO1xuXHRcdFx0Ly8gc2V0IHRoZSBkZWZhdWx0IHByZWxvYWQgc2VsZWN0b3IgKHZpc2libGUpXG5cdFx0XHR2YXIgcHJlbG9hZFNlbGVjdG9yID0gc2xpZGVyLmNoaWxkcmVuLmVxKHNsaWRlci5zZXR0aW5ncy5zdGFydFNsaWRlKTtcblx0XHRcdGlmIChzbGlkZXIuc2V0dGluZ3MucHJlbG9hZEltYWdlcyA9PSBcImFsbFwiKSBwcmVsb2FkU2VsZWN0b3IgPSBzbGlkZXIuY2hpbGRyZW47XG5cdFx0XHQvLyBvbmx5IGNoZWNrIGZvciBjb250cm9sIGFkZGl0aW9uIGlmIG5vdCBpbiBcInRpY2tlclwiIG1vZGVcblx0XHRcdGlmKCFzbGlkZXIuc2V0dGluZ3MudGlja2VyKXtcblx0XHRcdFx0Ly8gaWYgcGFnZXIgaXMgcmVxdWVzdGVkLCBhZGQgaXRcblx0XHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLnBhZ2VyKSBhcHBlbmRQYWdlcigpO1xuXHRcdFx0XHQvLyBpZiBjb250cm9scyBhcmUgcmVxdWVzdGVkLCBhZGQgdGhlbVxuXHRcdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuY29udHJvbHMpIGFwcGVuZENvbnRyb2xzKCk7XG5cdFx0XHRcdC8vIGlmIGF1dG8gaXMgdHJ1ZSwgYW5kIGF1dG8gY29udHJvbHMgYXJlIHJlcXVlc3RlZCwgYWRkIHRoZW1cblx0XHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLmF1dG8gJiYgc2xpZGVyLnNldHRpbmdzLmF1dG9Db250cm9scykgYXBwZW5kQ29udHJvbHNBdXRvKCk7XG5cdFx0XHRcdC8vIGlmIGFueSBjb250cm9sIG9wdGlvbiBpcyByZXF1ZXN0ZWQsIGFkZCB0aGUgY29udHJvbHMgd3JhcHBlclxuXHRcdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuY29udHJvbHMgfHwgc2xpZGVyLnNldHRpbmdzLmF1dG9Db250cm9scyB8fCBzbGlkZXIuc2V0dGluZ3MucGFnZXIpIHNsaWRlci52aWV3cG9ydC5hZnRlcihzbGlkZXIuY29udHJvbHMuZWwpO1xuXHRcdFx0Ly8gaWYgdGlja2VyIG1vZGUsIGRvIG5vdCBhbGxvdyBhIHBhZ2VyXG5cdFx0XHR9ZWxzZXtcblx0XHRcdFx0c2xpZGVyLnNldHRpbmdzLnBhZ2VyID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHQvLyBwcmVsb2FkIGFsbCBpbWcsIHRoZW4gcGVyZm9ybSBmaW5hbCBET00gLyBDU1MgbW9kaWZpY2F0aW9ucyB0aGF0IGRlcGVuZCBvbiBpbWcgYmVpbmcgbG9hZGVkXG5cdFx0XHRsb2FkRWxlbWVudHMocHJlbG9hZFNlbGVjdG9yLCBzdGFydCk7XG5cdFx0fVxuXG5cdFx0dmFyIGxvYWRFbGVtZW50cyA9IGZ1bmN0aW9uKHNlbGVjdG9yLCBjYWxsYmFjayl7XG5cdFx0XHR2YXIgdG90YWwgPSBzZWxlY3Rvci5maW5kKCdpbWcsIGlmcmFtZScpLmxlbmd0aDtcblx0XHRcdGlmICh0b3RhbCA9PSAwKXtcblx0XHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0dmFyIGNvdW50ID0gMDtcblx0XHRcdHNlbGVjdG9yLmZpbmQoJ2ltZywgaWZyYW1lJykuZWFjaChmdW5jdGlvbigpe1xuXHRcdFx0XHQkKHRoaXMpLm9uZSgnbG9hZCcsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQgIGlmKCsrY291bnQgPT0gdG90YWwpIGNhbGxiYWNrKCk7XG5cdFx0XHRcdH0pLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRcdCAgaWYodGhpcy5jb21wbGV0ZSkgJCh0aGlzKS5sb2FkKCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogU3RhcnQgdGhlIHNsaWRlclxuXHRcdCAqL1xuXHRcdHZhciBzdGFydCA9IGZ1bmN0aW9uKCl7XG5cdFx0XHQvLyBpZiBpbmZpbml0ZSBsb29wLCBwcmVwYXJlIGFkZGl0aW9uYWwgc2xpZGVzXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuaW5maW5pdGVMb29wICYmIHNsaWRlci5zZXR0aW5ncy5tb2RlICE9ICdmYWRlJyAmJiAhc2xpZGVyLnNldHRpbmdzLnRpY2tlcil7XG5cdFx0XHRcdHZhciBzbGljZSA9IHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICd2ZXJ0aWNhbCcgPyBzbGlkZXIuc2V0dGluZ3MubWluU2xpZGVzIDogc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcztcblx0XHRcdFx0dmFyIHNsaWNlQXBwZW5kID0gc2xpZGVyLmNoaWxkcmVuLnNsaWNlKDAsIHNsaWNlKS5jbG9uZSgpLmFkZENsYXNzKCdieC1jbG9uZScpO1xuXHRcdFx0XHR2YXIgc2xpY2VQcmVwZW5kID0gc2xpZGVyLmNoaWxkcmVuLnNsaWNlKC1zbGljZSkuY2xvbmUoKS5hZGRDbGFzcygnYngtY2xvbmUnKTtcblx0XHRcdFx0ZWwuYXBwZW5kKHNsaWNlQXBwZW5kKS5wcmVwZW5kKHNsaWNlUHJlcGVuZCk7XG5cdFx0XHR9XG5cdFx0XHQvLyByZW1vdmUgdGhlIGxvYWRpbmcgRE9NIGVsZW1lbnRcblx0XHRcdHNsaWRlci5sb2FkZXIucmVtb3ZlKCk7XG5cdFx0XHQvLyBzZXQgdGhlIGxlZnQgLyB0b3AgcG9zaXRpb24gb2YgXCJlbFwiXG5cdFx0XHRzZXRTbGlkZVBvc2l0aW9uKCk7XG5cdFx0XHQvLyBpZiBcInZlcnRpY2FsXCIgbW9kZSwgYWx3YXlzIHVzZSBhZGFwdGl2ZUhlaWdodCB0byBwcmV2ZW50IG9kZCBiZWhhdmlvclxuXHRcdFx0aWYgKHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICd2ZXJ0aWNhbCcpIHNsaWRlci5zZXR0aW5ncy5hZGFwdGl2ZUhlaWdodCA9IHRydWU7XG5cdFx0XHQvLyBzZXQgdGhlIHZpZXdwb3J0IGhlaWdodFxuXHRcdFx0c2xpZGVyLnZpZXdwb3J0LmhlaWdodChnZXRWaWV3cG9ydEhlaWdodCgpKTtcblx0XHRcdC8vIG1ha2Ugc3VyZSBldmVyeXRoaW5nIGlzIHBvc2l0aW9uZWQganVzdCByaWdodCAoc2FtZSBhcyBhIHdpbmRvdyByZXNpemUpXG5cdFx0XHRlbC5yZWRyYXdTbGlkZXIoKTtcblx0XHRcdC8vIG9uU2xpZGVyTG9hZCBjYWxsYmFja1xuXHRcdFx0c2xpZGVyLnNldHRpbmdzLm9uU2xpZGVyTG9hZChzbGlkZXIuYWN0aXZlLmluZGV4KTtcblx0XHRcdC8vIHNsaWRlciBoYXMgYmVlbiBmdWxseSBpbml0aWFsaXplZFxuXHRcdFx0c2xpZGVyLmluaXRpYWxpemVkID0gdHJ1ZTtcblx0XHRcdC8vIGJpbmQgdGhlIHJlc2l6ZSBjYWxsIHRvIHRoZSB3aW5kb3dcblx0XHRcdGlmIChzbGlkZXIuc2V0dGluZ3MucmVzcG9uc2l2ZSkgJCh3aW5kb3cpLmJpbmQoJ3Jlc2l6ZScsIHJlc2l6ZVdpbmRvdyk7XG5cdFx0XHQvLyBpZiBhdXRvIGlzIHRydWUgYW5kIGhhcyBtb3JlIHRoYW4gMSBwYWdlLCBzdGFydCB0aGUgc2hvd1xuXHRcdFx0aWYgKHNsaWRlci5zZXR0aW5ncy5hdXRvICYmIHNsaWRlci5zZXR0aW5ncy5hdXRvU3RhcnQgJiYgKGdldFBhZ2VyUXR5KCkgPiAxIHx8IHNsaWRlci5zZXR0aW5ncy5hdXRvU2xpZGVGb3JPbmVQYWdlKSkgaW5pdEF1dG8oKTtcblx0XHRcdC8vIGlmIHRpY2tlciBpcyB0cnVlLCBzdGFydCB0aGUgdGlja2VyXG5cdFx0XHRpZiAoc2xpZGVyLnNldHRpbmdzLnRpY2tlcikgaW5pdFRpY2tlcigpO1xuXHRcdFx0Ly8gaWYgcGFnZXIgaXMgcmVxdWVzdGVkLCBtYWtlIHRoZSBhcHByb3ByaWF0ZSBwYWdlciBsaW5rIGFjdGl2ZVxuXHRcdFx0aWYgKHNsaWRlci5zZXR0aW5ncy5wYWdlcikgdXBkYXRlUGFnZXJBY3RpdmUoc2xpZGVyLnNldHRpbmdzLnN0YXJ0U2xpZGUpO1xuXHRcdFx0Ly8gY2hlY2sgZm9yIGFueSB1cGRhdGVzIHRvIHRoZSBjb250cm9scyAobGlrZSBoaWRlQ29udHJvbE9uRW5kIHVwZGF0ZXMpXG5cdFx0XHRpZiAoc2xpZGVyLnNldHRpbmdzLmNvbnRyb2xzKSB1cGRhdGVEaXJlY3Rpb25Db250cm9scygpO1xuXHRcdFx0Ly8gaWYgdG91Y2hFbmFibGVkIGlzIHRydWUsIHNldHVwIHRoZSB0b3VjaCBldmVudHNcblx0XHRcdGlmIChzbGlkZXIuc2V0dGluZ3MudG91Y2hFbmFibGVkICYmICFzbGlkZXIuc2V0dGluZ3MudGlja2VyKSBpbml0VG91Y2goKTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIHRoZSBjYWxjdWxhdGVkIGhlaWdodCBvZiB0aGUgdmlld3BvcnQsIHVzZWQgdG8gZGV0ZXJtaW5lIGVpdGhlciBhZGFwdGl2ZUhlaWdodCBvciB0aGUgbWF4SGVpZ2h0IHZhbHVlXG5cdFx0ICovXG5cdFx0dmFyIGdldFZpZXdwb3J0SGVpZ2h0ID0gZnVuY3Rpb24oKXtcblx0XHRcdHZhciBoZWlnaHQgPSAwO1xuXHRcdFx0Ly8gZmlyc3QgZGV0ZXJtaW5lIHdoaWNoIGNoaWxkcmVuIChzbGlkZXMpIHNob3VsZCBiZSB1c2VkIGluIG91ciBoZWlnaHQgY2FsY3VsYXRpb25cblx0XHRcdHZhciBjaGlsZHJlbiA9ICQoKTtcblx0XHRcdC8vIGlmIG1vZGUgaXMgbm90IFwidmVydGljYWxcIiBhbmQgYWRhcHRpdmVIZWlnaHQgaXMgZmFsc2UsIGluY2x1ZGUgYWxsIGNoaWxkcmVuXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MubW9kZSAhPSAndmVydGljYWwnICYmICFzbGlkZXIuc2V0dGluZ3MuYWRhcHRpdmVIZWlnaHQpe1xuXHRcdFx0XHRjaGlsZHJlbiA9IHNsaWRlci5jaGlsZHJlbjtcblx0XHRcdH1lbHNle1xuXHRcdFx0XHQvLyBpZiBub3QgY2Fyb3VzZWwsIHJldHVybiB0aGUgc2luZ2xlIGFjdGl2ZSBjaGlsZFxuXHRcdFx0XHRpZighc2xpZGVyLmNhcm91c2VsKXtcblx0XHRcdFx0XHRjaGlsZHJlbiA9IHNsaWRlci5jaGlsZHJlbi5lcShzbGlkZXIuYWN0aXZlLmluZGV4KTtcblx0XHRcdFx0Ly8gaWYgY2Fyb3VzZWwsIHJldHVybiBhIHNsaWNlIG9mIGNoaWxkcmVuXG5cdFx0XHRcdH1lbHNle1xuXHRcdFx0XHRcdC8vIGdldCB0aGUgaW5kaXZpZHVhbCBzbGlkZSBpbmRleFxuXHRcdFx0XHRcdHZhciBjdXJyZW50SW5kZXggPSBzbGlkZXIuc2V0dGluZ3MubW92ZVNsaWRlcyA9PSAxID8gc2xpZGVyLmFjdGl2ZS5pbmRleCA6IHNsaWRlci5hY3RpdmUuaW5kZXggKiBnZXRNb3ZlQnkoKTtcblx0XHRcdFx0XHQvLyBhZGQgdGhlIGN1cnJlbnQgc2xpZGUgdG8gdGhlIGNoaWxkcmVuXG5cdFx0XHRcdFx0Y2hpbGRyZW4gPSBzbGlkZXIuY2hpbGRyZW4uZXEoY3VycmVudEluZGV4KTtcblx0XHRcdFx0XHQvLyBjeWNsZSB0aHJvdWdoIHRoZSByZW1haW5pbmcgXCJzaG93aW5nXCIgc2xpZGVzXG5cdFx0XHRcdFx0Zm9yIChpID0gMTsgaSA8PSBzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzIC0gMTsgaSsrKXtcblx0XHRcdFx0XHRcdC8vIGlmIGxvb3BlZCBiYWNrIHRvIHRoZSBzdGFydFxuXHRcdFx0XHRcdFx0aWYoY3VycmVudEluZGV4ICsgaSA+PSBzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoKXtcblx0XHRcdFx0XHRcdFx0Y2hpbGRyZW4gPSBjaGlsZHJlbi5hZGQoc2xpZGVyLmNoaWxkcmVuLmVxKGkgLSAxKSk7XG5cdFx0XHRcdFx0XHR9ZWxzZXtcblx0XHRcdFx0XHRcdFx0Y2hpbGRyZW4gPSBjaGlsZHJlbi5hZGQoc2xpZGVyLmNoaWxkcmVuLmVxKGN1cnJlbnRJbmRleCArIGkpKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdC8vIGlmIFwidmVydGljYWxcIiBtb2RlLCBjYWxjdWxhdGUgdGhlIHN1bSBvZiB0aGUgaGVpZ2h0cyBvZiB0aGUgY2hpbGRyZW5cblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICd2ZXJ0aWNhbCcpe1xuXHRcdFx0XHRjaGlsZHJlbi5lYWNoKGZ1bmN0aW9uKGluZGV4KSB7XG5cdFx0XHRcdCAgaGVpZ2h0ICs9ICQodGhpcykub3V0ZXJIZWlnaHQoKTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdC8vIGFkZCB1c2VyLXN1cHBsaWVkIG1hcmdpbnNcblx0XHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLnNsaWRlTWFyZ2luID4gMCl7XG5cdFx0XHRcdFx0aGVpZ2h0ICs9IHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbiAqIChzbGlkZXIuc2V0dGluZ3MubWluU2xpZGVzIC0gMSk7XG5cdFx0XHRcdH1cblx0XHRcdC8vIGlmIG5vdCBcInZlcnRpY2FsXCIgbW9kZSwgY2FsY3VsYXRlIHRoZSBtYXggaGVpZ2h0IG9mIHRoZSBjaGlsZHJlblxuXHRcdFx0fWVsc2V7XG5cdFx0XHRcdGhlaWdodCA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIGNoaWxkcmVuLm1hcChmdW5jdGlvbigpe1xuXHRcdFx0XHRcdHJldHVybiAkKHRoaXMpLm91dGVySGVpZ2h0KGZhbHNlKTtcblx0XHRcdFx0fSkuZ2V0KCkpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZihzbGlkZXIudmlld3BvcnQuY3NzKCdib3gtc2l6aW5nJykgPT0gJ2JvcmRlci1ib3gnKXtcblx0XHRcdFx0aGVpZ2h0ICs9XHRwYXJzZUZsb2F0KHNsaWRlci52aWV3cG9ydC5jc3MoJ3BhZGRpbmctdG9wJykpICsgcGFyc2VGbG9hdChzbGlkZXIudmlld3BvcnQuY3NzKCdwYWRkaW5nLWJvdHRvbScpKSArXG5cdFx0XHRcdFx0XHRcdHBhcnNlRmxvYXQoc2xpZGVyLnZpZXdwb3J0LmNzcygnYm9yZGVyLXRvcC13aWR0aCcpKSArIHBhcnNlRmxvYXQoc2xpZGVyLnZpZXdwb3J0LmNzcygnYm9yZGVyLWJvdHRvbS13aWR0aCcpKTtcblx0XHRcdH1lbHNlIGlmKHNsaWRlci52aWV3cG9ydC5jc3MoJ2JveC1zaXppbmcnKSA9PSAncGFkZGluZy1ib3gnKXtcblx0XHRcdFx0aGVpZ2h0ICs9XHRwYXJzZUZsb2F0KHNsaWRlci52aWV3cG9ydC5jc3MoJ3BhZGRpbmctdG9wJykpICsgcGFyc2VGbG9hdChzbGlkZXIudmlld3BvcnQuY3NzKCdwYWRkaW5nLWJvdHRvbScpKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGhlaWdodDtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIHRoZSBjYWxjdWxhdGVkIHdpZHRoIHRvIGJlIHVzZWQgZm9yIHRoZSBvdXRlciB3cmFwcGVyIC8gdmlld3BvcnRcblx0XHQgKi9cblx0XHR2YXIgZ2V0Vmlld3BvcnRNYXhXaWR0aCA9IGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgd2lkdGggPSAnMTAwJSc7XG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3Muc2xpZGVXaWR0aCA+IDApe1xuXHRcdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnaG9yaXpvbnRhbCcpe1xuXHRcdFx0XHRcdHdpZHRoID0gKHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMgKiBzbGlkZXIuc2V0dGluZ3Muc2xpZGVXaWR0aCkgKyAoKHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMgLSAxKSAqIHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbik7XG5cdFx0XHRcdH1lbHNle1xuXHRcdFx0XHRcdHdpZHRoID0gc2xpZGVyLnNldHRpbmdzLnNsaWRlV2lkdGg7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiB3aWR0aDtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIHRoZSBjYWxjdWxhdGVkIHdpZHRoIHRvIGJlIGFwcGxpZWQgdG8gZWFjaCBzbGlkZVxuXHRcdCAqL1xuXHRcdHZhciBnZXRTbGlkZVdpZHRoID0gZnVuY3Rpb24oKXtcblx0XHRcdC8vIHN0YXJ0IHdpdGggYW55IHVzZXItc3VwcGxpZWQgc2xpZGUgd2lkdGhcblx0XHRcdHZhciBuZXdFbFdpZHRoID0gc2xpZGVyLnNldHRpbmdzLnNsaWRlV2lkdGg7XG5cdFx0XHQvLyBnZXQgdGhlIGN1cnJlbnQgdmlld3BvcnQgd2lkdGhcblx0XHRcdHZhciB3cmFwV2lkdGggPSBzbGlkZXIudmlld3BvcnQud2lkdGgoKTtcblx0XHRcdC8vIGlmIHNsaWRlIHdpZHRoIHdhcyBub3Qgc3VwcGxpZWQsIG9yIGlzIGxhcmdlciB0aGFuIHRoZSB2aWV3cG9ydCB1c2UgdGhlIHZpZXdwb3J0IHdpZHRoXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3Muc2xpZGVXaWR0aCA9PSAwIHx8XG5cdFx0XHRcdChzbGlkZXIuc2V0dGluZ3Muc2xpZGVXaWR0aCA+IHdyYXBXaWR0aCAmJiAhc2xpZGVyLmNhcm91c2VsKSB8fFxuXHRcdFx0XHRzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAndmVydGljYWwnKXtcblx0XHRcdFx0bmV3RWxXaWR0aCA9IHdyYXBXaWR0aDtcblx0XHRcdC8vIGlmIGNhcm91c2VsLCB1c2UgdGhlIHRocmVzaG9sZHMgdG8gZGV0ZXJtaW5lIHRoZSB3aWR0aFxuXHRcdFx0fWVsc2UgaWYoc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcyA+IDEgJiYgc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnKXtcblx0XHRcdFx0aWYod3JhcFdpZHRoID4gc2xpZGVyLm1heFRocmVzaG9sZCl7XG5cdFx0XHRcdFx0Ly8gbmV3RWxXaWR0aCA9ICh3cmFwV2lkdGggLSAoc2xpZGVyLnNldHRpbmdzLnNsaWRlTWFyZ2luICogKHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMgLSAxKSkpIC8gc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcztcblx0XHRcdFx0fWVsc2UgaWYod3JhcFdpZHRoIDwgc2xpZGVyLm1pblRocmVzaG9sZCl7XG5cdFx0XHRcdFx0bmV3RWxXaWR0aCA9ICh3cmFwV2lkdGggLSAoc2xpZGVyLnNldHRpbmdzLnNsaWRlTWFyZ2luICogKHNsaWRlci5zZXR0aW5ncy5taW5TbGlkZXMgLSAxKSkpIC8gc2xpZGVyLnNldHRpbmdzLm1pblNsaWRlcztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG5ld0VsV2lkdGg7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIHNsaWRlcyBjdXJyZW50bHkgdmlzaWJsZSBpbiB0aGUgdmlld3BvcnQgKGluY2x1ZGVzIHBhcnRpYWxseSB2aXNpYmxlIHNsaWRlcylcblx0XHQgKi9cblx0XHR2YXIgZ2V0TnVtYmVyU2xpZGVzU2hvd2luZyA9IGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgc2xpZGVzU2hvd2luZyA9IDE7XG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnaG9yaXpvbnRhbCcgJiYgc2xpZGVyLnNldHRpbmdzLnNsaWRlV2lkdGggPiAwKXtcblx0XHRcdFx0Ly8gaWYgdmlld3BvcnQgaXMgc21hbGxlciB0aGFuIG1pblRocmVzaG9sZCwgcmV0dXJuIG1pblNsaWRlc1xuXHRcdFx0XHRpZihzbGlkZXIudmlld3BvcnQud2lkdGgoKSA8IHNsaWRlci5taW5UaHJlc2hvbGQpe1xuXHRcdFx0XHRcdHNsaWRlc1Nob3dpbmcgPSBzbGlkZXIuc2V0dGluZ3MubWluU2xpZGVzO1xuXHRcdFx0XHQvLyBpZiB2aWV3cG9ydCBpcyBsYXJnZXIgdGhhbiBtaW5UaHJlc2hvbGQsIHJldHVybiBtYXhTbGlkZXNcblx0XHRcdFx0fWVsc2UgaWYoc2xpZGVyLnZpZXdwb3J0LndpZHRoKCkgPiBzbGlkZXIubWF4VGhyZXNob2xkKXtcblx0XHRcdFx0XHRzbGlkZXNTaG93aW5nID0gc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcztcblx0XHRcdFx0Ly8gaWYgdmlld3BvcnQgaXMgYmV0d2VlbiBtaW4gLyBtYXggdGhyZXNob2xkcywgZGl2aWRlIHZpZXdwb3J0IHdpZHRoIGJ5IGZpcnN0IGNoaWxkIHdpZHRoXG5cdFx0XHRcdH1lbHNle1xuXHRcdFx0XHRcdHZhciBjaGlsZFdpZHRoID0gc2xpZGVyLmNoaWxkcmVuLmZpcnN0KCkud2lkdGgoKSArIHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbjtcblx0XHRcdFx0XHRzbGlkZXNTaG93aW5nID0gTWF0aC5mbG9vcigoc2xpZGVyLnZpZXdwb3J0LndpZHRoKCkgK1xuXHRcdFx0XHRcdFx0c2xpZGVyLnNldHRpbmdzLnNsaWRlTWFyZ2luKSAvIGNoaWxkV2lkdGgpO1xuXHRcdFx0XHR9XG5cdFx0XHQvLyBpZiBcInZlcnRpY2FsXCIgbW9kZSwgc2xpZGVzIHNob3dpbmcgd2lsbCBhbHdheXMgYmUgbWluU2xpZGVzXG5cdFx0XHR9ZWxzZSBpZihzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAndmVydGljYWwnKXtcblx0XHRcdFx0c2xpZGVzU2hvd2luZyA9IHNsaWRlci5zZXR0aW5ncy5taW5TbGlkZXM7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gc2xpZGVzU2hvd2luZztcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgcGFnZXMgKG9uZSBmdWxsIHZpZXdwb3J0IG9mIHNsaWRlcyBpcyBvbmUgXCJwYWdlXCIpXG5cdFx0ICovXG5cdFx0dmFyIGdldFBhZ2VyUXR5ID0gZnVuY3Rpb24oKXtcblx0XHRcdHZhciBwYWdlclF0eSA9IDA7XG5cdFx0XHQvLyBpZiBtb3ZlU2xpZGVzIGlzIHNwZWNpZmllZCBieSB0aGUgdXNlclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm1vdmVTbGlkZXMgPiAwKXtcblx0XHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLmluZmluaXRlTG9vcCl7XG5cdFx0XHRcdFx0cGFnZXJRdHkgPSBNYXRoLmNlaWwoc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCAvIGdldE1vdmVCeSgpKTtcblx0XHRcdFx0fWVsc2V7XG5cdFx0XHRcdFx0Ly8gdXNlIGEgd2hpbGUgbG9vcCB0byBkZXRlcm1pbmUgcGFnZXNcblx0XHRcdFx0XHR2YXIgYnJlYWtQb2ludCA9IDA7XG5cdFx0XHRcdFx0dmFyIGNvdW50ZXIgPSAwXG5cdFx0XHRcdFx0Ly8gd2hlbiBicmVha3BvaW50IGdvZXMgYWJvdmUgY2hpbGRyZW4gbGVuZ3RoLCBjb3VudGVyIGlzIHRoZSBudW1iZXIgb2YgcGFnZXNcblx0XHRcdFx0XHR3aGlsZSAoYnJlYWtQb2ludCA8IHNsaWRlci5jaGlsZHJlbi5sZW5ndGgpe1xuXHRcdFx0XHRcdFx0KytwYWdlclF0eTtcblx0XHRcdFx0XHRcdGJyZWFrUG9pbnQgPSBjb3VudGVyICsgZ2V0TnVtYmVyU2xpZGVzU2hvd2luZygpO1xuXHRcdFx0XHRcdFx0Y291bnRlciArPSBzbGlkZXIuc2V0dGluZ3MubW92ZVNsaWRlcyA8PSBnZXROdW1iZXJTbGlkZXNTaG93aW5nKCkgPyBzbGlkZXIuc2V0dGluZ3MubW92ZVNsaWRlcyA6IGdldE51bWJlclNsaWRlc1Nob3dpbmcoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdC8vIGlmIG1vdmVTbGlkZXMgaXMgMCAoYXV0bykgZGl2aWRlIGNoaWxkcmVuIGxlbmd0aCBieSBzaWRlcyBzaG93aW5nLCB0aGVuIHJvdW5kIHVwXG5cdFx0XHR9ZWxzZXtcblx0XHRcdFx0cGFnZXJRdHkgPSBNYXRoLmNlaWwoc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCAvIGdldE51bWJlclNsaWRlc1Nob3dpbmcoKSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcGFnZXJRdHk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGluZGl2dWFsIHNsaWRlcyBieSB3aGljaCB0byBzaGlmdCB0aGUgc2xpZGVyXG5cdFx0ICovXG5cdFx0dmFyIGdldE1vdmVCeSA9IGZ1bmN0aW9uKCl7XG5cdFx0XHQvLyBpZiBtb3ZlU2xpZGVzIHdhcyBzZXQgYnkgdGhlIHVzZXIgYW5kIG1vdmVTbGlkZXMgaXMgbGVzcyB0aGFuIG51bWJlciBvZiBzbGlkZXMgc2hvd2luZ1xuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm1vdmVTbGlkZXMgPiAwICYmIHNsaWRlci5zZXR0aW5ncy5tb3ZlU2xpZGVzIDw9IGdldE51bWJlclNsaWRlc1Nob3dpbmcoKSl7XG5cdFx0XHRcdHJldHVybiBzbGlkZXIuc2V0dGluZ3MubW92ZVNsaWRlcztcblx0XHRcdH1cblx0XHRcdC8vIGlmIG1vdmVTbGlkZXMgaXMgMCAoYXV0bylcblx0XHRcdHJldHVybiBnZXROdW1iZXJTbGlkZXNTaG93aW5nKCk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogU2V0cyB0aGUgc2xpZGVyJ3MgKGVsKSBsZWZ0IG9yIHRvcCBwb3NpdGlvblxuXHRcdCAqL1xuXHRcdHZhciBzZXRTbGlkZVBvc2l0aW9uID0gZnVuY3Rpb24oKXtcblx0XHRcdC8vIGlmIGxhc3Qgc2xpZGUsIG5vdCBpbmZpbml0ZSBsb29wLCBhbmQgbnVtYmVyIG9mIGNoaWxkcmVuIGlzIGxhcmdlciB0aGFuIHNwZWNpZmllZCBtYXhTbGlkZXNcblx0XHRcdGlmKHNsaWRlci5jaGlsZHJlbi5sZW5ndGggPiBzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzICYmIHNsaWRlci5hY3RpdmUubGFzdCAmJiAhc2xpZGVyLnNldHRpbmdzLmluZmluaXRlTG9vcCl7XG5cdFx0XHRcdGlmIChzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnaG9yaXpvbnRhbCcpe1xuXHRcdFx0XHRcdC8vIGdldCB0aGUgbGFzdCBjaGlsZCdzIHBvc2l0aW9uXG5cdFx0XHRcdFx0dmFyIGxhc3RDaGlsZCA9IHNsaWRlci5jaGlsZHJlbi5sYXN0KCk7XG5cdFx0XHRcdFx0dmFyIHBvc2l0aW9uID0gbGFzdENoaWxkLnBvc2l0aW9uKCk7XG5cdFx0XHRcdFx0Ly8gc2V0IHRoZSBsZWZ0IHBvc2l0aW9uXG5cdFx0XHRcdFx0c2V0UG9zaXRpb25Qcm9wZXJ0eSgtKHBvc2l0aW9uLmxlZnQgLSAoc2xpZGVyLnZpZXdwb3J0LndpZHRoKCkgLSBsYXN0Q2hpbGQub3V0ZXJXaWR0aCgpKSksICdyZXNldCcsIDApO1xuXHRcdFx0XHR9ZWxzZSBpZihzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAndmVydGljYWwnKXtcblx0XHRcdFx0XHQvLyBnZXQgdGhlIGxhc3Qgc2hvd2luZyBpbmRleCdzIHBvc2l0aW9uXG5cdFx0XHRcdFx0dmFyIGxhc3RTaG93aW5nSW5kZXggPSBzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoIC0gc2xpZGVyLnNldHRpbmdzLm1pblNsaWRlcztcblx0XHRcdFx0XHR2YXIgcG9zaXRpb24gPSBzbGlkZXIuY2hpbGRyZW4uZXEobGFzdFNob3dpbmdJbmRleCkucG9zaXRpb24oKTtcblx0XHRcdFx0XHQvLyBzZXQgdGhlIHRvcCBwb3NpdGlvblxuXHRcdFx0XHRcdHNldFBvc2l0aW9uUHJvcGVydHkoLXBvc2l0aW9uLnRvcCwgJ3Jlc2V0JywgMCk7XG5cdFx0XHRcdH1cblx0XHRcdC8vIGlmIG5vdCBsYXN0IHNsaWRlXG5cdFx0XHR9ZWxzZXtcblx0XHRcdFx0Ly8gZ2V0IHRoZSBwb3NpdGlvbiBvZiB0aGUgZmlyc3Qgc2hvd2luZyBzbGlkZVxuXHRcdFx0XHR2YXIgcG9zaXRpb24gPSBzbGlkZXIuY2hpbGRyZW4uZXEoc2xpZGVyLmFjdGl2ZS5pbmRleCAqIGdldE1vdmVCeSgpKS5wb3NpdGlvbigpO1xuXHRcdFx0XHQvLyBjaGVjayBmb3IgbGFzdCBzbGlkZVxuXHRcdFx0XHRpZiAoc2xpZGVyLmFjdGl2ZS5pbmRleCA9PSBnZXRQYWdlclF0eSgpIC0gMSkgc2xpZGVyLmFjdGl2ZS5sYXN0ID0gdHJ1ZTtcblx0XHRcdFx0Ly8gc2V0IHRoZSByZXBlY3RpdmUgcG9zaXRpb25cblx0XHRcdFx0aWYgKHBvc2l0aW9uICE9IHVuZGVmaW5lZCl7XG5cdFx0XHRcdFx0aWYgKHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICdob3Jpem9udGFsJykgc2V0UG9zaXRpb25Qcm9wZXJ0eSgtcG9zaXRpb24ubGVmdCwgJ3Jlc2V0JywgMCk7XG5cdFx0XHRcdFx0ZWxzZSBpZiAoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ3ZlcnRpY2FsJykgc2V0UG9zaXRpb25Qcm9wZXJ0eSgtcG9zaXRpb24udG9wLCAncmVzZXQnLCAwKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFNldHMgdGhlIGVsJ3MgYW5pbWF0aW5nIHByb3BlcnR5IHBvc2l0aW9uICh3aGljaCBpbiB0dXJuIHdpbGwgc29tZXRpbWVzIGFuaW1hdGUgZWwpLlxuXHRcdCAqIElmIHVzaW5nIENTUywgc2V0cyB0aGUgdHJhbnNmb3JtIHByb3BlcnR5LiBJZiBub3QgdXNpbmcgQ1NTLCBzZXRzIHRoZSB0b3AgLyBsZWZ0IHByb3BlcnR5LlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHZhbHVlIChpbnQpXG5cdFx0ICogIC0gdGhlIGFuaW1hdGluZyBwcm9wZXJ0eSdzIHZhbHVlXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gdHlwZSAoc3RyaW5nKSAnc2xpZGVyJywgJ3Jlc2V0JywgJ3RpY2tlcidcblx0XHQgKiAgLSB0aGUgdHlwZSBvZiBpbnN0YW5jZSBmb3Igd2hpY2ggdGhlIGZ1bmN0aW9uIGlzIGJlaW5nXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gZHVyYXRpb24gKGludClcblx0XHQgKiAgLSB0aGUgYW1vdW50IG9mIHRpbWUgKGluIG1zKSB0aGUgdHJhbnNpdGlvbiBzaG91bGQgb2NjdXB5XG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gcGFyYW1zIChhcnJheSkgb3B0aW9uYWxcblx0XHQgKiAgLSBhbiBvcHRpb25hbCBwYXJhbWV0ZXIgY29udGFpbmluZyBhbnkgdmFyaWFibGVzIHRoYXQgbmVlZCB0byBiZSBwYXNzZWQgaW5cblx0XHQgKi9cblx0XHR2YXIgc2V0UG9zaXRpb25Qcm9wZXJ0eSA9IGZ1bmN0aW9uKHZhbHVlLCB0eXBlLCBkdXJhdGlvbiwgcGFyYW1zKXtcblx0XHRcdC8vIHVzZSBDU1MgdHJhbnNmb3JtXG5cdFx0XHRpZihzbGlkZXIudXNpbmdDU1Mpe1xuXHRcdFx0XHQvLyBkZXRlcm1pbmUgdGhlIHRyYW5zbGF0ZTNkIHZhbHVlXG5cdFx0XHRcdHZhciBwcm9wVmFsdWUgPSBzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAndmVydGljYWwnID8gJ3RyYW5zbGF0ZTNkKDAsICcgKyB2YWx1ZSArICdweCwgMCknIDogJ3RyYW5zbGF0ZTNkKCcgKyB2YWx1ZSArICdweCwgMCwgMCknO1xuXHRcdFx0XHQvLyBhZGQgdGhlIENTUyB0cmFuc2l0aW9uLWR1cmF0aW9uXG5cdFx0XHRcdGVsLmNzcygnLScgKyBzbGlkZXIuY3NzUHJlZml4ICsgJy10cmFuc2l0aW9uLWR1cmF0aW9uJywgZHVyYXRpb24gLyAxMDAwICsgJ3MnKTtcblx0XHRcdFx0aWYodHlwZSA9PSAnc2xpZGUnKXtcblx0XHRcdFx0XHQvLyBzZXQgdGhlIHByb3BlcnR5IHZhbHVlXG5cdFx0XHRcdFx0ZWwuY3NzKHNsaWRlci5hbmltUHJvcCwgcHJvcFZhbHVlKTtcblx0XHRcdFx0XHQvLyBiaW5kIGEgY2FsbGJhY2sgbWV0aG9kIC0gZXhlY3V0ZXMgd2hlbiBDU1MgdHJhbnNpdGlvbiBjb21wbGV0ZXNcblx0XHRcdFx0XHRlbC5iaW5kKCd0cmFuc2l0aW9uZW5kIHdlYmtpdFRyYW5zaXRpb25FbmQgb1RyYW5zaXRpb25FbmQgTVNUcmFuc2l0aW9uRW5kJywgZnVuY3Rpb24oKXtcblx0XHRcdFx0XHRcdC8vIHVuYmluZCB0aGUgY2FsbGJhY2tcblx0XHRcdFx0XHRcdGVsLnVuYmluZCgndHJhbnNpdGlvbmVuZCB3ZWJraXRUcmFuc2l0aW9uRW5kIG9UcmFuc2l0aW9uRW5kIE1TVHJhbnNpdGlvbkVuZCcpO1xuXHRcdFx0XHRcdFx0dXBkYXRlQWZ0ZXJTbGlkZVRyYW5zaXRpb24oKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fWVsc2UgaWYodHlwZSA9PSAncmVzZXQnKXtcblx0XHRcdFx0XHRlbC5jc3Moc2xpZGVyLmFuaW1Qcm9wLCBwcm9wVmFsdWUpO1xuXHRcdFx0XHR9ZWxzZSBpZih0eXBlID09ICd0aWNrZXInKXtcblx0XHRcdFx0XHQvLyBtYWtlIHRoZSB0cmFuc2l0aW9uIHVzZSAnbGluZWFyJ1xuXHRcdFx0XHRcdGVsLmNzcygnLScgKyBzbGlkZXIuY3NzUHJlZml4ICsgJy10cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbicsICdsaW5lYXInKTtcblx0XHRcdFx0XHRlbC5jc3Moc2xpZGVyLmFuaW1Qcm9wLCBwcm9wVmFsdWUpO1xuXHRcdFx0XHRcdC8vIGJpbmQgYSBjYWxsYmFjayBtZXRob2QgLSBleGVjdXRlcyB3aGVuIENTUyB0cmFuc2l0aW9uIGNvbXBsZXRlc1xuXHRcdFx0XHRcdGVsLmJpbmQoJ3RyYW5zaXRpb25lbmQgd2Via2l0VHJhbnNpdGlvbkVuZCBvVHJhbnNpdGlvbkVuZCBNU1RyYW5zaXRpb25FbmQnLCBmdW5jdGlvbigpe1xuXHRcdFx0XHRcdFx0Ly8gdW5iaW5kIHRoZSBjYWxsYmFja1xuXHRcdFx0XHRcdFx0ZWwudW5iaW5kKCd0cmFuc2l0aW9uZW5kIHdlYmtpdFRyYW5zaXRpb25FbmQgb1RyYW5zaXRpb25FbmQgTVNUcmFuc2l0aW9uRW5kJyk7XG5cdFx0XHRcdFx0XHQvLyByZXNldCB0aGUgcG9zaXRpb25cblx0XHRcdFx0XHRcdHNldFBvc2l0aW9uUHJvcGVydHkocGFyYW1zWydyZXNldFZhbHVlJ10sICdyZXNldCcsIDApO1xuXHRcdFx0XHRcdFx0Ly8gc3RhcnQgdGhlIGxvb3AgYWdhaW5cblx0XHRcdFx0XHRcdHRpY2tlckxvb3AoKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0Ly8gdXNlIEpTIGFuaW1hdGVcblx0XHRcdH1lbHNle1xuXHRcdFx0XHR2YXIgYW5pbWF0ZU9iaiA9IHt9O1xuXHRcdFx0XHRhbmltYXRlT2JqW3NsaWRlci5hbmltUHJvcF0gPSB2YWx1ZTtcblx0XHRcdFx0aWYodHlwZSA9PSAnc2xpZGUnKXtcblx0XHRcdFx0XHRlbC5hbmltYXRlKGFuaW1hdGVPYmosIGR1cmF0aW9uLCBzbGlkZXIuc2V0dGluZ3MuZWFzaW5nLCBmdW5jdGlvbigpe1xuXHRcdFx0XHRcdFx0dXBkYXRlQWZ0ZXJTbGlkZVRyYW5zaXRpb24oKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fWVsc2UgaWYodHlwZSA9PSAncmVzZXQnKXtcblx0XHRcdFx0XHRlbC5jc3Moc2xpZGVyLmFuaW1Qcm9wLCB2YWx1ZSlcblx0XHRcdFx0fWVsc2UgaWYodHlwZSA9PSAndGlja2VyJyl7XG5cdFx0XHRcdFx0ZWwuYW5pbWF0ZShhbmltYXRlT2JqLCBzcGVlZCwgJ2xpbmVhcicsIGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0XHRzZXRQb3NpdGlvblByb3BlcnR5KHBhcmFtc1sncmVzZXRWYWx1ZSddLCAncmVzZXQnLCAwKTtcblx0XHRcdFx0XHRcdC8vIHJ1biB0aGUgcmVjdXJzaXZlIGxvb3AgYWZ0ZXIgYW5pbWF0aW9uXG5cdFx0XHRcdFx0XHR0aWNrZXJMb29wKCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBQb3B1bGF0ZXMgdGhlIHBhZ2VyIHdpdGggcHJvcGVyIGFtb3VudCBvZiBwYWdlc1xuXHRcdCAqL1xuXHRcdHZhciBwb3B1bGF0ZVBhZ2VyID0gZnVuY3Rpb24oKXtcblx0XHRcdHZhciBwYWdlckh0bWwgPSAnJztcblx0XHRcdHZhciBwYWdlclF0eSA9IGdldFBhZ2VyUXR5KCk7XG5cdFx0XHQvLyBsb29wIHRocm91Z2ggZWFjaCBwYWdlciBpdGVtXG5cdFx0XHRmb3IodmFyIGk9MDsgaSA8IHBhZ2VyUXR5OyBpKyspe1xuXHRcdFx0XHR2YXIgbGlua0NvbnRlbnQgPSAnJztcblx0XHRcdFx0Ly8gaWYgYSBidWlsZFBhZ2VyIGZ1bmN0aW9uIGlzIHN1cHBsaWVkLCB1c2UgaXQgdG8gZ2V0IHBhZ2VyIGxpbmsgdmFsdWUsIGVsc2UgdXNlIGluZGV4ICsgMVxuXHRcdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuYnVpbGRQYWdlciAmJiAkLmlzRnVuY3Rpb24oc2xpZGVyLnNldHRpbmdzLmJ1aWxkUGFnZXIpKXtcblx0XHRcdFx0XHRsaW5rQ29udGVudCA9IHNsaWRlci5zZXR0aW5ncy5idWlsZFBhZ2VyKGkpO1xuXHRcdFx0XHRcdHNsaWRlci5wYWdlckVsLmFkZENsYXNzKCdieC1jdXN0b20tcGFnZXInKTtcblx0XHRcdFx0fWVsc2V7XG5cdFx0XHRcdFx0bGlua0NvbnRlbnQgPSBpICsgMTtcblx0XHRcdFx0XHRzbGlkZXIucGFnZXJFbC5hZGRDbGFzcygnYngtZGVmYXVsdC1wYWdlcicpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIHZhciBsaW5rQ29udGVudCA9IHNsaWRlci5zZXR0aW5ncy5idWlsZFBhZ2VyICYmICQuaXNGdW5jdGlvbihzbGlkZXIuc2V0dGluZ3MuYnVpbGRQYWdlcikgPyBzbGlkZXIuc2V0dGluZ3MuYnVpbGRQYWdlcihpKSA6IGkgKyAxO1xuXHRcdFx0XHQvLyBhZGQgdGhlIG1hcmt1cCB0byB0aGUgc3RyaW5nXG5cdFx0XHRcdHBhZ2VySHRtbCArPSAnPGRpdiBjbGFzcz1cImJ4LXBhZ2VyLWl0ZW1cIj48YSBocmVmPVwiXCIgZGF0YS1zbGlkZS1pbmRleD1cIicgKyBpICsgJ1wiIGNsYXNzPVwiYngtcGFnZXItbGlua1wiPicgKyBsaW5rQ29udGVudCArICc8L2E+PC9kaXY+Jztcblx0XHRcdH07XG5cdFx0XHQvLyBwb3B1bGF0ZSB0aGUgcGFnZXIgZWxlbWVudCB3aXRoIHBhZ2VyIGxpbmtzXG5cdFx0XHRzbGlkZXIucGFnZXJFbC5odG1sKHBhZ2VySHRtbCk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogQXBwZW5kcyB0aGUgcGFnZXIgdG8gdGhlIGNvbnRyb2xzIGVsZW1lbnRcblx0XHQgKi9cblx0XHR2YXIgYXBwZW5kUGFnZXIgPSBmdW5jdGlvbigpe1xuXHRcdFx0aWYoIXNsaWRlci5zZXR0aW5ncy5wYWdlckN1c3RvbSl7XG5cdFx0XHRcdC8vIGNyZWF0ZSB0aGUgcGFnZXIgRE9NIGVsZW1lbnRcblx0XHRcdFx0c2xpZGVyLnBhZ2VyRWwgPSAkKCc8ZGl2IGNsYXNzPVwiYngtcGFnZXJcIiAvPicpO1xuXHRcdFx0XHQvLyBpZiBhIHBhZ2VyIHNlbGVjdG9yIHdhcyBzdXBwbGllZCwgcG9wdWxhdGUgaXQgd2l0aCB0aGUgcGFnZXJcblx0XHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLnBhZ2VyU2VsZWN0b3Ipe1xuXHRcdFx0XHRcdCQoc2xpZGVyLnNldHRpbmdzLnBhZ2VyU2VsZWN0b3IpLmh0bWwoc2xpZGVyLnBhZ2VyRWwpO1xuXHRcdFx0XHQvLyBpZiBubyBwYWdlciBzZWxlY3RvciB3YXMgc3VwcGxpZWQsIGFkZCBpdCBhZnRlciB0aGUgd3JhcHBlclxuXHRcdFx0XHR9ZWxzZXtcblx0XHRcdFx0XHRzbGlkZXIuY29udHJvbHMuZWwuYWRkQ2xhc3MoJ2J4LWhhcy1wYWdlcicpLmFwcGVuZChzbGlkZXIucGFnZXJFbCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gcG9wdWxhdGUgdGhlIHBhZ2VyXG5cdFx0XHRcdHBvcHVsYXRlUGFnZXIoKTtcblx0XHRcdH1lbHNle1xuXHRcdFx0XHRzbGlkZXIucGFnZXJFbCA9ICQoc2xpZGVyLnNldHRpbmdzLnBhZ2VyQ3VzdG9tKTtcblx0XHRcdH1cblx0XHRcdC8vIGFzc2lnbiB0aGUgcGFnZXIgY2xpY2sgYmluZGluZ1xuXHRcdFx0c2xpZGVyLnBhZ2VyRWwub24oJ2NsaWNrJywgJ2EnLCBjbGlja1BhZ2VyQmluZCk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogQXBwZW5kcyBwcmV2IC8gbmV4dCBjb250cm9scyB0byB0aGUgY29udHJvbHMgZWxlbWVudFxuXHRcdCAqL1xuXHRcdHZhciBhcHBlbmRDb250cm9scyA9IGZ1bmN0aW9uKCl7XG5cdFx0XHRzbGlkZXIuY29udHJvbHMubmV4dCA9ICQoJzxhIGNsYXNzPVwiYngtbmV4dFwiIGhyZWY9XCJcIj4nICsgc2xpZGVyLnNldHRpbmdzLm5leHRUZXh0ICsgJzwvYT4nKTtcblx0XHRcdHNsaWRlci5jb250cm9scy5wcmV2ID0gJCgnPGEgY2xhc3M9XCJieC1wcmV2XCIgaHJlZj1cIlwiPicgKyBzbGlkZXIuc2V0dGluZ3MucHJldlRleHQgKyAnPC9hPicpO1xuXHRcdFx0Ly8gYmluZCBjbGljayBhY3Rpb25zIHRvIHRoZSBjb250cm9sc1xuXHRcdFx0c2xpZGVyLmNvbnRyb2xzLm5leHQuYmluZCgnY2xpY2snLCBjbGlja05leHRCaW5kKTtcblx0XHRcdHNsaWRlci5jb250cm9scy5wcmV2LmJpbmQoJ2NsaWNrJywgY2xpY2tQcmV2QmluZCk7XG5cdFx0XHQvLyBpZiBuZXh0U2xlY3RvciB3YXMgc3VwcGxpZWQsIHBvcHVsYXRlIGl0XG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MubmV4dFNlbGVjdG9yKXtcblx0XHRcdFx0JChzbGlkZXIuc2V0dGluZ3MubmV4dFNlbGVjdG9yKS5hcHBlbmQoc2xpZGVyLmNvbnRyb2xzLm5leHQpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gaWYgcHJldlNsZWN0b3Igd2FzIHN1cHBsaWVkLCBwb3B1bGF0ZSBpdFxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLnByZXZTZWxlY3Rvcil7XG5cdFx0XHRcdCQoc2xpZGVyLnNldHRpbmdzLnByZXZTZWxlY3RvcikuYXBwZW5kKHNsaWRlci5jb250cm9scy5wcmV2KTtcblx0XHRcdH1cblx0XHRcdC8vIGlmIG5vIGN1c3RvbSBzZWxlY3RvcnMgd2VyZSBzdXBwbGllZFxuXHRcdFx0aWYoIXNsaWRlci5zZXR0aW5ncy5uZXh0U2VsZWN0b3IgJiYgIXNsaWRlci5zZXR0aW5ncy5wcmV2U2VsZWN0b3Ipe1xuXHRcdFx0XHQvLyBhZGQgdGhlIGNvbnRyb2xzIHRvIHRoZSBET01cblx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLmRpcmVjdGlvbkVsID0gJCgnPGRpdiBjbGFzcz1cImJ4LWNvbnRyb2xzLWRpcmVjdGlvblwiIC8+Jyk7XG5cdFx0XHRcdC8vIGFkZCB0aGUgY29udHJvbCBlbGVtZW50cyB0byB0aGUgZGlyZWN0aW9uRWxcblx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLmRpcmVjdGlvbkVsLmFwcGVuZChzbGlkZXIuY29udHJvbHMucHJldikuYXBwZW5kKHNsaWRlci5jb250cm9scy5uZXh0KTtcblx0XHRcdFx0Ly8gc2xpZGVyLnZpZXdwb3J0LmFwcGVuZChzbGlkZXIuY29udHJvbHMuZGlyZWN0aW9uRWwpO1xuXHRcdFx0XHRzbGlkZXIuY29udHJvbHMuZWwuYWRkQ2xhc3MoJ2J4LWhhcy1jb250cm9scy1kaXJlY3Rpb24nKS5hcHBlbmQoc2xpZGVyLmNvbnRyb2xzLmRpcmVjdGlvbkVsKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBBcHBlbmRzIHN0YXJ0IC8gc3RvcCBhdXRvIGNvbnRyb2xzIHRvIHRoZSBjb250cm9scyBlbGVtZW50XG5cdFx0ICovXG5cdFx0dmFyIGFwcGVuZENvbnRyb2xzQXV0byA9IGZ1bmN0aW9uKCl7XG5cdFx0XHRzbGlkZXIuY29udHJvbHMuc3RhcnQgPSAkKCc8ZGl2IGNsYXNzPVwiYngtY29udHJvbHMtYXV0by1pdGVtXCI+PGEgY2xhc3M9XCJieC1zdGFydFwiIGhyZWY9XCJcIj4nICsgc2xpZGVyLnNldHRpbmdzLnN0YXJ0VGV4dCArICc8L2E+PC9kaXY+Jyk7XG5cdFx0XHRzbGlkZXIuY29udHJvbHMuc3RvcCA9ICQoJzxkaXYgY2xhc3M9XCJieC1jb250cm9scy1hdXRvLWl0ZW1cIj48YSBjbGFzcz1cImJ4LXN0b3BcIiBocmVmPVwiXCI+JyArIHNsaWRlci5zZXR0aW5ncy5zdG9wVGV4dCArICc8L2E+PC9kaXY+Jyk7XG5cdFx0XHQvLyBhZGQgdGhlIGNvbnRyb2xzIHRvIHRoZSBET01cblx0XHRcdHNsaWRlci5jb250cm9scy5hdXRvRWwgPSAkKCc8ZGl2IGNsYXNzPVwiYngtY29udHJvbHMtYXV0b1wiIC8+Jyk7XG5cdFx0XHQvLyBiaW5kIGNsaWNrIGFjdGlvbnMgdG8gdGhlIGNvbnRyb2xzXG5cdFx0XHRzbGlkZXIuY29udHJvbHMuYXV0b0VsLm9uKCdjbGljaycsICcuYngtc3RhcnQnLCBjbGlja1N0YXJ0QmluZCk7XG5cdFx0XHRzbGlkZXIuY29udHJvbHMuYXV0b0VsLm9uKCdjbGljaycsICcuYngtc3RvcCcsIGNsaWNrU3RvcEJpbmQpO1xuXHRcdFx0Ly8gaWYgYXV0b0NvbnRyb2xzQ29tYmluZSwgaW5zZXJ0IG9ubHkgdGhlIFwic3RhcnRcIiBjb250cm9sXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuYXV0b0NvbnRyb2xzQ29tYmluZSl7XG5cdFx0XHRcdHNsaWRlci5jb250cm9scy5hdXRvRWwuYXBwZW5kKHNsaWRlci5jb250cm9scy5zdGFydCk7XG5cdFx0XHQvLyBpZiBhdXRvQ29udHJvbHNDb21iaW5lIGlzIGZhbHNlLCBpbnNlcnQgYm90aCBjb250cm9sc1xuXHRcdFx0fWVsc2V7XG5cdFx0XHRcdHNsaWRlci5jb250cm9scy5hdXRvRWwuYXBwZW5kKHNsaWRlci5jb250cm9scy5zdGFydCkuYXBwZW5kKHNsaWRlci5jb250cm9scy5zdG9wKTtcblx0XHRcdH1cblx0XHRcdC8vIGlmIGF1dG8gY29udHJvbHMgc2VsZWN0b3Igd2FzIHN1cHBsaWVkLCBwb3B1bGF0ZSBpdCB3aXRoIHRoZSBjb250cm9sc1xuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLmF1dG9Db250cm9sc1NlbGVjdG9yKXtcblx0XHRcdFx0JChzbGlkZXIuc2V0dGluZ3MuYXV0b0NvbnRyb2xzU2VsZWN0b3IpLmh0bWwoc2xpZGVyLmNvbnRyb2xzLmF1dG9FbCk7XG5cdFx0XHQvLyBpZiBhdXRvIGNvbnRyb2xzIHNlbGVjdG9yIHdhcyBub3Qgc3VwcGxpZWQsIGFkZCBpdCBhZnRlciB0aGUgd3JhcHBlclxuXHRcdFx0fWVsc2V7XG5cdFx0XHRcdHNsaWRlci5jb250cm9scy5lbC5hZGRDbGFzcygnYngtaGFzLWNvbnRyb2xzLWF1dG8nKS5hcHBlbmQoc2xpZGVyLmNvbnRyb2xzLmF1dG9FbCk7XG5cdFx0XHR9XG5cdFx0XHQvLyB1cGRhdGUgdGhlIGF1dG8gY29udHJvbHNcblx0XHRcdHVwZGF0ZUF1dG9Db250cm9scyhzbGlkZXIuc2V0dGluZ3MuYXV0b1N0YXJ0ID8gJ3N0b3AnIDogJ3N0YXJ0Jyk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogQXBwZW5kcyBpbWFnZSBjYXB0aW9ucyB0byB0aGUgRE9NXG5cdFx0ICovXG5cdFx0dmFyIGFwcGVuZENhcHRpb25zID0gZnVuY3Rpb24oKXtcblx0XHRcdC8vIGN5Y2xlIHRocm91Z2ggZWFjaCBjaGlsZFxuXHRcdFx0c2xpZGVyLmNoaWxkcmVuLmVhY2goZnVuY3Rpb24oaW5kZXgpe1xuXHRcdFx0XHQvLyBnZXQgdGhlIGltYWdlIHRpdGxlIGF0dHJpYnV0ZVxuXHRcdFx0XHR2YXIgdGl0bGUgPSAkKHRoaXMpLmZpbmQoJ2ltZzpmaXJzdCcpLmF0dHIoJ3RpdGxlJyk7XG5cdFx0XHRcdC8vIGFwcGVuZCB0aGUgY2FwdGlvblxuXHRcdFx0XHRpZiAodGl0bGUgIT0gdW5kZWZpbmVkICYmICgnJyArIHRpdGxlKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJieC1jYXB0aW9uXCI+PHNwYW4+JyArIHRpdGxlICsgJzwvc3Bhbj48L2Rpdj4nKTtcbiAgICAgICAgICAgICAgICB9XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBDbGljayBuZXh0IGJpbmRpbmdcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSBlIChldmVudClcblx0XHQgKiAgLSBET00gZXZlbnQgb2JqZWN0XG5cdFx0ICovXG5cdFx0dmFyIGNsaWNrTmV4dEJpbmQgPSBmdW5jdGlvbihlKXtcblx0XHRcdC8vIGlmIGF1dG8gc2hvdyBpcyBydW5uaW5nLCBzdG9wIGl0XG5cdFx0XHRpZiAoc2xpZGVyLnNldHRpbmdzLmF1dG8pIGVsLnN0b3BBdXRvKCk7XG5cdFx0XHRlbC5nb1RvTmV4dFNsaWRlKCk7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogQ2xpY2sgcHJldiBiaW5kaW5nXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gZSAoZXZlbnQpXG5cdFx0ICogIC0gRE9NIGV2ZW50IG9iamVjdFxuXHRcdCAqL1xuXHRcdHZhciBjbGlja1ByZXZCaW5kID0gZnVuY3Rpb24oZSl7XG5cdFx0XHQvLyBpZiBhdXRvIHNob3cgaXMgcnVubmluZywgc3RvcCBpdFxuXHRcdFx0aWYgKHNsaWRlci5zZXR0aW5ncy5hdXRvKSBlbC5zdG9wQXV0bygpO1xuXHRcdFx0ZWwuZ29Ub1ByZXZTbGlkZSgpO1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIENsaWNrIHN0YXJ0IGJpbmRpbmdcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSBlIChldmVudClcblx0XHQgKiAgLSBET00gZXZlbnQgb2JqZWN0XG5cdFx0ICovXG5cdFx0dmFyIGNsaWNrU3RhcnRCaW5kID0gZnVuY3Rpb24oZSl7XG5cdFx0XHRlbC5zdGFydEF1dG8oKTtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBDbGljayBzdG9wIGJpbmRpbmdcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSBlIChldmVudClcblx0XHQgKiAgLSBET00gZXZlbnQgb2JqZWN0XG5cdFx0ICovXG5cdFx0dmFyIGNsaWNrU3RvcEJpbmQgPSBmdW5jdGlvbihlKXtcblx0XHRcdGVsLnN0b3BBdXRvKCk7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogQ2xpY2sgcGFnZXIgYmluZGluZ1xuXHRcdCAqXG5cdFx0ICogQHBhcmFtIGUgKGV2ZW50KVxuXHRcdCAqICAtIERPTSBldmVudCBvYmplY3Rcblx0XHQgKi9cblx0XHR2YXIgY2xpY2tQYWdlckJpbmQgPSBmdW5jdGlvbihlKXtcblx0XHRcdC8vIGlmIGF1dG8gc2hvdyBpcyBydW5uaW5nLCBzdG9wIGl0XG5cdFx0XHRpZiAoc2xpZGVyLnNldHRpbmdzLmF1dG8pIGVsLnN0b3BBdXRvKCk7XG5cdFx0XHR2YXIgcGFnZXJMaW5rID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuXHRcdFx0aWYocGFnZXJMaW5rLmF0dHIoJ2RhdGEtc2xpZGUtaW5kZXgnKSAhPT0gdW5kZWZpbmVkKXtcblx0XHRcdFx0dmFyIHBhZ2VySW5kZXggPSBwYXJzZUludChwYWdlckxpbmsuYXR0cignZGF0YS1zbGlkZS1pbmRleCcpKTtcblx0XHRcdFx0Ly8gaWYgY2xpY2tlZCBwYWdlciBsaW5rIGlzIG5vdCBhY3RpdmUsIGNvbnRpbnVlIHdpdGggdGhlIGdvVG9TbGlkZSBjYWxsXG5cdFx0XHRcdGlmKHBhZ2VySW5kZXggIT0gc2xpZGVyLmFjdGl2ZS5pbmRleCkgZWwuZ29Ub1NsaWRlKHBhZ2VySW5kZXgpO1xuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogVXBkYXRlcyB0aGUgcGFnZXIgbGlua3Mgd2l0aCBhbiBhY3RpdmUgY2xhc3Ncblx0XHQgKlxuXHRcdCAqIEBwYXJhbSBzbGlkZUluZGV4IChpbnQpXG5cdFx0ICogIC0gaW5kZXggb2Ygc2xpZGUgdG8gbWFrZSBhY3RpdmVcblx0XHQgKi9cblx0XHR2YXIgdXBkYXRlUGFnZXJBY3RpdmUgPSBmdW5jdGlvbihzbGlkZUluZGV4KXtcblx0XHRcdC8vIGlmIFwic2hvcnRcIiBwYWdlciB0eXBlXG5cdFx0XHR2YXIgbGVuID0gc2xpZGVyLmNoaWxkcmVuLmxlbmd0aDsgLy8gbmIgb2YgY2hpbGRyZW5cblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5wYWdlclR5cGUgPT0gJ3Nob3J0Jyl7XG5cdFx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMgPiAxKSB7XG5cdFx0XHRcdFx0bGVuID0gTWF0aC5jZWlsKHNsaWRlci5jaGlsZHJlbi5sZW5ndGgvc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0c2xpZGVyLnBhZ2VyRWwuaHRtbCggKHNsaWRlSW5kZXggKyAxKSArIHNsaWRlci5zZXR0aW5ncy5wYWdlclNob3J0U2VwYXJhdG9yICsgbGVuKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0Ly8gcmVtb3ZlIGFsbCBwYWdlciBhY3RpdmUgY2xhc3Nlc1xuXHRcdFx0c2xpZGVyLnBhZ2VyRWwuZmluZCgnYScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblx0XHRcdC8vIGFwcGx5IHRoZSBhY3RpdmUgY2xhc3MgZm9yIGFsbCBwYWdlcnNcblx0XHRcdHNsaWRlci5wYWdlckVsLmVhY2goZnVuY3Rpb24oaSwgZWwpIHsgJChlbCkuZmluZCgnYScpLmVxKHNsaWRlSW5kZXgpLmFkZENsYXNzKCdhY3RpdmUnKTsgfSk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogUGVyZm9ybXMgbmVlZGVkIGFjdGlvbnMgYWZ0ZXIgYSBzbGlkZSB0cmFuc2l0aW9uXG5cdFx0ICovXG5cdFx0dmFyIHVwZGF0ZUFmdGVyU2xpZGVUcmFuc2l0aW9uID0gZnVuY3Rpb24oKXtcblx0XHRcdC8vIGlmIGluZmludGUgbG9vcCBpcyB0cnVlXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuaW5maW5pdGVMb29wKXtcblx0XHRcdFx0dmFyIHBvc2l0aW9uID0gJyc7XG5cdFx0XHRcdC8vIGZpcnN0IHNsaWRlXG5cdFx0XHRcdGlmKHNsaWRlci5hY3RpdmUuaW5kZXggPT0gMCl7XG5cdFx0XHRcdFx0Ly8gc2V0IHRoZSBuZXcgcG9zaXRpb25cblx0XHRcdFx0XHRwb3NpdGlvbiA9IHNsaWRlci5jaGlsZHJlbi5lcSgwKS5wb3NpdGlvbigpO1xuXHRcdFx0XHQvLyBjYXJvdXNlbCwgbGFzdCBzbGlkZVxuXHRcdFx0XHR9ZWxzZSBpZihzbGlkZXIuYWN0aXZlLmluZGV4ID09IGdldFBhZ2VyUXR5KCkgLSAxICYmIHNsaWRlci5jYXJvdXNlbCl7XG5cdFx0XHRcdFx0cG9zaXRpb24gPSBzbGlkZXIuY2hpbGRyZW4uZXEoKGdldFBhZ2VyUXR5KCkgLSAxKSAqIGdldE1vdmVCeSgpKS5wb3NpdGlvbigpO1xuXHRcdFx0XHQvLyBsYXN0IHNsaWRlXG5cdFx0XHRcdH1lbHNlIGlmKHNsaWRlci5hY3RpdmUuaW5kZXggPT0gc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCAtIDEpe1xuXHRcdFx0XHRcdHBvc2l0aW9uID0gc2xpZGVyLmNoaWxkcmVuLmVxKHNsaWRlci5jaGlsZHJlbi5sZW5ndGggLSAxKS5wb3NpdGlvbigpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmKHBvc2l0aW9uKXtcblx0XHRcdFx0XHRpZiAoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnKSB7IHNldFBvc2l0aW9uUHJvcGVydHkoLXBvc2l0aW9uLmxlZnQsICdyZXNldCcsIDApOyB9XG5cdFx0XHRcdFx0ZWxzZSBpZiAoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ3ZlcnRpY2FsJykgeyBzZXRQb3NpdGlvblByb3BlcnR5KC1wb3NpdGlvbi50b3AsICdyZXNldCcsIDApOyB9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdC8vIGRlY2xhcmUgdGhhdCB0aGUgdHJhbnNpdGlvbiBpcyBjb21wbGV0ZVxuXHRcdFx0c2xpZGVyLndvcmtpbmcgPSBmYWxzZTtcblx0XHRcdC8vIG9uU2xpZGVBZnRlciBjYWxsYmFja1xuXHRcdFx0c2xpZGVyLnNldHRpbmdzLm9uU2xpZGVBZnRlcihzbGlkZXIuY2hpbGRyZW4uZXEoc2xpZGVyLmFjdGl2ZS5pbmRleCksIHNsaWRlci5vbGRJbmRleCwgc2xpZGVyLmFjdGl2ZS5pbmRleCk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogVXBkYXRlcyB0aGUgYXV0byBjb250cm9scyBzdGF0ZSAoZWl0aGVyIGFjdGl2ZSwgb3IgY29tYmluZWQgc3dpdGNoKVxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHN0YXRlIChzdHJpbmcpIFwic3RhcnRcIiwgXCJzdG9wXCJcblx0XHQgKiAgLSB0aGUgbmV3IHN0YXRlIG9mIHRoZSBhdXRvIHNob3dcblx0XHQgKi9cblx0XHR2YXIgdXBkYXRlQXV0b0NvbnRyb2xzID0gZnVuY3Rpb24oc3RhdGUpe1xuXHRcdFx0Ly8gaWYgYXV0b0NvbnRyb2xzQ29tYmluZSBpcyB0cnVlLCByZXBsYWNlIHRoZSBjdXJyZW50IGNvbnRyb2wgd2l0aCB0aGUgbmV3IHN0YXRlXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuYXV0b0NvbnRyb2xzQ29tYmluZSl7XG5cdFx0XHRcdHNsaWRlci5jb250cm9scy5hdXRvRWwuaHRtbChzbGlkZXIuY29udHJvbHNbc3RhdGVdKTtcblx0XHRcdC8vIGlmIGF1dG9Db250cm9sc0NvbWJpbmUgaXMgZmFsc2UsIGFwcGx5IHRoZSBcImFjdGl2ZVwiIGNsYXNzIHRvIHRoZSBhcHByb3ByaWF0ZSBjb250cm9sXG5cdFx0XHR9ZWxzZXtcblx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLmF1dG9FbC5maW5kKCdhJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuXHRcdFx0XHRzbGlkZXIuY29udHJvbHMuYXV0b0VsLmZpbmQoJ2E6bm90KC5ieC0nICsgc3RhdGUgKyAnKScpLmFkZENsYXNzKCdhY3RpdmUnKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBVcGRhdGVzIHRoZSBkaXJlY3Rpb24gY29udHJvbHMgKGNoZWNrcyBpZiBlaXRoZXIgc2hvdWxkIGJlIGhpZGRlbilcblx0XHQgKi9cblx0XHR2YXIgdXBkYXRlRGlyZWN0aW9uQ29udHJvbHMgPSBmdW5jdGlvbigpe1xuXHRcdFx0aWYoZ2V0UGFnZXJRdHkoKSA9PSAxKXtcblx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLnByZXYuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG5cdFx0XHRcdHNsaWRlci5jb250cm9scy5uZXh0LmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuXHRcdFx0fWVsc2UgaWYoIXNsaWRlci5zZXR0aW5ncy5pbmZpbml0ZUxvb3AgJiYgc2xpZGVyLnNldHRpbmdzLmhpZGVDb250cm9sT25FbmQpe1xuXHRcdFx0XHQvLyBpZiBmaXJzdCBzbGlkZVxuXHRcdFx0XHRpZiAoc2xpZGVyLmFjdGl2ZS5pbmRleCA9PSAwKXtcblx0XHRcdFx0XHRzbGlkZXIuY29udHJvbHMucHJldi5hZGRDbGFzcygnZGlzYWJsZWQnKTtcblx0XHRcdFx0XHRzbGlkZXIuY29udHJvbHMubmV4dC5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcblx0XHRcdFx0Ly8gaWYgbGFzdCBzbGlkZVxuXHRcdFx0XHR9ZWxzZSBpZihzbGlkZXIuYWN0aXZlLmluZGV4ID09IGdldFBhZ2VyUXR5KCkgLSAxKXtcblx0XHRcdFx0XHRzbGlkZXIuY29udHJvbHMubmV4dC5hZGRDbGFzcygnZGlzYWJsZWQnKTtcblx0XHRcdFx0XHRzbGlkZXIuY29udHJvbHMucHJldi5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcblx0XHRcdFx0Ly8gaWYgYW55IHNsaWRlIGluIHRoZSBtaWRkbGVcblx0XHRcdFx0fWVsc2V7XG5cdFx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLnByZXYucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XG5cdFx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLm5leHQucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBJbml0aWFsemVzIHRoZSBhdXRvIHByb2Nlc3Ncblx0XHQgKi9cblx0XHR2YXIgaW5pdEF1dG8gPSBmdW5jdGlvbigpe1xuXHRcdFx0Ly8gaWYgYXV0b0RlbGF5IHdhcyBzdXBwbGllZCwgbGF1bmNoIHRoZSBhdXRvIHNob3cgdXNpbmcgYSBzZXRUaW1lb3V0KCkgY2FsbFxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLmF1dG9EZWxheSA+IDApe1xuXHRcdFx0XHR2YXIgdGltZW91dCA9IHNldFRpbWVvdXQoZWwuc3RhcnRBdXRvLCBzbGlkZXIuc2V0dGluZ3MuYXV0b0RlbGF5KTtcblx0XHRcdC8vIGlmIGF1dG9EZWxheSB3YXMgbm90IHN1cHBsaWVkLCBzdGFydCB0aGUgYXV0byBzaG93IG5vcm1hbGx5XG5cdFx0XHR9ZWxzZXtcblx0XHRcdFx0ZWwuc3RhcnRBdXRvKCk7XG5cdFx0XHR9XG5cdFx0XHQvLyBpZiBhdXRvSG92ZXIgaXMgcmVxdWVzdGVkXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuYXV0b0hvdmVyKXtcblx0XHRcdFx0Ly8gb24gZWwgaG92ZXJcblx0XHRcdFx0ZWwuaG92ZXIoZnVuY3Rpb24oKXtcblx0XHRcdFx0XHQvLyBpZiB0aGUgYXV0byBzaG93IGlzIGN1cnJlbnRseSBwbGF5aW5nIChoYXMgYW4gYWN0aXZlIGludGVydmFsKVxuXHRcdFx0XHRcdGlmKHNsaWRlci5pbnRlcnZhbCl7XG5cdFx0XHRcdFx0XHQvLyBzdG9wIHRoZSBhdXRvIHNob3cgYW5kIHBhc3MgdHJ1ZSBhZ3VtZW50IHdoaWNoIHdpbGwgcHJldmVudCBjb250cm9sIHVwZGF0ZVxuXHRcdFx0XHRcdFx0ZWwuc3RvcEF1dG8odHJ1ZSk7XG5cdFx0XHRcdFx0XHQvLyBjcmVhdGUgYSBuZXcgYXV0b1BhdXNlZCB2YWx1ZSB3aGljaCB3aWxsIGJlIHVzZWQgYnkgdGhlIHJlbGF0aXZlIFwibW91c2VvdXRcIiBldmVudFxuXHRcdFx0XHRcdFx0c2xpZGVyLmF1dG9QYXVzZWQgPSB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSwgZnVuY3Rpb24oKXtcblx0XHRcdFx0XHQvLyBpZiB0aGUgYXV0b1BhdXNlZCB2YWx1ZSB3YXMgY3JlYXRlZCBiZSB0aGUgcHJpb3IgXCJtb3VzZW92ZXJcIiBldmVudFxuXHRcdFx0XHRcdGlmKHNsaWRlci5hdXRvUGF1c2VkKXtcblx0XHRcdFx0XHRcdC8vIHN0YXJ0IHRoZSBhdXRvIHNob3cgYW5kIHBhc3MgdHJ1ZSBhZ3VtZW50IHdoaWNoIHdpbGwgcHJldmVudCBjb250cm9sIHVwZGF0ZVxuXHRcdFx0XHRcdFx0ZWwuc3RhcnRBdXRvKHRydWUpO1xuXHRcdFx0XHRcdFx0Ly8gcmVzZXQgdGhlIGF1dG9QYXVzZWQgdmFsdWVcblx0XHRcdFx0XHRcdHNsaWRlci5hdXRvUGF1c2VkID0gbnVsbDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIEluaXRpYWx6ZXMgdGhlIHRpY2tlciBwcm9jZXNzXG5cdFx0ICovXG5cdFx0dmFyIGluaXRUaWNrZXIgPSBmdW5jdGlvbigpe1xuXHRcdFx0dmFyIHN0YXJ0UG9zaXRpb24gPSAwO1xuXHRcdFx0Ly8gaWYgYXV0b0RpcmVjdGlvbiBpcyBcIm5leHRcIiwgYXBwZW5kIGEgY2xvbmUgb2YgdGhlIGVudGlyZSBzbGlkZXJcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5hdXRvRGlyZWN0aW9uID09ICduZXh0Jyl7XG5cdFx0XHRcdGVsLmFwcGVuZChzbGlkZXIuY2hpbGRyZW4uY2xvbmUoKS5hZGRDbGFzcygnYngtY2xvbmUnKSk7XG5cdFx0XHQvLyBpZiBhdXRvRGlyZWN0aW9uIGlzIFwicHJldlwiLCBwcmVwZW5kIGEgY2xvbmUgb2YgdGhlIGVudGlyZSBzbGlkZXIsIGFuZCBzZXQgdGhlIGxlZnQgcG9zaXRpb25cblx0XHRcdH1lbHNle1xuXHRcdFx0XHRlbC5wcmVwZW5kKHNsaWRlci5jaGlsZHJlbi5jbG9uZSgpLmFkZENsYXNzKCdieC1jbG9uZScpKTtcblx0XHRcdFx0dmFyIHBvc2l0aW9uID0gc2xpZGVyLmNoaWxkcmVuLmZpcnN0KCkucG9zaXRpb24oKTtcblx0XHRcdFx0c3RhcnRQb3NpdGlvbiA9IHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICdob3Jpem9udGFsJyA/IC1wb3NpdGlvbi5sZWZ0IDogLXBvc2l0aW9uLnRvcDtcblx0XHRcdH1cblx0XHRcdHNldFBvc2l0aW9uUHJvcGVydHkoc3RhcnRQb3NpdGlvbiwgJ3Jlc2V0JywgMCk7XG5cdFx0XHQvLyBkbyBub3QgYWxsb3cgY29udHJvbHMgaW4gdGlja2VyIG1vZGVcblx0XHRcdHNsaWRlci5zZXR0aW5ncy5wYWdlciA9IGZhbHNlO1xuXHRcdFx0c2xpZGVyLnNldHRpbmdzLmNvbnRyb2xzID0gZmFsc2U7XG5cdFx0XHRzbGlkZXIuc2V0dGluZ3MuYXV0b0NvbnRyb2xzID0gZmFsc2U7XG5cdFx0XHQvLyBpZiBhdXRvSG92ZXIgaXMgcmVxdWVzdGVkXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MudGlja2VySG92ZXIgJiYgIXNsaWRlci51c2luZ0NTUyl7XG5cdFx0XHRcdC8vIG9uIGVsIGhvdmVyXG5cdFx0XHRcdHNsaWRlci52aWV3cG9ydC5ob3ZlcihmdW5jdGlvbigpe1xuXHRcdFx0XHRcdGVsLnN0b3AoKTtcblx0XHRcdFx0fSwgZnVuY3Rpb24oKXtcblx0XHRcdFx0XHQvLyBjYWxjdWxhdGUgdGhlIHRvdGFsIHdpZHRoIG9mIGNoaWxkcmVuICh1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgc3BlZWQgcmF0aW8pXG5cdFx0XHRcdFx0dmFyIHRvdGFsRGltZW5zID0gMDtcblx0XHRcdFx0XHRzbGlkZXIuY2hpbGRyZW4uZWFjaChmdW5jdGlvbihpbmRleCl7XG5cdFx0XHRcdFx0ICB0b3RhbERpbWVucyArPSBzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnaG9yaXpvbnRhbCcgPyAkKHRoaXMpLm91dGVyV2lkdGgodHJ1ZSkgOiAkKHRoaXMpLm91dGVySGVpZ2h0KHRydWUpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdC8vIGNhbGN1bGF0ZSB0aGUgc3BlZWQgcmF0aW8gKHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSBuZXcgc3BlZWQgdG8gZmluaXNoIHRoZSBwYXVzZWQgYW5pbWF0aW9uKVxuXHRcdFx0XHRcdHZhciByYXRpbyA9IHNsaWRlci5zZXR0aW5ncy5zcGVlZCAvIHRvdGFsRGltZW5zO1xuXHRcdFx0XHRcdC8vIGRldGVybWluZSB3aGljaCBwcm9wZXJ0eSB0byB1c2Vcblx0XHRcdFx0XHR2YXIgcHJvcGVydHkgPSBzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnaG9yaXpvbnRhbCcgPyAnbGVmdCcgOiAndG9wJztcblx0XHRcdFx0XHQvLyBjYWxjdWxhdGUgdGhlIG5ldyBzcGVlZFxuXHRcdFx0XHRcdHZhciBuZXdTcGVlZCA9IHJhdGlvICogKHRvdGFsRGltZW5zIC0gKE1hdGguYWJzKHBhcnNlSW50KGVsLmNzcyhwcm9wZXJ0eSkpKSkpO1xuXHRcdFx0XHRcdHRpY2tlckxvb3AobmV3U3BlZWQpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHRcdC8vIHN0YXJ0IHRoZSB0aWNrZXIgbG9vcFxuXHRcdFx0dGlja2VyTG9vcCgpO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFJ1bnMgYSBjb250aW51b3VzIGxvb3AsIG5ld3MgdGlja2VyLXN0eWxlXG5cdFx0ICovXG5cdFx0dmFyIHRpY2tlckxvb3AgPSBmdW5jdGlvbihyZXN1bWVTcGVlZCl7XG5cdFx0XHRzcGVlZCA9IHJlc3VtZVNwZWVkID8gcmVzdW1lU3BlZWQgOiBzbGlkZXIuc2V0dGluZ3Muc3BlZWQ7XG5cdFx0XHR2YXIgcG9zaXRpb24gPSB7bGVmdDogMCwgdG9wOiAwfTtcblx0XHRcdHZhciByZXNldCA9IHtsZWZ0OiAwLCB0b3A6IDB9O1xuXHRcdFx0Ly8gaWYgXCJuZXh0XCIgYW5pbWF0ZSBsZWZ0IHBvc2l0aW9uIHRvIGxhc3QgY2hpbGQsIHRoZW4gcmVzZXQgbGVmdCB0byAwXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuYXV0b0RpcmVjdGlvbiA9PSAnbmV4dCcpe1xuXHRcdFx0XHRwb3NpdGlvbiA9IGVsLmZpbmQoJy5ieC1jbG9uZScpLmZpcnN0KCkucG9zaXRpb24oKTtcblx0XHRcdC8vIGlmIFwicHJldlwiIGFuaW1hdGUgbGVmdCBwb3NpdGlvbiB0byAwLCB0aGVuIHJlc2V0IGxlZnQgdG8gZmlyc3Qgbm9uLWNsb25lIGNoaWxkXG5cdFx0XHR9ZWxzZXtcblx0XHRcdFx0cmVzZXQgPSBzbGlkZXIuY2hpbGRyZW4uZmlyc3QoKS5wb3NpdGlvbigpO1xuXHRcdFx0fVxuXHRcdFx0dmFyIGFuaW1hdGVQcm9wZXJ0eSA9IHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICdob3Jpem9udGFsJyA/IC1wb3NpdGlvbi5sZWZ0IDogLXBvc2l0aW9uLnRvcDtcblx0XHRcdHZhciByZXNldFZhbHVlID0gc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnID8gLXJlc2V0LmxlZnQgOiAtcmVzZXQudG9wO1xuXHRcdFx0dmFyIHBhcmFtcyA9IHtyZXNldFZhbHVlOiByZXNldFZhbHVlfTtcblx0XHRcdHNldFBvc2l0aW9uUHJvcGVydHkoYW5pbWF0ZVByb3BlcnR5LCAndGlja2VyJywgc3BlZWQsIHBhcmFtcyk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogSW5pdGlhbGl6ZXMgdG91Y2ggZXZlbnRzXG5cdFx0ICovXG5cdFx0dmFyIGluaXRUb3VjaCA9IGZ1bmN0aW9uKCl7XG5cdFx0XHQvLyBpbml0aWFsaXplIG9iamVjdCB0byBjb250YWluIGFsbCB0b3VjaCB2YWx1ZXNcblx0XHRcdHNsaWRlci50b3VjaCA9IHtcblx0XHRcdFx0c3RhcnQ6IHt4OiAwLCB5OiAwfSxcblx0XHRcdFx0ZW5kOiB7eDogMCwgeTogMH1cblx0XHRcdH1cblx0XHRcdHNsaWRlci52aWV3cG9ydC5iaW5kKCd0b3VjaHN0YXJ0Jywgb25Ub3VjaFN0YXJ0KTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBFdmVudCBoYW5kbGVyIGZvciBcInRvdWNoc3RhcnRcIlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIGUgKGV2ZW50KVxuXHRcdCAqICAtIERPTSBldmVudCBvYmplY3Rcblx0XHQgKi9cblx0XHR2YXIgb25Ub3VjaFN0YXJ0ID0gZnVuY3Rpb24oZSl7XG5cdFx0XHRpZihzbGlkZXIud29ya2luZyl7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdH1lbHNle1xuXHRcdFx0XHQvLyByZWNvcmQgdGhlIG9yaWdpbmFsIHBvc2l0aW9uIHdoZW4gdG91Y2ggc3RhcnRzXG5cdFx0XHRcdHNsaWRlci50b3VjaC5vcmlnaW5hbFBvcyA9IGVsLnBvc2l0aW9uKCk7XG5cdFx0XHRcdHZhciBvcmlnID0gZS5vcmlnaW5hbEV2ZW50O1xuXHRcdFx0XHQvLyByZWNvcmQgdGhlIHN0YXJ0aW5nIHRvdWNoIHgsIHkgY29vcmRpbmF0ZXNcblx0XHRcdFx0c2xpZGVyLnRvdWNoLnN0YXJ0LnggPSBvcmlnLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYO1xuXHRcdFx0XHRzbGlkZXIudG91Y2guc3RhcnQueSA9IG9yaWcuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVk7XG5cdFx0XHRcdC8vIGJpbmQgYSBcInRvdWNobW92ZVwiIGV2ZW50IHRvIHRoZSB2aWV3cG9ydFxuXHRcdFx0XHRzbGlkZXIudmlld3BvcnQuYmluZCgndG91Y2htb3ZlJywgb25Ub3VjaE1vdmUpO1xuXHRcdFx0XHQvLyBiaW5kIGEgXCJ0b3VjaGVuZFwiIGV2ZW50IHRvIHRoZSB2aWV3cG9ydFxuXHRcdFx0XHRzbGlkZXIudmlld3BvcnQuYmluZCgndG91Y2hlbmQnLCBvblRvdWNoRW5kKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBFdmVudCBoYW5kbGVyIGZvciBcInRvdWNobW92ZVwiXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gZSAoZXZlbnQpXG5cdFx0ICogIC0gRE9NIGV2ZW50IG9iamVjdFxuXHRcdCAqL1xuXHRcdHZhciBvblRvdWNoTW92ZSA9IGZ1bmN0aW9uKGUpe1xuXHRcdFx0dmFyIG9yaWcgPSBlLm9yaWdpbmFsRXZlbnQ7XG5cdFx0XHQvLyBpZiBzY3JvbGxpbmcgb24geSBheGlzLCBkbyBub3QgcHJldmVudCBkZWZhdWx0XG5cdFx0XHR2YXIgeE1vdmVtZW50ID0gTWF0aC5hYnMob3JpZy5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWCAtIHNsaWRlci50b3VjaC5zdGFydC54KTtcblx0XHRcdHZhciB5TW92ZW1lbnQgPSBNYXRoLmFicyhvcmlnLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZIC0gc2xpZGVyLnRvdWNoLnN0YXJ0LnkpO1xuXHRcdFx0Ly8geCBheGlzIHN3aXBlXG5cdFx0XHRpZigoeE1vdmVtZW50ICogMykgPiB5TW92ZW1lbnQgJiYgc2xpZGVyLnNldHRpbmdzLnByZXZlbnREZWZhdWx0U3dpcGVYKXtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0Ly8geSBheGlzIHN3aXBlXG5cdFx0XHR9ZWxzZSBpZigoeU1vdmVtZW50ICogMykgPiB4TW92ZW1lbnQgJiYgc2xpZGVyLnNldHRpbmdzLnByZXZlbnREZWZhdWx0U3dpcGVZKXtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0fVxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm1vZGUgIT0gJ2ZhZGUnICYmIHNsaWRlci5zZXR0aW5ncy5vbmVUb09uZVRvdWNoKXtcblx0XHRcdFx0dmFyIHZhbHVlID0gMDtcblx0XHRcdFx0Ly8gaWYgaG9yaXpvbnRhbCwgZHJhZyBhbG9uZyB4IGF4aXNcblx0XHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnKXtcblx0XHRcdFx0XHR2YXIgY2hhbmdlID0gb3JpZy5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWCAtIHNsaWRlci50b3VjaC5zdGFydC54O1xuXHRcdFx0XHRcdHZhbHVlID0gc2xpZGVyLnRvdWNoLm9yaWdpbmFsUG9zLmxlZnQgKyBjaGFuZ2U7XG5cdFx0XHRcdC8vIGlmIHZlcnRpY2FsLCBkcmFnIGFsb25nIHkgYXhpc1xuXHRcdFx0XHR9ZWxzZXtcblx0XHRcdFx0XHR2YXIgY2hhbmdlID0gb3JpZy5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWSAtIHNsaWRlci50b3VjaC5zdGFydC55O1xuXHRcdFx0XHRcdHZhbHVlID0gc2xpZGVyLnRvdWNoLm9yaWdpbmFsUG9zLnRvcCArIGNoYW5nZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRzZXRQb3NpdGlvblByb3BlcnR5KHZhbHVlLCAncmVzZXQnLCAwKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBFdmVudCBoYW5kbGVyIGZvciBcInRvdWNoZW5kXCJcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSBlIChldmVudClcblx0XHQgKiAgLSBET00gZXZlbnQgb2JqZWN0XG5cdFx0ICovXG5cdFx0dmFyIG9uVG91Y2hFbmQgPSBmdW5jdGlvbihlKXtcblx0XHRcdHNsaWRlci52aWV3cG9ydC51bmJpbmQoJ3RvdWNobW92ZScsIG9uVG91Y2hNb3ZlKTtcblx0XHRcdHZhciBvcmlnID0gZS5vcmlnaW5hbEV2ZW50O1xuXHRcdFx0dmFyIHZhbHVlID0gMDtcblx0XHRcdC8vIHJlY29yZCBlbmQgeCwgeSBwb3NpdGlvbnNcblx0XHRcdHNsaWRlci50b3VjaC5lbmQueCA9IG9yaWcuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVg7XG5cdFx0XHRzbGlkZXIudG91Y2guZW5kLnkgPSBvcmlnLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZO1xuXHRcdFx0Ly8gaWYgZmFkZSBtb2RlLCBjaGVjayBpZiBhYnNvbHV0ZSB4IGRpc3RhbmNlIGNsZWFycyB0aGUgdGhyZXNob2xkXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnZmFkZScpe1xuXHRcdFx0XHR2YXIgZGlzdGFuY2UgPSBNYXRoLmFicyhzbGlkZXIudG91Y2guc3RhcnQueCAtIHNsaWRlci50b3VjaC5lbmQueCk7XG5cdFx0XHRcdGlmKGRpc3RhbmNlID49IHNsaWRlci5zZXR0aW5ncy5zd2lwZVRocmVzaG9sZCl7XG5cdFx0XHRcdFx0c2xpZGVyLnRvdWNoLnN0YXJ0LnggPiBzbGlkZXIudG91Y2guZW5kLnggPyBlbC5nb1RvTmV4dFNsaWRlKCkgOiBlbC5nb1RvUHJldlNsaWRlKCk7XG5cdFx0XHRcdFx0ZWwuc3RvcEF1dG8oKTtcblx0XHRcdFx0fVxuXHRcdFx0Ly8gbm90IGZhZGUgbW9kZVxuXHRcdFx0fWVsc2V7XG5cdFx0XHRcdHZhciBkaXN0YW5jZSA9IDA7XG5cdFx0XHRcdC8vIGNhbGN1bGF0ZSBkaXN0YW5jZSBhbmQgZWwncyBhbmltYXRlIHByb3BlcnR5XG5cdFx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICdob3Jpem9udGFsJyl7XG5cdFx0XHRcdFx0ZGlzdGFuY2UgPSBzbGlkZXIudG91Y2guZW5kLnggLSBzbGlkZXIudG91Y2guc3RhcnQueDtcblx0XHRcdFx0XHR2YWx1ZSA9IHNsaWRlci50b3VjaC5vcmlnaW5hbFBvcy5sZWZ0O1xuXHRcdFx0XHR9ZWxzZXtcblx0XHRcdFx0XHRkaXN0YW5jZSA9IHNsaWRlci50b3VjaC5lbmQueSAtIHNsaWRlci50b3VjaC5zdGFydC55O1xuXHRcdFx0XHRcdHZhbHVlID0gc2xpZGVyLnRvdWNoLm9yaWdpbmFsUG9zLnRvcDtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBpZiBub3QgaW5maW5pdGUgbG9vcCBhbmQgZmlyc3QgLyBsYXN0IHNsaWRlLCBkbyBub3QgYXR0ZW1wdCBhIHNsaWRlIHRyYW5zaXRpb25cblx0XHRcdFx0aWYoIXNsaWRlci5zZXR0aW5ncy5pbmZpbml0ZUxvb3AgJiYgKChzbGlkZXIuYWN0aXZlLmluZGV4ID09IDAgJiYgZGlzdGFuY2UgPiAwKSB8fCAoc2xpZGVyLmFjdGl2ZS5sYXN0ICYmIGRpc3RhbmNlIDwgMCkpKXtcblx0XHRcdFx0XHRzZXRQb3NpdGlvblByb3BlcnR5KHZhbHVlLCAncmVzZXQnLCAyMDApO1xuXHRcdFx0XHR9ZWxzZXtcblx0XHRcdFx0XHQvLyBjaGVjayBpZiBkaXN0YW5jZSBjbGVhcnMgdGhyZXNob2xkXG5cdFx0XHRcdFx0aWYoTWF0aC5hYnMoZGlzdGFuY2UpID49IHNsaWRlci5zZXR0aW5ncy5zd2lwZVRocmVzaG9sZCl7XG5cdFx0XHRcdFx0XHRkaXN0YW5jZSA8IDAgPyBlbC5nb1RvTmV4dFNsaWRlKCkgOiBlbC5nb1RvUHJldlNsaWRlKCk7XG5cdFx0XHRcdFx0XHRlbC5zdG9wQXV0bygpO1xuXHRcdFx0XHRcdH1lbHNle1xuXHRcdFx0XHRcdFx0Ly8gZWwuYW5pbWF0ZShwcm9wZXJ0eSwgMjAwKTtcblx0XHRcdFx0XHRcdHNldFBvc2l0aW9uUHJvcGVydHkodmFsdWUsICdyZXNldCcsIDIwMCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRzbGlkZXIudmlld3BvcnQudW5iaW5kKCd0b3VjaGVuZCcsIG9uVG91Y2hFbmQpO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFdpbmRvdyByZXNpemUgZXZlbnQgY2FsbGJhY2tcblx0XHQgKi9cblx0XHR2YXIgcmVzaXplV2luZG93ID0gZnVuY3Rpb24oZSl7XG5cdFx0XHQvLyBkb24ndCBkbyBhbnl0aGluZyBpZiBzbGlkZXIgaXNuJ3QgaW5pdGlhbGl6ZWQuXG5cdFx0XHRpZighc2xpZGVyLmluaXRpYWxpemVkKSByZXR1cm47XG5cdFx0XHQvLyBnZXQgdGhlIG5ldyB3aW5kb3cgZGltZW5zIChhZ2FpbiwgdGhhbmsgeW91IElFKVxuXHRcdFx0dmFyIHdpbmRvd1dpZHRoTmV3ID0gJCh3aW5kb3cpLndpZHRoKCk7XG5cdFx0XHR2YXIgd2luZG93SGVpZ2h0TmV3ID0gJCh3aW5kb3cpLmhlaWdodCgpO1xuXHRcdFx0Ly8gbWFrZSBzdXJlIHRoYXQgaXQgaXMgYSB0cnVlIHdpbmRvdyByZXNpemVcblx0XHRcdC8vICp3ZSBtdXN0IGNoZWNrIHRoaXMgYmVjYXVzZSBvdXIgZGlub3NhdXIgZnJpZW5kIElFIGZpcmVzIGEgd2luZG93IHJlc2l6ZSBldmVudCB3aGVuIGNlcnRhaW4gRE9NIGVsZW1lbnRzXG5cdFx0XHQvLyBhcmUgcmVzaXplZC4gQ2FuIHlvdSBqdXN0IGRpZSBhbHJlYWR5Pypcblx0XHRcdGlmKHdpbmRvd1dpZHRoICE9IHdpbmRvd1dpZHRoTmV3IHx8IHdpbmRvd0hlaWdodCAhPSB3aW5kb3dIZWlnaHROZXcpe1xuXHRcdFx0XHQvLyBzZXQgdGhlIG5ldyB3aW5kb3cgZGltZW5zXG5cdFx0XHRcdHdpbmRvd1dpZHRoID0gd2luZG93V2lkdGhOZXc7XG5cdFx0XHRcdHdpbmRvd0hlaWdodCA9IHdpbmRvd0hlaWdodE5ldztcblx0XHRcdFx0Ly8gdXBkYXRlIGFsbCBkeW5hbWljIGVsZW1lbnRzXG5cdFx0XHRcdGVsLnJlZHJhd1NsaWRlcigpO1xuXHRcdFx0XHQvLyBDYWxsIHVzZXIgcmVzaXplIGhhbmRsZXJcblx0XHRcdFx0c2xpZGVyLnNldHRpbmdzLm9uU2xpZGVyUmVzaXplLmNhbGwoZWwsIHNsaWRlci5hY3RpdmUuaW5kZXgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdFx0ICogPSBQVUJMSUMgRlVOQ1RJT05TXG5cdFx0ICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0XHQgKi9cblxuXHRcdC8qKlxuXHRcdCAqIFBlcmZvcm1zIHNsaWRlIHRyYW5zaXRpb24gdG8gdGhlIHNwZWNpZmllZCBzbGlkZVxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHNsaWRlSW5kZXggKGludClcblx0XHQgKiAgLSB0aGUgZGVzdGluYXRpb24gc2xpZGUncyBpbmRleCAoemVyby1iYXNlZClcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSBkaXJlY3Rpb24gKHN0cmluZylcblx0XHQgKiAgLSBJTlRFUk5BTCBVU0UgT05MWSAtIHRoZSBkaXJlY3Rpb24gb2YgdHJhdmVsIChcInByZXZcIiAvIFwibmV4dFwiKVxuXHRcdCAqL1xuXHRcdGVsLmdvVG9TbGlkZSA9IGZ1bmN0aW9uKHNsaWRlSW5kZXgsIGRpcmVjdGlvbil7XG5cdFx0XHQvLyBpZiBwbHVnaW4gaXMgY3VycmVudGx5IGluIG1vdGlvbiwgaWdub3JlIHJlcXVlc3Rcblx0XHRcdGlmKHNsaWRlci53b3JraW5nIHx8IHNsaWRlci5hY3RpdmUuaW5kZXggPT0gc2xpZGVJbmRleCkgcmV0dXJuO1xuXHRcdFx0Ly8gZGVjbGFyZSB0aGF0IHBsdWdpbiBpcyBpbiBtb3Rpb25cblx0XHRcdHNsaWRlci53b3JraW5nID0gdHJ1ZTtcblx0XHRcdC8vIHN0b3JlIHRoZSBvbGQgaW5kZXhcblx0XHRcdHNsaWRlci5vbGRJbmRleCA9IHNsaWRlci5hY3RpdmUuaW5kZXg7XG5cdFx0XHQvLyBpZiBzbGlkZUluZGV4IGlzIGxlc3MgdGhhbiB6ZXJvLCBzZXQgYWN0aXZlIGluZGV4IHRvIGxhc3QgY2hpbGQgKHRoaXMgaGFwcGVucyBkdXJpbmcgaW5maW5pdGUgbG9vcClcblx0XHRcdGlmKHNsaWRlSW5kZXggPCAwKXtcblx0XHRcdFx0c2xpZGVyLmFjdGl2ZS5pbmRleCA9IGdldFBhZ2VyUXR5KCkgLSAxO1xuXHRcdFx0Ly8gaWYgc2xpZGVJbmRleCBpcyBncmVhdGVyIHRoYW4gY2hpbGRyZW4gbGVuZ3RoLCBzZXQgYWN0aXZlIGluZGV4IHRvIDAgKHRoaXMgaGFwcGVucyBkdXJpbmcgaW5maW5pdGUgbG9vcClcblx0XHRcdH1lbHNlIGlmKHNsaWRlSW5kZXggPj0gZ2V0UGFnZXJRdHkoKSl7XG5cdFx0XHRcdHNsaWRlci5hY3RpdmUuaW5kZXggPSAwO1xuXHRcdFx0Ly8gc2V0IGFjdGl2ZSBpbmRleCB0byByZXF1ZXN0ZWQgc2xpZGVcblx0XHRcdH1lbHNle1xuXHRcdFx0XHRzbGlkZXIuYWN0aXZlLmluZGV4ID0gc2xpZGVJbmRleDtcblx0XHRcdH1cblx0XHRcdC8vIG9uU2xpZGVCZWZvcmUsIG9uU2xpZGVOZXh0LCBvblNsaWRlUHJldiBjYWxsYmFja3Ncblx0XHRcdHNsaWRlci5zZXR0aW5ncy5vblNsaWRlQmVmb3JlKHNsaWRlci5jaGlsZHJlbi5lcShzbGlkZXIuYWN0aXZlLmluZGV4KSwgc2xpZGVyLm9sZEluZGV4LCBzbGlkZXIuYWN0aXZlLmluZGV4KTtcblx0XHRcdGlmKGRpcmVjdGlvbiA9PSAnbmV4dCcpe1xuXHRcdFx0XHRzbGlkZXIuc2V0dGluZ3Mub25TbGlkZU5leHQoc2xpZGVyLmNoaWxkcmVuLmVxKHNsaWRlci5hY3RpdmUuaW5kZXgpLCBzbGlkZXIub2xkSW5kZXgsIHNsaWRlci5hY3RpdmUuaW5kZXgpO1xuXHRcdFx0fWVsc2UgaWYoZGlyZWN0aW9uID09ICdwcmV2Jyl7XG5cdFx0XHRcdHNsaWRlci5zZXR0aW5ncy5vblNsaWRlUHJldihzbGlkZXIuY2hpbGRyZW4uZXEoc2xpZGVyLmFjdGl2ZS5pbmRleCksIHNsaWRlci5vbGRJbmRleCwgc2xpZGVyLmFjdGl2ZS5pbmRleCk7XG5cdFx0XHR9XG5cdFx0XHQvLyBjaGVjayBpZiBsYXN0IHNsaWRlXG5cdFx0XHRzbGlkZXIuYWN0aXZlLmxhc3QgPSBzbGlkZXIuYWN0aXZlLmluZGV4ID49IGdldFBhZ2VyUXR5KCkgLSAxO1xuXHRcdFx0Ly8gdXBkYXRlIHRoZSBwYWdlciB3aXRoIGFjdGl2ZSBjbGFzc1xuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLnBhZ2VyKSB1cGRhdGVQYWdlckFjdGl2ZShzbGlkZXIuYWN0aXZlLmluZGV4KTtcblx0XHRcdC8vIC8vIGNoZWNrIGZvciBkaXJlY3Rpb24gY29udHJvbCB1cGRhdGVcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5jb250cm9scykgdXBkYXRlRGlyZWN0aW9uQ29udHJvbHMoKTtcblx0XHRcdC8vIGlmIHNsaWRlciBpcyBzZXQgdG8gbW9kZTogXCJmYWRlXCJcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICdmYWRlJyl7XG5cdFx0XHRcdC8vIGlmIGFkYXB0aXZlSGVpZ2h0IGlzIHRydWUgYW5kIG5leHQgaGVpZ2h0IGlzIGRpZmZlcmVudCBmcm9tIGN1cnJlbnQgaGVpZ2h0LCBhbmltYXRlIHRvIHRoZSBuZXcgaGVpZ2h0XG5cdFx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5hZGFwdGl2ZUhlaWdodCAmJiBzbGlkZXIudmlld3BvcnQuaGVpZ2h0KCkgIT0gZ2V0Vmlld3BvcnRIZWlnaHQoKSl7XG5cdFx0XHRcdFx0c2xpZGVyLnZpZXdwb3J0LmFuaW1hdGUoe2hlaWdodDogZ2V0Vmlld3BvcnRIZWlnaHQoKX0sIHNsaWRlci5zZXR0aW5ncy5hZGFwdGl2ZUhlaWdodFNwZWVkKTtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBmYWRlIG91dCB0aGUgdmlzaWJsZSBjaGlsZCBhbmQgcmVzZXQgaXRzIHotaW5kZXggdmFsdWVcblx0XHRcdFx0c2xpZGVyLmNoaWxkcmVuLmZpbHRlcignOnZpc2libGUnKS5mYWRlT3V0KHNsaWRlci5zZXR0aW5ncy5zcGVlZCkuY3NzKHt6SW5kZXg6IDB9KTtcblx0XHRcdFx0Ly8gZmFkZSBpbiB0aGUgbmV3bHkgcmVxdWVzdGVkIHNsaWRlXG5cdFx0XHRcdHNsaWRlci5jaGlsZHJlbi5lcShzbGlkZXIuYWN0aXZlLmluZGV4KS5jc3MoJ3pJbmRleCcsIHNsaWRlci5zZXR0aW5ncy5zbGlkZVpJbmRleCsxKS5mYWRlSW4oc2xpZGVyLnNldHRpbmdzLnNwZWVkLCBmdW5jdGlvbigpe1xuXHRcdFx0XHRcdCQodGhpcykuY3NzKCd6SW5kZXgnLCBzbGlkZXIuc2V0dGluZ3Muc2xpZGVaSW5kZXgpO1xuXHRcdFx0XHRcdHVwZGF0ZUFmdGVyU2xpZGVUcmFuc2l0aW9uKCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0Ly8gc2xpZGVyIG1vZGUgaXMgbm90IFwiZmFkZVwiXG5cdFx0XHR9ZWxzZXtcblx0XHRcdFx0Ly8gaWYgYWRhcHRpdmVIZWlnaHQgaXMgdHJ1ZSBhbmQgbmV4dCBoZWlnaHQgaXMgZGlmZmVyZW50IGZyb20gY3VycmVudCBoZWlnaHQsIGFuaW1hdGUgdG8gdGhlIG5ldyBoZWlnaHRcblx0XHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLmFkYXB0aXZlSGVpZ2h0ICYmIHNsaWRlci52aWV3cG9ydC5oZWlnaHQoKSAhPSBnZXRWaWV3cG9ydEhlaWdodCgpKXtcblx0XHRcdFx0XHRzbGlkZXIudmlld3BvcnQuYW5pbWF0ZSh7aGVpZ2h0OiBnZXRWaWV3cG9ydEhlaWdodCgpfSwgc2xpZGVyLnNldHRpbmdzLmFkYXB0aXZlSGVpZ2h0U3BlZWQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHZhciBtb3ZlQnkgPSAwO1xuXHRcdFx0XHR2YXIgcG9zaXRpb24gPSB7bGVmdDogMCwgdG9wOiAwfTtcblx0XHRcdFx0Ly8gaWYgY2Fyb3VzZWwgYW5kIG5vdCBpbmZpbml0ZSBsb29wXG5cdFx0XHRcdGlmKCFzbGlkZXIuc2V0dGluZ3MuaW5maW5pdGVMb29wICYmIHNsaWRlci5jYXJvdXNlbCAmJiBzbGlkZXIuYWN0aXZlLmxhc3Qpe1xuXHRcdFx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICdob3Jpem9udGFsJyl7XG5cdFx0XHRcdFx0XHQvLyBnZXQgdGhlIGxhc3QgY2hpbGQgcG9zaXRpb25cblx0XHRcdFx0XHRcdHZhciBsYXN0Q2hpbGQgPSBzbGlkZXIuY2hpbGRyZW4uZXEoc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCAtIDEpO1xuXHRcdFx0XHRcdFx0cG9zaXRpb24gPSBsYXN0Q2hpbGQucG9zaXRpb24oKTtcblx0XHRcdFx0XHRcdC8vIGNhbGN1bGF0ZSB0aGUgcG9zaXRpb24gb2YgdGhlIGxhc3Qgc2xpZGVcblx0XHRcdFx0XHRcdG1vdmVCeSA9IHNsaWRlci52aWV3cG9ydC53aWR0aCgpIC0gbGFzdENoaWxkLm91dGVyV2lkdGgoKTtcblx0XHRcdFx0XHR9ZWxzZXtcblx0XHRcdFx0XHRcdC8vIGdldCBsYXN0IHNob3dpbmcgaW5kZXggcG9zaXRpb25cblx0XHRcdFx0XHRcdHZhciBsYXN0U2hvd2luZ0luZGV4ID0gc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCAtIHNsaWRlci5zZXR0aW5ncy5taW5TbGlkZXM7XG5cdFx0XHRcdFx0XHRwb3NpdGlvbiA9IHNsaWRlci5jaGlsZHJlbi5lcShsYXN0U2hvd2luZ0luZGV4KS5wb3NpdGlvbigpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvLyBob3Jpem9udGFsIGNhcm91c2VsLCBnb2luZyBwcmV2aW91cyB3aGlsZSBvbiBmaXJzdCBzbGlkZSAoaW5maW5pdGVMb29wIG1vZGUpXG5cdFx0XHRcdH1lbHNlIGlmKHNsaWRlci5jYXJvdXNlbCAmJiBzbGlkZXIuYWN0aXZlLmxhc3QgJiYgZGlyZWN0aW9uID09ICdwcmV2Jyl7XG5cdFx0XHRcdFx0Ly8gZ2V0IHRoZSBsYXN0IGNoaWxkIHBvc2l0aW9uXG5cdFx0XHRcdFx0dmFyIGVxID0gc2xpZGVyLnNldHRpbmdzLm1vdmVTbGlkZXMgPT0gMSA/IHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMgLSBnZXRNb3ZlQnkoKSA6ICgoZ2V0UGFnZXJRdHkoKSAtIDEpICogZ2V0TW92ZUJ5KCkpIC0gKHNsaWRlci5jaGlsZHJlbi5sZW5ndGggLSBzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzKTtcblx0XHRcdFx0XHR2YXIgbGFzdENoaWxkID0gZWwuY2hpbGRyZW4oJy5ieC1jbG9uZScpLmVxKGVxKTtcblx0XHRcdFx0XHRwb3NpdGlvbiA9IGxhc3RDaGlsZC5wb3NpdGlvbigpO1xuXHRcdFx0XHQvLyBpZiBpbmZpbml0ZSBsb29wIGFuZCBcIk5leHRcIiBpcyBjbGlja2VkIG9uIHRoZSBsYXN0IHNsaWRlXG5cdFx0XHRcdH1lbHNlIGlmKGRpcmVjdGlvbiA9PSAnbmV4dCcgJiYgc2xpZGVyLmFjdGl2ZS5pbmRleCA9PSAwKXtcblx0XHRcdFx0XHQvLyBnZXQgdGhlIGxhc3QgY2xvbmUgcG9zaXRpb25cblx0XHRcdFx0XHRwb3NpdGlvbiA9IGVsLmZpbmQoJz4gLmJ4LWNsb25lJykuZXEoc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcykucG9zaXRpb24oKTtcblx0XHRcdFx0XHRzbGlkZXIuYWN0aXZlLmxhc3QgPSBmYWxzZTtcblx0XHRcdFx0Ly8gbm9ybWFsIG5vbi16ZXJvIHJlcXVlc3RzXG5cdFx0XHRcdH1lbHNlIGlmKHNsaWRlSW5kZXggPj0gMCl7XG5cdFx0XHRcdFx0dmFyIHJlcXVlc3RFbCA9IHNsaWRlSW5kZXggKiBnZXRNb3ZlQnkoKTtcblx0XHRcdFx0XHRwb3NpdGlvbiA9IHNsaWRlci5jaGlsZHJlbi5lcShyZXF1ZXN0RWwpLnBvc2l0aW9uKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvKiBJZiB0aGUgcG9zaXRpb24gZG9lc24ndCBleGlzdFxuXHRcdFx0XHQgKiAoZS5nLiBpZiB5b3UgZGVzdHJveSB0aGUgc2xpZGVyIG9uIGEgbmV4dCBjbGljayksXG5cdFx0XHRcdCAqIGl0IGRvZXNuJ3QgdGhyb3cgYW4gZXJyb3IuXG5cdFx0XHRcdCAqL1xuXHRcdFx0XHRpZiAoXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mKHBvc2l0aW9uKSkge1xuXHRcdFx0XHRcdHZhciB2YWx1ZSA9IHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICdob3Jpem9udGFsJyA/IC0ocG9zaXRpb24ubGVmdCAtIG1vdmVCeSkgOiAtcG9zaXRpb24udG9wO1xuXHRcdFx0XHRcdC8vIHBsdWdpbiB2YWx1ZXMgdG8gYmUgYW5pbWF0ZWRcblx0XHRcdFx0XHRzZXRQb3NpdGlvblByb3BlcnR5KHZhbHVlLCAnc2xpZGUnLCBzbGlkZXIuc2V0dGluZ3Muc3BlZWQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogVHJhbnNpdGlvbnMgdG8gdGhlIG5leHQgc2xpZGUgaW4gdGhlIHNob3dcblx0XHQgKi9cblx0XHRlbC5nb1RvTmV4dFNsaWRlID0gZnVuY3Rpb24oKXtcblx0XHRcdC8vIGlmIGluZmluaXRlTG9vcCBpcyBmYWxzZSBhbmQgbGFzdCBwYWdlIGlzIHNob3dpbmcsIGRpc3JlZ2FyZCBjYWxsXG5cdFx0XHRpZiAoIXNsaWRlci5zZXR0aW5ncy5pbmZpbml0ZUxvb3AgJiYgc2xpZGVyLmFjdGl2ZS5sYXN0KSByZXR1cm47XG5cdFx0XHR2YXIgcGFnZXJJbmRleCA9IHBhcnNlSW50KHNsaWRlci5hY3RpdmUuaW5kZXgpICsgMTtcblx0XHRcdGVsLmdvVG9TbGlkZShwYWdlckluZGV4LCAnbmV4dCcpO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFRyYW5zaXRpb25zIHRvIHRoZSBwcmV2IHNsaWRlIGluIHRoZSBzaG93XG5cdFx0ICovXG5cdFx0ZWwuZ29Ub1ByZXZTbGlkZSA9IGZ1bmN0aW9uKCl7XG5cdFx0XHQvLyBpZiBpbmZpbml0ZUxvb3AgaXMgZmFsc2UgYW5kIGxhc3QgcGFnZSBpcyBzaG93aW5nLCBkaXNyZWdhcmQgY2FsbFxuXHRcdFx0aWYgKCFzbGlkZXIuc2V0dGluZ3MuaW5maW5pdGVMb29wICYmIHNsaWRlci5hY3RpdmUuaW5kZXggPT0gMCkgcmV0dXJuO1xuXHRcdFx0dmFyIHBhZ2VySW5kZXggPSBwYXJzZUludChzbGlkZXIuYWN0aXZlLmluZGV4KSAtIDE7XG5cdFx0XHRlbC5nb1RvU2xpZGUocGFnZXJJbmRleCwgJ3ByZXYnKTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBTdGFydHMgdGhlIGF1dG8gc2hvd1xuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHByZXZlbnRDb250cm9sVXBkYXRlIChib29sZWFuKVxuXHRcdCAqICAtIGlmIHRydWUsIGF1dG8gY29udHJvbHMgc3RhdGUgd2lsbCBub3QgYmUgdXBkYXRlZFxuXHRcdCAqL1xuXHRcdGVsLnN0YXJ0QXV0byA9IGZ1bmN0aW9uKHByZXZlbnRDb250cm9sVXBkYXRlKXtcblx0XHRcdC8vIGlmIGFuIGludGVydmFsIGFscmVhZHkgZXhpc3RzLCBkaXNyZWdhcmQgY2FsbFxuXHRcdFx0aWYoc2xpZGVyLmludGVydmFsKSByZXR1cm47XG5cdFx0XHQvLyBjcmVhdGUgYW4gaW50ZXJ2YWxcblx0XHRcdHNsaWRlci5pbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7XG5cdFx0XHRcdHNsaWRlci5zZXR0aW5ncy5hdXRvRGlyZWN0aW9uID09ICduZXh0JyA/IGVsLmdvVG9OZXh0U2xpZGUoKSA6IGVsLmdvVG9QcmV2U2xpZGUoKTtcblx0XHRcdH0sIHNsaWRlci5zZXR0aW5ncy5wYXVzZSk7XG5cdFx0XHQvLyBpZiBhdXRvIGNvbnRyb2xzIGFyZSBkaXNwbGF5ZWQgYW5kIHByZXZlbnRDb250cm9sVXBkYXRlIGlzIG5vdCB0cnVlXG5cdFx0XHRpZiAoc2xpZGVyLnNldHRpbmdzLmF1dG9Db250cm9scyAmJiBwcmV2ZW50Q29udHJvbFVwZGF0ZSAhPSB0cnVlKSB1cGRhdGVBdXRvQ29udHJvbHMoJ3N0b3AnKTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBTdG9wcyB0aGUgYXV0byBzaG93XG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gcHJldmVudENvbnRyb2xVcGRhdGUgKGJvb2xlYW4pXG5cdFx0ICogIC0gaWYgdHJ1ZSwgYXV0byBjb250cm9scyBzdGF0ZSB3aWxsIG5vdCBiZSB1cGRhdGVkXG5cdFx0ICovXG5cdFx0ZWwuc3RvcEF1dG8gPSBmdW5jdGlvbihwcmV2ZW50Q29udHJvbFVwZGF0ZSl7XG5cdFx0XHQvLyBpZiBubyBpbnRlcnZhbCBleGlzdHMsIGRpc3JlZ2FyZCBjYWxsXG5cdFx0XHRpZighc2xpZGVyLmludGVydmFsKSByZXR1cm47XG5cdFx0XHQvLyBjbGVhciB0aGUgaW50ZXJ2YWxcblx0XHRcdGNsZWFySW50ZXJ2YWwoc2xpZGVyLmludGVydmFsKTtcblx0XHRcdHNsaWRlci5pbnRlcnZhbCA9IG51bGw7XG5cdFx0XHQvLyBpZiBhdXRvIGNvbnRyb2xzIGFyZSBkaXNwbGF5ZWQgYW5kIHByZXZlbnRDb250cm9sVXBkYXRlIGlzIG5vdCB0cnVlXG5cdFx0XHRpZiAoc2xpZGVyLnNldHRpbmdzLmF1dG9Db250cm9scyAmJiBwcmV2ZW50Q29udHJvbFVwZGF0ZSAhPSB0cnVlKSB1cGRhdGVBdXRvQ29udHJvbHMoJ3N0YXJ0Jyk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyBjdXJyZW50IHNsaWRlIGluZGV4ICh6ZXJvLWJhc2VkKVxuXHRcdCAqL1xuXHRcdGVsLmdldEN1cnJlbnRTbGlkZSA9IGZ1bmN0aW9uKCl7XG5cdFx0XHRyZXR1cm4gc2xpZGVyLmFjdGl2ZS5pbmRleDtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIGN1cnJlbnQgc2xpZGUgZWxlbWVudFxuXHRcdCAqL1xuXHRcdGVsLmdldEN1cnJlbnRTbGlkZUVsZW1lbnQgPSBmdW5jdGlvbigpe1xuXHRcdFx0cmV0dXJuIHNsaWRlci5jaGlsZHJlbi5lcShzbGlkZXIuYWN0aXZlLmluZGV4KTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIG51bWJlciBvZiBzbGlkZXMgaW4gc2hvd1xuXHRcdCAqL1xuXHRcdGVsLmdldFNsaWRlQ291bnQgPSBmdW5jdGlvbigpe1xuXHRcdFx0cmV0dXJuIHNsaWRlci5jaGlsZHJlbi5sZW5ndGg7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogVXBkYXRlIGFsbCBkeW5hbWljIHNsaWRlciBlbGVtZW50c1xuXHRcdCAqL1xuXHRcdGVsLnJlZHJhd1NsaWRlciA9IGZ1bmN0aW9uKCl7XG5cdFx0XHQvLyByZXNpemUgYWxsIGNoaWxkcmVuIGluIHJhdGlvIHRvIG5ldyBzY3JlZW4gc2l6ZVxuXHRcdFx0c2xpZGVyLmNoaWxkcmVuLmFkZChlbC5maW5kKCcuYngtY2xvbmUnKSkud2lkdGgoZ2V0U2xpZGVXaWR0aCgpKTtcblx0XHRcdC8vIGFkanVzdCB0aGUgaGVpZ2h0XG5cdFx0XHRzbGlkZXIudmlld3BvcnQuY3NzKCdoZWlnaHQnLCBnZXRWaWV3cG9ydEhlaWdodCgpKTtcblx0XHRcdC8vIHVwZGF0ZSB0aGUgc2xpZGUgcG9zaXRpb25cblx0XHRcdGlmKCFzbGlkZXIuc2V0dGluZ3MudGlja2VyKSBzZXRTbGlkZVBvc2l0aW9uKCk7XG5cdFx0XHQvLyBpZiBhY3RpdmUubGFzdCB3YXMgdHJ1ZSBiZWZvcmUgdGhlIHNjcmVlbiByZXNpemUsIHdlIHdhbnRcblx0XHRcdC8vIHRvIGtlZXAgaXQgbGFzdCBubyBtYXR0ZXIgd2hhdCBzY3JlZW4gc2l6ZSB3ZSBlbmQgb25cblx0XHRcdGlmIChzbGlkZXIuYWN0aXZlLmxhc3QpIHNsaWRlci5hY3RpdmUuaW5kZXggPSBnZXRQYWdlclF0eSgpIC0gMTtcblx0XHRcdC8vIGlmIHRoZSBhY3RpdmUgaW5kZXggKHBhZ2UpIG5vIGxvbmdlciBleGlzdHMgZHVlIHRvIHRoZSByZXNpemUsIHNpbXBseSBzZXQgdGhlIGluZGV4IGFzIGxhc3Rcblx0XHRcdGlmIChzbGlkZXIuYWN0aXZlLmluZGV4ID49IGdldFBhZ2VyUXR5KCkpIHNsaWRlci5hY3RpdmUubGFzdCA9IHRydWU7XG5cdFx0XHQvLyBpZiBhIHBhZ2VyIGlzIGJlaW5nIGRpc3BsYXllZCBhbmQgYSBjdXN0b20gcGFnZXIgaXMgbm90IGJlaW5nIHVzZWQsIHVwZGF0ZSBpdFxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLnBhZ2VyICYmICFzbGlkZXIuc2V0dGluZ3MucGFnZXJDdXN0b20pe1xuXHRcdFx0XHRwb3B1bGF0ZVBhZ2VyKCk7XG5cdFx0XHRcdHVwZGF0ZVBhZ2VyQWN0aXZlKHNsaWRlci5hY3RpdmUuaW5kZXgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIERlc3Ryb3kgdGhlIGN1cnJlbnQgaW5zdGFuY2Ugb2YgdGhlIHNsaWRlciAocmV2ZXJ0IGV2ZXJ5dGhpbmcgYmFjayB0byBvcmlnaW5hbCBzdGF0ZSlcblx0XHQgKi9cblx0XHRlbC5kZXN0cm95U2xpZGVyID0gZnVuY3Rpb24oKXtcblx0XHRcdC8vIGRvbid0IGRvIGFueXRoaW5nIGlmIHNsaWRlciBoYXMgYWxyZWFkeSBiZWVuIGRlc3Ryb3llZFxuXHRcdFx0aWYoIXNsaWRlci5pbml0aWFsaXplZCkgcmV0dXJuO1xuXHRcdFx0c2xpZGVyLmluaXRpYWxpemVkID0gZmFsc2U7XG5cdFx0XHQkKCcuYngtY2xvbmUnLCB0aGlzKS5yZW1vdmUoKTtcblx0XHRcdHNsaWRlci5jaGlsZHJlbi5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQkKHRoaXMpLmRhdGEoXCJvcmlnU3R5bGVcIikgIT0gdW5kZWZpbmVkID8gJCh0aGlzKS5hdHRyKFwic3R5bGVcIiwgJCh0aGlzKS5kYXRhKFwib3JpZ1N0eWxlXCIpKSA6ICQodGhpcykucmVtb3ZlQXR0cignc3R5bGUnKTtcblx0XHRcdH0pO1xuXHRcdFx0JCh0aGlzKS5kYXRhKFwib3JpZ1N0eWxlXCIpICE9IHVuZGVmaW5lZCA/IHRoaXMuYXR0cihcInN0eWxlXCIsICQodGhpcykuZGF0YShcIm9yaWdTdHlsZVwiKSkgOiAkKHRoaXMpLnJlbW92ZUF0dHIoJ3N0eWxlJyk7XG5cdFx0XHQkKHRoaXMpLnVud3JhcCgpLnVud3JhcCgpO1xuXHRcdFx0aWYoc2xpZGVyLmNvbnRyb2xzLmVsKSBzbGlkZXIuY29udHJvbHMuZWwucmVtb3ZlKCk7XG5cdFx0XHRpZihzbGlkZXIuY29udHJvbHMubmV4dCkgc2xpZGVyLmNvbnRyb2xzLm5leHQucmVtb3ZlKCk7XG5cdFx0XHRpZihzbGlkZXIuY29udHJvbHMucHJldikgc2xpZGVyLmNvbnRyb2xzLnByZXYucmVtb3ZlKCk7XG5cdFx0XHRpZihzbGlkZXIucGFnZXJFbCAmJiBzbGlkZXIuc2V0dGluZ3MuY29udHJvbHMpIHNsaWRlci5wYWdlckVsLnJlbW92ZSgpO1xuXHRcdFx0JCgnLmJ4LWNhcHRpb24nLCB0aGlzKS5yZW1vdmUoKTtcblx0XHRcdGlmKHNsaWRlci5jb250cm9scy5hdXRvRWwpIHNsaWRlci5jb250cm9scy5hdXRvRWwucmVtb3ZlKCk7XG5cdFx0XHRjbGVhckludGVydmFsKHNsaWRlci5pbnRlcnZhbCk7XG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MucmVzcG9uc2l2ZSkgJCh3aW5kb3cpLnVuYmluZCgncmVzaXplJywgcmVzaXplV2luZG93KTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBSZWxvYWQgdGhlIHNsaWRlciAocmV2ZXJ0IGFsbCBET00gY2hhbmdlcywgYW5kIHJlLWluaXRpYWxpemUpXG5cdFx0ICovXG5cdFx0ZWwucmVsb2FkU2xpZGVyID0gZnVuY3Rpb24oc2V0dGluZ3Mpe1xuXHRcdFx0aWYgKHNldHRpbmdzICE9IHVuZGVmaW5lZCkgb3B0aW9ucyA9IHNldHRpbmdzO1xuXHRcdFx0ZWwuZGVzdHJveVNsaWRlcigpO1xuXHRcdFx0aW5pdCgpO1xuXHRcdH1cblxuXHRcdGluaXQoKTtcblxuXHRcdC8vIHJldHVybnMgdGhlIGN1cnJlbnQgalF1ZXJ5IG9iamVjdFxuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cbn0pKGpRdWVyeSk7XG4iLCIvKipcbiAqIGpRdWVyeSBNYXNvbnJ5IHYyLjEuMDhcbiAqIEEgZHluYW1pYyBsYXlvdXQgcGx1Z2luIGZvciBqUXVlcnlcbiAqIFRoZSBmbGlwLXNpZGUgb2YgQ1NTIEZsb2F0c1xuICogaHR0cDovL21hc29ucnkuZGVzYW5kcm8uY29tXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogQ29weXJpZ2h0IDIwMTIgRGF2aWQgRGVTYW5kcm9cbiAqL1xuKGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj10LmV2ZW50LGk7ci5zcGVjaWFsLnNtYXJ0cmVzaXplPXtzZXR1cDpmdW5jdGlvbigpe3QodGhpcykuYmluZChcInJlc2l6ZVwiLHIuc3BlY2lhbC5zbWFydHJlc2l6ZS5oYW5kbGVyKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt0KHRoaXMpLnVuYmluZChcInJlc2l6ZVwiLHIuc3BlY2lhbC5zbWFydHJlc2l6ZS5oYW5kbGVyKX0saGFuZGxlcjpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMscz1hcmd1bWVudHM7ZS50eXBlPVwic21hcnRyZXNpemVcIixpJiZjbGVhclRpbWVvdXQoaSksaT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ci5kaXNwYXRjaC5hcHBseShuLHMpfSx0PT09XCJleGVjQXNhcFwiPzA6MTAwKX19LHQuZm4uc21hcnRyZXNpemU9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/dGhpcy5iaW5kKFwic21hcnRyZXNpemVcIixlKTp0aGlzLnRyaWdnZXIoXCJzbWFydHJlc2l6ZVwiLFtcImV4ZWNBc2FwXCJdKX0sdC5NYXNvbj1mdW5jdGlvbihlLG4pe3RoaXMuZWxlbWVudD10KG4pLHRoaXMuX2NyZWF0ZShlKSx0aGlzLl9pbml0KCl9LHQuTWFzb24uc2V0dGluZ3M9e2lzUmVzaXphYmxlOiEwLGlzQW5pbWF0ZWQ6ITEsYW5pbWF0aW9uT3B0aW9uczp7cXVldWU6ITEsZHVyYXRpb246NTAwfSxndXR0ZXJXaWR0aDowLGlzUlRMOiExLGlzRml0V2lkdGg6ITEsY29udGFpbmVyU3R5bGU6e3Bvc2l0aW9uOlwicmVsYXRpdmVcIn19LHQuTWFzb24ucHJvdG90eXBlPXtfZmlsdGVyRmluZEJyaWNrczpmdW5jdGlvbihlKXt2YXIgdD10aGlzLm9wdGlvbnMuaXRlbVNlbGVjdG9yO3JldHVybiB0P2UuZmlsdGVyKHQpLmFkZChlLmZpbmQodCkpOmV9LF9nZXRCcmlja3M6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZmlsdGVyRmluZEJyaWNrcyhlKS5jc3Moe3Bvc2l0aW9uOlwiYWJzb2x1dGVcIn0pLmFkZENsYXNzKFwibWFzb25yeS1icmlja1wiKTtyZXR1cm4gdH0sX2NyZWF0ZTpmdW5jdGlvbihuKXt0aGlzLm9wdGlvbnM9dC5leHRlbmQoITAse30sdC5NYXNvbi5zZXR0aW5ncyxuKSx0aGlzLnN0eWxlUXVldWU9W107dmFyIHI9dGhpcy5lbGVtZW50WzBdLnN0eWxlO3RoaXMub3JpZ2luYWxTdHlsZT17aGVpZ2h0OnIuaGVpZ2h0fHxcIlwifTt2YXIgaT10aGlzLm9wdGlvbnMuY29udGFpbmVyU3R5bGU7Zm9yKHZhciBzIGluIGkpdGhpcy5vcmlnaW5hbFN0eWxlW3NdPXJbc118fFwiXCI7dGhpcy5lbGVtZW50LmNzcyhpKSx0aGlzLmhvcml6b250YWxEaXJlY3Rpb249dGhpcy5vcHRpb25zLmlzUlRMP1wicmlnaHRcIjpcImxlZnRcIjt2YXIgbz10aGlzLmVsZW1lbnQuY3NzKFwicGFkZGluZy1cIit0aGlzLmhvcml6b250YWxEaXJlY3Rpb24pLHU9dGhpcy5lbGVtZW50LmNzcyhcInBhZGRpbmctdG9wXCIpO3RoaXMub2Zmc2V0PXt4Om8/cGFyc2VJbnQobywxMCk6MCx5OnU/cGFyc2VJbnQodSwxMCk6MH0sdGhpcy5pc0ZsdWlkPXRoaXMub3B0aW9ucy5jb2x1bW5XaWR0aCYmdHlwZW9mIHRoaXMub3B0aW9ucy5jb2x1bW5XaWR0aD09XCJmdW5jdGlvblwiO3ZhciBhPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2EuZWxlbWVudC5hZGRDbGFzcyhcIm1hc29ucnlcIil9LDApLHRoaXMub3B0aW9ucy5pc1Jlc2l6YWJsZSYmdChlKS5iaW5kKFwic21hcnRyZXNpemUubWFzb25yeVwiLGZ1bmN0aW9uKCl7YS5yZXNpemUoKX0pLHRoaXMucmVsb2FkSXRlbXMoKX0sX2luaXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZ2V0Q29sdW1ucygpLHRoaXMuX3JlTGF5b3V0KGUpfSxvcHRpb246ZnVuY3Rpb24oZSxuKXt0LmlzUGxhaW5PYmplY3QoZSkmJih0aGlzLm9wdGlvbnM9dC5leHRlbmQoITAsdGhpcy5vcHRpb25zLGUpKX0sbGF5b3V0OmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtuPHI7bisrKXRoaXMuX3BsYWNlQnJpY2soZVtuXSk7dmFyIGk9e307aS5oZWlnaHQ9TWF0aC5tYXguYXBwbHkoTWF0aCx0aGlzLmNvbFlzKTtpZih0aGlzLm9wdGlvbnMuaXNGaXRXaWR0aCl7dmFyIHM9MDtuPXRoaXMuY29sczt3aGlsZSgtLW4pe2lmKHRoaXMuY29sWXNbbl0hPT0wKWJyZWFrO3MrK31pLndpZHRoPSh0aGlzLmNvbHMtcykqdGhpcy5jb2x1bW5XaWR0aC10aGlzLm9wdGlvbnMuZ3V0dGVyV2lkdGh9dGhpcy5zdHlsZVF1ZXVlLnB1c2goeyRlbDp0aGlzLmVsZW1lbnQsc3R5bGU6aX0pO3ZhciBvPXRoaXMuaXNMYWlkT3V0P3RoaXMub3B0aW9ucy5pc0FuaW1hdGVkP1wiYW5pbWF0ZVwiOlwiY3NzXCI6XCJjc3NcIix1PXRoaXMub3B0aW9ucy5hbmltYXRpb25PcHRpb25zLGE7Zm9yKG49MCxyPXRoaXMuc3R5bGVRdWV1ZS5sZW5ndGg7bjxyO24rKylhPXRoaXMuc3R5bGVRdWV1ZVtuXSxhLiRlbFtvXShhLnN0eWxlLHUpO3RoaXMuc3R5bGVRdWV1ZT1bXSx0JiZ0LmNhbGwoZSksdGhpcy5pc0xhaWRPdXQ9ITB9LF9nZXRDb2x1bW5zOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcHRpb25zLmlzRml0V2lkdGg/dGhpcy5lbGVtZW50LnBhcmVudCgpOnRoaXMuZWxlbWVudCx0PWUud2lkdGgoKTt0aGlzLmNvbHVtbldpZHRoPXRoaXMuaXNGbHVpZD90aGlzLm9wdGlvbnMuY29sdW1uV2lkdGgodCk6dGhpcy5vcHRpb25zLmNvbHVtbldpZHRofHx0aGlzLiRicmlja3Mub3V0ZXJXaWR0aCghMCl8fHQsdGhpcy5jb2x1bW5XaWR0aCs9dGhpcy5vcHRpb25zLmd1dHRlcldpZHRoLHRoaXMuY29scz1NYXRoLmZsb29yKCh0K3RoaXMub3B0aW9ucy5ndXR0ZXJXaWR0aCkvdGhpcy5jb2x1bW5XaWR0aCksdGhpcy5jb2xzPU1hdGgubWF4KHRoaXMuY29scywxKX0sX3BsYWNlQnJpY2s6ZnVuY3Rpb24oZSl7dmFyIG49dChlKSxyLGkscyxvLHU7cj1NYXRoLmNlaWwobi5vdXRlcldpZHRoKCEwKS90aGlzLmNvbHVtbldpZHRoKSxyPU1hdGgubWluKHIsdGhpcy5jb2xzKTtpZihyPT09MSlzPXRoaXMuY29sWXM7ZWxzZXtpPXRoaXMuY29scysxLXIscz1bXTtmb3IodT0wO3U8aTt1Kyspbz10aGlzLmNvbFlzLnNsaWNlKHUsdStyKSxzW3VdPU1hdGgubWF4LmFwcGx5KE1hdGgsbyl9dmFyIGE9TWF0aC5taW4uYXBwbHkoTWF0aCxzKSxmPTA7Zm9yKHZhciBsPTAsYz1zLmxlbmd0aDtsPGM7bCsrKWlmKHNbbF09PT1hKXtmPWw7YnJlYWt9dmFyIGg9e3RvcDphK3RoaXMub2Zmc2V0Lnl9O2hbdGhpcy5ob3Jpem9udGFsRGlyZWN0aW9uXT10aGlzLmNvbHVtbldpZHRoKmYrdGhpcy5vZmZzZXQueCx0aGlzLnN0eWxlUXVldWUucHVzaCh7JGVsOm4sc3R5bGU6aH0pO3ZhciBwPWErbi5vdXRlckhlaWdodCghMCksZD10aGlzLmNvbHMrMS1jO2ZvcihsPTA7bDxkO2wrKyl0aGlzLmNvbFlzW2YrbF09cH0scmVzaXplOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jb2xzO3RoaXMuX2dldENvbHVtbnMoKSwodGhpcy5pc0ZsdWlkfHx0aGlzLmNvbHMhPT1lKSYmdGhpcy5fcmVMYXlvdXQoKX0sX3JlTGF5b3V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY29sczt0aGlzLmNvbFlzPVtdO3doaWxlKHQtLSl0aGlzLmNvbFlzLnB1c2goMCk7dGhpcy5sYXlvdXQodGhpcy4kYnJpY2tzLGUpfSxyZWxvYWRJdGVtczpmdW5jdGlvbigpe3RoaXMuJGJyaWNrcz10aGlzLl9nZXRCcmlja3ModGhpcy5lbGVtZW50LmNoaWxkcmVuKCkpfSxyZWxvYWQ6ZnVuY3Rpb24oZSl7dGhpcy5yZWxvYWRJdGVtcygpLHRoaXMuX2luaXQoZSl9LGFwcGVuZGVkOmZ1bmN0aW9uKGUsdCxuKXtpZih0KXt0aGlzLl9maWx0ZXJGaW5kQnJpY2tzKGUpLmNzcyh7dG9wOnRoaXMuZWxlbWVudC5oZWlnaHQoKX0pO3ZhciByPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe3IuX2FwcGVuZGVkKGUsbil9LDEpfWVsc2UgdGhpcy5fYXBwZW5kZWQoZSxuKX0sX2FwcGVuZGVkOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5fZ2V0QnJpY2tzKGUpO3RoaXMuJGJyaWNrcz10aGlzLiRicmlja3MuYWRkKG4pLHRoaXMubGF5b3V0KG4sdCl9LHJlbW92ZTpmdW5jdGlvbihlKXt0aGlzLiRicmlja3M9dGhpcy4kYnJpY2tzLm5vdChlKSxlLnJlbW92ZSgpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy4kYnJpY2tzLnJlbW92ZUNsYXNzKFwibWFzb25yeS1icmlja1wiKS5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5zdHlsZS5wb3NpdGlvbj1cIlwiLHRoaXMuc3R5bGUudG9wPVwiXCIsdGhpcy5zdHlsZS5sZWZ0PVwiXCJ9KTt2YXIgbj10aGlzLmVsZW1lbnRbMF0uc3R5bGU7Zm9yKHZhciByIGluIHRoaXMub3JpZ2luYWxTdHlsZSluW3JdPXRoaXMub3JpZ2luYWxTdHlsZVtyXTt0aGlzLmVsZW1lbnQudW5iaW5kKFwiLm1hc29ucnlcIikucmVtb3ZlQ2xhc3MoXCJtYXNvbnJ5XCIpLnJlbW92ZURhdGEoXCJtYXNvbnJ5XCIpLHQoZSkudW5iaW5kKFwiLm1hc29ucnlcIil9fSx0LmZuLmltYWdlc0xvYWRlZD1mdW5jdGlvbihlKXtmdW5jdGlvbiB1KCl7ZS5jYWxsKG4scil9ZnVuY3Rpb24gYShlKXt2YXIgbj1lLnRhcmdldDtuLnNyYyE9PXMmJnQuaW5BcnJheShuLG8pPT09LTEmJihvLnB1c2gobiksLS1pPD0wJiYoc2V0VGltZW91dCh1KSxyLnVuYmluZChcIi5pbWFnZXNMb2FkZWRcIixhKSkpfXZhciBuPXRoaXMscj1uLmZpbmQoXCJpbWdcIikuYWRkKG4uZmlsdGVyKFwiaW1nXCIpKSxpPXIubGVuZ3RoLHM9XCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFBQUFBUC8vL3l3QUFBQUFBUUFCQUFBQ0FVd0FPdz09XCIsbz1bXTtyZXR1cm4gaXx8dSgpLHIuYmluZChcImxvYWQuaW1hZ2VzTG9hZGVkIGVycm9yLmltYWdlc0xvYWRlZFwiLGEpLmVhY2goZnVuY3Rpb24oKXt2YXIgZT10aGlzLnNyYzt0aGlzLnNyYz1zLHRoaXMuc3JjPWV9KSxufTt2YXIgcz1mdW5jdGlvbih0KXtlLmNvbnNvbGUmJmUuY29uc29sZS5lcnJvcih0KX07dC5mbi5tYXNvbnJ5PWZ1bmN0aW9uKGUpe2lmKHR5cGVvZiBlPT1cInN0cmluZ1wiKXt2YXIgbj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHI9dC5kYXRhKHRoaXMsXCJtYXNvbnJ5XCIpO2lmKCFyKXtzKFwiY2Fubm90IGNhbGwgbWV0aG9kcyBvbiBtYXNvbnJ5IHByaW9yIHRvIGluaXRpYWxpemF0aW9uOyBhdHRlbXB0ZWQgdG8gY2FsbCBtZXRob2QgJ1wiK2UrXCInXCIpO3JldHVybn1pZighdC5pc0Z1bmN0aW9uKHJbZV0pfHxlLmNoYXJBdCgwKT09PVwiX1wiKXtzKFwibm8gc3VjaCBtZXRob2QgJ1wiK2UrXCInIGZvciBtYXNvbnJ5IGluc3RhbmNlXCIpO3JldHVybn1yW2VdLmFwcGx5KHIsbil9KX1lbHNlIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBuPXQuZGF0YSh0aGlzLFwibWFzb25yeVwiKTtuPyhuLm9wdGlvbihlfHx7fSksbi5faW5pdCgpKTp0LmRhdGEodGhpcyxcIm1hc29ucnlcIixuZXcgdC5NYXNvbihlLHRoaXMpKX0pO3JldHVybiB0aGlzfX0pKHdpbmRvdyxqUXVlcnkpOyIsIi8qXG4gKiAgalF1ZXJ5IE93bENhcm91c2VsIHYxLjMuM1xuICpcbiAqICBDb3B5cmlnaHQgKGMpIDIwMTMgQmFydG9zeiBXb2pjaWVjaG93c2tpXG4gKiAgaHR0cDovL3d3dy5vd2xncmFwaGljLmNvbS9vd2xjYXJvdXNlbC9cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgTUlUXG4gKlxuICovXG5cbi8qSlMgTGludCBoZWxwZXJzOiAqL1xuLypnbG9iYWwgZHJhZ01vdmU6IGZhbHNlLCBkcmFnRW5kOiBmYWxzZSwgJCwgalF1ZXJ5LCBhbGVydCwgd2luZG93LCBkb2N1bWVudCAqL1xuLypqc2xpbnQgbm9tZW46IHRydWUsIGNvbnRpbnVlOnRydWUgKi9cblxuaWYgKHR5cGVvZiBPYmplY3QuY3JlYXRlICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBPYmplY3QuY3JlYXRlID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICBmdW5jdGlvbiBGKCkge31cbiAgICAgICAgRi5wcm90b3R5cGUgPSBvYmo7XG4gICAgICAgIHJldHVybiBuZXcgRigpO1xuICAgIH07XG59XG4oZnVuY3Rpb24gKCQsIHdpbmRvdywgZG9jdW1lbnQpIHtcblxuICAgIHZhciBDYXJvdXNlbCA9IHtcbiAgICAgICAgaW5pdCA6IGZ1bmN0aW9uIChvcHRpb25zLCBlbCkge1xuICAgICAgICAgICAgdmFyIGJhc2UgPSB0aGlzO1xuXG4gICAgICAgICAgICBiYXNlLiRlbGVtID0gJChlbCk7XG4gICAgICAgICAgICBiYXNlLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgJC5mbi5vd2xDYXJvdXNlbC5vcHRpb25zLCBiYXNlLiRlbGVtLmRhdGEoKSwgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIGJhc2UudXNlck9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICAgICAgYmFzZS5sb2FkQ29udGVudCgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGxvYWRDb250ZW50IDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGJhc2UgPSB0aGlzLCB1cmw7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldERhdGEoZGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciBpLCBjb250ZW50ID0gXCJcIjtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGJhc2Uub3B0aW9ucy5qc29uU3VjY2VzcyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2Uub3B0aW9ucy5qc29uU3VjY2Vzcy5hcHBseSh0aGlzLCBbZGF0YV0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSBpbiBkYXRhLm93bCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEub3dsLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCArPSBkYXRhLm93bFtpXS5pdGVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJhc2UuJGVsZW0uaHRtbChjb250ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYmFzZS5sb2dJbigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGJhc2Uub3B0aW9ucy5iZWZvcmVJbml0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICBiYXNlLm9wdGlvbnMuYmVmb3JlSW5pdC5hcHBseSh0aGlzLCBbYmFzZS4kZWxlbV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGJhc2Uub3B0aW9ucy5qc29uUGF0aCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHVybCA9IGJhc2Uub3B0aW9ucy5qc29uUGF0aDtcbiAgICAgICAgICAgICAgICAkLmdldEpTT04odXJsLCBnZXREYXRhKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYmFzZS5sb2dJbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGxvZ0luIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGJhc2UgPSB0aGlzO1xuXG4gICAgICAgICAgICBiYXNlLiRlbGVtLmRhdGEoXCJvd2wtb3JpZ2luYWxTdHlsZXNcIiwgYmFzZS4kZWxlbS5hdHRyKFwic3R5bGVcIikpO1xuICAgICAgICAgICAgYmFzZS4kZWxlbS5kYXRhKFwib3dsLW9yaWdpbmFsQ2xhc3Nlc1wiLCBiYXNlLiRlbGVtLmF0dHIoXCJjbGFzc1wiKSk7XG5cbiAgICAgICAgICAgIGJhc2UuJGVsZW0uY3NzKHtvcGFjaXR5OiAwfSk7XG4gICAgICAgICAgICBiYXNlLm9yaWduYWxJdGVtcyA9IGJhc2Uub3B0aW9ucy5pdGVtcztcbiAgICAgICAgICAgIGJhc2UuY2hlY2tCcm93c2VyKCk7XG4gICAgICAgICAgICBiYXNlLndyYXBwZXJXaWR0aCA9IDA7XG4gICAgICAgICAgICBiYXNlLmNoZWNrVmlzaWJsZSA9IG51bGw7XG4gICAgICAgICAgICBiYXNlLnNldFZhcnMoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBzZXRWYXJzIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGJhc2UgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKGJhc2UuJGVsZW0uY2hpbGRyZW4oKS5sZW5ndGggPT09IDApIHtyZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgICAgIGJhc2UuYmFzZUNsYXNzKCk7XG4gICAgICAgICAgICBiYXNlLmV2ZW50VHlwZXMoKTtcbiAgICAgICAgICAgIGJhc2UuJHVzZXJJdGVtcyA9IGJhc2UuJGVsZW0uY2hpbGRyZW4oKTtcbiAgICAgICAgICAgIGJhc2UuaXRlbXNBbW91bnQgPSBiYXNlLiR1c2VySXRlbXMubGVuZ3RoO1xuICAgICAgICAgICAgYmFzZS53cmFwSXRlbXMoKTtcbiAgICAgICAgICAgIGJhc2UuJG93bEl0ZW1zID0gYmFzZS4kZWxlbS5maW5kKFwiLm93bC1pdGVtXCIpO1xuICAgICAgICAgICAgYmFzZS4kb3dsV3JhcHBlciA9IGJhc2UuJGVsZW0uZmluZChcIi5vd2wtd3JhcHBlclwiKTtcbiAgICAgICAgICAgIGJhc2UucGxheURpcmVjdGlvbiA9IFwibmV4dFwiO1xuICAgICAgICAgICAgYmFzZS5wcmV2SXRlbSA9IDA7XG4gICAgICAgICAgICBiYXNlLnByZXZBcnIgPSBbMF07XG4gICAgICAgICAgICBiYXNlLmN1cnJlbnRJdGVtID0gMDtcbiAgICAgICAgICAgIGJhc2UuY3VzdG9tRXZlbnRzKCk7XG4gICAgICAgICAgICBiYXNlLm9uU3RhcnR1cCgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uU3RhcnR1cCA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBiYXNlID0gdGhpcztcbiAgICAgICAgICAgIGJhc2UudXBkYXRlSXRlbXMoKTtcbiAgICAgICAgICAgIGJhc2UuY2FsY3VsYXRlQWxsKCk7XG4gICAgICAgICAgICBiYXNlLmJ1aWxkQ29udHJvbHMoKTtcbiAgICAgICAgICAgIGJhc2UudXBkYXRlQ29udHJvbHMoKTtcbiAgICAgICAgICAgIGJhc2UucmVzcG9uc2UoKTtcbiAgICAgICAgICAgIGJhc2UubW92ZUV2ZW50cygpO1xuICAgICAgICAgICAgYmFzZS5zdG9wT25Ib3ZlcigpO1xuICAgICAgICAgICAgYmFzZS5vd2xTdGF0dXMoKTtcblxuICAgICAgICAgICAgaWYgKGJhc2Uub3B0aW9ucy50cmFuc2l0aW9uU3R5bGUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgYmFzZS50cmFuc2l0aW9uVHlwZXMoYmFzZS5vcHRpb25zLnRyYW5zaXRpb25TdHlsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYmFzZS5vcHRpb25zLmF1dG9QbGF5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgYmFzZS5vcHRpb25zLmF1dG9QbGF5ID0gNTAwMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJhc2UucGxheSgpO1xuXG4gICAgICAgICAgICBiYXNlLiRlbGVtLmZpbmQoXCIub3dsLXdyYXBwZXJcIikuY3NzKFwiZGlzcGxheVwiLCBcImJsb2NrXCIpO1xuXG4gICAgICAgICAgICBpZiAoIWJhc2UuJGVsZW0uaXMoXCI6dmlzaWJsZVwiKSkge1xuICAgICAgICAgICAgICAgIGJhc2Uud2F0Y2hWaXNpYmlsaXR5KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJhc2UuJGVsZW0uY3NzKFwib3BhY2l0eVwiLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJhc2Uub25zdGFydHVwID0gZmFsc2U7XG4gICAgICAgICAgICBiYXNlLmVhY2hNb3ZlVXBkYXRlKCk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGJhc2Uub3B0aW9ucy5hZnRlckluaXQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIGJhc2Uub3B0aW9ucy5hZnRlckluaXQuYXBwbHkodGhpcywgW2Jhc2UuJGVsZW1dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBlYWNoTW92ZVVwZGF0ZSA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBiYXNlID0gdGhpcztcblxuICAgICAgICAgICAgaWYgKGJhc2Uub3B0aW9ucy5sYXp5TG9hZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGJhc2UubGF6eUxvYWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChiYXNlLm9wdGlvbnMuYXV0b0hlaWdodCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGJhc2UuYXV0b0hlaWdodCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYmFzZS5vblZpc2libGVJdGVtcygpO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGJhc2Uub3B0aW9ucy5hZnRlckFjdGlvbiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgYmFzZS5vcHRpb25zLmFmdGVyQWN0aW9uLmFwcGx5KHRoaXMsIFtiYXNlLiRlbGVtXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlVmFycyA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBiYXNlID0gdGhpcztcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYmFzZS5vcHRpb25zLmJlZm9yZVVwZGF0ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgYmFzZS5vcHRpb25zLmJlZm9yZVVwZGF0ZS5hcHBseSh0aGlzLCBbYmFzZS4kZWxlbV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYmFzZS53YXRjaFZpc2liaWxpdHkoKTtcbiAgICAgICAgICAgIGJhc2UudXBkYXRlSXRlbXMoKTtcbiAgICAgICAgICAgIGJhc2UuY2FsY3VsYXRlQWxsKCk7XG4gICAgICAgICAgICBiYXNlLnVwZGF0ZVBvc2l0aW9uKCk7XG4gICAgICAgICAgICBiYXNlLnVwZGF0ZUNvbnRyb2xzKCk7XG4gICAgICAgICAgICBiYXNlLmVhY2hNb3ZlVXBkYXRlKCk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGJhc2Uub3B0aW9ucy5hZnRlclVwZGF0ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgYmFzZS5vcHRpb25zLmFmdGVyVXBkYXRlLmFwcGx5KHRoaXMsIFtiYXNlLiRlbGVtXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVsb2FkIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGJhc2UgPSB0aGlzO1xuICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGJhc2UudXBkYXRlVmFycygpO1xuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgd2F0Y2hWaXNpYmlsaXR5IDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGJhc2UgPSB0aGlzO1xuXG4gICAgICAgICAgICBpZiAoYmFzZS4kZWxlbS5pcyhcIjp2aXNpYmxlXCIpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGJhc2UuJGVsZW0uY3NzKHtvcGFjaXR5OiAwfSk7XG4gICAgICAgICAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwoYmFzZS5hdXRvUGxheUludGVydmFsKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbChiYXNlLmNoZWNrVmlzaWJsZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJhc2UuY2hlY2tWaXNpYmxlID0gd2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoYmFzZS4kZWxlbS5pcyhcIjp2aXNpYmxlXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2UucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgIGJhc2UuJGVsZW0uYW5pbWF0ZSh7b3BhY2l0eTogMX0sIDIwMCk7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKGJhc2UuY2hlY2tWaXNpYmxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9LFxuXG4gICAgICAgIHdyYXBJdGVtcyA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBiYXNlID0gdGhpcztcbiAgICAgICAgICAgIGJhc2UuJHVzZXJJdGVtcy53cmFwQWxsKFwiPGRpdiBjbGFzcz1cXFwib3dsLXdyYXBwZXJcXFwiPlwiKS53cmFwKFwiPGRpdiBjbGFzcz1cXFwib3dsLWl0ZW1cXFwiPjwvZGl2PlwiKTtcbiAgICAgICAgICAgIGJhc2UuJGVsZW0uZmluZChcIi5vd2wtd3JhcHBlclwiKS53cmFwKFwiPGRpdiBjbGFzcz1cXFwib3dsLXdyYXBwZXItb3V0ZXJcXFwiPlwiKTtcbiAgICAgICAgICAgIGJhc2Uud3JhcHBlck91dGVyID0gYmFzZS4kZWxlbS5maW5kKFwiLm93bC13cmFwcGVyLW91dGVyXCIpO1xuICAgICAgICAgICAgYmFzZS4kZWxlbS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYmFzZUNsYXNzIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGJhc2UgPSB0aGlzLFxuICAgICAgICAgICAgICAgIGhhc0Jhc2VDbGFzcyA9IGJhc2UuJGVsZW0uaGFzQ2xhc3MoYmFzZS5vcHRpb25zLmJhc2VDbGFzcyksXG4gICAgICAgICAgICAgICAgaGFzVGhlbWVDbGFzcyA9IGJhc2UuJGVsZW0uaGFzQ2xhc3MoYmFzZS5vcHRpb25zLnRoZW1lKTtcblxuICAgICAgICAgICAgaWYgKCFoYXNCYXNlQ2xhc3MpIHtcbiAgICAgICAgICAgICAgICBiYXNlLiRlbGVtLmFkZENsYXNzKGJhc2Uub3B0aW9ucy5iYXNlQ2xhc3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWhhc1RoZW1lQ2xhc3MpIHtcbiAgICAgICAgICAgICAgICBiYXNlLiRlbGVtLmFkZENsYXNzKGJhc2Uub3B0aW9ucy50aGVtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlSXRlbXMgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYmFzZSA9IHRoaXMsIHdpZHRoLCBpO1xuXG4gICAgICAgICAgICBpZiAoYmFzZS5vcHRpb25zLnJlc3BvbnNpdmUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJhc2Uub3B0aW9ucy5zaW5nbGVJdGVtID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgYmFzZS5vcHRpb25zLml0ZW1zID0gYmFzZS5vcmlnbmFsSXRlbXMgPSAxO1xuICAgICAgICAgICAgICAgIGJhc2Uub3B0aW9ucy5pdGVtc0N1c3RvbSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJhc2Uub3B0aW9ucy5pdGVtc0Rlc2t0b3AgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBiYXNlLm9wdGlvbnMuaXRlbXNEZXNrdG9wU21hbGwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBiYXNlLm9wdGlvbnMuaXRlbXNUYWJsZXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBiYXNlLm9wdGlvbnMuaXRlbXNUYWJsZXRTbWFsbCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJhc2Uub3B0aW9ucy5pdGVtc01vYmlsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgd2lkdGggPSAkKGJhc2Uub3B0aW9ucy5yZXNwb25zaXZlQmFzZVdpZHRoKS53aWR0aCgpO1xuXG4gICAgICAgICAgICBpZiAod2lkdGggPiAoYmFzZS5vcHRpb25zLml0ZW1zRGVza3RvcFswXSB8fCBiYXNlLm9yaWduYWxJdGVtcykpIHtcbiAgICAgICAgICAgICAgICBiYXNlLm9wdGlvbnMuaXRlbXMgPSBiYXNlLm9yaWduYWxJdGVtcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChiYXNlLm9wdGlvbnMuaXRlbXNDdXN0b20gIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgLy9SZW9yZGVyIGFycmF5IGJ5IHNjcmVlbiBzaXplXG4gICAgICAgICAgICAgICAgYmFzZS5vcHRpb25zLml0ZW1zQ3VzdG9tLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtyZXR1cm4gYVswXSAtIGJbMF07IH0pO1xuXG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGJhc2Uub3B0aW9ucy5pdGVtc0N1c3RvbS5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYmFzZS5vcHRpb25zLml0ZW1zQ3VzdG9tW2ldWzBdIDw9IHdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlLm9wdGlvbnMuaXRlbXMgPSBiYXNlLm9wdGlvbnMuaXRlbXNDdXN0b21baV1bMV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICBpZiAod2lkdGggPD0gYmFzZS5vcHRpb25zLml0ZW1zRGVza3RvcFswXSAmJiBiYXNlLm9wdGlvbnMuaXRlbXNEZXNrdG9wICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlLm9wdGlvbnMuaXRlbXMgPSBiYXNlLm9wdGlvbnMuaXRlbXNEZXNrdG9wWzFdO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh3aWR0aCA8PSBiYXNlLm9wdGlvbnMuaXRlbXNEZXNrdG9wU21hbGxbMF0gJiYgYmFzZS5vcHRpb25zLml0ZW1zRGVza3RvcFNtYWxsICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlLm9wdGlvbnMuaXRlbXMgPSBiYXNlLm9wdGlvbnMuaXRlbXNEZXNrdG9wU21hbGxbMV07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHdpZHRoIDw9IGJhc2Uub3B0aW9ucy5pdGVtc1RhYmxldFswXSAmJiBiYXNlLm9wdGlvbnMuaXRlbXNUYWJsZXQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2Uub3B0aW9ucy5pdGVtcyA9IGJhc2Uub3B0aW9ucy5pdGVtc1RhYmxldFsxXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAod2lkdGggPD0gYmFzZS5vcHRpb25zLml0ZW1zVGFibGV0U21hbGxbMF0gJiYgYmFzZS5vcHRpb25zLml0ZW1zVGFibGV0U21hbGwgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2Uub3B0aW9ucy5pdGVtcyA9IGJhc2Uub3B0aW9ucy5pdGVtc1RhYmxldFNtYWxsWzFdO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh3aWR0aCA8PSBiYXNlLm9wdGlvbnMuaXRlbXNNb2JpbGVbMF0gJiYgYmFzZS5vcHRpb25zLml0ZW1zTW9iaWxlICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlLm9wdGlvbnMuaXRlbXMgPSBiYXNlLm9wdGlvbnMuaXRlbXNNb2JpbGVbMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL2lmIG51bWJlciBvZiBpdGVtcyBpcyBsZXNzIHRoYW4gZGVjbGFyZWRcbiAgICAgICAgICAgIGlmIChiYXNlLm9wdGlvbnMuaXRlbXMgPiBiYXNlLml0ZW1zQW1vdW50ICYmIGJhc2Uub3B0aW9ucy5pdGVtc1NjYWxlVXAgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBiYXNlLm9wdGlvbnMuaXRlbXMgPSBiYXNlLml0ZW1zQW1vdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHJlc3BvbnNlIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGJhc2UgPSB0aGlzLFxuICAgICAgICAgICAgICAgIHNtYWxsRGVsYXksXG4gICAgICAgICAgICAgICAgbGFzdFdpbmRvd1dpZHRoO1xuXG4gICAgICAgICAgICBpZiAoYmFzZS5vcHRpb25zLnJlc3BvbnNpdmUgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0V2luZG93V2lkdGggPSAkKHdpbmRvdykud2lkdGgoKTtcblxuICAgICAgICAgICAgYmFzZS5yZXNpemVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSAhPT0gbGFzdFdpbmRvd1dpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChiYXNlLm9wdGlvbnMuYXV0b1BsYXkgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbChiYXNlLmF1dG9QbGF5SW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoc21hbGxEZWxheSk7XG4gICAgICAgICAgICAgICAgICAgIHNtYWxsRGVsYXkgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0V2luZG93V2lkdGggPSAkKHdpbmRvdykud2lkdGgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2UudXBkYXRlVmFycygpO1xuICAgICAgICAgICAgICAgICAgICB9LCBiYXNlLm9wdGlvbnMucmVzcG9uc2l2ZVJlZnJlc2hSYXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgJCh3aW5kb3cpLnJlc2l6ZShiYXNlLnJlc2l6ZXIpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHVwZGF0ZVBvc2l0aW9uIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGJhc2UgPSB0aGlzO1xuICAgICAgICAgICAgYmFzZS5qdW1wVG8oYmFzZS5jdXJyZW50SXRlbSk7XG4gICAgICAgICAgICBpZiAoYmFzZS5vcHRpb25zLmF1dG9QbGF5ICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGJhc2UuY2hlY2tBcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGFwcGVuZEl0ZW1zU2l6ZXMgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYmFzZSA9IHRoaXMsXG4gICAgICAgICAgICAgICAgcm91bmRQYWdlcyA9IDAsXG4gICAgICAgICAgICAgICAgbGFzdEl0ZW0gPSBiYXNlLml0ZW1zQW1vdW50IC0gYmFzZS5vcHRpb25zLml0ZW1zO1xuXG4gICAgICAgICAgICBiYXNlLiRvd2xJdGVtcy5lYWNoKGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgICAgICAgICAgICAgJHRoaXNcbiAgICAgICAgICAgICAgICAgICAgLmNzcyh7XCJ3aWR0aFwiOiBiYXNlLml0ZW1XaWR0aH0pXG4gICAgICAgICAgICAgICAgICAgIC5kYXRhKFwib3dsLWl0ZW1cIiwgTnVtYmVyKGluZGV4KSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggJSBiYXNlLm9wdGlvbnMuaXRlbXMgPT09IDAgfHwgaW5kZXggPT09IGxhc3RJdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGluZGV4ID4gbGFzdEl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByb3VuZFBhZ2VzICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJHRoaXMuZGF0YShcIm93bC1yb3VuZFBhZ2VzXCIsIHJvdW5kUGFnZXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYXBwZW5kV3JhcHBlclNpemVzIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGJhc2UgPSB0aGlzLFxuICAgICAgICAgICAgICAgIHdpZHRoID0gYmFzZS4kb3dsSXRlbXMubGVuZ3RoICogYmFzZS5pdGVtV2lkdGg7XG5cbiAgICAgICAgICAgIGJhc2UuJG93bFdyYXBwZXIuY3NzKHtcbiAgICAgICAgICAgICAgICBcIndpZHRoXCI6IHdpZHRoICogMixcbiAgICAgICAgICAgICAgICBcImxlZnRcIjogMFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBiYXNlLmFwcGVuZEl0ZW1zU2l6ZXMoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBjYWxjdWxhdGVBbGwgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYmFzZSA9IHRoaXM7XG4gICAgICAgICAgICBiYXNlLmNhbGN1bGF0ZVdpZHRoKCk7XG4gICAgICAgICAgICBiYXNlLmFwcGVuZFdyYXBwZXJTaXplcygpO1xuICAgICAgICAgICAgYmFzZS5sb29wcygpO1xuICAgICAgICAgICAgYmFzZS5tYXgoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBjYWxjdWxhdGVXaWR0aCA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBiYXNlID0gdGhpcztcbiAgICAgICAgICAgIGJhc2UuaXRlbVdpZHRoID0gTWF0aC5yb3VuZChiYXNlLiRlbGVtLndpZHRoKCkgLyBiYXNlLm9wdGlvbnMuaXRlbXMpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG1heCA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBiYXNlID0gdGhpcyxcbiAgICAgICAgICAgICAgICBtYXhpbXVtID0gKChiYXNlLml0ZW1zQW1vdW50ICogYmFzZS5pdGVtV2lkdGgpIC0gYmFzZS5vcHRpb25zLml0ZW1zICogYmFzZS5pdGVtV2lkdGgpICogLTE7XG4gICAgICAgICAgICBpZiAoYmFzZS5vcHRpb25zLml0ZW1zID4gYmFzZS5pdGVtc0Ftb3VudCkge1xuICAgICAgICAgICAgICAgIGJhc2UubWF4aW11bUl0ZW0gPSAwO1xuICAgICAgICAgICAgICAgIG1heGltdW0gPSAwO1xuICAgICAgICAgICAgICAgIGJhc2UubWF4aW11bVBpeGVscyA9IDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJhc2UubWF4aW11bUl0ZW0gPSBiYXNlLml0ZW1zQW1vdW50IC0gYmFzZS5vcHRpb25zLml0ZW1zO1xuICAgICAgICAgICAgICAgIGJhc2UubWF4aW11bVBpeGVscyA9IG1heGltdW07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbWF4aW11bTtcbiAgICAgICAgfSxcblxuICAgICAgICBtaW4gOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfSxcblxuICAgICAgICBsb29wcyA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBiYXNlID0gdGhpcyxcbiAgICAgICAgICAgICAgICBwcmV2ID0gMCxcbiAgICAgICAgICAgICAgICBlbFdpZHRoID0gMCxcbiAgICAgICAgICAgICAgICBpLFxuICAgICAgICAgICAgICAgIGl0ZW0sXG4gICAgICAgICAgICAgICAgcm91bmRQYWdlTnVtO1xuXG4gICAgICAgICAgICBiYXNlLnBvc2l0aW9uc0luQXJyYXkgPSBbMF07XG4gICAgICAgICAgICBiYXNlLnBhZ2VzSW5BcnJheSA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYmFzZS5pdGVtc0Ftb3VudDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgZWxXaWR0aCArPSBiYXNlLml0ZW1XaWR0aDtcbiAgICAgICAgICAgICAgICBiYXNlLnBvc2l0aW9uc0luQXJyYXkucHVzaCgtZWxXaWR0aCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoYmFzZS5vcHRpb25zLnNjcm9sbFBlclBhZ2UgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbSA9ICQoYmFzZS4kb3dsSXRlbXNbaV0pO1xuICAgICAgICAgICAgICAgICAgICByb3VuZFBhZ2VOdW0gPSBpdGVtLmRhdGEoXCJvd2wtcm91bmRQYWdlc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvdW5kUGFnZU51bSAhPT0gcHJldikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZS5wYWdlc0luQXJyYXlbcHJldl0gPSBiYXNlLnBvc2l0aW9uc0luQXJyYXlbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2ID0gcm91bmRQYWdlTnVtO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGJ1aWxkQ29udHJvbHMgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYmFzZSA9IHRoaXM7XG4gICAgICAgICAgICBpZiAoYmFzZS5vcHRpb25zLm5hdmlnYXRpb24gPT09IHRydWUgfHwgYmFzZS5vcHRpb25zLnBhZ2luYXRpb24gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBiYXNlLm93bENvbnRyb2xzID0gJChcIjxkaXYgY2xhc3M9XFxcIm93bC1jb250cm9sc1xcXCIvPlwiKS50b2dnbGVDbGFzcyhcImNsaWNrYWJsZVwiLCAhYmFzZS5icm93c2VyLmlzVG91Y2gpLmFwcGVuZFRvKGJhc2UuJGVsZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJhc2Uub3B0aW9ucy5wYWdpbmF0aW9uID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgYmFzZS5idWlsZFBhZ2luYXRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChiYXNlLm9wdGlvbnMubmF2aWdhdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGJhc2UuYnVpbGRCdXR0b25zKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgYnVpbGRCdXR0b25zIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGJhc2UgPSB0aGlzLFxuICAgICAgICAgICAgICAgIGJ1dHRvbnNXcmFwcGVyID0gJChcIjxkaXYgY2xhc3M9XFxcIm93bC1idXR0b25zXFxcIi8+XCIpO1xuICAgICAgICAgICAgYmFzZS5vd2xDb250cm9scy5hcHBlbmQoYnV0dG9uc1dyYXBwZXIpO1xuXG4gICAgICAgICAgICBiYXNlLmJ1dHRvblByZXYgPSAkKFwiPGRpdi8+XCIsIHtcbiAgICAgICAgICAgICAgICBcImNsYXNzXCIgOiBcIm93bC1wcmV2XCIsXG4gICAgICAgICAgICAgICAgXCJodG1sXCIgOiBiYXNlLm9wdGlvbnMubmF2aWdhdGlvblRleHRbMF0gfHwgXCJcIlxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGJhc2UuYnV0dG9uTmV4dCA9ICQoXCI8ZGl2Lz5cIiwge1xuICAgICAgICAgICAgICAgIFwiY2xhc3NcIiA6IFwib3dsLW5leHRcIixcbiAgICAgICAgICAgICAgICBcImh0bWxcIiA6IGJhc2Uub3B0aW9ucy5uYXZpZ2F0aW9uVGV4dFsxXSB8fCBcIlwiXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgYnV0dG9uc1dyYXBwZXJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKGJhc2UuYnV0dG9uUHJldilcbiAgICAgICAgICAgICAgICAuYXBwZW5kKGJhc2UuYnV0dG9uTmV4dCk7XG5cbiAgICAgICAgICAgIGJ1dHRvbnNXcmFwcGVyLm9uKFwidG91Y2hzdGFydC5vd2xDb250cm9scyBtb3VzZWRvd24ub3dsQ29udHJvbHNcIiwgXCJkaXZbY2xhc3NePVxcXCJvd2xcXFwiXVwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGJ1dHRvbnNXcmFwcGVyLm9uKFwidG91Y2hlbmQub3dsQ29udHJvbHMgbW91c2V1cC5vd2xDb250cm9sc1wiLCBcImRpdltjbGFzc149XFxcIm93bFxcXCJdXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoXCJvd2wtbmV4dFwiKSkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlLm5leHQoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBiYXNlLnByZXYoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBidWlsZFBhZ2luYXRpb24gOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYmFzZSA9IHRoaXM7XG5cbiAgICAgICAgICAgIGJhc2UucGFnaW5hdGlvbldyYXBwZXIgPSAkKFwiPGRpdiBjbGFzcz1cXFwib3dsLXBhZ2luYXRpb25cXFwiLz5cIik7XG4gICAgICAgICAgICBiYXNlLm93bENvbnRyb2xzLmFwcGVuZChiYXNlLnBhZ2luYXRpb25XcmFwcGVyKTtcblxuICAgICAgICAgICAgYmFzZS5wYWdpbmF0aW9uV3JhcHBlci5vbihcInRvdWNoZW5kLm93bENvbnRyb2xzIG1vdXNldXAub3dsQ29udHJvbHNcIiwgXCIub3dsLXBhZ2VcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBpZiAoTnVtYmVyKCQodGhpcykuZGF0YShcIm93bC1wYWdlXCIpKSAhPT0gYmFzZS5jdXJyZW50SXRlbSkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlLmdvVG8oTnVtYmVyKCQodGhpcykuZGF0YShcIm93bC1wYWdlXCIpKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlUGFnaW5hdGlvbiA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBiYXNlID0gdGhpcyxcbiAgICAgICAgICAgICAgICBjb3VudGVyLFxuICAgICAgICAgICAgICAgIGxhc3RQYWdlLFxuICAgICAgICAgICAgICAgIGxhc3RJdGVtLFxuICAgICAgICAgICAgICAgIGksXG4gICAgICAgICAgICAgICAgcGFnaW5hdGlvbkJ1dHRvbixcbiAgICAgICAgICAgICAgICBwYWdpbmF0aW9uQnV0dG9uSW5uZXI7XG5cbiAgICAgICAgICAgIGlmIChiYXNlLm9wdGlvbnMucGFnaW5hdGlvbiA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJhc2UucGFnaW5hdGlvbldyYXBwZXIuaHRtbChcIlwiKTtcblxuICAgICAgICAgICAgY291bnRlciA9IDA7XG4gICAgICAgICAgICBsYXN0UGFnZSA9IGJhc2UuaXRlbXNBbW91bnQgLSBiYXNlLml0ZW1zQW1vdW50ICUgYmFzZS5vcHRpb25zLml0ZW1zO1xuXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYmFzZS5pdGVtc0Ftb3VudDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgJSBiYXNlLm9wdGlvbnMuaXRlbXMgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY291bnRlciArPSAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGFzdFBhZ2UgPT09IGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RJdGVtID0gYmFzZS5pdGVtc0Ftb3VudCAtIGJhc2Uub3B0aW9ucy5pdGVtcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uQnV0dG9uID0gJChcIjxkaXYvPlwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcImNsYXNzXCIgOiBcIm93bC1wYWdlXCJcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25CdXR0b25Jbm5lciA9ICQoXCI8c3Bhbj48L3NwYW4+XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidGV4dFwiOiBiYXNlLm9wdGlvbnMucGFnaW5hdGlvbk51bWJlcnMgPT09IHRydWUgPyBjb3VudGVyIDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY2xhc3NcIjogYmFzZS5vcHRpb25zLnBhZ2luYXRpb25OdW1iZXJzID09PSB0cnVlID8gXCJvd2wtbnVtYmVyc1wiIDogXCJcIlxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbkJ1dHRvbi5hcHBlbmQocGFnaW5hdGlvbkJ1dHRvbklubmVyKTtcblxuICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uQnV0dG9uLmRhdGEoXCJvd2wtcGFnZVwiLCBsYXN0UGFnZSA9PT0gaSA/IGxhc3RJdGVtIDogaSk7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25CdXR0b24uZGF0YShcIm93bC1yb3VuZFBhZ2VzXCIsIGNvdW50ZXIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGJhc2UucGFnaW5hdGlvbldyYXBwZXIuYXBwZW5kKHBhZ2luYXRpb25CdXR0b24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJhc2UuY2hlY2tQYWdpbmF0aW9uKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNoZWNrUGFnaW5hdGlvbiA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBiYXNlID0gdGhpcztcbiAgICAgICAgICAgIGlmIChiYXNlLm9wdGlvbnMucGFnaW5hdGlvbiA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiYXNlLnBhZ2luYXRpb25XcmFwcGVyLmZpbmQoXCIub3dsLXBhZ2VcIikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCQodGhpcykuZGF0YShcIm93bC1yb3VuZFBhZ2VzXCIpID09PSAkKGJhc2UuJG93bEl0ZW1zW2Jhc2UuY3VycmVudEl0ZW1dKS5kYXRhKFwib3dsLXJvdW5kUGFnZXNcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZS5wYWdpbmF0aW9uV3JhcHBlclxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoXCIub3dsLXBhZ2VcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBjaGVja05hdmlnYXRpb24gOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYmFzZSA9IHRoaXM7XG5cbiAgICAgICAgICAgIGlmIChiYXNlLm9wdGlvbnMubmF2aWdhdGlvbiA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYmFzZS5vcHRpb25zLnJld2luZE5hdiA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoYmFzZS5jdXJyZW50SXRlbSA9PT0gMCAmJiBiYXNlLm1heGltdW1JdGVtID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2UuYnV0dG9uUHJldi5hZGRDbGFzcyhcImRpc2FibGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICBiYXNlLmJ1dHRvbk5leHQuYWRkQ2xhc3MoXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGJhc2UuY3VycmVudEl0ZW0gPT09IDAgJiYgYmFzZS5tYXhpbXVtSXRlbSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlLmJ1dHRvblByZXYuYWRkQ2xhc3MoXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgYmFzZS5idXR0b25OZXh0LnJlbW92ZUNsYXNzKFwiZGlzYWJsZWRcIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChiYXNlLmN1cnJlbnRJdGVtID09PSBiYXNlLm1heGltdW1JdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2UuYnV0dG9uUHJldi5yZW1vdmVDbGFzcyhcImRpc2FibGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICBiYXNlLmJ1dHRvbk5leHQuYWRkQ2xhc3MoXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGJhc2UuY3VycmVudEl0ZW0gIT09IDAgJiYgYmFzZS5jdXJyZW50SXRlbSAhPT0gYmFzZS5tYXhpbXVtSXRlbSkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlLmJ1dHRvblByZXYucmVtb3ZlQ2xhc3MoXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgYmFzZS5idXR0b25OZXh0LnJlbW92ZUNsYXNzKFwiZGlzYWJsZWRcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHVwZGF0ZUNvbnRyb2xzIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGJhc2UgPSB0aGlzO1xuICAgICAgICAgICAgYmFzZS51cGRhdGVQYWdpbmF0aW9uKCk7XG4gICAgICAgICAgICBiYXNlLmNoZWNrTmF2aWdhdGlvbigpO1xuICAgICAgICAgICAgaWYgKGJhc2Uub3dsQ29udHJvbHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoYmFzZS5vcHRpb25zLml0ZW1zID49IGJhc2UuaXRlbXNBbW91bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZS5vd2xDb250cm9scy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZS5vd2xDb250cm9scy5zaG93KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGRlc3Ryb3lDb250cm9scyA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBiYXNlID0gdGhpcztcbiAgICAgICAgICAgIGlmIChiYXNlLm93bENvbnRyb2xzKSB7XG4gICAgICAgICAgICAgICAgYmFzZS5vd2xDb250cm9scy5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBuZXh0IDogZnVuY3Rpb24gKHNwZWVkKSB7XG4gICAgICAgICAgICB2YXIgYmFzZSA9IHRoaXM7XG5cbiAgICAgICAgICAgIGlmIChiYXNlLmlzVHJhbnNpdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYmFzZS5jdXJyZW50SXRlbSArPSBiYXNlLm9wdGlvbnMuc2Nyb2xsUGVyUGFnZSA9PT0gdHJ1ZSA/IGJhc2Uub3B0aW9ucy5pdGVtcyA6IDE7XG4gICAgICAgICAgICBpZiAoYmFzZS5jdXJyZW50SXRlbSA+IGJhc2UubWF4aW11bUl0ZW0gKyAoYmFzZS5vcHRpb25zLnNjcm9sbFBlclBhZ2UgPT09IHRydWUgPyAoYmFzZS5vcHRpb25zLml0ZW1zIC0gMSkgOiAwKSkge1xuICAgICAgICAgICAgICAgIGlmIChiYXNlLm9wdGlvbnMucmV3aW5kTmF2ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2UuY3VycmVudEl0ZW0gPSAwO1xuICAgICAgICAgICAgICAgICAgICBzcGVlZCA9IFwicmV3aW5kXCI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZS5jdXJyZW50SXRlbSA9IGJhc2UubWF4aW11bUl0ZW07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiYXNlLmdvVG8oYmFzZS5jdXJyZW50SXRlbSwgc3BlZWQpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHByZXYgOiBmdW5jdGlvbiAoc3BlZWQpIHtcbiAgICAgICAgICAgIHZhciBiYXNlID0gdGhpcztcblxuICAgICAgICAgICAgaWYgKGJhc2UuaXNUcmFuc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYmFzZS5vcHRpb25zLnNjcm9sbFBlclBhZ2UgPT09IHRydWUgJiYgYmFzZS5jdXJyZW50SXRlbSA+IDAgJiYgYmFzZS5jdXJyZW50SXRlbSA8IGJhc2Uub3B0aW9ucy5pdGVtcykge1xuICAgICAgICAgICAgICAgIGJhc2UuY3VycmVudEl0ZW0gPSAwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBiYXNlLmN1cnJlbnRJdGVtIC09IGJhc2Uub3B0aW9ucy5zY3JvbGxQZXJQYWdlID09PSB0cnVlID8gYmFzZS5vcHRpb25zLml0ZW1zIDogMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChiYXNlLmN1cnJlbnRJdGVtIDwgMCkge1xuICAgICAgICAgICAgICAgIGlmIChiYXNlLm9wdGlvbnMucmV3aW5kTmF2ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2UuY3VycmVudEl0ZW0gPSBiYXNlLm1heGltdW1JdGVtO1xuICAgICAgICAgICAgICAgICAgICBzcGVlZCA9IFwicmV3aW5kXCI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZS5jdXJyZW50SXRlbSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiYXNlLmdvVG8oYmFzZS5jdXJyZW50SXRlbSwgc3BlZWQpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGdvVG8gOiBmdW5jdGlvbiAocG9zaXRpb24sIHNwZWVkLCBkcmFnKSB7XG4gICAgICAgICAgICB2YXIgYmFzZSA9IHRoaXMsXG4gICAgICAgICAgICAgICAgZ29Ub1BpeGVsO1xuXG4gICAgICAgICAgICBpZiAoYmFzZS5pc1RyYW5zaXRpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIGJhc2Uub3B0aW9ucy5iZWZvcmVNb3ZlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICBiYXNlLm9wdGlvbnMuYmVmb3JlTW92ZS5hcHBseSh0aGlzLCBbYmFzZS4kZWxlbV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBvc2l0aW9uID49IGJhc2UubWF4aW11bUl0ZW0pIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IGJhc2UubWF4aW11bUl0ZW07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBvc2l0aW9uIDw9IDApIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJhc2UuY3VycmVudEl0ZW0gPSBiYXNlLm93bC5jdXJyZW50SXRlbSA9IHBvc2l0aW9uO1xuICAgICAgICAgICAgaWYgKGJhc2Uub3B0aW9ucy50cmFuc2l0aW9uU3R5bGUgIT09IGZhbHNlICYmIGRyYWcgIT09IFwiZHJhZ1wiICYmIGJhc2Uub3B0aW9ucy5pdGVtcyA9PT0gMSAmJiBiYXNlLmJyb3dzZXIuc3VwcG9ydDNkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgYmFzZS5zd2FwU3BlZWQoMCk7XG4gICAgICAgICAgICAgICAgaWYgKGJhc2UuYnJvd3Nlci5zdXBwb3J0M2QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZS50cmFuc2l0aW9uM2QoYmFzZS5wb3NpdGlvbnNJbkFycmF5W3Bvc2l0aW9uXSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZS5jc3Myc2xpZGUoYmFzZS5wb3NpdGlvbnNJbkFycmF5W3Bvc2l0aW9uXSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJhc2UuYWZ0ZXJHbygpO1xuICAgICAgICAgICAgICAgIGJhc2Uuc2luZ2xlSXRlbVRyYW5zaXRpb24oKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnb1RvUGl4ZWwgPSBiYXNlLnBvc2l0aW9uc0luQXJyYXlbcG9zaXRpb25dO1xuXG4gICAgICAgICAgICBpZiAoYmFzZS5icm93c2VyLnN1cHBvcnQzZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGJhc2UuaXNDc3MzRmluaXNoID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3BlZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZS5zd2FwU3BlZWQoXCJwYWdpbmF0aW9uU3BlZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2UuaXNDc3MzRmluaXNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSwgYmFzZS5vcHRpb25zLnBhZ2luYXRpb25TcGVlZCk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNwZWVkID09PSBcInJld2luZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2Uuc3dhcFNwZWVkKGJhc2Uub3B0aW9ucy5yZXdpbmRTcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2UuaXNDc3MzRmluaXNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSwgYmFzZS5vcHRpb25zLnJld2luZFNwZWVkKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2Uuc3dhcFNwZWVkKFwic2xpZGVTcGVlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZS5pc0NzczNGaW5pc2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9LCBiYXNlLm9wdGlvbnMuc2xpZGVTcGVlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJhc2UudHJhbnNpdGlvbjNkKGdvVG9QaXhlbCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChzcGVlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlLmNzczJzbGlkZShnb1RvUGl4ZWwsIGJhc2Uub3B0aW9ucy5wYWdpbmF0aW9uU3BlZWQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3BlZWQgPT09IFwicmV3aW5kXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZS5jc3Myc2xpZGUoZ29Ub1BpeGVsLCBiYXNlLm9wdGlvbnMucmV3aW5kU3BlZWQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2UuY3NzMnNsaWRlKGdvVG9QaXhlbCwgYmFzZS5vcHRpb25zLnNsaWRlU3BlZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJhc2UuYWZ0ZXJHbygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGp1bXBUbyA6IGZ1bmN0aW9uIChwb3NpdGlvbikge1xuICAgICAgICAgICAgdmFyIGJhc2UgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBiYXNlLm9wdGlvbnMuYmVmb3JlTW92ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgYmFzZS5vcHRpb25zLmJlZm9yZU1vdmUuYXBwbHkodGhpcywgW2Jhc2UuJGVsZW1dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwb3NpdGlvbiA+PSBiYXNlLm1heGltdW1JdGVtIHx8IHBvc2l0aW9uID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gYmFzZS5tYXhpbXVtSXRlbTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocG9zaXRpb24gPD0gMCkge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJhc2Uuc3dhcFNwZWVkKDApO1xuICAgICAgICAgICAgaWYgKGJhc2UuYnJvd3Nlci5zdXBwb3J0M2QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBiYXNlLnRyYW5zaXRpb24zZChiYXNlLnBvc2l0aW9uc0luQXJyYXlbcG9zaXRpb25dKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYmFzZS5jc3Myc2xpZGUoYmFzZS5wb3NpdGlvbnNJbkFycmF5W3Bvc2l0aW9uXSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiYXNlLmN1cnJlbnRJdGVtID0gYmFzZS5vd2wuY3VycmVudEl0ZW0gPSBwb3NpdGlvbjtcbiAgICAgICAgICAgIGJhc2UuYWZ0ZXJHbygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGFmdGVyR28gOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYmFzZSA9IHRoaXM7XG5cbiAgICAgICAgICAgIGJhc2UucHJldkFyci5wdXNoKGJhc2UuY3VycmVudEl0ZW0pO1xuICAgICAgICAgICAgYmFzZS5wcmV2SXRlbSA9IGJhc2Uub3dsLnByZXZJdGVtID0gYmFzZS5wcmV2QXJyW2Jhc2UucHJldkFyci5sZW5ndGggLSAyXTtcbiAgICAgICAgICAgIGJhc2UucHJldkFyci5zaGlmdCgwKTtcblxuICAgICAgICAgICAgaWYgKGJhc2UucHJldkl0ZW0gIT09IGJhc2UuY3VycmVudEl0ZW0pIHtcbiAgICAgICAgICAgICAgICBiYXNlLmNoZWNrUGFnaW5hdGlvbigpO1xuICAgICAgICAgICAgICAgIGJhc2UuY2hlY2tOYXZpZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgYmFzZS5lYWNoTW92ZVVwZGF0ZSgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGJhc2Uub3B0aW9ucy5hdXRvUGxheSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZS5jaGVja0FwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBiYXNlLm9wdGlvbnMuYWZ0ZXJNb3ZlID09PSBcImZ1bmN0aW9uXCIgJiYgYmFzZS5wcmV2SXRlbSAhPT0gYmFzZS5jdXJyZW50SXRlbSkge1xuICAgICAgICAgICAgICAgIGJhc2Uub3B0aW9ucy5hZnRlck1vdmUuYXBwbHkodGhpcywgW2Jhc2UuJGVsZW1dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBzdG9wIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGJhc2UgPSB0aGlzO1xuICAgICAgICAgICAgYmFzZS5hcFN0YXR1cyA9IFwic3RvcFwiO1xuICAgICAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwoYmFzZS5hdXRvUGxheUludGVydmFsKTtcbiAgICAgICAgfSxcblxuICAgICAgICBjaGVja0FwIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGJhc2UgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKGJhc2UuYXBTdGF0dXMgIT09IFwic3RvcFwiKSB7XG4gICAgICAgICAgICAgICAgYmFzZS5wbGF5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgcGxheSA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBiYXNlID0gdGhpcztcbiAgICAgICAgICAgIGJhc2UuYXBTdGF0dXMgPSBcInBsYXlcIjtcbiAgICAgICAgICAgIGlmIChiYXNlLm9wdGlvbnMuYXV0b1BsYXkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwoYmFzZS5hdXRvUGxheUludGVydmFsKTtcbiAgICAgICAgICAgIGJhc2UuYXV0b1BsYXlJbnRlcnZhbCA9IHdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgYmFzZS5uZXh0KHRydWUpO1xuICAgICAgICAgICAgfSwgYmFzZS5vcHRpb25zLmF1dG9QbGF5KTtcbiAgICAgICAgfSxcblxuICAgICAgICBzd2FwU3BlZWQgOiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgICAgICB2YXIgYmFzZSA9IHRoaXM7XG4gICAgICAgICAgICBpZiAoYWN0aW9uID09PSBcInNsaWRlU3BlZWRcIikge1xuICAgICAgICAgICAgICAgIGJhc2UuJG93bFdyYXBwZXIuY3NzKGJhc2UuYWRkQ3NzU3BlZWQoYmFzZS5vcHRpb25zLnNsaWRlU3BlZWQpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09PSBcInBhZ2luYXRpb25TcGVlZFwiKSB7XG4gICAgICAgICAgICAgICAgYmFzZS4kb3dsV3JhcHBlci5jc3MoYmFzZS5hZGRDc3NTcGVlZChiYXNlLm9wdGlvbnMucGFnaW5hdGlvblNwZWVkKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBhY3Rpb24gIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBiYXNlLiRvd2xXcmFwcGVyLmNzcyhiYXNlLmFkZENzc1NwZWVkKGFjdGlvbikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGFkZENzc1NwZWVkIDogZnVuY3Rpb24gKHNwZWVkKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIFwiLXdlYmtpdC10cmFuc2l0aW9uXCI6IFwiYWxsIFwiICsgc3BlZWQgKyBcIm1zIGVhc2VcIixcbiAgICAgICAgICAgICAgICBcIi1tb3otdHJhbnNpdGlvblwiOiBcImFsbCBcIiArIHNwZWVkICsgXCJtcyBlYXNlXCIsXG4gICAgICAgICAgICAgICAgXCItby10cmFuc2l0aW9uXCI6IFwiYWxsIFwiICsgc3BlZWQgKyBcIm1zIGVhc2VcIixcbiAgICAgICAgICAgICAgICBcInRyYW5zaXRpb25cIjogXCJhbGwgXCIgKyBzcGVlZCArIFwibXMgZWFzZVwiXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlbW92ZVRyYW5zaXRpb24gOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIFwiLXdlYmtpdC10cmFuc2l0aW9uXCI6IFwiXCIsXG4gICAgICAgICAgICAgICAgXCItbW96LXRyYW5zaXRpb25cIjogXCJcIixcbiAgICAgICAgICAgICAgICBcIi1vLXRyYW5zaXRpb25cIjogXCJcIixcbiAgICAgICAgICAgICAgICBcInRyYW5zaXRpb25cIjogXCJcIlxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcblxuICAgICAgICBkb1RyYW5zbGF0ZSA6IGZ1bmN0aW9uIChwaXhlbHMpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgXCItd2Via2l0LXRyYW5zZm9ybVwiOiBcInRyYW5zbGF0ZTNkKFwiICsgcGl4ZWxzICsgXCJweCwgMHB4LCAwcHgpXCIsXG4gICAgICAgICAgICAgICAgXCItbW96LXRyYW5zZm9ybVwiOiBcInRyYW5zbGF0ZTNkKFwiICsgcGl4ZWxzICsgXCJweCwgMHB4LCAwcHgpXCIsXG4gICAgICAgICAgICAgICAgXCItby10cmFuc2Zvcm1cIjogXCJ0cmFuc2xhdGUzZChcIiArIHBpeGVscyArIFwicHgsIDBweCwgMHB4KVwiLFxuICAgICAgICAgICAgICAgIFwiLW1zLXRyYW5zZm9ybVwiOiBcInRyYW5zbGF0ZTNkKFwiICsgcGl4ZWxzICsgXCJweCwgMHB4LCAwcHgpXCIsXG4gICAgICAgICAgICAgICAgXCJ0cmFuc2Zvcm1cIjogXCJ0cmFuc2xhdGUzZChcIiArIHBpeGVscyArIFwicHgsIDBweCwwcHgpXCJcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG5cbiAgICAgICAgdHJhbnNpdGlvbjNkIDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgYmFzZSA9IHRoaXM7XG4gICAgICAgICAgICBiYXNlLiRvd2xXcmFwcGVyLmNzcyhiYXNlLmRvVHJhbnNsYXRlKHZhbHVlKSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY3NzMm1vdmUgOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBiYXNlID0gdGhpcztcbiAgICAgICAgICAgIGJhc2UuJG93bFdyYXBwZXIuY3NzKHtcImxlZnRcIiA6IHZhbHVlfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY3NzMnNsaWRlIDogZnVuY3Rpb24gKHZhbHVlLCBzcGVlZCkge1xuICAgICAgICAgICAgdmFyIGJhc2UgPSB0aGlzO1xuXG4gICAgICAgICAgICBiYXNlLmlzQ3NzRmluaXNoID0gZmFsc2U7XG4gICAgICAgICAgICBiYXNlLiRvd2xXcmFwcGVyLnN0b3AodHJ1ZSwgdHJ1ZSkuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgXCJsZWZ0XCIgOiB2YWx1ZVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uIDogc3BlZWQgfHwgYmFzZS5vcHRpb25zLnNsaWRlU3BlZWQsXG4gICAgICAgICAgICAgICAgY29tcGxldGUgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2UuaXNDc3NGaW5pc2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNoZWNrQnJvd3NlciA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBiYXNlID0gdGhpcyxcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGUzRCA9IFwidHJhbnNsYXRlM2QoMHB4LCAwcHgsIDBweClcIixcbiAgICAgICAgICAgICAgICB0ZW1wRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgICAgICAgICAgICAgcmVnZXgsXG4gICAgICAgICAgICAgICAgYXNTdXBwb3J0LFxuICAgICAgICAgICAgICAgIHN1cHBvcnQzZCxcbiAgICAgICAgICAgICAgICBpc1RvdWNoO1xuXG4gICAgICAgICAgICB0ZW1wRWxlbS5zdHlsZS5jc3NUZXh0ID0gXCIgIC1tb3otdHJhbnNmb3JtOlwiICsgdHJhbnNsYXRlM0QgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiOyAtbXMtdHJhbnNmb3JtOlwiICAgICArIHRyYW5zbGF0ZTNEICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjsgLW8tdHJhbnNmb3JtOlwiICAgICAgKyB0cmFuc2xhdGUzRCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7IC13ZWJraXQtdHJhbnNmb3JtOlwiICsgdHJhbnNsYXRlM0QgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiOyB0cmFuc2Zvcm06XCIgICAgICAgICArIHRyYW5zbGF0ZTNEO1xuICAgICAgICAgICAgcmVnZXggPSAvdHJhbnNsYXRlM2RcXCgwcHgsIDBweCwgMHB4XFwpL2c7XG4gICAgICAgICAgICBhc1N1cHBvcnQgPSB0ZW1wRWxlbS5zdHlsZS5jc3NUZXh0Lm1hdGNoKHJlZ2V4KTtcbiAgICAgICAgICAgIHN1cHBvcnQzZCA9IChhc1N1cHBvcnQgIT09IG51bGwgJiYgYXNTdXBwb3J0Lmxlbmd0aCA9PT0gMSk7XG5cbiAgICAgICAgICAgIGlzVG91Y2ggPSBcIm9udG91Y2hzdGFydFwiIGluIHdpbmRvdyB8fCB3aW5kb3cubmF2aWdhdG9yLm1zTWF4VG91Y2hQb2ludHM7XG5cbiAgICAgICAgICAgIGJhc2UuYnJvd3NlciA9IHtcbiAgICAgICAgICAgICAgICBcInN1cHBvcnQzZFwiIDogc3VwcG9ydDNkLFxuICAgICAgICAgICAgICAgIFwiaXNUb3VjaFwiIDogaXNUb3VjaFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcblxuICAgICAgICBtb3ZlRXZlbnRzIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGJhc2UgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKGJhc2Uub3B0aW9ucy5tb3VzZURyYWcgIT09IGZhbHNlIHx8IGJhc2Uub3B0aW9ucy50b3VjaERyYWcgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgYmFzZS5nZXN0dXJlcygpO1xuICAgICAgICAgICAgICAgIGJhc2UuZGlzYWJsZWRFdmVudHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBldmVudFR5cGVzIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGJhc2UgPSB0aGlzLFxuICAgICAgICAgICAgICAgIHR5cGVzID0gW1wic1wiLCBcImVcIiwgXCJ4XCJdO1xuXG4gICAgICAgICAgICBiYXNlLmV2X3R5cGVzID0ge307XG5cbiAgICAgICAgICAgIGlmIChiYXNlLm9wdGlvbnMubW91c2VEcmFnID09PSB0cnVlICYmIGJhc2Uub3B0aW9ucy50b3VjaERyYWcgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0eXBlcyA9IFtcbiAgICAgICAgICAgICAgICAgICAgXCJ0b3VjaHN0YXJ0Lm93bCBtb3VzZWRvd24ub3dsXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidG91Y2htb3ZlLm93bCBtb3VzZW1vdmUub3dsXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidG91Y2hlbmQub3dsIHRvdWNoY2FuY2VsLm93bCBtb3VzZXVwLm93bFwiXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYmFzZS5vcHRpb25zLm1vdXNlRHJhZyA9PT0gZmFsc2UgJiYgYmFzZS5vcHRpb25zLnRvdWNoRHJhZyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHR5cGVzID0gW1xuICAgICAgICAgICAgICAgICAgICBcInRvdWNoc3RhcnQub3dsXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidG91Y2htb3ZlLm93bFwiLFxuICAgICAgICAgICAgICAgICAgICBcInRvdWNoZW5kLm93bCB0b3VjaGNhbmNlbC5vd2xcIlxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGJhc2Uub3B0aW9ucy5tb3VzZURyYWcgPT09IHRydWUgJiYgYmFzZS5vcHRpb25zLnRvdWNoRHJhZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICB0eXBlcyA9IFtcbiAgICAgICAgICAgICAgICAgICAgXCJtb3VzZWRvd24ub3dsXCIsXG4gICAgICAgICAgICAgICAgICAgIFwibW91c2Vtb3ZlLm93bFwiLFxuICAgICAgICAgICAgICAgICAgICBcIm1vdXNldXAub3dsXCJcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBiYXNlLmV2X3R5cGVzLnN0YXJ0ID0gdHlwZXNbMF07XG4gICAgICAgICAgICBiYXNlLmV2X3R5cGVzLm1vdmUgPSB0eXBlc1sxXTtcbiAgICAgICAgICAgIGJhc2UuZXZfdHlwZXMuZW5kID0gdHlwZXNbMl07XG4gICAgICAgIH0sXG5cbiAgICAgICAgZGlzYWJsZWRFdmVudHMgOiAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGJhc2UgPSB0aGlzO1xuICAgICAgICAgICAgYmFzZS4kZWxlbS5vbihcImRyYWdzdGFydC5vd2xcIiwgZnVuY3Rpb24gKGV2ZW50KSB7IGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IH0pO1xuICAgICAgICAgICAgYmFzZS4kZWxlbS5vbihcIm1vdXNlZG93bi5kaXNhYmxlVGV4dFNlbGVjdFwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAkKGUudGFyZ2V0KS5pcygnaW5wdXQsIHRleHRhcmVhLCBzZWxlY3QsIG9wdGlvbicpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2VzdHVyZXMgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvKmpzbGludCB1bnBhcmFtOiB0cnVlKi9cbiAgICAgICAgICAgIHZhciBiYXNlID0gdGhpcyxcbiAgICAgICAgICAgICAgICBsb2NhbHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldFggOiAwLFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXRZIDogMCxcbiAgICAgICAgICAgICAgICAgICAgYmFzZUVsV2lkdGggOiAwLFxuICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZVBvcyA6IDAsXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBtaW5Td2lwZSA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIG1heFN3aXBlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBzbGlkaW5nIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgZGFyZ2dpbmc6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldEVsZW1lbnQgOiBudWxsXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgYmFzZS5pc0Nzc0ZpbmlzaCA9IHRydWU7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFRvdWNoZXMoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQudG91Y2hlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4IDogZXZlbnQudG91Y2hlc1swXS5wYWdlWCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgOiBldmVudC50b3VjaGVzWzBdLnBhZ2VZXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LnRvdWNoZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQucGFnZVggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4IDogZXZlbnQucGFnZVgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeSA6IGV2ZW50LnBhZ2VZXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5wYWdlWCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHggOiBldmVudC5jbGllbnRYLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkgOiBldmVudC5jbGllbnRZXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBzd2FwRXZlbnRzKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gXCJvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKGJhc2UuZXZfdHlwZXMubW92ZSwgZHJhZ01vdmUpO1xuICAgICAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5vbihiYXNlLmV2X3R5cGVzLmVuZCwgZHJhZ0VuZCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBcIm9mZlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLm9mZihiYXNlLmV2X3R5cGVzLm1vdmUpO1xuICAgICAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5vZmYoYmFzZS5ldl90eXBlcy5lbmQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gZHJhZ1N0YXJ0KGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIGV2ID0gZXZlbnQub3JpZ2luYWxFdmVudCB8fCBldmVudCB8fCB3aW5kb3cuZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uO1xuXG4gICAgICAgICAgICAgICAgaWYgKGV2LndoaWNoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGJhc2UuaXRlbXNBbW91bnQgPD0gYmFzZS5vcHRpb25zLml0ZW1zKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGJhc2UuaXNDc3NGaW5pc2ggPT09IGZhbHNlICYmICFiYXNlLm9wdGlvbnMuZHJhZ0JlZm9yZUFuaW1GaW5pc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYmFzZS5pc0NzczNGaW5pc2ggPT09IGZhbHNlICYmICFiYXNlLm9wdGlvbnMuZHJhZ0JlZm9yZUFuaW1GaW5pc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChiYXNlLm9wdGlvbnMuYXV0b1BsYXkgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKGJhc2UuYXV0b1BsYXlJbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGJhc2UuYnJvd3Nlci5pc1RvdWNoICE9PSB0cnVlICYmICFiYXNlLiRvd2xXcmFwcGVyLmhhc0NsYXNzKFwiZ3JhYmJpbmdcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZS4kb3dsV3JhcHBlci5hZGRDbGFzcyhcImdyYWJiaW5nXCIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGJhc2UubmV3UG9zWCA9IDA7XG4gICAgICAgICAgICAgICAgYmFzZS5uZXdSZWxhdGl2ZVggPSAwO1xuXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5jc3MoYmFzZS5yZW1vdmVUcmFuc2l0aW9uKCkpO1xuXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSAkKHRoaXMpLnBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgbG9jYWxzLnJlbGF0aXZlUG9zID0gcG9zaXRpb24ubGVmdDtcblxuICAgICAgICAgICAgICAgIGxvY2Fscy5vZmZzZXRYID0gZ2V0VG91Y2hlcyhldikueCAtIHBvc2l0aW9uLmxlZnQ7XG4gICAgICAgICAgICAgICAgbG9jYWxzLm9mZnNldFkgPSBnZXRUb3VjaGVzKGV2KS55IC0gcG9zaXRpb24udG9wO1xuXG4gICAgICAgICAgICAgICAgc3dhcEV2ZW50cyhcIm9uXCIpO1xuXG4gICAgICAgICAgICAgICAgbG9jYWxzLnNsaWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBsb2NhbHMudGFyZ2V0RWxlbWVudCA9IGV2LnRhcmdldCB8fCBldi5zcmNFbGVtZW50O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBkcmFnTW92ZShldmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBldiA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQgfHwgZXZlbnQgfHwgd2luZG93LmV2ZW50LFxuICAgICAgICAgICAgICAgICAgICBtaW5Td2lwZSxcbiAgICAgICAgICAgICAgICAgICAgbWF4U3dpcGU7XG5cbiAgICAgICAgICAgICAgICBiYXNlLm5ld1Bvc1ggPSBnZXRUb3VjaGVzKGV2KS54IC0gbG9jYWxzLm9mZnNldFg7XG4gICAgICAgICAgICAgICAgYmFzZS5uZXdQb3NZID0gZ2V0VG91Y2hlcyhldikueSAtIGxvY2Fscy5vZmZzZXRZO1xuICAgICAgICAgICAgICAgIGJhc2UubmV3UmVsYXRpdmVYID0gYmFzZS5uZXdQb3NYIC0gbG9jYWxzLnJlbGF0aXZlUG9zO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBiYXNlLm9wdGlvbnMuc3RhcnREcmFnZ2luZyA9PT0gXCJmdW5jdGlvblwiICYmIGxvY2Fscy5kcmFnZ2luZyAhPT0gdHJ1ZSAmJiBiYXNlLm5ld1JlbGF0aXZlWCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBsb2NhbHMuZHJhZ2dpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBiYXNlLm9wdGlvbnMuc3RhcnREcmFnZ2luZy5hcHBseShiYXNlLCBbYmFzZS4kZWxlbV0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICgoYmFzZS5uZXdSZWxhdGl2ZVggPiA4IHx8IGJhc2UubmV3UmVsYXRpdmVYIDwgLTgpICYmIChiYXNlLmJyb3dzZXIuaXNUb3VjaCA9PT0gdHJ1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2LnByZXZlbnREZWZhdWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldi5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxvY2Fscy5zbGlkaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoKGJhc2UubmV3UG9zWSA+IDEwIHx8IGJhc2UubmV3UG9zWSA8IC0xMCkgJiYgbG9jYWxzLnNsaWRpbmcgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLm9mZihcInRvdWNobW92ZS5vd2xcIik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbWluU3dpcGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiYXNlLm5ld1JlbGF0aXZlWCAvIDU7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIG1heFN3aXBlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmFzZS5tYXhpbXVtUGl4ZWxzICsgYmFzZS5uZXdSZWxhdGl2ZVggLyA1O1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBiYXNlLm5ld1Bvc1ggPSBNYXRoLm1heChNYXRoLm1pbihiYXNlLm5ld1Bvc1gsIG1pblN3aXBlKCkpLCBtYXhTd2lwZSgpKTtcbiAgICAgICAgICAgICAgICBpZiAoYmFzZS5icm93c2VyLnN1cHBvcnQzZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlLnRyYW5zaXRpb24zZChiYXNlLm5ld1Bvc1gpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2UuY3NzMm1vdmUoYmFzZS5uZXdQb3NYKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGRyYWdFbmQoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXYgPSBldmVudC5vcmlnaW5hbEV2ZW50IHx8IGV2ZW50IHx8IHdpbmRvdy5ldmVudCxcbiAgICAgICAgICAgICAgICAgICAgbmV3UG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXJzLFxuICAgICAgICAgICAgICAgICAgICBvd2xTdG9wRXZlbnQ7XG5cbiAgICAgICAgICAgICAgICBldi50YXJnZXQgPSBldi50YXJnZXQgfHwgZXYuc3JjRWxlbWVudDtcblxuICAgICAgICAgICAgICAgIGxvY2Fscy5kcmFnZ2luZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgaWYgKGJhc2UuYnJvd3Nlci5pc1RvdWNoICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2UuJG93bFdyYXBwZXIucmVtb3ZlQ2xhc3MoXCJncmFiYmluZ1wiKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoYmFzZS5uZXdSZWxhdGl2ZVggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2UuZHJhZ0RpcmVjdGlvbiA9IGJhc2Uub3dsLmRyYWdEaXJlY3Rpb24gPSBcImxlZnRcIjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBiYXNlLmRyYWdEaXJlY3Rpb24gPSBiYXNlLm93bC5kcmFnRGlyZWN0aW9uID0gXCJyaWdodFwiO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChiYXNlLm5ld1JlbGF0aXZlWCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBuZXdQb3NpdGlvbiA9IGJhc2UuZ2V0TmV3UG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgYmFzZS5nb1RvKG5ld1Bvc2l0aW9uLCBmYWxzZSwgXCJkcmFnXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobG9jYWxzLnRhcmdldEVsZW1lbnQgPT09IGV2LnRhcmdldCAmJiBiYXNlLmJyb3dzZXIuaXNUb3VjaCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJChldi50YXJnZXQpLm9uKFwiY2xpY2suZGlzYWJsZVwiLCBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoZXYudGFyZ2V0KS5vZmYoXCJjbGljay5kaXNhYmxlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVycyA9ICQuX2RhdGEoZXYudGFyZ2V0LCBcImV2ZW50c1wiKS5jbGljaztcbiAgICAgICAgICAgICAgICAgICAgICAgIG93bFN0b3BFdmVudCA9IGhhbmRsZXJzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlcnMuc3BsaWNlKDAsIDAsIG93bFN0b3BFdmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3dhcEV2ZW50cyhcIm9mZlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJhc2UuJGVsZW0ub24oYmFzZS5ldl90eXBlcy5zdGFydCwgXCIub3dsLXdyYXBwZXJcIiwgZHJhZ1N0YXJ0KTtcbiAgICAgICAgfSxcblxuICAgICAgICBnZXROZXdQb3NpdGlvbiA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBiYXNlID0gdGhpcyxcbiAgICAgICAgICAgICAgICBuZXdQb3NpdGlvbiA9IGJhc2UuY2xvc2VzdEl0ZW0oKTtcblxuICAgICAgICAgICAgaWYgKG5ld1Bvc2l0aW9uID4gYmFzZS5tYXhpbXVtSXRlbSkge1xuICAgICAgICAgICAgICAgIGJhc2UuY3VycmVudEl0ZW0gPSBiYXNlLm1heGltdW1JdGVtO1xuICAgICAgICAgICAgICAgIG5ld1Bvc2l0aW9uICA9IGJhc2UubWF4aW11bUl0ZW07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGJhc2UubmV3UG9zWCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgbmV3UG9zaXRpb24gPSAwO1xuICAgICAgICAgICAgICAgIGJhc2UuY3VycmVudEl0ZW0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ld1Bvc2l0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBjbG9zZXN0SXRlbSA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBiYXNlID0gdGhpcyxcbiAgICAgICAgICAgICAgICBhcnJheSA9IGJhc2Uub3B0aW9ucy5zY3JvbGxQZXJQYWdlID09PSB0cnVlID8gYmFzZS5wYWdlc0luQXJyYXkgOiBiYXNlLnBvc2l0aW9uc0luQXJyYXksXG4gICAgICAgICAgICAgICAgZ29hbCA9IGJhc2UubmV3UG9zWCxcbiAgICAgICAgICAgICAgICBjbG9zZXN0ID0gbnVsbDtcblxuICAgICAgICAgICAgJC5lYWNoKGFycmF5LCBmdW5jdGlvbiAoaSwgdikge1xuICAgICAgICAgICAgICAgIGlmIChnb2FsIC0gKGJhc2UuaXRlbVdpZHRoIC8gMjApID4gYXJyYXlbaSArIDFdICYmIGdvYWwgLSAoYmFzZS5pdGVtV2lkdGggLyAyMCkgPCB2ICYmIGJhc2UubW92ZURpcmVjdGlvbigpID09PSBcImxlZnRcIikge1xuICAgICAgICAgICAgICAgICAgICBjbG9zZXN0ID0gdjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJhc2Uub3B0aW9ucy5zY3JvbGxQZXJQYWdlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlLmN1cnJlbnRJdGVtID0gJC5pbkFycmF5KGNsb3Nlc3QsIGJhc2UucG9zaXRpb25zSW5BcnJheSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlLmN1cnJlbnRJdGVtID0gaTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZ29hbCArIChiYXNlLml0ZW1XaWR0aCAvIDIwKSA8IHYgJiYgZ29hbCArIChiYXNlLml0ZW1XaWR0aCAvIDIwKSA+IChhcnJheVtpICsgMV0gfHwgYXJyYXlbaV0gLSBiYXNlLml0ZW1XaWR0aCkgJiYgYmFzZS5tb3ZlRGlyZWN0aW9uKCkgPT09IFwicmlnaHRcIikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYmFzZS5vcHRpb25zLnNjcm9sbFBlclBhZ2UgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3Nlc3QgPSBhcnJheVtpICsgMV0gfHwgYXJyYXlbYXJyYXkubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlLmN1cnJlbnRJdGVtID0gJC5pbkFycmF5KGNsb3Nlc3QsIGJhc2UucG9zaXRpb25zSW5BcnJheSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9zZXN0ID0gYXJyYXlbaSArIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZS5jdXJyZW50SXRlbSA9IGkgKyAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gYmFzZS5jdXJyZW50SXRlbTtcbiAgICAgICAgfSxcblxuICAgICAgICBtb3ZlRGlyZWN0aW9uIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGJhc2UgPSB0aGlzLFxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbjtcbiAgICAgICAgICAgIGlmIChiYXNlLm5ld1JlbGF0aXZlWCA8IDApIHtcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSBcInJpZ2h0XCI7XG4gICAgICAgICAgICAgICAgYmFzZS5wbGF5RGlyZWN0aW9uID0gXCJuZXh0XCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9IFwibGVmdFwiO1xuICAgICAgICAgICAgICAgIGJhc2UucGxheURpcmVjdGlvbiA9IFwicHJldlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRpcmVjdGlvbjtcbiAgICAgICAgfSxcblxuICAgICAgICBjdXN0b21FdmVudHMgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvKmpzbGludCB1bnBhcmFtOiB0cnVlKi9cbiAgICAgICAgICAgIHZhciBiYXNlID0gdGhpcztcbiAgICAgICAgICAgIGJhc2UuJGVsZW0ub24oXCJvd2wubmV4dFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgYmFzZS5uZXh0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJhc2UuJGVsZW0ub24oXCJvd2wucHJldlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgYmFzZS5wcmV2KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJhc2UuJGVsZW0ub24oXCJvd2wucGxheVwiLCBmdW5jdGlvbiAoZXZlbnQsIHNwZWVkKSB7XG4gICAgICAgICAgICAgICAgYmFzZS5vcHRpb25zLmF1dG9QbGF5ID0gc3BlZWQ7XG4gICAgICAgICAgICAgICAgYmFzZS5wbGF5KCk7XG4gICAgICAgICAgICAgICAgYmFzZS5ob3ZlclN0YXR1cyA9IFwicGxheVwiO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBiYXNlLiRlbGVtLm9uKFwib3dsLnN0b3BcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGJhc2Uuc3RvcCgpO1xuICAgICAgICAgICAgICAgIGJhc2UuaG92ZXJTdGF0dXMgPSBcInN0b3BcIjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYmFzZS4kZWxlbS5vbihcIm93bC5nb1RvXCIsIGZ1bmN0aW9uIChldmVudCwgaXRlbSkge1xuICAgICAgICAgICAgICAgIGJhc2UuZ29UbyhpdGVtKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYmFzZS4kZWxlbS5vbihcIm93bC5qdW1wVG9cIiwgZnVuY3Rpb24gKGV2ZW50LCBpdGVtKSB7XG4gICAgICAgICAgICAgICAgYmFzZS5qdW1wVG8oaXRlbSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBzdG9wT25Ib3ZlciA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBiYXNlID0gdGhpcztcbiAgICAgICAgICAgIGlmIChiYXNlLm9wdGlvbnMuc3RvcE9uSG92ZXIgPT09IHRydWUgJiYgYmFzZS5icm93c2VyLmlzVG91Y2ggIT09IHRydWUgJiYgYmFzZS5vcHRpb25zLmF1dG9QbGF5ICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGJhc2UuJGVsZW0ub24oXCJtb3VzZW92ZXJcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlLnN0b3AoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBiYXNlLiRlbGVtLm9uKFwibW91c2VvdXRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYmFzZS5ob3ZlclN0YXR1cyAhPT0gXCJzdG9wXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2UucGxheSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgbGF6eUxvYWQgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYmFzZSA9IHRoaXMsXG4gICAgICAgICAgICAgICAgaSxcbiAgICAgICAgICAgICAgICAkaXRlbSxcbiAgICAgICAgICAgICAgICBpdGVtTnVtYmVyLFxuICAgICAgICAgICAgICAgICRsYXp5SW1nLFxuICAgICAgICAgICAgICAgIGZvbGxvdztcblxuICAgICAgICAgICAgaWYgKGJhc2Uub3B0aW9ucy5sYXp5TG9hZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYmFzZS5pdGVtc0Ftb3VudDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgJGl0ZW0gPSAkKGJhc2UuJG93bEl0ZW1zW2ldKTtcblxuICAgICAgICAgICAgICAgIGlmICgkaXRlbS5kYXRhKFwib3dsLWxvYWRlZFwiKSA9PT0gXCJsb2FkZWRcIikge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpdGVtTnVtYmVyID0gJGl0ZW0uZGF0YShcIm93bC1pdGVtXCIpO1xuICAgICAgICAgICAgICAgICRsYXp5SW1nID0gJGl0ZW0uZmluZChcIi5sYXp5T3dsXCIpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAkbGF6eUltZy5kYXRhKFwic3JjXCIpICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICRpdGVtLmRhdGEoXCJvd2wtbG9hZGVkXCIsIFwibG9hZGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCRpdGVtLmRhdGEoXCJvd2wtbG9hZGVkXCIpID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgJGxhenlJbWcuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAkaXRlbS5hZGRDbGFzcyhcImxvYWRpbmdcIikuZGF0YShcIm93bC1sb2FkZWRcIiwgXCJjaGVja2VkXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYmFzZS5vcHRpb25zLmxhenlGb2xsb3cgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9sbG93ID0gaXRlbU51bWJlciA+PSBiYXNlLmN1cnJlbnRJdGVtO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZvbGxvdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChmb2xsb3cgJiYgaXRlbU51bWJlciA8IGJhc2UuY3VycmVudEl0ZW0gKyBiYXNlLm9wdGlvbnMuaXRlbXMgJiYgJGxhenlJbWcubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2UubGF6eVByZWxvYWQoJGl0ZW0sICRsYXp5SW1nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgbGF6eVByZWxvYWQgOiBmdW5jdGlvbiAoJGl0ZW0sICRsYXp5SW1nKSB7XG4gICAgICAgICAgICB2YXIgYmFzZSA9IHRoaXMsXG4gICAgICAgICAgICAgICAgaXRlcmF0aW9ucyA9IDAsXG4gICAgICAgICAgICAgICAgaXNCYWNrZ3JvdW5kSW1nO1xuXG4gICAgICAgICAgICBpZiAoJGxhenlJbWcucHJvcChcInRhZ05hbWVcIikgPT09IFwiRElWXCIpIHtcbiAgICAgICAgICAgICAgICAkbGF6eUltZy5jc3MoXCJiYWNrZ3JvdW5kLWltYWdlXCIsIFwidXJsKFwiICsgJGxhenlJbWcuZGF0YShcInNyY1wiKSArIFwiKVwiKTtcbiAgICAgICAgICAgICAgICBpc0JhY2tncm91bmRJbWcgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkbGF6eUltZ1swXS5zcmMgPSAkbGF6eUltZy5kYXRhKFwic3JjXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBzaG93SW1hZ2UoKSB7XG4gICAgICAgICAgICAgICAgJGl0ZW0uZGF0YShcIm93bC1sb2FkZWRcIiwgXCJsb2FkZWRcIikucmVtb3ZlQ2xhc3MoXCJsb2FkaW5nXCIpO1xuICAgICAgICAgICAgICAgICRsYXp5SW1nLnJlbW92ZUF0dHIoXCJkYXRhLXNyY1wiKTtcbiAgICAgICAgICAgICAgICBpZiAoYmFzZS5vcHRpb25zLmxhenlFZmZlY3QgPT09IFwiZmFkZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICRsYXp5SW1nLmZhZGVJbig0MDApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICRsYXp5SW1nLnNob3coKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBiYXNlLm9wdGlvbnMuYWZ0ZXJMYXp5TG9hZCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2Uub3B0aW9ucy5hZnRlckxhenlMb2FkLmFwcGx5KHRoaXMsIFtiYXNlLiRlbGVtXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBjaGVja0xhenlJbWFnZSgpIHtcbiAgICAgICAgICAgICAgICBpdGVyYXRpb25zICs9IDE7XG4gICAgICAgICAgICAgICAgaWYgKGJhc2UuY29tcGxldGVJbWcoJGxhenlJbWcuZ2V0KDApKSB8fCBpc0JhY2tncm91bmRJbWcgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hvd0ltYWdlKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpdGVyYXRpb25zIDw9IDEwMCkgey8vaWYgaW1hZ2UgbG9hZHMgaW4gbGVzcyB0aGFuIDEwIHNlY29uZHMgXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGNoZWNrTGF6eUltYWdlLCAxMDApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNob3dJbWFnZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2hlY2tMYXp5SW1hZ2UoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBhdXRvSGVpZ2h0IDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGJhc2UgPSB0aGlzLFxuICAgICAgICAgICAgICAgICRjdXJyZW50aW1nID0gJChiYXNlLiRvd2xJdGVtc1tiYXNlLmN1cnJlbnRJdGVtXSkuZmluZChcImltZ1wiKSxcbiAgICAgICAgICAgICAgICBpdGVyYXRpb25zO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBhZGRIZWlnaHQoKSB7XG4gICAgICAgICAgICAgICAgdmFyICRjdXJyZW50SXRlbSA9ICQoYmFzZS4kb3dsSXRlbXNbYmFzZS5jdXJyZW50SXRlbV0pLmhlaWdodCgpO1xuICAgICAgICAgICAgICAgIGJhc2Uud3JhcHBlck91dGVyLmNzcyhcImhlaWdodFwiLCAkY3VycmVudEl0ZW0gKyBcInB4XCIpO1xuICAgICAgICAgICAgICAgIGlmICghYmFzZS53cmFwcGVyT3V0ZXIuaGFzQ2xhc3MoXCJhdXRvSGVpZ2h0XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2Uud3JhcHBlck91dGVyLmFkZENsYXNzKFwiYXV0b0hlaWdodFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBjaGVja0ltYWdlKCkge1xuICAgICAgICAgICAgICAgIGl0ZXJhdGlvbnMgKz0gMTtcbiAgICAgICAgICAgICAgICBpZiAoYmFzZS5jb21wbGV0ZUltZygkY3VycmVudGltZy5nZXQoMCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZEhlaWdodCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXRlcmF0aW9ucyA8PSAxMDApIHsgLy9pZiBpbWFnZSBsb2FkcyBpbiBsZXNzIHRoYW4gMTAgc2Vjb25kcyBcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoY2hlY2tJbWFnZSwgMTAwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBiYXNlLndyYXBwZXJPdXRlci5jc3MoXCJoZWlnaHRcIiwgXCJcIik7IC8vRWxzZSByZW1vdmUgaGVpZ2h0IGF0dHJpYnV0ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCRjdXJyZW50aW1nLmdldCgwKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaXRlcmF0aW9ucyA9IDA7XG4gICAgICAgICAgICAgICAgY2hlY2tJbWFnZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhZGRIZWlnaHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBjb21wbGV0ZUltZyA6IGZ1bmN0aW9uIChpbWcpIHtcbiAgICAgICAgICAgIHZhciBuYXR1cmFsV2lkdGhUeXBlO1xuXG4gICAgICAgICAgICBpZiAoIWltZy5jb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5hdHVyYWxXaWR0aFR5cGUgPSB0eXBlb2YgaW1nLm5hdHVyYWxXaWR0aDtcbiAgICAgICAgICAgIGlmIChuYXR1cmFsV2lkdGhUeXBlICE9PSBcInVuZGVmaW5lZFwiICYmIGltZy5uYXR1cmFsV2lkdGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSxcblxuICAgICAgICBvblZpc2libGVJdGVtcyA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBiYXNlID0gdGhpcyxcbiAgICAgICAgICAgICAgICBpO1xuXG4gICAgICAgICAgICBpZiAoYmFzZS5vcHRpb25zLmFkZENsYXNzQWN0aXZlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgYmFzZS4kb3dsSXRlbXMucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiYXNlLnZpc2libGVJdGVtcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChpID0gYmFzZS5jdXJyZW50SXRlbTsgaSA8IGJhc2UuY3VycmVudEl0ZW0gKyBiYXNlLm9wdGlvbnMuaXRlbXM7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIGJhc2UudmlzaWJsZUl0ZW1zLnB1c2goaSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoYmFzZS5vcHRpb25zLmFkZENsYXNzQWN0aXZlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICQoYmFzZS4kb3dsSXRlbXNbaV0pLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJhc2Uub3dsLnZpc2libGVJdGVtcyA9IGJhc2UudmlzaWJsZUl0ZW1zO1xuICAgICAgICB9LFxuXG4gICAgICAgIHRyYW5zaXRpb25UeXBlcyA6IGZ1bmN0aW9uIChjbGFzc05hbWUpIHtcbiAgICAgICAgICAgIHZhciBiYXNlID0gdGhpcztcbiAgICAgICAgICAgIC8vQ3VycmVudGx5IGF2YWlsYWJsZTogXCJmYWRlXCIsIFwiYmFja1NsaWRlXCIsIFwiZ29Eb3duXCIsIFwiZmFkZVVwXCJcbiAgICAgICAgICAgIGJhc2Uub3V0Q2xhc3MgPSBcIm93bC1cIiArIGNsYXNzTmFtZSArIFwiLW91dFwiO1xuICAgICAgICAgICAgYmFzZS5pbkNsYXNzID0gXCJvd2wtXCIgKyBjbGFzc05hbWUgKyBcIi1pblwiO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNpbmdsZUl0ZW1UcmFuc2l0aW9uIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGJhc2UgPSB0aGlzLFxuICAgICAgICAgICAgICAgIG91dENsYXNzID0gYmFzZS5vdXRDbGFzcyxcbiAgICAgICAgICAgICAgICBpbkNsYXNzID0gYmFzZS5pbkNsYXNzLFxuICAgICAgICAgICAgICAgICRjdXJyZW50SXRlbSA9IGJhc2UuJG93bEl0ZW1zLmVxKGJhc2UuY3VycmVudEl0ZW0pLFxuICAgICAgICAgICAgICAgICRwcmV2SXRlbSA9IGJhc2UuJG93bEl0ZW1zLmVxKGJhc2UucHJldkl0ZW0pLFxuICAgICAgICAgICAgICAgIHByZXZQb3MgPSBNYXRoLmFicyhiYXNlLnBvc2l0aW9uc0luQXJyYXlbYmFzZS5jdXJyZW50SXRlbV0pICsgYmFzZS5wb3NpdGlvbnNJbkFycmF5W2Jhc2UucHJldkl0ZW1dLFxuICAgICAgICAgICAgICAgIG9yaWdpbiA9IE1hdGguYWJzKGJhc2UucG9zaXRpb25zSW5BcnJheVtiYXNlLmN1cnJlbnRJdGVtXSkgKyBiYXNlLml0ZW1XaWR0aCAvIDIsXG4gICAgICAgICAgICAgICAgYW5pbUVuZCA9ICd3ZWJraXRBbmltYXRpb25FbmQgb0FuaW1hdGlvbkVuZCBNU0FuaW1hdGlvbkVuZCBhbmltYXRpb25lbmQnO1xuXG4gICAgICAgICAgICBiYXNlLmlzVHJhbnNpdGlvbiA9IHRydWU7XG5cbiAgICAgICAgICAgIGJhc2UuJG93bFdyYXBwZXJcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ293bC1vcmlnaW4nKVxuICAgICAgICAgICAgICAgIC5jc3Moe1xuICAgICAgICAgICAgICAgICAgICBcIi13ZWJraXQtdHJhbnNmb3JtLW9yaWdpblwiIDogb3JpZ2luICsgXCJweFwiLFxuICAgICAgICAgICAgICAgICAgICBcIi1tb3otcGVyc3BlY3RpdmUtb3JpZ2luXCIgOiBvcmlnaW4gKyBcInB4XCIsXG4gICAgICAgICAgICAgICAgICAgIFwicGVyc3BlY3RpdmUtb3JpZ2luXCIgOiBvcmlnaW4gKyBcInB4XCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIHRyYW5zU3R5bGVzKHByZXZQb3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBcInBvc2l0aW9uXCIgOiBcInJlbGF0aXZlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwibGVmdFwiIDogcHJldlBvcyArIFwicHhcIlxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICRwcmV2SXRlbVxuICAgICAgICAgICAgICAgIC5jc3ModHJhbnNTdHlsZXMocHJldlBvcywgMTApKVxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcyhvdXRDbGFzcylcbiAgICAgICAgICAgICAgICAub24oYW5pbUVuZCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlLmVuZFByZXYgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAkcHJldkl0ZW0ub2ZmKGFuaW1FbmQpO1xuICAgICAgICAgICAgICAgICAgICBiYXNlLmNsZWFyVHJhbnNTdHlsZSgkcHJldkl0ZW0sIG91dENsYXNzKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJGN1cnJlbnRJdGVtXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKGluQ2xhc3MpXG4gICAgICAgICAgICAgICAgLm9uKGFuaW1FbmQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZS5lbmRDdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgJGN1cnJlbnRJdGVtLm9mZihhbmltRW5kKTtcbiAgICAgICAgICAgICAgICAgICAgYmFzZS5jbGVhclRyYW5zU3R5bGUoJGN1cnJlbnRJdGVtLCBpbkNsYXNzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBjbGVhclRyYW5zU3R5bGUgOiBmdW5jdGlvbiAoaXRlbSwgY2xhc3NUb1JlbW92ZSkge1xuICAgICAgICAgICAgdmFyIGJhc2UgPSB0aGlzO1xuICAgICAgICAgICAgaXRlbS5jc3Moe1xuICAgICAgICAgICAgICAgIFwicG9zaXRpb25cIiA6IFwiXCIsXG4gICAgICAgICAgICAgICAgXCJsZWZ0XCIgOiBcIlwiXG4gICAgICAgICAgICB9KS5yZW1vdmVDbGFzcyhjbGFzc1RvUmVtb3ZlKTtcblxuICAgICAgICAgICAgaWYgKGJhc2UuZW5kUHJldiAmJiBiYXNlLmVuZEN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBiYXNlLiRvd2xXcmFwcGVyLnJlbW92ZUNsYXNzKCdvd2wtb3JpZ2luJyk7XG4gICAgICAgICAgICAgICAgYmFzZS5lbmRQcmV2ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYmFzZS5lbmRDdXJyZW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYmFzZS5pc1RyYW5zaXRpb24gPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBvd2xTdGF0dXMgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYmFzZSA9IHRoaXM7XG4gICAgICAgICAgICBiYXNlLm93bCA9IHtcbiAgICAgICAgICAgICAgICBcInVzZXJPcHRpb25zXCIgICA6IGJhc2UudXNlck9wdGlvbnMsXG4gICAgICAgICAgICAgICAgXCJiYXNlRWxlbWVudFwiICAgOiBiYXNlLiRlbGVtLFxuICAgICAgICAgICAgICAgIFwidXNlckl0ZW1zXCIgICAgIDogYmFzZS4kdXNlckl0ZW1zLFxuICAgICAgICAgICAgICAgIFwib3dsSXRlbXNcIiAgICAgIDogYmFzZS4kb3dsSXRlbXMsXG4gICAgICAgICAgICAgICAgXCJjdXJyZW50SXRlbVwiICAgOiBiYXNlLmN1cnJlbnRJdGVtLFxuICAgICAgICAgICAgICAgIFwicHJldkl0ZW1cIiAgICAgIDogYmFzZS5wcmV2SXRlbSxcbiAgICAgICAgICAgICAgICBcInZpc2libGVJdGVtc1wiICA6IGJhc2UudmlzaWJsZUl0ZW1zLFxuICAgICAgICAgICAgICAgIFwiaXNUb3VjaFwiICAgICAgIDogYmFzZS5icm93c2VyLmlzVG91Y2gsXG4gICAgICAgICAgICAgICAgXCJicm93c2VyXCIgICAgICAgOiBiYXNlLmJyb3dzZXIsXG4gICAgICAgICAgICAgICAgXCJkcmFnRGlyZWN0aW9uXCIgOiBiYXNlLmRyYWdEaXJlY3Rpb25cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2xlYXJFdmVudHMgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYmFzZSA9IHRoaXM7XG4gICAgICAgICAgICBiYXNlLiRlbGVtLm9mZihcIi5vd2wgb3dsIG1vdXNlZG93bi5kaXNhYmxlVGV4dFNlbGVjdFwiKTtcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9mZihcIi5vd2wgb3dsXCIpO1xuICAgICAgICAgICAgJCh3aW5kb3cpLm9mZihcInJlc2l6ZVwiLCBiYXNlLnJlc2l6ZXIpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHVuV3JhcCA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBiYXNlID0gdGhpcztcbiAgICAgICAgICAgIGlmIChiYXNlLiRlbGVtLmNoaWxkcmVuKCkubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgYmFzZS4kb3dsV3JhcHBlci51bndyYXAoKTtcbiAgICAgICAgICAgICAgICBiYXNlLiR1c2VySXRlbXMudW53cmFwKCkudW53cmFwKCk7XG4gICAgICAgICAgICAgICAgaWYgKGJhc2Uub3dsQ29udHJvbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZS5vd2xDb250cm9scy5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiYXNlLmNsZWFyRXZlbnRzKCk7XG4gICAgICAgICAgICBiYXNlLiRlbGVtXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJzdHlsZVwiLCBiYXNlLiRlbGVtLmRhdGEoXCJvd2wtb3JpZ2luYWxTdHlsZXNcIikgfHwgXCJcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIGJhc2UuJGVsZW0uZGF0YShcIm93bC1vcmlnaW5hbENsYXNzZXNcIikpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGRlc3Ryb3kgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYmFzZSA9IHRoaXM7XG4gICAgICAgICAgICBiYXNlLnN0b3AoKTtcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKGJhc2UuY2hlY2tWaXNpYmxlKTtcbiAgICAgICAgICAgIGJhc2UudW5XcmFwKCk7XG4gICAgICAgICAgICBiYXNlLiRlbGVtLnJlbW92ZURhdGEoKTtcbiAgICAgICAgfSxcblxuICAgICAgICByZWluaXQgOiBmdW5jdGlvbiAobmV3T3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIGJhc2UgPSB0aGlzLFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgYmFzZS51c2VyT3B0aW9ucywgbmV3T3B0aW9ucyk7XG4gICAgICAgICAgICBiYXNlLnVuV3JhcCgpO1xuICAgICAgICAgICAgYmFzZS5pbml0KG9wdGlvbnMsIGJhc2UuJGVsZW0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGFkZEl0ZW0gOiBmdW5jdGlvbiAoaHRtbFN0cmluZywgdGFyZ2V0UG9zaXRpb24pIHtcbiAgICAgICAgICAgIHZhciBiYXNlID0gdGhpcyxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjtcblxuICAgICAgICAgICAgaWYgKCFodG1sU3RyaW5nKSB7cmV0dXJuIGZhbHNlOyB9XG5cbiAgICAgICAgICAgIGlmIChiYXNlLiRlbGVtLmNoaWxkcmVuKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYmFzZS4kZWxlbS5hcHBlbmQoaHRtbFN0cmluZyk7XG4gICAgICAgICAgICAgICAgYmFzZS5zZXRWYXJzKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYmFzZS51bldyYXAoKTtcbiAgICAgICAgICAgIGlmICh0YXJnZXRQb3NpdGlvbiA9PT0gdW5kZWZpbmVkIHx8IHRhcmdldFBvc2l0aW9uID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gLTE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gdGFyZ2V0UG9zaXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocG9zaXRpb24gPj0gYmFzZS4kdXNlckl0ZW1zLmxlbmd0aCB8fCBwb3NpdGlvbiA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBiYXNlLiR1c2VySXRlbXMuZXEoLTEpLmFmdGVyKGh0bWxTdHJpbmcpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBiYXNlLiR1c2VySXRlbXMuZXEocG9zaXRpb24pLmJlZm9yZShodG1sU3RyaW5nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYmFzZS5zZXRWYXJzKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVtb3ZlSXRlbSA6IGZ1bmN0aW9uICh0YXJnZXRQb3NpdGlvbikge1xuICAgICAgICAgICAgdmFyIGJhc2UgPSB0aGlzLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uO1xuXG4gICAgICAgICAgICBpZiAoYmFzZS4kZWxlbS5jaGlsZHJlbigpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0YXJnZXRQb3NpdGlvbiA9PT0gdW5kZWZpbmVkIHx8IHRhcmdldFBvc2l0aW9uID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gLTE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gdGFyZ2V0UG9zaXRpb247XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJhc2UudW5XcmFwKCk7XG4gICAgICAgICAgICBiYXNlLiR1c2VySXRlbXMuZXEocG9zaXRpb24pLnJlbW92ZSgpO1xuICAgICAgICAgICAgYmFzZS5zZXRWYXJzKCk7XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICAkLmZuLm93bENhcm91c2VsID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoJCh0aGlzKS5kYXRhKFwib3dsLWluaXRcIikgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkKHRoaXMpLmRhdGEoXCJvd2wtaW5pdFwiLCB0cnVlKTtcbiAgICAgICAgICAgIHZhciBjYXJvdXNlbCA9IE9iamVjdC5jcmVhdGUoQ2Fyb3VzZWwpO1xuICAgICAgICAgICAgY2Fyb3VzZWwuaW5pdChvcHRpb25zLCB0aGlzKTtcbiAgICAgICAgICAgICQuZGF0YSh0aGlzLCBcIm93bENhcm91c2VsXCIsIGNhcm91c2VsKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgICQuZm4ub3dsQ2Fyb3VzZWwub3B0aW9ucyA9IHtcblxuICAgICAgICBpdGVtcyA6IDUsXG4gICAgICAgIGl0ZW1zQ3VzdG9tIDogZmFsc2UsXG4gICAgICAgIGl0ZW1zRGVza3RvcCA6IFsxMTk5LCA0XSxcbiAgICAgICAgaXRlbXNEZXNrdG9wU21hbGwgOiBbOTc5LCAzXSxcbiAgICAgICAgaXRlbXNUYWJsZXQgOiBbNzY4LCAyXSxcbiAgICAgICAgaXRlbXNUYWJsZXRTbWFsbCA6IGZhbHNlLFxuICAgICAgICBpdGVtc01vYmlsZSA6IFs0NzksIDFdLFxuICAgICAgICBzaW5nbGVJdGVtIDogZmFsc2UsXG4gICAgICAgIGl0ZW1zU2NhbGVVcCA6IGZhbHNlLFxuXG4gICAgICAgIHNsaWRlU3BlZWQgOiAyMDAsXG4gICAgICAgIHBhZ2luYXRpb25TcGVlZCA6IDgwMCxcbiAgICAgICAgcmV3aW5kU3BlZWQgOiAxMDAwLFxuXG4gICAgICAgIGF1dG9QbGF5IDogZmFsc2UsXG4gICAgICAgIHN0b3BPbkhvdmVyIDogZmFsc2UsXG5cbiAgICAgICAgbmF2aWdhdGlvbiA6IGZhbHNlLFxuICAgICAgICBuYXZpZ2F0aW9uVGV4dCA6IFtcInByZXZcIiwgXCJuZXh0XCJdLFxuICAgICAgICByZXdpbmROYXYgOiB0cnVlLFxuICAgICAgICBzY3JvbGxQZXJQYWdlIDogZmFsc2UsXG5cbiAgICAgICAgcGFnaW5hdGlvbiA6IHRydWUsXG4gICAgICAgIHBhZ2luYXRpb25OdW1iZXJzIDogZmFsc2UsXG5cbiAgICAgICAgcmVzcG9uc2l2ZSA6IHRydWUsXG4gICAgICAgIHJlc3BvbnNpdmVSZWZyZXNoUmF0ZSA6IDIwMCxcbiAgICAgICAgcmVzcG9uc2l2ZUJhc2VXaWR0aCA6IHdpbmRvdyxcblxuICAgICAgICBiYXNlQ2xhc3MgOiBcIm93bC1jYXJvdXNlbFwiLFxuICAgICAgICB0aGVtZSA6IFwib3dsLXRoZW1lXCIsXG5cbiAgICAgICAgbGF6eUxvYWQgOiBmYWxzZSxcbiAgICAgICAgbGF6eUZvbGxvdyA6IHRydWUsXG4gICAgICAgIGxhenlFZmZlY3QgOiBcImZhZGVcIixcblxuICAgICAgICBhdXRvSGVpZ2h0IDogZmFsc2UsXG5cbiAgICAgICAganNvblBhdGggOiBmYWxzZSxcbiAgICAgICAganNvblN1Y2Nlc3MgOiBmYWxzZSxcblxuICAgICAgICBkcmFnQmVmb3JlQW5pbUZpbmlzaCA6IHRydWUsXG4gICAgICAgIG1vdXNlRHJhZyA6IHRydWUsXG4gICAgICAgIHRvdWNoRHJhZyA6IHRydWUsXG5cbiAgICAgICAgYWRkQ2xhc3NBY3RpdmUgOiBmYWxzZSxcbiAgICAgICAgdHJhbnNpdGlvblN0eWxlIDogZmFsc2UsXG5cbiAgICAgICAgYmVmb3JlVXBkYXRlIDogZmFsc2UsXG4gICAgICAgIGFmdGVyVXBkYXRlIDogZmFsc2UsXG4gICAgICAgIGJlZm9yZUluaXQgOiBmYWxzZSxcbiAgICAgICAgYWZ0ZXJJbml0IDogZmFsc2UsXG4gICAgICAgIGJlZm9yZU1vdmUgOiBmYWxzZSxcbiAgICAgICAgYWZ0ZXJNb3ZlIDogZmFsc2UsXG4gICAgICAgIGFmdGVyQWN0aW9uIDogZmFsc2UsXG4gICAgICAgIHN0YXJ0RHJhZ2dpbmcgOiBmYWxzZSxcbiAgICAgICAgYWZ0ZXJMYXp5TG9hZDogZmFsc2VcbiAgICB9O1xufShqUXVlcnksIHdpbmRvdywgZG9jdW1lbnQpKTsiLCIkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCcub3dsLWNhcm91c2VsJykub3dsQ2Fyb3VzZWwoKTtcblxuICAgICAgIC8qICQoJy5ieHNsaWRlcicpLmJ4U2xpZGVyKHtcbiAgICAgICAgICAgIGF1dG86IGZhbHNlLFxuICAgICAgICAgICAgYXV0b0NvbnRyb2xzOiB0cnVlXG4gICAgICAgIH0pOyovXG5cbiAgICAgICAgZnVuY3Rpb24gZ3JpZCgpIHtcbiAgICAgICAgICAgIHZhciAkZ3JpZCA9ICQoJy5ncmlkJyk7XG4gICAgICAgICAgICAkZ3JpZC5pbWFnZXNMb2FkZWQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICRncmlkLm1hc29ucnkoe1xuICAgICAgICAgICAgICAgICAgICBpdGVtU2VsZWN0b3I6ICcuZ3JpZC1pdGVtJyxcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uV2lkdGg6IGZ1bmN0aW9uKCBjb250YWluZXJXaWR0aCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoY29udGFpbmVyV2lkdGggLyAzIC0gMTApXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGd1dHRlcldpZHRoOiAxMFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzZWFyY2goKSB7XG4gICAgICAgICAgICAkKCcuaWRlYXMnKS5maW5kKCdkaXYnKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIHZhciAkc2VhcmNoS2V5ID0gJCgnLnNlYXJjaF9fZmllbGQnKS52YWwoKTtcblxuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB1cmw6ICdodHRwczovL3BpeGFiYXkuY29tL2FwaS8/a2V5PTI2NTA1ODQtZThmZWFiOWIxMWVkNjQ0ZGNlYzcyOGFjOSZxPScgKyAkc2VhcmNoS2V5ICsgJyZpbWFnZV90eXBlPXBob3RvJyxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb25wJyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciAkaHRtbCA9ICQoJyNjb250YWluZXInKS5odG1sKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciAkY29udGVudCA9IHRtcGwoJGh0bWwsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAkKCcuaWRlYXMnKS5hcHBlbmQoJGNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICBncmlkKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBhbGVydCgnRXJyb3IhJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBzZWFyY2goKTtcblxuICAgICAgICAkKCcuc2VhcmNoX19idXR0b24nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgc2VhcmNoKCk7XG4gICAgICAgICAgICAkKCcuc2VhcmNoX19maWVsZCcpLnZhbCgnJyk7XG4gICAgICAgIH0pXG4gICAgfVxuKTtcbiIsIi8vIFNpbXBsZSBKYXZhU2NyaXB0IFRlbXBsYXRpbmdcbi8vIEpvaG4gUmVzaWcgLSBodHRwOi8vZWpvaG4ub3JnLyAtIE1JVCBMaWNlbnNlZFxuKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY2FjaGUgPSB7fTtcblxuICAgIHRoaXMudG1wbCA9IGZ1bmN0aW9uIHRtcGwoc3RyLCBkYXRhKSB7XG4gICAgICAgIC8vIEZpZ3VyZSBvdXQgaWYgd2UncmUgZ2V0dGluZyBhIHRlbXBsYXRlLCBvciBpZiB3ZSBuZWVkIHRvXG4gICAgICAgIC8vIGxvYWQgdGhlIHRlbXBsYXRlIC0gYW5kIGJlIHN1cmUgdG8gY2FjaGUgdGhlIHJlc3VsdC5cbiAgICAgICAgdmFyIGZuID0gIS9cXFcvLnRlc3Qoc3RyKSA/XG4gICAgICAgICAgICBjYWNoZVtzdHJdID0gY2FjaGVbc3RyXSB8fFxuICAgICAgICAgICAgICAgIHRtcGwoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc3RyKS5pbm5lckhUTUwpIDpcblxuICAgICAgICAgICAgLy8gR2VuZXJhdGUgYSByZXVzYWJsZSBmdW5jdGlvbiB0aGF0IHdpbGwgc2VydmUgYXMgYSB0ZW1wbGF0ZVxuICAgICAgICAgICAgLy8gZ2VuZXJhdG9yIChhbmQgd2hpY2ggd2lsbCBiZSBjYWNoZWQpLlxuICAgICAgICAgICAgbmV3IEZ1bmN0aW9uKFwib2JqXCIsXG4gICAgICAgICAgICAgICAgXCJ2YXIgcD1bXSxwcmludD1mdW5jdGlvbigpe3AucHVzaC5hcHBseShwLGFyZ3VtZW50cyk7fTtcIiArXG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSW50cm9kdWNlIHRoZSBkYXRhIGFzIGxvY2FsIHZhcmlhYmxlcyB1c2luZyB3aXRoKCl7fVxuICAgICAgICAgICAgICAgIFwid2l0aChvYmope3AucHVzaCgnXCIgK1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgdGhlIHRlbXBsYXRlIGludG8gcHVyZSBKYXZhU2NyaXB0XG4gICAgICAgICAgICAgICAgc3RyXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9bXFxyXFx0XFxuXS9nLCBcIiBcIilcbiAgICAgICAgICAgICAgICAgICAgLnNwbGl0KFwiPCVcIikuam9pbihcIlxcdFwiKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvKChefCU+KVteXFx0XSopJy9nLCBcIiQxXFxyXCIpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXHQ9KC4qPyklPi9nLCBcIicsJDEsJ1wiKVxuICAgICAgICAgICAgICAgICAgICAuc3BsaXQoXCJcXHRcIikuam9pbihcIicpO1wiKVxuICAgICAgICAgICAgICAgICAgICAuc3BsaXQoXCIlPlwiKS5qb2luKFwicC5wdXNoKCdcIilcbiAgICAgICAgICAgICAgICAgICAgLnNwbGl0KFwiXFxyXCIpLmpvaW4oXCJcXFxcJ1wiKVxuICAgICAgICAgICAgICAgICsgXCInKTt9cmV0dXJuIHAuam9pbignJyk7XCIpO1xuXG4gICAgICAgIC8vIFByb3ZpZGUgc29tZSBiYXNpYyBjdXJyeWluZyB0byB0aGUgdXNlclxuICAgICAgICByZXR1cm4gZGF0YSA/IGZuKGRhdGEpIDogZm47XG4gICAgfTtcbn0pKCk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
