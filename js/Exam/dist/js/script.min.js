!function(t){var e={},s={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){},onSliderResize:function(){}};t.fn.bxSlider=function(n){if(0==this.length)return this;if(this.length>1)return this.each(function(){t(this).bxSlider(n)}),this;var o={},r=this;e.el=this;var a=t(window).width(),l=t(window).height(),d=function(){o.settings=t.extend({},s,n),o.settings.slideWidth=parseInt(o.settings.slideWidth),o.children=r.children(o.settings.slideSelector),o.children.length<o.settings.minSlides&&(o.settings.minSlides=o.children.length),o.children.length<o.settings.maxSlides&&(o.settings.maxSlides=o.children.length),o.settings.randomStart&&(o.settings.startSlide=Math.floor(Math.random()*o.children.length)),o.active={index:o.settings.startSlide},o.carousel=o.settings.minSlides>1||o.settings.maxSlides>1,o.carousel&&(o.settings.preloadImages="all"),o.minThreshold=o.settings.minSlides*o.settings.slideWidth+(o.settings.minSlides-1)*o.settings.slideMargin,o.maxThreshold=o.settings.maxSlides*o.settings.slideWidth+(o.settings.maxSlides-1)*o.settings.slideMargin,o.working=!1,o.controls={},o.interval=null,o.animProp="vertical"==o.settings.mode?"top":"left",o.usingCSS=o.settings.useCSS&&"fade"!=o.settings.mode&&function(){var t=document.createElement("div"),e=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in e)if(void 0!==t.style[e[i]])return o.cssPrefix=e[i].replace("Perspective","").toLowerCase(),o.animProp="-"+o.cssPrefix+"-transform",!0;return!1}(),"vertical"==o.settings.mode&&(o.settings.maxSlides=o.settings.minSlides),r.data("origStyle",r.attr("style")),r.children(o.settings.slideSelector).each(function(){t(this).data("origStyle",t(this).attr("style"))}),c()},c=function(){r.wrap('<div class="'+o.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),o.viewport=r.parent(),o.loader=t('<div class="bx-loading" />'),o.viewport.prepend(o.loader),r.css({width:"horizontal"==o.settings.mode?100*o.children.length+215+"%":"auto",position:"relative"}),o.usingCSS&&o.settings.easing?r.css("-"+o.cssPrefix+"-transition-timing-function",o.settings.easing):o.settings.easing||(o.settings.easing="swing");f();o.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),o.viewport.parent().css({maxWidth:u()}),o.settings.pager||o.viewport.parent().css({margin:"0 auto 0px"}),o.children.css({"float":"horizontal"==o.settings.mode?"left":"none",listStyle:"none",position:"relative"}),o.children.css("width",v()),"horizontal"==o.settings.mode&&o.settings.slideMargin>0&&o.children.css("marginRight",o.settings.slideMargin),"vertical"==o.settings.mode&&o.settings.slideMargin>0&&o.children.css("marginBottom",o.settings.slideMargin),"fade"==o.settings.mode&&(o.children.css({position:"absolute",zIndex:0,display:"none"}),o.children.eq(o.settings.startSlide).css({zIndex:o.settings.slideZIndex,display:"block"})),o.controls.el=t('<div class="bx-controls" />'),o.settings.captions&&y(),o.active.last=o.settings.startSlide==x()-1,o.settings.video&&r.fitVids();var e=o.children.eq(o.settings.startSlide);"all"==o.settings.preloadImages&&(e=o.children),o.settings.ticker?o.settings.pager=!1:(o.settings.pager&&T(),o.settings.controls&&C(),o.settings.auto&&o.settings.autoControls&&E(),(o.settings.controls||o.settings.autoControls||o.settings.pager)&&o.viewport.after(o.controls.el)),g(e,p)},g=function(e,i){var s=e.find("img, iframe").length;if(0==s)return void i();var n=0;e.find("img, iframe").each(function(){t(this).one("load",function(){++n==s&&i()}).each(function(){this.complete&&t(this).load()})})},p=function(){if(o.settings.infiniteLoop&&"fade"!=o.settings.mode&&!o.settings.ticker){var e="vertical"==o.settings.mode?o.settings.minSlides:o.settings.maxSlides,i=o.children.slice(0,e).clone().addClass("bx-clone"),s=o.children.slice(-e).clone().addClass("bx-clone");r.append(i).prepend(s)}o.loader.remove(),S(),"vertical"==o.settings.mode&&(o.settings.adaptiveHeight=!0),o.viewport.height(h()),r.redrawSlider(),o.settings.onSliderLoad(o.active.index),o.initialized=!0,o.settings.responsive&&t(window).bind("resize",_),o.settings.auto&&o.settings.autoStart&&(x()>1||o.settings.autoSlideForOnePage)&&H(),o.settings.ticker&&L(),o.settings.pager&&q(o.settings.startSlide),o.settings.controls&&A(),o.settings.touchEnabled&&!o.settings.ticker&&j()},h=function(){var e=0,s=t();if("vertical"==o.settings.mode||o.settings.adaptiveHeight)if(o.carousel){var n=1==o.settings.moveSlides?o.active.index:o.active.index*m();for(s=o.children.eq(n),i=1;i<=o.settings.maxSlides-1;i++)s=n+i>=o.children.length?s.add(o.children.eq(i-1)):s.add(o.children.eq(n+i))}else s=o.children.eq(o.active.index);else s=o.children;return"vertical"==o.settings.mode?(s.each(function(i){e+=t(this).outerHeight()}),o.settings.slideMargin>0&&(e+=o.settings.slideMargin*(o.settings.minSlides-1))):e=Math.max.apply(Math,s.map(function(){return t(this).outerHeight(!1)}).get()),"border-box"==o.viewport.css("box-sizing")?e+=parseFloat(o.viewport.css("padding-top"))+parseFloat(o.viewport.css("padding-bottom"))+parseFloat(o.viewport.css("border-top-width"))+parseFloat(o.viewport.css("border-bottom-width")):"padding-box"==o.viewport.css("box-sizing")&&(e+=parseFloat(o.viewport.css("padding-top"))+parseFloat(o.viewport.css("padding-bottom"))),e},u=function(){var t="100%";return o.settings.slideWidth>0&&(t="horizontal"==o.settings.mode?o.settings.maxSlides*o.settings.slideWidth+(o.settings.maxSlides-1)*o.settings.slideMargin:o.settings.slideWidth),t},v=function(){var t=o.settings.slideWidth,e=o.viewport.width();return 0==o.settings.slideWidth||o.settings.slideWidth>e&&!o.carousel||"vertical"==o.settings.mode?t=e:o.settings.maxSlides>1&&"horizontal"==o.settings.mode&&(e>o.maxThreshold||e<o.minThreshold&&(t=(e-o.settings.slideMargin*(o.settings.minSlides-1))/o.settings.minSlides)),t},f=function(){var t=1;if("horizontal"==o.settings.mode&&o.settings.slideWidth>0)if(o.viewport.width()<o.minThreshold)t=o.settings.minSlides;else if(o.viewport.width()>o.maxThreshold)t=o.settings.maxSlides;else{var e=o.children.first().width()+o.settings.slideMargin;t=Math.floor((o.viewport.width()+o.settings.slideMargin)/e)}else"vertical"==o.settings.mode&&(t=o.settings.minSlides);return t},x=function(){var t=0;if(o.settings.moveSlides>0)if(o.settings.infiniteLoop)t=Math.ceil(o.children.length/m());else for(var e=0,i=0;e<o.children.length;)++t,e=i+f(),i+=o.settings.moveSlides<=f()?o.settings.moveSlides:f();else t=Math.ceil(o.children.length/f());return t},m=function(){return o.settings.moveSlides>0&&o.settings.moveSlides<=f()?o.settings.moveSlides:f()},S=function(){if(o.children.length>o.settings.maxSlides&&o.active.last&&!o.settings.infiniteLoop){if("horizontal"==o.settings.mode){var t=o.children.last(),e=t.position();b(-(e.left-(o.viewport.width()-t.outerWidth())),"reset",0)}else if("vertical"==o.settings.mode){var i=o.children.length-o.settings.minSlides,e=o.children.eq(i).position();b(-e.top,"reset",0)}}else{var e=o.children.eq(o.active.index*m()).position();o.active.index==x()-1&&(o.active.last=!0),void 0!=e&&("horizontal"==o.settings.mode?b(-e.left,"reset",0):"vertical"==o.settings.mode&&b(-e.top,"reset",0))}},b=function(t,e,i,s){if(o.usingCSS){var n="vertical"==o.settings.mode?"translate3d(0, "+t+"px, 0)":"translate3d("+t+"px, 0, 0)";r.css("-"+o.cssPrefix+"-transition-duration",i/1e3+"s"),"slide"==e?(r.css(o.animProp,n),r.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){r.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),D()})):"reset"==e?r.css(o.animProp,n):"ticker"==e&&(r.css("-"+o.cssPrefix+"-transition-timing-function","linear"),r.css(o.animProp,n),r.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){r.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),b(s.resetValue,"reset",0),$()}))}else{var a={};a[o.animProp]=t,"slide"==e?r.animate(a,i,o.settings.easing,function(){D()}):"reset"==e?r.css(o.animProp,t):"ticker"==e&&r.animate(a,speed,"linear",function(){b(s.resetValue,"reset",0),$()})}},w=function(){for(var e="",i=x(),s=0;s<i;s++){var n="";o.settings.buildPager&&t.isFunction(o.settings.buildPager)?(n=o.settings.buildPager(s),o.pagerEl.addClass("bx-custom-pager")):(n=s+1,o.pagerEl.addClass("bx-default-pager")),e+='<div class="bx-pager-item"><a href="" data-slide-index="'+s+'" class="bx-pager-link">'+n+"</a></div>"}o.pagerEl.html(e)},T=function(){o.settings.pagerCustom?o.pagerEl=t(o.settings.pagerCustom):(o.pagerEl=t('<div class="bx-pager" />'),o.settings.pagerSelector?t(o.settings.pagerSelector).html(o.pagerEl):o.controls.el.addClass("bx-has-pager").append(o.pagerEl),w()),o.pagerEl.on("click","a",I)},C=function(){o.controls.next=t('<a class="bx-next" href="">'+o.settings.nextText+"</a>"),o.controls.prev=t('<a class="bx-prev" href="">'+o.settings.prevText+"</a>"),o.controls.next.bind("click",P),o.controls.prev.bind("click",z),o.settings.nextSelector&&t(o.settings.nextSelector).append(o.controls.next),o.settings.prevSelector&&t(o.settings.prevSelector).append(o.controls.prev),o.settings.nextSelector||o.settings.prevSelector||(o.controls.directionEl=t('<div class="bx-controls-direction" />'),o.controls.directionEl.append(o.controls.prev).append(o.controls.next),o.controls.el.addClass("bx-has-controls-direction").append(o.controls.directionEl))},E=function(){o.controls.start=t('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+o.settings.startText+"</a></div>"),o.controls.stop=t('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+o.settings.stopText+"</a></div>"),o.controls.autoEl=t('<div class="bx-controls-auto" />'),o.controls.autoEl.on("click",".bx-start",M),o.controls.autoEl.on("click",".bx-stop",k),o.settings.autoControlsCombine?o.controls.autoEl.append(o.controls.start):o.controls.autoEl.append(o.controls.start).append(o.controls.stop),o.settings.autoControlsSelector?t(o.settings.autoControlsSelector).html(o.controls.autoEl):o.controls.el.addClass("bx-has-controls-auto").append(o.controls.autoEl),W(o.settings.autoStart?"stop":"start")},y=function(){o.children.each(function(e){var i=t(this).find("img:first").attr("title");void 0!=i&&(""+i).length&&t(this).append('<div class="bx-caption"><span>'+i+"</span></div>")})},P=function(t){o.settings.auto&&r.stopAuto(),r.goToNextSlide(),t.preventDefault()},z=function(t){o.settings.auto&&r.stopAuto(),r.goToPrevSlide(),t.preventDefault()},M=function(t){r.startAuto(),t.preventDefault()},k=function(t){r.stopAuto(),t.preventDefault()},I=function(e){o.settings.auto&&r.stopAuto();var i=t(e.currentTarget);if(void 0!==i.attr("data-slide-index")){var s=parseInt(i.attr("data-slide-index"));s!=o.active.index&&r.goToSlide(s),e.preventDefault()}},q=function(e){var i=o.children.length;return"short"==o.settings.pagerType?(o.settings.maxSlides>1&&(i=Math.ceil(o.children.length/o.settings.maxSlides)),void o.pagerEl.html(e+1+o.settings.pagerShortSeparator+i)):(o.pagerEl.find("a").removeClass("active"),void o.pagerEl.each(function(i,s){t(s).find("a").eq(e).addClass("active")}))},D=function(){if(o.settings.infiniteLoop){var t="";0==o.active.index?t=o.children.eq(0).position():o.active.index==x()-1&&o.carousel?t=o.children.eq((x()-1)*m()).position():o.active.index==o.children.length-1&&(t=o.children.eq(o.children.length-1).position()),t&&("horizontal"==o.settings.mode?b(-t.left,"reset",0):"vertical"==o.settings.mode&&b(-t.top,"reset",0))}o.working=!1,o.settings.onSlideAfter(o.children.eq(o.active.index),o.oldIndex,o.active.index)},W=function(t){o.settings.autoControlsCombine?o.controls.autoEl.html(o.controls[t]):(o.controls.autoEl.find("a").removeClass("active"),o.controls.autoEl.find("a:not(.bx-"+t+")").addClass("active"))},A=function(){1==x()?(o.controls.prev.addClass("disabled"),o.controls.next.addClass("disabled")):!o.settings.infiniteLoop&&o.settings.hideControlOnEnd&&(0==o.active.index?(o.controls.prev.addClass("disabled"),o.controls.next.removeClass("disabled")):o.active.index==x()-1?(o.controls.next.addClass("disabled"),o.controls.prev.removeClass("disabled")):(o.controls.prev.removeClass("disabled"),o.controls.next.removeClass("disabled")))},H=function(){if(o.settings.autoDelay>0){setTimeout(r.startAuto,o.settings.autoDelay)}else r.startAuto();o.settings.autoHover&&r.hover(function(){o.interval&&(r.stopAuto(!0),o.autoPaused=!0)},function(){o.autoPaused&&(r.startAuto(!0),o.autoPaused=null)})},L=function(){var e=0;if("next"==o.settings.autoDirection)r.append(o.children.clone().addClass("bx-clone"));else{r.prepend(o.children.clone().addClass("bx-clone"));var i=o.children.first().position();e="horizontal"==o.settings.mode?-i.left:-i.top}b(e,"reset",0),o.settings.pager=!1,o.settings.controls=!1,o.settings.autoControls=!1,o.settings.tickerHover&&!o.usingCSS&&o.viewport.hover(function(){r.stop()},function(){var e=0;o.children.each(function(i){e+="horizontal"==o.settings.mode?t(this).outerWidth(!0):t(this).outerHeight(!0)});var i=o.settings.speed/e,s="horizontal"==o.settings.mode?"left":"top",n=i*(e-Math.abs(parseInt(r.css(s))));$(n)}),$()},$=function(t){speed=t?t:o.settings.speed;var e={left:0,top:0},i={left:0,top:0};"next"==o.settings.autoDirection?e=r.find(".bx-clone").first().position():i=o.children.first().position();var s="horizontal"==o.settings.mode?-e.left:-e.top,n="horizontal"==o.settings.mode?-i.left:-i.top,a={resetValue:n};b(s,"ticker",speed,a)},j=function(){o.touch={start:{x:0,y:0},end:{x:0,y:0}},o.viewport.bind("touchstart",F)},F=function(t){if(o.working)t.preventDefault();else{o.touch.originalPos=r.position();var e=t.originalEvent;o.touch.start.x=e.changedTouches[0].pageX,o.touch.start.y=e.changedTouches[0].pageY,o.viewport.bind("touchmove",N),o.viewport.bind("touchend",O)}},N=function(t){var e=t.originalEvent,i=Math.abs(e.changedTouches[0].pageX-o.touch.start.x),s=Math.abs(e.changedTouches[0].pageY-o.touch.start.y);if(3*i>s&&o.settings.preventDefaultSwipeX?t.preventDefault():3*s>i&&o.settings.preventDefaultSwipeY&&t.preventDefault(),"fade"!=o.settings.mode&&o.settings.oneToOneTouch){var n=0;if("horizontal"==o.settings.mode){var r=e.changedTouches[0].pageX-o.touch.start.x;n=o.touch.originalPos.left+r}else{var r=e.changedTouches[0].pageY-o.touch.start.y;n=o.touch.originalPos.top+r}b(n,"reset",0)}},O=function(t){o.viewport.unbind("touchmove",N);var e=t.originalEvent,i=0;if(o.touch.end.x=e.changedTouches[0].pageX,o.touch.end.y=e.changedTouches[0].pageY,"fade"==o.settings.mode){var s=Math.abs(o.touch.start.x-o.touch.end.x);s>=o.settings.swipeThreshold&&(o.touch.start.x>o.touch.end.x?r.goToNextSlide():r.goToPrevSlide(),r.stopAuto())}else{var s=0;"horizontal"==o.settings.mode?(s=o.touch.end.x-o.touch.start.x,i=o.touch.originalPos.left):(s=o.touch.end.y-o.touch.start.y,i=o.touch.originalPos.top),!o.settings.infiniteLoop&&(0==o.active.index&&s>0||o.active.last&&s<0)?b(i,"reset",200):Math.abs(s)>=o.settings.swipeThreshold?(s<0?r.goToNextSlide():r.goToPrevSlide(),r.stopAuto()):b(i,"reset",200)}o.viewport.unbind("touchend",O)},_=function(e){if(o.initialized){var i=t(window).width(),s=t(window).height();a==i&&l==s||(a=i,l=s,r.redrawSlider(),o.settings.onSliderResize.call(r,o.active.index))}};return r.goToSlide=function(e,i){if(!o.working&&o.active.index!=e)if(o.working=!0,o.oldIndex=o.active.index,e<0?o.active.index=x()-1:e>=x()?o.active.index=0:o.active.index=e,o.settings.onSlideBefore(o.children.eq(o.active.index),o.oldIndex,o.active.index),"next"==i?o.settings.onSlideNext(o.children.eq(o.active.index),o.oldIndex,o.active.index):"prev"==i&&o.settings.onSlidePrev(o.children.eq(o.active.index),o.oldIndex,o.active.index),o.active.last=o.active.index>=x()-1,o.settings.pager&&q(o.active.index),o.settings.controls&&A(),"fade"==o.settings.mode)o.settings.adaptiveHeight&&o.viewport.height()!=h()&&o.viewport.animate({height:h()},o.settings.adaptiveHeightSpeed),o.children.filter(":visible").fadeOut(o.settings.speed).css({zIndex:0}),o.children.eq(o.active.index).css("zIndex",o.settings.slideZIndex+1).fadeIn(o.settings.speed,function(){t(this).css("zIndex",o.settings.slideZIndex),D()});else{o.settings.adaptiveHeight&&o.viewport.height()!=h()&&o.viewport.animate({height:h()},o.settings.adaptiveHeightSpeed);var s=0,n={left:0,top:0};if(!o.settings.infiniteLoop&&o.carousel&&o.active.last)if("horizontal"==o.settings.mode){var a=o.children.eq(o.children.length-1);n=a.position(),s=o.viewport.width()-a.outerWidth()}else{var l=o.children.length-o.settings.minSlides;n=o.children.eq(l).position()}else if(o.carousel&&o.active.last&&"prev"==i){var d=1==o.settings.moveSlides?o.settings.maxSlides-m():(x()-1)*m()-(o.children.length-o.settings.maxSlides),a=r.children(".bx-clone").eq(d);n=a.position()}else if("next"==i&&0==o.active.index)n=r.find("> .bx-clone").eq(o.settings.maxSlides).position(),o.active.last=!1;else if(e>=0){var c=e*m();n=o.children.eq(c).position()}if("undefined"!=typeof n){var g="horizontal"==o.settings.mode?-(n.left-s):-n.top;b(g,"slide",o.settings.speed)}}},r.goToNextSlide=function(){if(o.settings.infiniteLoop||!o.active.last){var t=parseInt(o.active.index)+1;r.goToSlide(t,"next")}},r.goToPrevSlide=function(){if(o.settings.infiniteLoop||0!=o.active.index){var t=parseInt(o.active.index)-1;r.goToSlide(t,"prev")}},r.startAuto=function(t){o.interval||(o.interval=setInterval(function(){"next"==o.settings.autoDirection?r.goToNextSlide():r.goToPrevSlide()},o.settings.pause),o.settings.autoControls&&1!=t&&W("stop"))},r.stopAuto=function(t){o.interval&&(clearInterval(o.interval),o.interval=null,o.settings.autoControls&&1!=t&&W("start"))},r.getCurrentSlide=function(){return o.active.index},r.getCurrentSlideElement=function(){return o.children.eq(o.active.index)},r.getSlideCount=function(){return o.children.length},r.redrawSlider=function(){o.children.add(r.find(".bx-clone")).width(v()),o.viewport.css("height",h()),o.settings.ticker||S(),o.active.last&&(o.active.index=x()-1),o.active.index>=x()&&(o.active.last=!0),o.settings.pager&&!o.settings.pagerCustom&&(w(),q(o.active.index))},r.destroySlider=function(){o.initialized&&(o.initialized=!1,t(".bx-clone",this).remove(),o.children.each(function(){void 0!=t(this).data("origStyle")?t(this).attr("style",t(this).data("origStyle")):t(this).removeAttr("style")}),void 0!=t(this).data("origStyle")?this.attr("style",t(this).data("origStyle")):t(this).removeAttr("style"),t(this).unwrap().unwrap(),o.controls.el&&o.controls.el.remove(),o.controls.next&&o.controls.next.remove(),o.controls.prev&&o.controls.prev.remove(),o.pagerEl&&o.settings.controls&&o.pagerEl.remove(),t(".bx-caption",this).remove(),o.controls.autoEl&&o.controls.autoEl.remove(),clearInterval(o.interval),o.settings.responsive&&t(window).unbind("resize",_))},r.reloadSlider=function(t){void 0!=t&&(n=t),r.destroySlider(),d()},d(),this}}(jQuery),$(function(){function t(){var t=$(".grid").imagesLoaded(function(){t.masonry({itemSelector:".grid-item",columnWidth:".grid-sizer",gutter:".gutter-sizer",percentPosition:!0})})}function e(){$(".ideas").find("div").remove();var e=$(".search__field").val();$.ajax({url:"https://pixabay.com/api/?key=2650584-e8feab9b11ed644dcec728ac9&q="+e+"&image_type=photo",dataType:"jsonp",success:function(e){console.log(e);var i=$("#container").html(),s=tmpl(i,e);$(".ideas").append(s),t()},error:function(){alert("Error!")}})}$(".bxslider").bxSlider({auto:!1,autoControls:!0}),e(),$(".search__button").on("click",function(t){t.preventDefault(),e(),$(".search__field").val("")})}),function(){var t={};this.tmpl=function e(i,s){var n=/\W/.test(i)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+i.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):t[i]=t[i]||e(document.getElementById(i).innerHTML);return s?n(s):n}}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5ieHNsaWRlci5qcyIsInNjcmlwdC5qcyIsInRtcGwuanMiXSwibmFtZXMiOlsiJCIsInBsdWdpbiIsImRlZmF1bHRzIiwibW9kZSIsInNsaWRlU2VsZWN0b3IiLCJpbmZpbml0ZUxvb3AiLCJoaWRlQ29udHJvbE9uRW5kIiwic3BlZWQiLCJlYXNpbmciLCJzbGlkZU1hcmdpbiIsInN0YXJ0U2xpZGUiLCJyYW5kb21TdGFydCIsImNhcHRpb25zIiwidGlja2VyIiwidGlja2VySG92ZXIiLCJhZGFwdGl2ZUhlaWdodCIsImFkYXB0aXZlSGVpZ2h0U3BlZWQiLCJ2aWRlbyIsInVzZUNTUyIsInByZWxvYWRJbWFnZXMiLCJyZXNwb25zaXZlIiwic2xpZGVaSW5kZXgiLCJ3cmFwcGVyQ2xhc3MiLCJ0b3VjaEVuYWJsZWQiLCJzd2lwZVRocmVzaG9sZCIsIm9uZVRvT25lVG91Y2giLCJwcmV2ZW50RGVmYXVsdFN3aXBlWCIsInByZXZlbnREZWZhdWx0U3dpcGVZIiwicGFnZXIiLCJwYWdlclR5cGUiLCJwYWdlclNob3J0U2VwYXJhdG9yIiwicGFnZXJTZWxlY3RvciIsImJ1aWxkUGFnZXIiLCJwYWdlckN1c3RvbSIsImNvbnRyb2xzIiwibmV4dFRleHQiLCJwcmV2VGV4dCIsIm5leHRTZWxlY3RvciIsInByZXZTZWxlY3RvciIsImF1dG9Db250cm9scyIsInN0YXJ0VGV4dCIsInN0b3BUZXh0IiwiYXV0b0NvbnRyb2xzQ29tYmluZSIsImF1dG9Db250cm9sc1NlbGVjdG9yIiwiYXV0byIsInBhdXNlIiwiYXV0b1N0YXJ0IiwiYXV0b0RpcmVjdGlvbiIsImF1dG9Ib3ZlciIsImF1dG9EZWxheSIsImF1dG9TbGlkZUZvck9uZVBhZ2UiLCJtaW5TbGlkZXMiLCJtYXhTbGlkZXMiLCJtb3ZlU2xpZGVzIiwic2xpZGVXaWR0aCIsIm9uU2xpZGVyTG9hZCIsIm9uU2xpZGVCZWZvcmUiLCJvblNsaWRlQWZ0ZXIiLCJvblNsaWRlTmV4dCIsIm9uU2xpZGVQcmV2Iiwib25TbGlkZXJSZXNpemUiLCJmbiIsImJ4U2xpZGVyIiwib3B0aW9ucyIsInRoaXMiLCJsZW5ndGgiLCJlYWNoIiwic2xpZGVyIiwiZWwiLCJ3aW5kb3dXaWR0aCIsIndpbmRvdyIsIndpZHRoIiwid2luZG93SGVpZ2h0IiwiaGVpZ2h0IiwiaW5pdCIsInNldHRpbmdzIiwiZXh0ZW5kIiwicGFyc2VJbnQiLCJjaGlsZHJlbiIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImFjdGl2ZSIsImluZGV4IiwiY2Fyb3VzZWwiLCJtaW5UaHJlc2hvbGQiLCJtYXhUaHJlc2hvbGQiLCJ3b3JraW5nIiwiaW50ZXJ2YWwiLCJhbmltUHJvcCIsInVzaW5nQ1NTIiwiZGl2IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwicHJvcHMiLCJpIiwidW5kZWZpbmVkIiwic3R5bGUiLCJjc3NQcmVmaXgiLCJyZXBsYWNlIiwidG9Mb3dlckNhc2UiLCJkYXRhIiwiYXR0ciIsInNldHVwIiwid3JhcCIsInZpZXdwb3J0IiwicGFyZW50IiwibG9hZGVyIiwicHJlcGVuZCIsImNzcyIsInBvc2l0aW9uIiwiZ2V0TnVtYmVyU2xpZGVzU2hvd2luZyIsIm92ZXJmbG93IiwibWF4V2lkdGgiLCJnZXRWaWV3cG9ydE1heFdpZHRoIiwibWFyZ2luIiwiZmxvYXQiLCJsaXN0U3R5bGUiLCJnZXRTbGlkZVdpZHRoIiwiekluZGV4IiwiZGlzcGxheSIsImVxIiwiYXBwZW5kQ2FwdGlvbnMiLCJsYXN0IiwiZ2V0UGFnZXJRdHkiLCJmaXRWaWRzIiwicHJlbG9hZFNlbGVjdG9yIiwiYXBwZW5kUGFnZXIiLCJhcHBlbmRDb250cm9scyIsImFwcGVuZENvbnRyb2xzQXV0byIsImFmdGVyIiwibG9hZEVsZW1lbnRzIiwic3RhcnQiLCJzZWxlY3RvciIsImNhbGxiYWNrIiwidG90YWwiLCJmaW5kIiwiY291bnQiLCJvbmUiLCJjb21wbGV0ZSIsImxvYWQiLCJzbGljZSIsInNsaWNlQXBwZW5kIiwiY2xvbmUiLCJhZGRDbGFzcyIsInNsaWNlUHJlcGVuZCIsImFwcGVuZCIsInJlbW92ZSIsInNldFNsaWRlUG9zaXRpb24iLCJnZXRWaWV3cG9ydEhlaWdodCIsInJlZHJhd1NsaWRlciIsImluaXRpYWxpemVkIiwiYmluZCIsInJlc2l6ZVdpbmRvdyIsImluaXRBdXRvIiwiaW5pdFRpY2tlciIsInVwZGF0ZVBhZ2VyQWN0aXZlIiwidXBkYXRlRGlyZWN0aW9uQ29udHJvbHMiLCJpbml0VG91Y2giLCJjdXJyZW50SW5kZXgiLCJnZXRNb3ZlQnkiLCJhZGQiLCJvdXRlckhlaWdodCIsIm1heCIsImFwcGx5IiwibWFwIiwiZ2V0IiwicGFyc2VGbG9hdCIsIm5ld0VsV2lkdGgiLCJ3cmFwV2lkdGgiLCJzbGlkZXNTaG93aW5nIiwiY2hpbGRXaWR0aCIsImZpcnN0IiwicGFnZXJRdHkiLCJjZWlsIiwiYnJlYWtQb2ludCIsImNvdW50ZXIiLCJsYXN0Q2hpbGQiLCJzZXRQb3NpdGlvblByb3BlcnR5IiwibGVmdCIsIm91dGVyV2lkdGgiLCJsYXN0U2hvd2luZ0luZGV4IiwidG9wIiwidmFsdWUiLCJ0eXBlIiwiZHVyYXRpb24iLCJwYXJhbXMiLCJwcm9wVmFsdWUiLCJ1bmJpbmQiLCJ1cGRhdGVBZnRlclNsaWRlVHJhbnNpdGlvbiIsInRpY2tlckxvb3AiLCJhbmltYXRlT2JqIiwiYW5pbWF0ZSIsInBvcHVsYXRlUGFnZXIiLCJwYWdlckh0bWwiLCJsaW5rQ29udGVudCIsImlzRnVuY3Rpb24iLCJwYWdlckVsIiwiaHRtbCIsIm9uIiwiY2xpY2tQYWdlckJpbmQiLCJuZXh0IiwicHJldiIsImNsaWNrTmV4dEJpbmQiLCJjbGlja1ByZXZCaW5kIiwiZGlyZWN0aW9uRWwiLCJzdG9wIiwiYXV0b0VsIiwiY2xpY2tTdGFydEJpbmQiLCJjbGlja1N0b3BCaW5kIiwidXBkYXRlQXV0b0NvbnRyb2xzIiwidGl0bGUiLCJlIiwic3RvcEF1dG8iLCJnb1RvTmV4dFNsaWRlIiwicHJldmVudERlZmF1bHQiLCJnb1RvUHJldlNsaWRlIiwic3RhcnRBdXRvIiwicGFnZXJMaW5rIiwiY3VycmVudFRhcmdldCIsInBhZ2VySW5kZXgiLCJnb1RvU2xpZGUiLCJzbGlkZUluZGV4IiwibGVuIiwicmVtb3ZlQ2xhc3MiLCJvbGRJbmRleCIsInN0YXRlIiwic2V0VGltZW91dCIsImhvdmVyIiwiYXV0b1BhdXNlZCIsInN0YXJ0UG9zaXRpb24iLCJ0b3RhbERpbWVucyIsInJhdGlvIiwicHJvcGVydHkiLCJuZXdTcGVlZCIsImFicyIsInJlc3VtZVNwZWVkIiwicmVzZXQiLCJhbmltYXRlUHJvcGVydHkiLCJyZXNldFZhbHVlIiwidG91Y2giLCJ4IiwieSIsImVuZCIsIm9uVG91Y2hTdGFydCIsIm9yaWdpbmFsUG9zIiwib3JpZyIsIm9yaWdpbmFsRXZlbnQiLCJjaGFuZ2VkVG91Y2hlcyIsInBhZ2VYIiwicGFnZVkiLCJvblRvdWNoTW92ZSIsIm9uVG91Y2hFbmQiLCJ4TW92ZW1lbnQiLCJ5TW92ZW1lbnQiLCJjaGFuZ2UiLCJkaXN0YW5jZSIsIndpbmRvd1dpZHRoTmV3Iiwid2luZG93SGVpZ2h0TmV3IiwiY2FsbCIsImRpcmVjdGlvbiIsImZpbHRlciIsImZhZGVPdXQiLCJmYWRlSW4iLCJtb3ZlQnkiLCJyZXF1ZXN0RWwiLCJwcmV2ZW50Q29udHJvbFVwZGF0ZSIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImdldEN1cnJlbnRTbGlkZSIsImdldEN1cnJlbnRTbGlkZUVsZW1lbnQiLCJnZXRTbGlkZUNvdW50IiwiZGVzdHJveVNsaWRlciIsInJlbW92ZUF0dHIiLCJ1bndyYXAiLCJyZWxvYWRTbGlkZXIiLCJqUXVlcnkiLCJncmlkIiwiJGdyaWQiLCJpbWFnZXNMb2FkZWQiLCJtYXNvbnJ5IiwiaXRlbVNlbGVjdG9yIiwiY29sdW1uV2lkdGgiLCJndXR0ZXIiLCJwZXJjZW50UG9zaXRpb24iLCJzZWFyY2giLCIkc2VhcmNoS2V5IiwidmFsIiwiYWpheCIsInVybCIsImRhdGFUeXBlIiwic3VjY2VzcyIsImNvbnNvbGUiLCJsb2ciLCIkaHRtbCIsIiRjb250ZW50IiwidG1wbCIsImVycm9yIiwiYWxlcnQiLCJjYWNoZSIsInN0ciIsInRlc3QiLCJGdW5jdGlvbiIsInNwbGl0Iiwiam9pbiIsImdldEVsZW1lbnRCeUlkIiwiaW5uZXJIVE1MIl0sIm1hcHBpbmdzIjoiQ0FVQSxTQUFBQSxHQUVBLEdBQUFDLE1BRUFDLEdBR0FDLEtBQUEsYUFDQUMsY0FBQSxHQUNBQyxjQUFBLEVBQ0FDLGtCQUFBLEVBQ0FDLE1BQUEsSUFDQUMsT0FBQSxLQUNBQyxZQUFBLEVBQ0FDLFdBQUEsRUFDQUMsYUFBQSxFQUNBQyxVQUFBLEVBQ0FDLFFBQUEsRUFDQUMsYUFBQSxFQUNBQyxnQkFBQSxFQUNBQyxvQkFBQSxJQUNBQyxPQUFBLEVBQ0FDLFFBQUEsRUFDQUMsY0FBQSxVQUNBQyxZQUFBLEVBQ0FDLFlBQUEsR0FDQUMsYUFBQSxhQUdBQyxjQUFBLEVBQ0FDLGVBQUEsR0FDQUMsZUFBQSxFQUNBQyxzQkFBQSxFQUNBQyxzQkFBQSxFQUdBQyxPQUFBLEVBQ0FDLFVBQUEsT0FDQUMsb0JBQUEsTUFDQUMsY0FBQSxLQUNBQyxXQUFBLEtBQ0FDLFlBQUEsS0FHQUMsVUFBQSxFQUNBQyxTQUFBLE9BQ0FDLFNBQUEsT0FDQUMsYUFBQSxLQUNBQyxhQUFBLEtBQ0FDLGNBQUEsRUFDQUMsVUFBQSxRQUNBQyxTQUFBLE9BQ0FDLHFCQUFBLEVBQ0FDLHFCQUFBLEtBR0FDLE1BQUEsRUFDQUMsTUFBQSxJQUNBQyxXQUFBLEVBQ0FDLGNBQUEsT0FDQUMsV0FBQSxFQUNBQyxVQUFBLEVBQ0FDLHFCQUFBLEVBR0FDLFVBQUEsRUFDQUMsVUFBQSxFQUNBQyxXQUFBLEVBQ0FDLFdBQUEsRUFHQUMsYUFBQSxhQUNBQyxjQUFBLGFBQ0FDLGFBQUEsYUFDQUMsWUFBQSxhQUNBQyxZQUFBLGFBQ0FDLGVBQUEsYUFHQTVELEdBQUE2RCxHQUFBQyxTQUFBLFNBQUFDLEdBRUEsR0FBQSxHQUFBQyxLQUFBQyxPQUFBLE1BQUFELEtBR0EsSUFBQUEsS0FBQUMsT0FBQSxFQUVBLE1BREFELE1BQUFFLEtBQUEsV0FB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SUFDQUosRUFBQTVNLFNBQUFxTixlQUFBTCxHQUFBTSxVQXNCQSxPQUFBN00sR0FBQXhDLEVBQUF3QyxHQUFBeEMiLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQnhTbGlkZXIgdjQuMS4yIC0gRnVsbHkgbG9hZGVkLCByZXNwb25zaXZlIGNvbnRlbnQgc2xpZGVyXG4gKiBodHRwOi8vYnhzbGlkZXIuY29tXG4gKlxuICogQ29weXJpZ2h0IDIwMTQsIFN0ZXZlbiBXYW5kZXJza2kgLSBodHRwOi8vc3RldmVud2FuZGVyc2tpLmNvbSAtIGh0dHA6Ly9ieGNyZWF0aXZlLmNvbVxuICogV3JpdHRlbiB3aGlsZSBkcmlua2luZyBCZWxnaWFuIGFsZXMgYW5kIGxpc3RlbmluZyB0byBqYXp6XG4gKlxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIC0gaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuICovXG5cbjsoZnVuY3Rpb24oJCl7XG5cblx0dmFyIHBsdWdpbiA9IHt9O1xuXG5cdHZhciBkZWZhdWx0cyA9IHtcblxuXHRcdC8vIEdFTkVSQUxcblx0XHRtb2RlOiAnaG9yaXpvbnRhbCcsXG5cdFx0c2xpZGVTZWxlY3RvcjogJycsXG5cdFx0aW5maW5pdGVMb29wOiB0cnVlLFxuXHRcdGhpZGVDb250cm9sT25FbmQ6IGZhbHNlLFxuXHRcdHNwZWVkOiA1MDAsXG5cdFx0ZWFzaW5nOiBudWxsLFxuXHRcdHNsaWRlTWFyZ2luOiAwLFxuXHRcdHN0YXJ0U2xpZGU6IDAsXG5cdFx0cmFuZG9tU3RhcnQ6IGZhbHNlLFxuXHRcdGNhcHRpb25zOiBmYWxzZSxcblx0XHR0aWNrZXI6IGZhbHNlLFxuXHRcdHRpY2tlckhvdmVyOiBmYWxzZSxcblx0XHRhZGFwdGl2ZUhlaWdodDogZmFsc2UsXG5cdFx0YWRhcHRpdmVIZWlnaHRTcGVlZDogNTAwLFxuXHRcdHZpZGVvOiBmYWxzZSxcblx0XHR1c2VDU1M6IHRydWUsXG5cdFx0cHJlbG9hZEltYWdlczogJ3Zpc2libGUnLFxuXHRcdHJlc3BvbnNpdmU6IHRydWUsXG5cdFx0c2xpZGVaSW5kZXg6IDUwLFxuXHRcdHdyYXBwZXJDbGFzczogJ2J4LXdyYXBwZXInLFxuXG5cdFx0Ly8gVE9VQ0hcblx0XHR0b3VjaEVuYWJsZWQ6IHRydWUsXG5cdFx0c3dpcGVUaHJlc2hvbGQ6IDUwLFxuXHRcdG9uZVRvT25lVG91Y2g6IHRydWUsXG5cdFx0cHJldmVudERlZmF1bHRTd2lwZVg6IHRydWUsXG5cdFx0cHJldmVudERlZmF1bHRTd2lwZVk6IGZhbHNlLFxuXG5cdFx0Ly8gUEFHRVJcblx0XHRwYWdlcjogdHJ1ZSxcblx0XHRwYWdlclR5cGU6ICdmdWxsJyxcblx0XHRwYWdlclNob3J0U2VwYXJhdG9yOiAnIC8gJyxcblx0XHRwYWdlclNlbGVjdG9yOiBudWxsLFxuXHRcdGJ1aWxkUGFnZXI6IG51bGwsXG5cdFx0cGFnZXJDdXN0b206IG51bGwsXG5cblx0XHQvLyBDT05UUk9MU1xuXHRcdGNvbnRyb2xzOiB0cnVlLFxuXHRcdG5leHRUZXh0OiAnTmV4dCcsXG5cdFx0cHJldlRleHQ6ICdQcmV2Jyxcblx0XHRuZXh0U2VsZWN0b3I6IG51bGwsXG5cdFx0cHJldlNlbGVjdG9yOiBudWxsLFxuXHRcdGF1dG9Db250cm9sczogZmFsc2UsXG5cdFx0c3RhcnRUZXh0OiAnU3RhcnQnLFxuXHRcdHN0b3BUZXh0OiAnU3RvcCcsXG5cdFx0YXV0b0NvbnRyb2xzQ29tYmluZTogZmFsc2UsXG5cdFx0YXV0b0NvbnRyb2xzU2VsZWN0b3I6IG51bGwsXG5cblx0XHQvLyBBVVRPXG5cdFx0YXV0bzogZmFsc2UsXG5cdFx0cGF1c2U6IDQwMDAsXG5cdFx0YXV0b1N0YXJ0OiB0cnVlLFxuXHRcdGF1dG9EaXJlY3Rpb246ICduZXh0Jyxcblx0XHRhdXRvSG92ZXI6IGZhbHNlLFxuXHRcdGF1dG9EZWxheTogMCxcblx0XHRhdXRvU2xpZGVGb3JPbmVQYWdlOiBmYWxzZSxcblxuXHRcdC8vIENBUk9VU0VMXG5cdFx0bWluU2xpZGVzOiAxLFxuXHRcdG1heFNsaWRlczogMSxcblx0XHRtb3ZlU2xpZGVzOiAwLFxuXHRcdHNsaWRlV2lkdGg6IDAsXG5cblx0XHQvLyBDQUxMQkFDS1Ncblx0XHRvblNsaWRlckxvYWQ6IGZ1bmN0aW9uKCkge30sXG5cdFx0b25TbGlkZUJlZm9yZTogZnVuY3Rpb24oKSB7fSxcblx0XHRvblNsaWRlQWZ0ZXI6IGZ1bmN0aW9uKCkge30sXG5cdFx0b25TbGlkZU5leHQ6IGZ1bmN0aW9uKCkge30sXG5cdFx0b25TbGlkZVByZXY6IGZ1bmN0aW9uKCkge30sXG5cdFx0b25TbGlkZXJSZXNpemU6IGZ1bmN0aW9uKCkge31cblx0fVxuXG5cdCQuZm4uYnhTbGlkZXIgPSBmdW5jdGlvbihvcHRpb25zKXtcblxuXHRcdGlmKHRoaXMubGVuZ3RoID09IDApIHJldHVybiB0aGlzO1xuXG5cdFx0Ly8gc3VwcG9ydCBtdXRsdGlwbGUgZWxlbWVudHNcblx0XHRpZih0aGlzLmxlbmd0aCA+IDEpe1xuXHRcdFx0dGhpcy5lYWNoKGZ1bmN0aW9uKCl7JCh0aGlzKS5ieFNsaWRlcihvcHRpb25zKX0pO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXG5cdFx0Ly8gY3JlYXRlIGEgbmFtZXNwYWNlIHRvIGJlIHVzZWQgdGhyb3VnaG91dCB0aGUgcGx1Z2luXG5cdFx0dmFyIHNsaWRlciA9IHt9O1xuXHRcdC8vIHNldCBhIHJlZmVyZW5jZSB0byBvdXIgc2xpZGVyIGVsZW1lbnRcblx0XHR2YXIgZWwgPSB0aGlzO1xuXHRcdHBsdWdpbi5lbCA9IHRoaXM7XG5cblx0XHQvKipcblx0XHQgKiBNYWtlcyBzbGlkZXNob3cgcmVzcG9uc2l2ZVxuXHRcdCAqL1xuXHRcdC8vIGZpcnN0IGdldCB0aGUgb3JpZ2luYWwgd2luZG93IGRpbWVucyAodGhhbmtzIGFsb3QgSUUpXG5cdFx0dmFyIHdpbmRvd1dpZHRoID0gJCh3aW5kb3cpLndpZHRoKCk7XG5cdFx0dmFyIHdpbmRvd0hlaWdodCA9ICQod2luZG93KS5oZWlnaHQoKTtcblxuXG5cblx0XHQvKipcblx0XHQgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRcdCAqID0gUFJJVkFURSBGVU5DVElPTlNcblx0XHQgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRcdCAqL1xuXG5cdFx0LyoqXG5cdFx0ICogSW5pdGlhbGl6ZXMgbmFtZXNwYWNlIHNldHRpbmdzIHRvIGJlIHVzZWQgdGhyb3VnaG91dCBwbHVnaW5cblx0XHQgKi9cblx0XHR2YXIgaW5pdCA9IGZ1bmN0aW9uKCl7XG5cdFx0XHQvLyBtZXJnZSB1c2VyLXN1cHBsaWVkIG9wdGlvbnMgd2l0aCB0aGUgZGVmYXVsdHNcblx0XHRcdHNsaWRlci5zZXR0aW5ncyA9ICQuZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG5cdFx0XHQvLyBwYXJzZSBzbGlkZVdpZHRoIHNldHRpbmdcblx0XHRcdHNsaWRlci5zZXR0aW5ncy5zbGlkZVdpZHRoID0gcGFyc2VJbnQoc2xpZGVyLnNldHRpbmdzLnNsaWRlV2lkdGgpO1xuXHRcdFx0Ly8gc3RvcmUgdGhlIG9yaWdpbmFsIGNoaWxkcmVuXG5cdFx0XHRzbGlkZXIuY2hpbGRyZW4gPSBlbC5jaGlsZHJlbihzbGlkZXIuc2V0dGluZ3Muc2xpZGVTZWxlY3Rvcik7XG5cdFx0XHQvLyBjaGVjayBpZiBhY3R1YWwgbnVtYmVyIG9mIHNsaWRlcyBpcyBsZXNzIHRoYW4gbWluU2xpZGVzIC8gbWF4U2xpZGVzXG5cdFx0XHRpZihzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoIDwgc2xpZGVyLnNldHRpbmdzLm1pblNsaWRlcykgc2xpZGVyLnNldHRpbmdzLm1pblNsaWRlcyA9IHNsaWRlci5jaGlsZHJlbi5sZW5ndGg7XG5cdFx0XHRpZihzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoIDwgc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcykgc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcyA9IHNsaWRlci5jaGlsZHJlbi5sZW5ndGg7XG5cdFx0XHQvLyBpZiByYW5kb20gc3RhcnQsIHNldCB0aGUgc3RhcnRTbGlkZSBzZXR0aW5nIHRvIHJhbmRvbSBudW1iZXJcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5yYW5kb21TdGFydCkgc2xpZGVyLnNldHRpbmdzLnN0YXJ0U2xpZGUgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoKTtcblx0XHRcdC8vIHN0b3JlIGFjdGl2ZSBzbGlkZSBpbmZvcm1hdGlvblxuXHRcdFx0c2xpZGVyLmFjdGl2ZSA9IHsgaW5kZXg6IHNsaWRlci5zZXR0aW5ncy5zdGFydFNsaWRlIH1cblx0XHRcdC8vIHN0b3JlIGlmIHRoZSBzbGlkZXIgaXMgaW4gY2Fyb3VzZWwgbW9kZSAoZGlzcGxheWluZyAvIG1vdmluZyBtdWx0aXBsZSBzbGlkZXMpXG5cdFx0XHRzbGlkZXIuY2Fyb3VzZWwgPSBzbGlkZXIuc2V0dGluZ3MubWluU2xpZGVzID4gMSB8fCBzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzID4gMTtcblx0XHRcdC8vIGlmIGNhcm91c2VsLCBmb3JjZSBwcmVsb2FkSW1hZ2VzID0gJ2FsbCdcblx0XHRcdGlmKHNsaWRlci5jYXJvdXNlbCkgc2xpZGVyLnNldHRpbmdzLnByZWxvYWRJbWFnZXMgPSAnYWxsJztcblx0XHRcdC8vIGNhbGN1bGF0ZSB0aGUgbWluIC8gbWF4IHdpZHRoIHRocmVzaG9sZHMgYmFzZWQgb24gbWluIC8gbWF4IG51bWJlciBvZiBzbGlkZXNcblx0XHRcdC8vIHVzZWQgdG8gc2V0dXAgYW5kIHVwZGF0ZSBjYXJvdXNlbCBzbGlkZXMgZGltZW5zaW9uc1xuXHRcdFx0c2xpZGVyLm1pblRocmVzaG9sZCA9IChzbGlkZXIuc2V0dGluZ3MubWluU2xpZGVzICogc2xpZGVyLnNldHRpbmdzLnNsaWRlV2lkdGgpICsgKChzbGlkZXIuc2V0dGluZ3MubWluU2xpZGVzIC0gMSkgKiBzbGlkZXIuc2V0dGluZ3Muc2xpZGVNYXJnaW4pO1xuXHRcdFx0c2xpZGVyLm1heFRocmVzaG9sZCA9IChzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzICogc2xpZGVyLnNldHRpbmdzLnNsaWRlV2lkdGgpICsgKChzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzIC0gMSkgKiBzbGlkZXIuc2V0dGluZ3Muc2xpZGVNYXJnaW4pO1xuXHRcdFx0Ly8gc3RvcmUgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIHNsaWRlciAoaWYgY3VycmVudGx5IGFuaW1hdGluZywgd29ya2luZyBpcyB0cnVlKVxuXHRcdFx0c2xpZGVyLndvcmtpbmcgPSBmYWxzZTtcblx0XHRcdC8vIGluaXRpYWxpemUgdGhlIGNvbnRyb2xzIG9iamVjdFxuXHRcdFx0c2xpZGVyLmNvbnRyb2xzID0ge307XG5cdFx0XHQvLyBpbml0aWFsaXplIGFuIGF1dG8gaW50ZXJ2YWxcblx0XHRcdHNsaWRlci5pbnRlcnZhbCA9IG51bGw7XG5cdFx0XHQvLyBkZXRlcm1pbmUgd2hpY2ggcHJvcGVydHkgdG8gdXNlIGZvciB0cmFuc2l0aW9uc1xuXHRcdFx0c2xpZGVyLmFuaW1Qcm9wID0gc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ3ZlcnRpY2FsJyA/ICd0b3AnIDogJ2xlZnQnO1xuXHRcdFx0Ly8gZGV0ZXJtaW5lIGlmIGhhcmR3YXJlIGFjY2VsZXJhdGlvbiBjYW4gYmUgdXNlZFxuXHRcdFx0c2xpZGVyLnVzaW5nQ1NTID0gc2xpZGVyLnNldHRpbmdzLnVzZUNTUyAmJiBzbGlkZXIuc2V0dGluZ3MubW9kZSAhPSAnZmFkZScgJiYgKGZ1bmN0aW9uKCl7XG5cdFx0XHRcdC8vIGNyZWF0ZSBvdXIgdGVzdCBkaXYgZWxlbWVudFxuXHRcdFx0XHR2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdC8vIGNzcyB0cmFuc2l0aW9uIHByb3BlcnRpZXNcblx0XHRcdFx0dmFyIHByb3BzID0gWydXZWJraXRQZXJzcGVjdGl2ZScsICdNb3pQZXJzcGVjdGl2ZScsICdPUGVyc3BlY3RpdmUnLCAnbXNQZXJzcGVjdGl2ZSddO1xuXHRcdFx0XHQvLyB0ZXN0IGZvciBlYWNoIHByb3BlcnR5XG5cdFx0XHRcdGZvcih2YXIgaSBpbiBwcm9wcyl7XG5cdFx0XHRcdFx0aWYoZGl2LnN0eWxlW3Byb3BzW2ldXSAhPT0gdW5kZWZpbmVkKXtcblx0XHRcdFx0XHRcdHNsaWRlci5jc3NQcmVmaXggPSBwcm9wc1tpXS5yZXBsYWNlKCdQZXJzcGVjdGl2ZScsICcnKS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0XHRcdFx0c2xpZGVyLmFuaW1Qcm9wID0gJy0nICsgc2xpZGVyLmNzc1ByZWZpeCArICctdHJhbnNmb3JtJztcblx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9KCkpO1xuXHRcdFx0Ly8gaWYgdmVydGljYWwgbW9kZSBhbHdheXMgbWFrZSBtYXhTbGlkZXMgYW5kIG1pblNsaWRlcyBlcXVhbFxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ3ZlcnRpY2FsJykgc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcyA9IHNsaWRlci5zZXR0aW5ncy5taW5TbGlkZXM7XG5cdFx0XHQvLyBzYXZlIG9yaWdpbmFsIHN0eWxlIGRhdGFcblx0XHRcdGVsLmRhdGEoXCJvcmlnU3R5bGVcIiwgZWwuYXR0cihcInN0eWxlXCIpKTtcblx0XHRcdGVsLmNoaWxkcmVuKHNsaWRlci5zZXR0aW5ncy5zbGlkZVNlbGVjdG9yKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0ICAkKHRoaXMpLmRhdGEoXCJvcmlnU3R5bGVcIiwgJCh0aGlzKS5hdHRyKFwic3R5bGVcIikpO1xuXHRcdFx0fSk7XG5cdFx0XHQvLyBwZXJmb3JtIGFsbCBET00gLyBDU1MgbW9kaWZpY2F0aW9uc1xuXHRcdFx0c2V0dXAoKTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBQZXJmb3JtcyBhbGwgRE9NIGFuZCBDU1MgbW9kaWZpY2F0aW9uc1xuXHRcdCAqL1xuXHRcdHZhciBzZXR1cCA9IGZ1bmN0aW9uKCl7XG5cdFx0XHQvLyB3cmFwIGVsIGluIGEgd3JhcHBlclxuXHRcdFx0ZWwud3JhcCgnPGRpdiBjbGFzcz1cIicgKyBzbGlkZXIuc2V0dGluZ3Mud3JhcHBlckNsYXNzICsgJ1wiPjxkaXYgY2xhc3M9XCJieC12aWV3cG9ydFwiPjwvZGl2PjwvZGl2PicpO1xuXHRcdFx0Ly8gc3RvcmUgYSBuYW1zcGFjZSByZWZlcmVuY2UgdG8gLmJ4LXZpZXdwb3J0XG5cdFx0XHRzbGlkZXIudmlld3BvcnQgPSBlbC5wYXJlbnQoKTtcblx0XHRcdC8vIGFkZCBhIGxvYWRpbmcgZGl2IHRvIGRpc3BsYXkgd2hpbGUgaW1nIGFyZSBsb2FkaW5nXG5cdFx0XHRzbGlkZXIubG9hZGVyID0gJCgnPGRpdiBjbGFzcz1cImJ4LWxvYWRpbmdcIiAvPicpO1xuXHRcdFx0c2xpZGVyLnZpZXdwb3J0LnByZXBlbmQoc2xpZGVyLmxvYWRlcik7XG5cdFx0XHQvLyBzZXQgZWwgdG8gYSBtYXNzaXZlIHdpZHRoLCB0byBob2xkIGFueSBuZWVkZWQgc2xpZGVzXG5cdFx0XHQvLyBhbHNvIHN0cmlwIGFueSBtYXJnaW4gYW5kIHBhZGRpbmcgZnJvbSBlbFxuXHRcdFx0ZWwuY3NzKHtcblx0XHRcdFx0d2lkdGg6IHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICdob3Jpem9udGFsJyA/IChzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoICogMTAwICsgMjE1KSArICclJyA6ICdhdXRvJyxcblx0XHRcdFx0cG9zaXRpb246ICdyZWxhdGl2ZSdcblx0XHRcdH0pO1xuXHRcdFx0Ly8gaWYgdXNpbmcgQ1NTLCBhZGQgdGhlIGVhc2luZyBwcm9wZXJ0eVxuXHRcdFx0aWYoc2xpZGVyLnVzaW5nQ1NTICYmIHNsaWRlci5zZXR0aW5ncy5lYXNpbmcpe1xuXHRcdFx0XHRlbC5jc3MoJy0nICsgc2xpZGVyLmNzc1ByZWZpeCArICctdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24nLCBzbGlkZXIuc2V0dGluZ3MuZWFzaW5nKTtcblx0XHRcdC8vIGlmIG5vdCB1c2luZyBDU1MgYW5kIG5vIGVhc2luZyB2YWx1ZSB3YXMgc3VwcGxpZWQsIHVzZSB0aGUgZGVmYXVsdCBKUyBhbmltYXRpb24gZWFzaW5nIChzd2luZylcblx0XHRcdH1lbHNlIGlmKCFzbGlkZXIuc2V0dGluZ3MuZWFzaW5nKXtcblx0XHRcdFx0c2xpZGVyLnNldHRpbmdzLmVhc2luZyA9ICdzd2luZyc7XG5cdFx0XHR9XG5cdFx0XHR2YXIgc2xpZGVzU2hvd2luZyA9IGdldE51bWJlclNsaWRlc1Nob3dpbmcoKTtcblx0XHRcdC8vIG1ha2UgbW9kaWZpY2F0aW9ucyB0byB0aGUgdmlld3BvcnQgKC5ieC12aWV3cG9ydClcblx0XHRcdHNsaWRlci52aWV3cG9ydC5jc3Moe1xuXHRcdFx0XHR3aWR0aDogJzEwMCUnLFxuXHRcdFx0XHRvdmVyZmxvdzogJ2hpZGRlbicsXG5cdFx0XHRcdHBvc2l0aW9uOiAncmVsYXRpdmUnXG5cdFx0XHR9KTtcblx0XHRcdHNsaWRlci52aWV3cG9ydC5wYXJlbnQoKS5jc3Moe1xuXHRcdFx0XHRtYXhXaWR0aDogZ2V0Vmlld3BvcnRNYXhXaWR0aCgpXG5cdFx0XHR9KTtcblx0XHRcdC8vIG1ha2UgbW9kaWZpY2F0aW9uIHRvIHRoZSB3cmFwcGVyICguYngtd3JhcHBlcilcblx0XHRcdGlmKCFzbGlkZXIuc2V0dGluZ3MucGFnZXIpIHtcblx0XHRcdFx0c2xpZGVyLnZpZXdwb3J0LnBhcmVudCgpLmNzcyh7XG5cdFx0XHRcdG1hcmdpbjogJzAgYXV0byAwcHgnXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdFx0Ly8gYXBwbHkgY3NzIHRvIGFsbCBzbGlkZXIgY2hpbGRyZW5cblx0XHRcdHNsaWRlci5jaGlsZHJlbi5jc3Moe1xuXHRcdFx0XHQnZmxvYXQnOiBzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnaG9yaXpvbnRhbCcgPyAnbGVmdCcgOiAnbm9uZScsXG5cdFx0XHRcdGxpc3RTdHlsZTogJ25vbmUnLFxuXHRcdFx0XHRwb3NpdGlvbjogJ3JlbGF0aXZlJ1xuXHRcdFx0fSk7XG5cdFx0XHQvLyBhcHBseSB0aGUgY2FsY3VsYXRlZCB3aWR0aCBhZnRlciB0aGUgZmxvYXQgaXMgYXBwbGllZCB0byBwcmV2ZW50IHNjcm9sbGJhciBpbnRlcmZlcmVuY2Vcblx0XHRcdHNsaWRlci5jaGlsZHJlbi5jc3MoJ3dpZHRoJywgZ2V0U2xpZGVXaWR0aCgpKTtcblx0XHRcdC8vIGlmIHNsaWRlTWFyZ2luIGlzIHN1cHBsaWVkLCBhZGQgdGhlIGNzc1xuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnICYmIHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbiA+IDApIHNsaWRlci5jaGlsZHJlbi5jc3MoJ21hcmdpblJpZ2h0Jywgc2xpZGVyLnNldHRpbmdzLnNsaWRlTWFyZ2luKTtcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICd2ZXJ0aWNhbCcgJiYgc2xpZGVyLnNldHRpbmdzLnNsaWRlTWFyZ2luID4gMCkgc2xpZGVyLmNoaWxkcmVuLmNzcygnbWFyZ2luQm90dG9tJywgc2xpZGVyLnNldHRpbmdzLnNsaWRlTWFyZ2luKTtcblx0XHRcdC8vIGlmIFwiZmFkZVwiIG1vZGUsIGFkZCBwb3NpdGlvbmluZyBhbmQgei1pbmRleCBDU1Ncblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICdmYWRlJyl7XG5cdFx0XHRcdHNsaWRlci5jaGlsZHJlbi5jc3Moe1xuXHRcdFx0XHRcdHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuXHRcdFx0XHRcdHpJbmRleDogMCxcblx0XHRcdFx0XHRkaXNwbGF5OiAnbm9uZSdcblx0XHRcdFx0fSk7XG5cdFx0XHRcdC8vIHByZXBhcmUgdGhlIHotaW5kZXggb24gdGhlIHNob3dpbmcgZWxlbWVudFxuXHRcdFx0XHRzbGlkZXIuY2hpbGRyZW4uZXEoc2xpZGVyLnNldHRpbmdzLnN0YXJ0U2xpZGUpLmNzcyh7ekluZGV4OiBzbGlkZXIuc2V0dGluZ3Muc2xpZGVaSW5kZXgsIGRpc3BsYXk6ICdibG9jayd9KTtcblx0XHRcdH1cblx0XHRcdC8vIGNyZWF0ZSBhbiBlbGVtZW50IHRvIGNvbnRhaW4gYWxsIHNsaWRlciBjb250cm9scyAocGFnZXIsIHN0YXJ0IC8gc3RvcCwgZXRjKVxuXHRcdFx0c2xpZGVyLmNvbnRyb2xzLmVsID0gJCgnPGRpdiBjbGFzcz1cImJ4LWNvbnRyb2xzXCIgLz4nKTtcblx0XHRcdC8vIGlmIGNhcHRpb25zIGFyZSByZXF1ZXN0ZWQsIGFkZCB0aGVtXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuY2FwdGlvbnMpIGFwcGVuZENhcHRpb25zKCk7XG5cdFx0XHQvLyBjaGVjayBpZiBzdGFydFNsaWRlIGlzIGxhc3Qgc2xpZGVcblx0XHRcdHNsaWRlci5hY3RpdmUubGFzdCA9IHNsaWRlci5zZXR0aW5ncy5zdGFydFNsaWRlID09IGdldFBhZ2VyUXR5KCkgLSAxO1xuXHRcdFx0Ly8gaWYgdmlkZW8gaXMgdHJ1ZSwgc2V0IHVwIHRoZSBmaXRWaWRzIHBsdWdpblxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLnZpZGVvKSBlbC5maXRWaWRzKCk7XG5cdFx0XHQvLyBzZXQgdGhlIGRlZmF1bHQgcHJlbG9hZCBzZWxlY3RvciAodmlzaWJsZSlcblx0XHRcdHZhciBwcmVsb2FkU2VsZWN0b3IgPSBzbGlkZXIuY2hpbGRyZW4uZXEoc2xpZGVyLnNldHRpbmdzLnN0YXJ0U2xpZGUpO1xuXHRcdFx0aWYgKHNsaWRlci5zZXR0aW5ncy5wcmVsb2FkSW1hZ2VzID09IFwiYWxsXCIpIHByZWxvYWRTZWxlY3RvciA9IHNsaWRlci5jaGlsZHJlbjtcblx0XHRcdC8vIG9ubHkgY2hlY2sgZm9yIGNvbnRyb2wgYWRkaXRpb24gaWYgbm90IGluIFwidGlja2VyXCIgbW9kZVxuXHRcdFx0aWYoIXNsaWRlci5zZXR0aW5ncy50aWNrZXIpe1xuXHRcdFx0XHQvLyBpZiBwYWdlciBpcyByZXF1ZXN0ZWQsIGFkZCBpdFxuXHRcdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MucGFnZXIpIGFwcGVuZFBhZ2VyKCk7XG5cdFx0XHRcdC8vIGlmIGNvbnRyb2xzIGFyZSByZXF1ZXN0ZWQsIGFkZCB0aGVtXG5cdFx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5jb250cm9scykgYXBwZW5kQ29udHJvbHMoKTtcblx0XHRcdFx0Ly8gaWYgYXV0byBpcyB0cnVlLCBhbmQgYXV0byBjb250cm9scyBhcmUgcmVxdWVzdGVkLCBhZGQgdGhlbVxuXHRcdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuYXV0byAmJiBzbGlkZXIuc2V0dGluZ3MuYXV0b0NvbnRyb2xzKSBhcHBlbmRDb250cm9sc0F1dG8oKTtcblx0XHRcdFx0Ly8gaWYgYW55IGNvbnRyb2wgb3B0aW9uIGlzIHJlcXVlc3RlZCwgYWRkIHRoZSBjb250cm9scyB3cmFwcGVyXG5cdFx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5jb250cm9scyB8fCBzbGlkZXIuc2V0dGluZ3MuYXV0b0NvbnRyb2xzIHx8IHNsaWRlci5zZXR0aW5ncy5wYWdlcikgc2xpZGVyLnZpZXdwb3J0LmFmdGVyKHNsaWRlci5jb250cm9scy5lbCk7XG5cdFx0XHQvLyBpZiB0aWNrZXIgbW9kZSwgZG8gbm90IGFsbG93IGEgcGFnZXJcblx0XHRcdH1lbHNle1xuXHRcdFx0XHRzbGlkZXIuc2V0dGluZ3MucGFnZXIgPSBmYWxzZTtcblx0XHRcdH1cblx0XHRcdC8vIHByZWxvYWQgYWxsIGltZywgdGhlbiBwZXJmb3JtIGZpbmFsIERPTSAvIENTUyBtb2RpZmljYXRpb25zIHRoYXQgZGVwZW5kIG9uIGltZyBiZWluZyBsb2FkZWRcblx0XHRcdGxvYWRFbGVtZW50cyhwcmVsb2FkU2VsZWN0b3IsIHN0YXJ0KTtcblx0XHR9XG5cblx0XHR2YXIgbG9hZEVsZW1lbnRzID0gZnVuY3Rpb24oc2VsZWN0b3IsIGNhbGxiYWNrKXtcblx0XHRcdHZhciB0b3RhbCA9IHNlbGVjdG9yLmZpbmQoJ2ltZywgaWZyYW1lJykubGVuZ3RoO1xuXHRcdFx0aWYgKHRvdGFsID09IDApe1xuXHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHR2YXIgY291bnQgPSAwO1xuXHRcdFx0c2VsZWN0b3IuZmluZCgnaW1nLCBpZnJhbWUnKS5lYWNoKGZ1bmN0aW9uKCl7XG5cdFx0XHRcdCQodGhpcykub25lKCdsb2FkJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdCAgaWYoKytjb3VudCA9PSB0b3RhbCkgY2FsbGJhY2soKTtcblx0XHRcdFx0fSkuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0ICBpZih0aGlzLmNvbXBsZXRlKSAkKHRoaXMpLmxvYWQoKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBTdGFydCB0aGUgc2xpZGVyXG5cdFx0ICovXG5cdFx0dmFyIHN0YXJ0ID0gZnVuY3Rpb24oKXtcblx0XHRcdC8vIGlmIGluZmluaXRlIGxvb3AsIHByZXBhcmUgYWRkaXRpb25hbCBzbGlkZXNcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5pbmZpbml0ZUxvb3AgJiYgc2xpZGVyLnNldHRpbmdzLm1vZGUgIT0gJ2ZhZGUnICYmICFzbGlkZXIuc2V0dGluZ3MudGlja2VyKXtcblx0XHRcdFx0dmFyIHNsaWNlID0gc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ3ZlcnRpY2FsJyA/IHNsaWRlci5zZXR0aW5ncy5taW5TbGlkZXMgOiBzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzO1xuXHRcdFx0XHR2YXIgc2xpY2VBcHBlbmQgPSBzbGlkZXIuY2hpbGRyZW4uc2xpY2UoMCwgc2xpY2UpLmNsb25lKCkuYWRkQ2xhc3MoJ2J4LWNsb25lJyk7XG5cdFx0XHRcdHZhciBzbGljZVByZXBlbmQgPSBzbGlkZXIuY2hpbGRyZW4uc2xpY2UoLXNsaWNlKS5jbG9uZSgpLmFkZENsYXNzKCdieC1jbG9uZScpO1xuXHRcdFx0XHRlbC5hcHBlbmQoc2xpY2VBcHBlbmQpLnByZXBlbmQoc2xpY2VQcmVwZW5kKTtcblx0XHRcdH1cblx0XHRcdC8vIHJlbW92ZSB0aGUgbG9hZGluZyBET00gZWxlbWVudFxuXHRcdFx0c2xpZGVyLmxvYWRlci5yZW1vdmUoKTtcblx0XHRcdC8vIHNldCB0aGUgbGVmdCAvIHRvcCBwb3NpdGlvbiBvZiBcImVsXCJcblx0XHRcdHNldFNsaWRlUG9zaXRpb24oKTtcblx0XHRcdC8vIGlmIFwidmVydGljYWxcIiBtb2RlLCBhbHdheXMgdXNlIGFkYXB0aXZlSGVpZ2h0IHRvIHByZXZlbnQgb2RkIGJlaGF2aW9yXG5cdFx0XHRpZiAoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ3ZlcnRpY2FsJykgc2xpZGVyLnNldHRpbmdzLmFkYXB0aXZlSGVpZ2h0ID0gdHJ1ZTtcblx0XHRcdC8vIHNldCB0aGUgdmlld3BvcnQgaGVpZ2h0XG5cdFx0XHRzbGlkZXIudmlld3BvcnQuaGVpZ2h0KGdldFZpZXdwb3J0SGVpZ2h0KCkpO1xuXHRcdFx0Ly8gbWFrZSBzdXJlIGV2ZXJ5dGhpbmcgaXMgcG9zaXRpb25lZCBqdXN0IHJpZ2h0IChzYW1lIGFzIGEgd2luZG93IHJlc2l6ZSlcblx0XHRcdGVsLnJlZHJhd1NsaWRlcigpO1xuXHRcdFx0Ly8gb25TbGlkZXJMb2FkIGNhbGxiYWNrXG5cdFx0XHRzbGlkZXIuc2V0dGluZ3Mub25TbGlkZXJMb2FkKHNsaWRlci5hY3RpdmUuaW5kZXgpO1xuXHRcdFx0Ly8gc2xpZGVyIGhhcyBiZWVuIGZ1bGx5IGluaXRpYWxpemVkXG5cdFx0XHRzbGlkZXIuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuXHRcdFx0Ly8gYmluZCB0aGUgcmVzaXplIGNhbGwgdG8gdGhlIHdpbmRvd1xuXHRcdFx0aWYgKHNsaWRlci5zZXR0aW5ncy5yZXNwb25zaXZlKSAkKHdpbmRvdykuYmluZCgncmVzaXplJywgcmVzaXplV2luZG93KTtcblx0XHRcdC8vIGlmIGF1dG8gaXMgdHJ1ZSBhbmQgaGFzIG1vcmUgdGhhbiAxIHBhZ2UsIHN0YXJ0IHRoZSBzaG93XG5cdFx0XHRpZiAoc2xpZGVyLnNldHRpbmdzLmF1dG8gJiYgc2xpZGVyLnNldHRpbmdzLmF1dG9TdGFydCAmJiAoZ2V0UGFnZXJRdHkoKSA+IDEgfHwgc2xpZGVyLnNldHRpbmdzLmF1dG9TbGlkZUZvck9uZVBhZ2UpKSBpbml0QXV0bygpO1xuXHRcdFx0Ly8gaWYgdGlja2VyIGlzIHRydWUsIHN0YXJ0IHRoZSB0aWNrZXJcblx0XHRcdGlmIChzbGlkZXIuc2V0dGluZ3MudGlja2VyKSBpbml0VGlja2VyKCk7XG5cdFx0XHQvLyBpZiBwYWdlciBpcyByZXF1ZXN0ZWQsIG1ha2UgdGhlIGFwcHJvcHJpYXRlIHBhZ2VyIGxpbmsgYWN0aXZlXG5cdFx0XHRpZiAoc2xpZGVyLnNldHRpbmdzLnBhZ2VyKSB1cGRhdGVQYWdlckFjdGl2ZShzbGlkZXIuc2V0dGluZ3Muc3RhcnRTbGlkZSk7XG5cdFx0XHQvLyBjaGVjayBmb3IgYW55IHVwZGF0ZXMgdG8gdGhlIGNvbnRyb2xzIChsaWtlIGhpZGVDb250cm9sT25FbmQgdXBkYXRlcylcblx0XHRcdGlmIChzbGlkZXIuc2V0dGluZ3MuY29udHJvbHMpIHVwZGF0ZURpcmVjdGlvbkNvbnRyb2xzKCk7XG5cdFx0XHQvLyBpZiB0b3VjaEVuYWJsZWQgaXMgdHJ1ZSwgc2V0dXAgdGhlIHRvdWNoIGV2ZW50c1xuXHRcdFx0aWYgKHNsaWRlci5zZXR0aW5ncy50b3VjaEVuYWJsZWQgJiYgIXNsaWRlci5zZXR0aW5ncy50aWNrZXIpIGluaXRUb3VjaCgpO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgdGhlIGNhbGN1bGF0ZWQgaGVpZ2h0IG9mIHRoZSB2aWV3cG9ydCwgdXNlZCB0byBkZXRlcm1pbmUgZWl0aGVyIGFkYXB0aXZlSGVpZ2h0IG9yIHRoZSBtYXhIZWlnaHQgdmFsdWVcblx0XHQgKi9cblx0XHR2YXIgZ2V0Vmlld3BvcnRIZWlnaHQgPSBmdW5jdGlvbigpe1xuXHRcdFx0dmFyIGhlaWdodCA9IDA7XG5cdFx0XHQvLyBmaXJzdCBkZXRlcm1pbmUgd2hpY2ggY2hpbGRyZW4gKHNsaWRlcykgc2hvdWxkIGJlIHVzZWQgaW4gb3VyIGhlaWdodCBjYWxjdWxhdGlvblxuXHRcdFx0dmFyIGNoaWxkcmVuID0gJCgpO1xuXHRcdFx0Ly8gaWYgbW9kZSBpcyBub3QgXCJ2ZXJ0aWNhbFwiIGFuZCBhZGFwdGl2ZUhlaWdodCBpcyBmYWxzZSwgaW5jbHVkZSBhbGwgY2hpbGRyZW5cblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5tb2RlICE9ICd2ZXJ0aWNhbCcgJiYgIXNsaWRlci5zZXR0aW5ncy5hZGFwdGl2ZUhlaWdodCl7XG5cdFx0XHRcdGNoaWxkcmVuID0gc2xpZGVyLmNoaWxkcmVuO1xuXHRcdFx0fWVsc2V7XG5cdFx0XHRcdC8vIGlmIG5vdCBjYXJvdXNlbCwgcmV0dXJuIHRoZSBzaW5nbGUgYWN0aXZlIGNoaWxkXG5cdFx0XHRcdGlmKCFzbGlkZXIuY2Fyb3VzZWwpe1xuXHRcdFx0XHRcdGNoaWxkcmVuID0gc2xpZGVyLmNoaWxkcmVuLmVxKHNsaWRlci5hY3RpdmUuaW5kZXgpO1xuXHRcdFx0XHQvLyBpZiBjYXJvdXNlbCwgcmV0dXJuIGEgc2xpY2Ugb2YgY2hpbGRyZW5cblx0XHRcdFx0fWVsc2V7XG5cdFx0XHRcdFx0Ly8gZ2V0IHRoZSBpbmRpdmlkdWFsIHNsaWRlIGluZGV4XG5cdFx0XHRcdFx0dmFyIGN1cnJlbnRJbmRleCA9IHNsaWRlci5zZXR0aW5ncy5tb3ZlU2xpZGVzID09IDEgPyBzbGlkZXIuYWN0aXZlLmluZGV4IDogc2xpZGVyLmFjdGl2ZS5pbmRleCAqIGdldE1vdmVCeSgpO1xuXHRcdFx0XHRcdC8vIGFkZCB0aGUgY3VycmVudCBzbGlkZSB0byB0aGUgY2hpbGRyZW5cblx0XHRcdFx0XHRjaGlsZHJlbiA9IHNsaWRlci5jaGlsZHJlbi5lcShjdXJyZW50SW5kZXgpO1xuXHRcdFx0XHRcdC8vIGN5Y2xlIHRocm91Z2ggdGhlIHJlbWFpbmluZyBcInNob3dpbmdcIiBzbGlkZXNcblx0XHRcdFx0XHRmb3IgKGkgPSAxOyBpIDw9IHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMgLSAxOyBpKyspe1xuXHRcdFx0XHRcdFx0Ly8gaWYgbG9vcGVkIGJhY2sgdG8gdGhlIHN0YXJ0XG5cdFx0XHRcdFx0XHRpZihjdXJyZW50SW5kZXggKyBpID49IHNsaWRlci5jaGlsZHJlbi5sZW5ndGgpe1xuXHRcdFx0XHRcdFx0XHRjaGlsZHJlbiA9IGNoaWxkcmVuLmFkZChzbGlkZXIuY2hpbGRyZW4uZXEoaSAtIDEpKTtcblx0XHRcdFx0XHRcdH1lbHNle1xuXHRcdFx0XHRcdFx0XHRjaGlsZHJlbiA9IGNoaWxkcmVuLmFkZChzbGlkZXIuY2hpbGRyZW4uZXEoY3VycmVudEluZGV4ICsgaSkpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0Ly8gaWYgXCJ2ZXJ0aWNhbFwiIG1vZGUsIGNhbGN1bGF0ZSB0aGUgc3VtIG9mIHRoZSBoZWlnaHRzIG9mIHRoZSBjaGlsZHJlblxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ3ZlcnRpY2FsJyl7XG5cdFx0XHRcdGNoaWxkcmVuLmVhY2goZnVuY3Rpb24oaW5kZXgpIHtcblx0XHRcdFx0ICBoZWlnaHQgKz0gJCh0aGlzKS5vdXRlckhlaWdodCgpO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0Ly8gYWRkIHVzZXItc3VwcGxpZWQgbWFyZ2luc1xuXHRcdFx0XHRpZihzbGlkZXIuc2V0dGluZ3Muc2xpZGVNYXJnaW4gPiAwKXtcblx0XHRcdFx0XHRoZWlnaHQgKz0gc2xpZGVyLnNldHRpbmdzLnNsaWRlTWFyZ2luICogKHNsaWRlci5zZXR0aW5ncy5taW5TbGlkZXMgLSAxKTtcblx0XHRcdFx0fVxuXHRcdFx0Ly8gaWYgbm90IFwidmVydGljYWxcIiBtb2RlLCBjYWxjdWxhdGUgdGhlIG1heCBoZWlnaHQgb2YgdGhlIGNoaWxkcmVuXG5cdFx0XHR9ZWxzZXtcblx0XHRcdFx0aGVpZ2h0ID0gTWF0aC5tYXguYXBwbHkoTWF0aCwgY2hpbGRyZW4ubWFwKGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0cmV0dXJuICQodGhpcykub3V0ZXJIZWlnaHQoZmFsc2UpO1xuXHRcdFx0XHR9KS5nZXQoKSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmKHNsaWRlci52aWV3cG9ydC5jc3MoJ2JveC1zaXppbmcnKSA9PSAnYm9yZGVyLWJveCcpe1xuXHRcdFx0XHRoZWlnaHQgKz1cdHBhcnNlRmxvYXQoc2xpZGVyLnZpZXdwb3J0LmNzcygncGFkZGluZy10b3AnKSkgKyBwYXJzZUZsb2F0KHNsaWRlci52aWV3cG9ydC5jc3MoJ3BhZGRpbmctYm90dG9tJykpICtcblx0XHRcdFx0XHRcdFx0cGFyc2VGbG9hdChzbGlkZXIudmlld3BvcnQuY3NzKCdib3JkZXItdG9wLXdpZHRoJykpICsgcGFyc2VGbG9hdChzbGlkZXIudmlld3BvcnQuY3NzKCdib3JkZXItYm90dG9tLXdpZHRoJykpO1xuXHRcdFx0fWVsc2UgaWYoc2xpZGVyLnZpZXdwb3J0LmNzcygnYm94LXNpemluZycpID09ICdwYWRkaW5nLWJveCcpe1xuXHRcdFx0XHRoZWlnaHQgKz1cdHBhcnNlRmxvYXQoc2xpZGVyLnZpZXdwb3J0LmNzcygncGFkZGluZy10b3AnKSkgKyBwYXJzZUZsb2F0KHNsaWRlci52aWV3cG9ydC5jc3MoJ3BhZGRpbmctYm90dG9tJykpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gaGVpZ2h0O1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgdGhlIGNhbGN1bGF0ZWQgd2lkdGggdG8gYmUgdXNlZCBmb3IgdGhlIG91dGVyIHdyYXBwZXIgLyB2aWV3cG9ydFxuXHRcdCAqL1xuXHRcdHZhciBnZXRWaWV3cG9ydE1heFdpZHRoID0gZnVuY3Rpb24oKXtcblx0XHRcdHZhciB3aWR0aCA9ICcxMDAlJztcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5zbGlkZVdpZHRoID4gMCl7XG5cdFx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICdob3Jpem9udGFsJyl7XG5cdFx0XHRcdFx0d2lkdGggPSAoc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcyAqIHNsaWRlci5zZXR0aW5ncy5zbGlkZVdpZHRoKSArICgoc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcyAtIDEpICogc2xpZGVyLnNldHRpbmdzLnNsaWRlTWFyZ2luKTtcblx0XHRcdFx0fWVsc2V7XG5cdFx0XHRcdFx0d2lkdGggPSBzbGlkZXIuc2V0dGluZ3Muc2xpZGVXaWR0aDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHdpZHRoO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgdGhlIGNhbGN1bGF0ZWQgd2lkdGggdG8gYmUgYXBwbGllZCB0byBlYWNoIHNsaWRlXG5cdFx0ICovXG5cdFx0dmFyIGdldFNsaWRlV2lkdGggPSBmdW5jdGlvbigpe1xuXHRcdFx0Ly8gc3RhcnQgd2l0aCBhbnkgdXNlci1zdXBwbGllZCBzbGlkZSB3aWR0aFxuXHRcdFx0dmFyIG5ld0VsV2lkdGggPSBzbGlkZXIuc2V0dGluZ3Muc2xpZGVXaWR0aDtcblx0XHRcdC8vIGdldCB0aGUgY3VycmVudCB2aWV3cG9ydCB3aWR0aFxuXHRcdFx0dmFyIHdyYXBXaWR0aCA9IHNsaWRlci52aWV3cG9ydC53aWR0aCgpO1xuXHRcdFx0Ly8gaWYgc2xpZGUgd2lkdGggd2FzIG5vdCBzdXBwbGllZCwgb3IgaXMgbGFyZ2VyIHRoYW4gdGhlIHZpZXdwb3J0IHVzZSB0aGUgdmlld3BvcnQgd2lkdGhcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5zbGlkZVdpZHRoID09IDAgfHxcblx0XHRcdFx0KHNsaWRlci5zZXR0aW5ncy5zbGlkZVdpZHRoID4gd3JhcFdpZHRoICYmICFzbGlkZXIuY2Fyb3VzZWwpIHx8XG5cdFx0XHRcdHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICd2ZXJ0aWNhbCcpe1xuXHRcdFx0XHRuZXdFbFdpZHRoID0gd3JhcFdpZHRoO1xuXHRcdFx0Ly8gaWYgY2Fyb3VzZWwsIHVzZSB0aGUgdGhyZXNob2xkcyB0byBkZXRlcm1pbmUgdGhlIHdpZHRoXG5cdFx0XHR9ZWxzZSBpZihzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzID4gMSAmJiBzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnaG9yaXpvbnRhbCcpe1xuXHRcdFx0XHRpZih3cmFwV2lkdGggPiBzbGlkZXIubWF4VGhyZXNob2xkKXtcblx0XHRcdFx0XHQvLyBuZXdFbFdpZHRoID0gKHdyYXBXaWR0aCAtIChzbGlkZXIuc2V0dGluZ3Muc2xpZGVNYXJnaW4gKiAoc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcyAtIDEpKSkgLyBzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzO1xuXHRcdFx0XHR9ZWxzZSBpZih3cmFwV2lkdGggPCBzbGlkZXIubWluVGhyZXNob2xkKXtcblx0XHRcdFx0XHRuZXdFbFdpZHRoID0gKHdyYXBXaWR0aCAtIChzbGlkZXIuc2V0dGluZ3Muc2xpZGVNYXJnaW4gKiAoc2xpZGVyLnNldHRpbmdzLm1pblNsaWRlcyAtIDEpKSkgLyBzbGlkZXIuc2V0dGluZ3MubWluU2xpZGVzO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbmV3RWxXaWR0aDtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2Ygc2xpZGVzIGN1cnJlbnRseSB2aXNpYmxlIGluIHRoZSB2aWV3cG9ydCAoaW5jbHVkZXMgcGFydGlhbGx5IHZpc2libGUgc2xpZGVzKVxuXHRcdCAqL1xuXHRcdHZhciBnZXROdW1iZXJTbGlkZXNTaG93aW5nID0gZnVuY3Rpb24oKXtcblx0XHRcdHZhciBzbGlkZXNTaG93aW5nID0gMTtcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICdob3Jpem9udGFsJyAmJiBzbGlkZXIuc2V0dGluZ3Muc2xpZGVXaWR0aCA+IDApe1xuXHRcdFx0XHQvLyBpZiB2aWV3cG9ydCBpcyBzbWFsbGVyIHRoYW4gbWluVGhyZXNob2xkLCByZXR1cm4gbWluU2xpZGVzXG5cdFx0XHRcdGlmKHNsaWRlci52aWV3cG9ydC53aWR0aCgpIDwgc2xpZGVyLm1pblRocmVzaG9sZCl7XG5cdFx0XHRcdFx0c2xpZGVzU2hvd2luZyA9IHNsaWRlci5zZXR0aW5ncy5taW5TbGlkZXM7XG5cdFx0XHRcdC8vIGlmIHZpZXdwb3J0IGlzIGxhcmdlciB0aGFuIG1pblRocmVzaG9sZCwgcmV0dXJuIG1heFNsaWRlc1xuXHRcdFx0XHR9ZWxzZSBpZihzbGlkZXIudmlld3BvcnQud2lkdGgoKSA+IHNsaWRlci5tYXhUaHJlc2hvbGQpe1xuXHRcdFx0XHRcdHNsaWRlc1Nob3dpbmcgPSBzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzO1xuXHRcdFx0XHQvLyBpZiB2aWV3cG9ydCBpcyBiZXR3ZWVuIG1pbiAvIG1heCB0aHJlc2hvbGRzLCBkaXZpZGUgdmlld3BvcnQgd2lkdGggYnkgZmlyc3QgY2hpbGQgd2lkdGhcblx0XHRcdFx0fWVsc2V7XG5cdFx0XHRcdFx0dmFyIGNoaWxkV2lkdGggPSBzbGlkZXIuY2hpbGRyZW4uZmlyc3QoKS53aWR0aCgpICsgc2xpZGVyLnNldHRpbmdzLnNsaWRlTWFyZ2luO1xuXHRcdFx0XHRcdHNsaWRlc1Nob3dpbmcgPSBNYXRoLmZsb29yKChzbGlkZXIudmlld3BvcnQud2lkdGgoKSArXG5cdFx0XHRcdFx0XHRzbGlkZXIuc2V0dGluZ3Muc2xpZGVNYXJnaW4pIC8gY2hpbGRXaWR0aCk7XG5cdFx0XHRcdH1cblx0XHRcdC8vIGlmIFwidmVydGljYWxcIiBtb2RlLCBzbGlkZXMgc2hvd2luZyB3aWxsIGFsd2F5cyBiZSBtaW5TbGlkZXNcblx0XHRcdH1lbHNlIGlmKHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICd2ZXJ0aWNhbCcpe1xuXHRcdFx0XHRzbGlkZXNTaG93aW5nID0gc2xpZGVyLnNldHRpbmdzLm1pblNsaWRlcztcblx0XHRcdH1cblx0XHRcdHJldHVybiBzbGlkZXNTaG93aW5nO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgdGhlIG51bWJlciBvZiBwYWdlcyAob25lIGZ1bGwgdmlld3BvcnQgb2Ygc2xpZGVzIGlzIG9uZSBcInBhZ2VcIilcblx0XHQgKi9cblx0XHR2YXIgZ2V0UGFnZXJRdHkgPSBmdW5jdGlvbigpe1xuXHRcdFx0dmFyIHBhZ2VyUXR5ID0gMDtcblx0XHRcdC8vIGlmIG1vdmVTbGlkZXMgaXMgc3BlY2lmaWVkIGJ5IHRoZSB1c2VyXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MubW92ZVNsaWRlcyA+IDApe1xuXHRcdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuaW5maW5pdGVMb29wKXtcblx0XHRcdFx0XHRwYWdlclF0eSA9IE1hdGguY2VpbChzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoIC8gZ2V0TW92ZUJ5KCkpO1xuXHRcdFx0XHR9ZWxzZXtcblx0XHRcdFx0XHQvLyB1c2UgYSB3aGlsZSBsb29wIHRvIGRldGVybWluZSBwYWdlc1xuXHRcdFx0XHRcdHZhciBicmVha1BvaW50ID0gMDtcblx0XHRcdFx0XHR2YXIgY291bnRlciA9IDBcblx0XHRcdFx0XHQvLyB3aGVuIGJyZWFrcG9pbnQgZ29lcyBhYm92ZSBjaGlsZHJlbiBsZW5ndGgsIGNvdW50ZXIgaXMgdGhlIG51bWJlciBvZiBwYWdlc1xuXHRcdFx0XHRcdHdoaWxlIChicmVha1BvaW50IDwgc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCl7XG5cdFx0XHRcdFx0XHQrK3BhZ2VyUXR5O1xuXHRcdFx0XHRcdFx0YnJlYWtQb2ludCA9IGNvdW50ZXIgKyBnZXROdW1iZXJTbGlkZXNTaG93aW5nKCk7XG5cdFx0XHRcdFx0XHRjb3VudGVyICs9IHNsaWRlci5zZXR0aW5ncy5tb3ZlU2xpZGVzIDw9IGdldE51bWJlclNsaWRlc1Nob3dpbmcoKSA/IHNsaWRlci5zZXR0aW5ncy5tb3ZlU2xpZGVzIDogZ2V0TnVtYmVyU2xpZGVzU2hvd2luZygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0Ly8gaWYgbW92ZVNsaWRlcyBpcyAwIChhdXRvKSBkaXZpZGUgY2hpbGRyZW4gbGVuZ3RoIGJ5IHNpZGVzIHNob3dpbmcsIHRoZW4gcm91bmQgdXBcblx0XHRcdH1lbHNle1xuXHRcdFx0XHRwYWdlclF0eSA9IE1hdGguY2VpbChzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoIC8gZ2V0TnVtYmVyU2xpZGVzU2hvd2luZygpKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBwYWdlclF0eTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgaW5kaXZ1YWwgc2xpZGVzIGJ5IHdoaWNoIHRvIHNoaWZ0IHRoZSBzbGlkZXJcblx0XHQgKi9cblx0XHR2YXIgZ2V0TW92ZUJ5ID0gZnVuY3Rpb24oKXtcblx0XHRcdC8vIGlmIG1vdmVTbGlkZXMgd2FzIHNldCBieSB0aGUgdXNlciBhbmQgbW92ZVNsaWRlcyBpcyBsZXNzIHRoYW4gbnVtYmVyIG9mIHNsaWRlcyBzaG93aW5nXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MubW92ZVNsaWRlcyA+IDAgJiYgc2xpZGVyLnNldHRpbmdzLm1vdmVTbGlkZXMgPD0gZ2V0TnVtYmVyU2xpZGVzU2hvd2luZygpKXtcblx0XHRcdFx0cmV0dXJuIHNsaWRlci5zZXR0aW5ncy5tb3ZlU2xpZGVzO1xuXHRcdFx0fVxuXHRcdFx0Ly8gaWYgbW92ZVNsaWRlcyBpcyAwIChhdXRvKVxuXHRcdFx0cmV0dXJuIGdldE51bWJlclNsaWRlc1Nob3dpbmcoKTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBTZXRzIHRoZSBzbGlkZXIncyAoZWwpIGxlZnQgb3IgdG9wIHBvc2l0aW9uXG5cdFx0ICovXG5cdFx0dmFyIHNldFNsaWRlUG9zaXRpb24gPSBmdW5jdGlvbigpe1xuXHRcdFx0Ly8gaWYgbGFzdCBzbGlkZSwgbm90IGluZmluaXRlIGxvb3AsIGFuZCBudW1iZXIgb2YgY2hpbGRyZW4gaXMgbGFyZ2VyIHRoYW4gc3BlY2lmaWVkIG1heFNsaWRlc1xuXHRcdFx0aWYoc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCA+IHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMgJiYgc2xpZGVyLmFjdGl2ZS5sYXN0ICYmICFzbGlkZXIuc2V0dGluZ3MuaW5maW5pdGVMb29wKXtcblx0XHRcdFx0aWYgKHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICdob3Jpem9udGFsJyl7XG5cdFx0XHRcdFx0Ly8gZ2V0IHRoZSBsYXN0IGNoaWxkJ3MgcG9zaXRpb25cblx0XHRcdFx0XHR2YXIgbGFzdENoaWxkID0gc2xpZGVyLmNoaWxkcmVuLmxhc3QoKTtcblx0XHRcdFx0XHR2YXIgcG9zaXRpb24gPSBsYXN0Q2hpbGQucG9zaXRpb24oKTtcblx0XHRcdFx0XHQvLyBzZXQgdGhlIGxlZnQgcG9zaXRpb25cblx0XHRcdFx0XHRzZXRQb3NpdGlvblByb3BlcnR5KC0ocG9zaXRpb24ubGVmdCAtIChzbGlkZXIudmlld3BvcnQud2lkdGgoKSAtIGxhc3RDaGlsZC5vdXRlcldpZHRoKCkpKSwgJ3Jlc2V0JywgMCk7XG5cdFx0XHRcdH1lbHNlIGlmKHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICd2ZXJ0aWNhbCcpe1xuXHRcdFx0XHRcdC8vIGdldCB0aGUgbGFzdCBzaG93aW5nIGluZGV4J3MgcG9zaXRpb25cblx0XHRcdFx0XHR2YXIgbGFzdFNob3dpbmdJbmRleCA9IHNsaWRlci5jaGlsZHJlbi5sZW5ndGggLSBzbGlkZXIuc2V0dGluZ3MubWluU2xpZGVzO1xuXHRcdFx0XHRcdHZhciBwb3NpdGlvbiA9IHNsaWRlci5jaGlsZHJlbi5lcShsYXN0U2hvd2luZ0luZGV4KS5wb3NpdGlvbigpO1xuXHRcdFx0XHRcdC8vIHNldCB0aGUgdG9wIHBvc2l0aW9uXG5cdFx0XHRcdFx0c2V0UG9zaXRpb25Qcm9wZXJ0eSgtcG9zaXRpb24udG9wLCAncmVzZXQnLCAwKTtcblx0XHRcdFx0fVxuXHRcdFx0Ly8gaWYgbm90IGxhc3Qgc2xpZGVcblx0XHRcdH1lbHNle1xuXHRcdFx0XHQvLyBnZXQgdGhlIHBvc2l0aW9uIG9mIHRoZSBmaXJzdCBzaG93aW5nIHNsaWRlXG5cdFx0XHRcdHZhciBwb3NpdGlvbiA9IHNsaWRlci5jaGlsZHJlbi5lcShzbGlkZXIuYWN0aXZlLmluZGV4ICogZ2V0TW92ZUJ5KCkpLnBvc2l0aW9uKCk7XG5cdFx0XHRcdC8vIGNoZWNrIGZvciBsYXN0IHNsaWRlXG5cdFx0XHRcdGlmIChzbGlkZXIuYWN0aXZlLmluZGV4ID09IGdldFBhZ2VyUXR5KCkgLSAxKSBzbGlkZXIuYWN0aXZlLmxhc3QgPSB0cnVlO1xuXHRcdFx0XHQvLyBzZXQgdGhlIHJlcGVjdGl2ZSBwb3NpdGlvblxuXHRcdFx0XHRpZiAocG9zaXRpb24gIT0gdW5kZWZpbmVkKXtcblx0XHRcdFx0XHRpZiAoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnKSBzZXRQb3NpdGlvblByb3BlcnR5KC1wb3NpdGlvbi5sZWZ0LCAncmVzZXQnLCAwKTtcblx0XHRcdFx0XHRlbHNlIGlmIChzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAndmVydGljYWwnKSBzZXRQb3NpdGlvblByb3BlcnR5KC1wb3NpdGlvbi50b3AsICdyZXNldCcsIDApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogU2V0cyB0aGUgZWwncyBhbmltYXRpbmcgcHJvcGVydHkgcG9zaXRpb24gKHdoaWNoIGluIHR1cm4gd2lsbCBzb21ldGltZXMgYW5pbWF0ZSBlbCkuXG5cdFx0ICogSWYgdXNpbmcgQ1NTLCBzZXRzIHRoZSB0cmFuc2Zvcm0gcHJvcGVydHkuIElmIG5vdCB1c2luZyBDU1MsIHNldHMgdGhlIHRvcCAvIGxlZnQgcHJvcGVydHkuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gdmFsdWUgKGludClcblx0XHQgKiAgLSB0aGUgYW5pbWF0aW5nIHByb3BlcnR5J3MgdmFsdWVcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB0eXBlIChzdHJpbmcpICdzbGlkZXInLCAncmVzZXQnLCAndGlja2VyJ1xuXHRcdCAqICAtIHRoZSB0eXBlIG9mIGluc3RhbmNlIGZvciB3aGljaCB0aGUgZnVuY3Rpb24gaXMgYmVpbmdcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSBkdXJhdGlvbiAoaW50KVxuXHRcdCAqICAtIHRoZSBhbW91bnQgb2YgdGltZSAoaW4gbXMpIHRoZSB0cmFuc2l0aW9uIHNob3VsZCBvY2N1cHlcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSBwYXJhbXMgKGFycmF5KSBvcHRpb25hbFxuXHRcdCAqICAtIGFuIG9wdGlvbmFsIHBhcmFtZXRlciBjb250YWluaW5nIGFueSB2YXJpYWJsZXMgdGhhdCBuZWVkIHRvIGJlIHBhc3NlZCBpblxuXHRcdCAqL1xuXHRcdHZhciBzZXRQb3NpdGlvblByb3BlcnR5ID0gZnVuY3Rpb24odmFsdWUsIHR5cGUsIGR1cmF0aW9uLCBwYXJhbXMpe1xuXHRcdFx0Ly8gdXNlIENTUyB0cmFuc2Zvcm1cblx0XHRcdGlmKHNsaWRlci51c2luZ0NTUyl7XG5cdFx0XHRcdC8vIGRldGVybWluZSB0aGUgdHJhbnNsYXRlM2QgdmFsdWVcblx0XHRcdFx0dmFyIHByb3BWYWx1ZSA9IHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICd2ZXJ0aWNhbCcgPyAndHJhbnNsYXRlM2QoMCwgJyArIHZhbHVlICsgJ3B4LCAwKScgOiAndHJhbnNsYXRlM2QoJyArIHZhbHVlICsgJ3B4LCAwLCAwKSc7XG5cdFx0XHRcdC8vIGFkZCB0aGUgQ1NTIHRyYW5zaXRpb24tZHVyYXRpb25cblx0XHRcdFx0ZWwuY3NzKCctJyArIHNsaWRlci5jc3NQcmVmaXggKyAnLXRyYW5zaXRpb24tZHVyYXRpb24nLCBkdXJhdGlvbiAvIDEwMDAgKyAncycpO1xuXHRcdFx0XHRpZih0eXBlID09ICdzbGlkZScpe1xuXHRcdFx0XHRcdC8vIHNldCB0aGUgcHJvcGVydHkgdmFsdWVcblx0XHRcdFx0XHRlbC5jc3Moc2xpZGVyLmFuaW1Qcm9wLCBwcm9wVmFsdWUpO1xuXHRcdFx0XHRcdC8vIGJpbmQgYSBjYWxsYmFjayBtZXRob2QgLSBleGVjdXRlcyB3aGVuIENTUyB0cmFuc2l0aW9uIGNvbXBsZXRlc1xuXHRcdFx0XHRcdGVsLmJpbmQoJ3RyYW5zaXRpb25lbmQgd2Via2l0VHJhbnNpdGlvbkVuZCBvVHJhbnNpdGlvbkVuZCBNU1RyYW5zaXRpb25FbmQnLCBmdW5jdGlvbigpe1xuXHRcdFx0XHRcdFx0Ly8gdW5iaW5kIHRoZSBjYWxsYmFja1xuXHRcdFx0XHRcdFx0ZWwudW5iaW5kKCd0cmFuc2l0aW9uZW5kIHdlYmtpdFRyYW5zaXRpb25FbmQgb1RyYW5zaXRpb25FbmQgTVNUcmFuc2l0aW9uRW5kJyk7XG5cdFx0XHRcdFx0XHR1cGRhdGVBZnRlclNsaWRlVHJhbnNpdGlvbigpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9ZWxzZSBpZih0eXBlID09ICdyZXNldCcpe1xuXHRcdFx0XHRcdGVsLmNzcyhzbGlkZXIuYW5pbVByb3AsIHByb3BWYWx1ZSk7XG5cdFx0XHRcdH1lbHNlIGlmKHR5cGUgPT0gJ3RpY2tlcicpe1xuXHRcdFx0XHRcdC8vIG1ha2UgdGhlIHRyYW5zaXRpb24gdXNlICdsaW5lYXInXG5cdFx0XHRcdFx0ZWwuY3NzKCctJyArIHNsaWRlci5jc3NQcmVmaXggKyAnLXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uJywgJ2xpbmVhcicpO1xuXHRcdFx0XHRcdGVsLmNzcyhzbGlkZXIuYW5pbVByb3AsIHByb3BWYWx1ZSk7XG5cdFx0XHRcdFx0Ly8gYmluZCBhIGNhbGxiYWNrIG1ldGhvZCAtIGV4ZWN1dGVzIHdoZW4gQ1NTIHRyYW5zaXRpb24gY29tcGxldGVzXG5cdFx0XHRcdFx0ZWwuYmluZCgndHJhbnNpdGlvbmVuZCB3ZWJraXRUcmFuc2l0aW9uRW5kIG9UcmFuc2l0aW9uRW5kIE1TVHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0XHQvLyB1bmJpbmQgdGhlIGNhbGxiYWNrXG5cdFx0XHRcdFx0XHRlbC51bmJpbmQoJ3RyYW5zaXRpb25lbmQgd2Via2l0VHJhbnNpdGlvbkVuZCBvVHJhbnNpdGlvbkVuZCBNU1RyYW5zaXRpb25FbmQnKTtcblx0XHRcdFx0XHRcdC8vIHJlc2V0IHRoZSBwb3NpdGlvblxuXHRcdFx0XHRcdFx0c2V0UG9zaXRpb25Qcm9wZXJ0eShwYXJhbXNbJ3Jlc2V0VmFsdWUnXSwgJ3Jlc2V0JywgMCk7XG5cdFx0XHRcdFx0XHQvLyBzdGFydCB0aGUgbG9vcCBhZ2FpblxuXHRcdFx0XHRcdFx0dGlja2VyTG9vcCgpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHQvLyB1c2UgSlMgYW5pbWF0ZVxuXHRcdFx0fWVsc2V7XG5cdFx0XHRcdHZhciBhbmltYXRlT2JqID0ge307XG5cdFx0XHRcdGFuaW1hdGVPYmpbc2xpZGVyLmFuaW1Qcm9wXSA9IHZhbHVlO1xuXHRcdFx0XHRpZih0eXBlID09ICdzbGlkZScpe1xuXHRcdFx0XHRcdGVsLmFuaW1hdGUoYW5pbWF0ZU9iaiwgZHVyYXRpb24sIHNsaWRlci5zZXR0aW5ncy5lYXNpbmcsIGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0XHR1cGRhdGVBZnRlclNsaWRlVHJhbnNpdGlvbigpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9ZWxzZSBpZih0eXBlID09ICdyZXNldCcpe1xuXHRcdFx0XHRcdGVsLmNzcyhzbGlkZXIuYW5pbVByb3AsIHZhbHVlKVxuXHRcdFx0XHR9ZWxzZSBpZih0eXBlID09ICd0aWNrZXInKXtcblx0XHRcdFx0XHRlbC5hbmltYXRlKGFuaW1hdGVPYmosIHNwZWVkLCAnbGluZWFyJywgZnVuY3Rpb24oKXtcblx0XHRcdFx0XHRcdHNldFBvc2l0aW9uUHJvcGVydHkocGFyYW1zWydyZXNldFZhbHVlJ10sICdyZXNldCcsIDApO1xuXHRcdFx0XHRcdFx0Ly8gcnVuIHRoZSByZWN1cnNpdmUgbG9vcCBhZnRlciBhbmltYXRpb25cblx0XHRcdFx0XHRcdHRpY2tlckxvb3AoKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFBvcHVsYXRlcyB0aGUgcGFnZXIgd2l0aCBwcm9wZXIgYW1vdW50IG9mIHBhZ2VzXG5cdFx0ICovXG5cdFx0dmFyIHBvcHVsYXRlUGFnZXIgPSBmdW5jdGlvbigpe1xuXHRcdFx0dmFyIHBhZ2VySHRtbCA9ICcnO1xuXHRcdFx0dmFyIHBhZ2VyUXR5ID0gZ2V0UGFnZXJRdHkoKTtcblx0XHRcdC8vIGxvb3AgdGhyb3VnaCBlYWNoIHBhZ2VyIGl0ZW1cblx0XHRcdGZvcih2YXIgaT0wOyBpIDwgcGFnZXJRdHk7IGkrKyl7XG5cdFx0XHRcdHZhciBsaW5rQ29udGVudCA9ICcnO1xuXHRcdFx0XHQvLyBpZiBhIGJ1aWxkUGFnZXIgZnVuY3Rpb24gaXMgc3VwcGxpZWQsIHVzZSBpdCB0byBnZXQgcGFnZXIgbGluayB2YWx1ZSwgZWxzZSB1c2UgaW5kZXggKyAxXG5cdFx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5idWlsZFBhZ2VyICYmICQuaXNGdW5jdGlvbihzbGlkZXIuc2V0dGluZ3MuYnVpbGRQYWdlcikpe1xuXHRcdFx0XHRcdGxpbmtDb250ZW50ID0gc2xpZGVyLnNldHRpbmdzLmJ1aWxkUGFnZXIoaSk7XG5cdFx0XHRcdFx0c2xpZGVyLnBhZ2VyRWwuYWRkQ2xhc3MoJ2J4LWN1c3RvbS1wYWdlcicpO1xuXHRcdFx0XHR9ZWxzZXtcblx0XHRcdFx0XHRsaW5rQ29udGVudCA9IGkgKyAxO1xuXHRcdFx0XHRcdHNsaWRlci5wYWdlckVsLmFkZENsYXNzKCdieC1kZWZhdWx0LXBhZ2VyJyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gdmFyIGxpbmtDb250ZW50ID0gc2xpZGVyLnNldHRpbmdzLmJ1aWxkUGFnZXIgJiYgJC5pc0Z1bmN0aW9uKHNsaWRlci5zZXR0aW5ncy5idWlsZFBhZ2VyKSA/IHNsaWRlci5zZXR0aW5ncy5idWlsZFBhZ2VyKGkpIDogaSArIDE7XG5cdFx0XHRcdC8vIGFkZCB0aGUgbWFya3VwIHRvIHRoZSBzdHJpbmdcblx0XHRcdFx0cGFnZXJIdG1sICs9ICc8ZGl2IGNsYXNzPVwiYngtcGFnZXItaXRlbVwiPjxhIGhyZWY9XCJcIiBkYXRhLXNsaWRlLWluZGV4PVwiJyArIGkgKyAnXCIgY2xhc3M9XCJieC1wYWdlci1saW5rXCI+JyArIGxpbmtDb250ZW50ICsgJzwvYT48L2Rpdj4nO1xuXHRcdFx0fTtcblx0XHRcdC8vIHBvcHVsYXRlIHRoZSBwYWdlciBlbGVtZW50IHdpdGggcGFnZXIgbGlua3Ncblx0XHRcdHNsaWRlci5wYWdlckVsLmh0bWwocGFnZXJIdG1sKTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBBcHBlbmRzIHRoZSBwYWdlciB0byB0aGUgY29udHJvbHMgZWxlbWVudFxuXHRcdCAqL1xuXHRcdHZhciBhcHBlbmRQYWdlciA9IGZ1bmN0aW9uKCl7XG5cdFx0XHRpZighc2xpZGVyLnNldHRpbmdzLnBhZ2VyQ3VzdG9tKXtcblx0XHRcdFx0Ly8gY3JlYXRlIHRoZSBwYWdlciBET00gZWxlbWVudFxuXHRcdFx0XHRzbGlkZXIucGFnZXJFbCA9ICQoJzxkaXYgY2xhc3M9XCJieC1wYWdlclwiIC8+Jyk7XG5cdFx0XHRcdC8vIGlmIGEgcGFnZXIgc2VsZWN0b3Igd2FzIHN1cHBsaWVkLCBwb3B1bGF0ZSBpdCB3aXRoIHRoZSBwYWdlclxuXHRcdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MucGFnZXJTZWxlY3Rvcil7XG5cdFx0XHRcdFx0JChzbGlkZXIuc2V0dGluZ3MucGFnZXJTZWxlY3RvcikuaHRtbChzbGlkZXIucGFnZXJFbCk7XG5cdFx0XHRcdC8vIGlmIG5vIHBhZ2VyIHNlbGVjdG9yIHdhcyBzdXBwbGllZCwgYWRkIGl0IGFmdGVyIHRoZSB3cmFwcGVyXG5cdFx0XHRcdH1lbHNle1xuXHRcdFx0XHRcdHNsaWRlci5jb250cm9scy5lbC5hZGRDbGFzcygnYngtaGFzLXBhZ2VyJykuYXBwZW5kKHNsaWRlci5wYWdlckVsKTtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBwb3B1bGF0ZSB0aGUgcGFnZXJcblx0XHRcdFx0cG9wdWxhdGVQYWdlcigpO1xuXHRcdFx0fWVsc2V7XG5cdFx0XHRcdHNsaWRlci5wYWdlckVsID0gJChzbGlkZXIuc2V0dGluZ3MucGFnZXJDdXN0b20pO1xuXHRcdFx0fVxuXHRcdFx0Ly8gYXNzaWduIHRoZSBwYWdlciBjbGljayBiaW5kaW5nXG5cdFx0XHRzbGlkZXIucGFnZXJFbC5vbignY2xpY2snLCAnYScsIGNsaWNrUGFnZXJCaW5kKTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBBcHBlbmRzIHByZXYgLyBuZXh0IGNvbnRyb2xzIHRvIHRoZSBjb250cm9scyBlbGVtZW50XG5cdFx0ICovXG5cdFx0dmFyIGFwcGVuZENvbnRyb2xzID0gZnVuY3Rpb24oKXtcblx0XHRcdHNsaWRlci5jb250cm9scy5uZXh0ID0gJCgnPGEgY2xhc3M9XCJieC1uZXh0XCIgaHJlZj1cIlwiPicgKyBzbGlkZXIuc2V0dGluZ3MubmV4dFRleHQgKyAnPC9hPicpO1xuXHRcdFx0c2xpZGVyLmNvbnRyb2xzLnByZXYgPSAkKCc8YSBjbGFzcz1cImJ4LXByZXZcIiBocmVmPVwiXCI+JyArIHNsaWRlci5zZXR0aW5ncy5wcmV2VGV4dCArICc8L2E+Jyk7XG5cdFx0XHQvLyBiaW5kIGNsaWNrIGFjdGlvbnMgdG8gdGhlIGNvbnRyb2xzXG5cdFx0XHRzbGlkZXIuY29udHJvbHMubmV4dC5iaW5kKCdjbGljaycsIGNsaWNrTmV4dEJpbmQpO1xuXHRcdFx0c2xpZGVyLmNvbnRyb2xzLnByZXYuYmluZCgnY2xpY2snLCBjbGlja1ByZXZCaW5kKTtcblx0XHRcdC8vIGlmIG5leHRTbGVjdG9yIHdhcyBzdXBwbGllZCwgcG9wdWxhdGUgaXRcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5uZXh0U2VsZWN0b3Ipe1xuXHRcdFx0XHQkKHNsaWRlci5zZXR0aW5ncy5uZXh0U2VsZWN0b3IpLmFwcGVuZChzbGlkZXIuY29udHJvbHMubmV4dCk7XG5cdFx0XHR9XG5cdFx0XHQvLyBpZiBwcmV2U2xlY3RvciB3YXMgc3VwcGxpZWQsIHBvcHVsYXRlIGl0XG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MucHJldlNlbGVjdG9yKXtcblx0XHRcdFx0JChzbGlkZXIuc2V0dGluZ3MucHJldlNlbGVjdG9yKS5hcHBlbmQoc2xpZGVyLmNvbnRyb2xzLnByZXYpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gaWYgbm8gY3VzdG9tIHNlbGVjdG9ycyB3ZXJlIHN1cHBsaWVkXG5cdFx0XHRpZighc2xpZGVyLnNldHRpbmdzLm5leHRTZWxlY3RvciAmJiAhc2xpZGVyLnNldHRpbmdzLnByZXZTZWxlY3Rvcil7XG5cdFx0XHRcdC8vIGFkZCB0aGUgY29udHJvbHMgdG8gdGhlIERPTVxuXHRcdFx0XHRzbGlkZXIuY29udHJvbHMuZGlyZWN0aW9uRWwgPSAkKCc8ZGl2IGNsYXNzPVwiYngtY29udHJvbHMtZGlyZWN0aW9uXCIgLz4nKTtcblx0XHRcdFx0Ly8gYWRkIHRoZSBjb250cm9sIGVsZW1lbnRzIHRvIHRoZSBkaXJlY3Rpb25FbFxuXHRcdFx0XHRzbGlkZXIuY29udHJvbHMuZGlyZWN0aW9uRWwuYXBwZW5kKHNsaWRlci5jb250cm9scy5wcmV2KS5hcHBlbmQoc2xpZGVyLmNvbnRyb2xzLm5leHQpO1xuXHRcdFx0XHQvLyBzbGlkZXIudmlld3BvcnQuYXBwZW5kKHNsaWRlci5jb250cm9scy5kaXJlY3Rpb25FbCk7XG5cdFx0XHRcdHNsaWRlci5jb250cm9scy5lbC5hZGRDbGFzcygnYngtaGFzLWNvbnRyb2xzLWRpcmVjdGlvbicpLmFwcGVuZChzbGlkZXIuY29udHJvbHMuZGlyZWN0aW9uRWwpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIEFwcGVuZHMgc3RhcnQgLyBzdG9wIGF1dG8gY29udHJvbHMgdG8gdGhlIGNvbnRyb2xzIGVsZW1lbnRcblx0XHQgKi9cblx0XHR2YXIgYXBwZW5kQ29udHJvbHNBdXRvID0gZnVuY3Rpb24oKXtcblx0XHRcdHNsaWRlci5jb250cm9scy5zdGFydCA9ICQoJzxkaXYgY2xhc3M9XCJieC1jb250cm9scy1hdXRvLWl0ZW1cIj48YSBjbGFzcz1cImJ4LXN0YXJ0XCIgaHJlZj1cIlwiPicgKyBzbGlkZXIuc2V0dGluZ3Muc3RhcnRUZXh0ICsgJzwvYT48L2Rpdj4nKTtcblx0XHRcdHNsaWRlci5jb250cm9scy5zdG9wID0gJCgnPGRpdiBjbGFzcz1cImJ4LWNvbnRyb2xzLWF1dG8taXRlbVwiPjxhIGNsYXNzPVwiYngtc3RvcFwiIGhyZWY9XCJcIj4nICsgc2xpZGVyLnNldHRpbmdzLnN0b3BUZXh0ICsgJzwvYT48L2Rpdj4nKTtcblx0XHRcdC8vIGFkZCB0aGUgY29udHJvbHMgdG8gdGhlIERPTVxuXHRcdFx0c2xpZGVyLmNvbnRyb2xzLmF1dG9FbCA9ICQoJzxkaXYgY2xhc3M9XCJieC1jb250cm9scy1hdXRvXCIgLz4nKTtcblx0XHRcdC8vIGJpbmQgY2xpY2sgYWN0aW9ucyB0byB0aGUgY29udHJvbHNcblx0XHRcdHNsaWRlci5jb250cm9scy5hdXRvRWwub24oJ2NsaWNrJywgJy5ieC1zdGFydCcsIGNsaWNrU3RhcnRCaW5kKTtcblx0XHRcdHNsaWRlci5jb250cm9scy5hdXRvRWwub24oJ2NsaWNrJywgJy5ieC1zdG9wJywgY2xpY2tTdG9wQmluZCk7XG5cdFx0XHQvLyBpZiBhdXRvQ29udHJvbHNDb21iaW5lLCBpbnNlcnQgb25seSB0aGUgXCJzdGFydFwiIGNvbnRyb2xcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5hdXRvQ29udHJvbHNDb21iaW5lKXtcblx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLmF1dG9FbC5hcHBlbmQoc2xpZGVyLmNvbnRyb2xzLnN0YXJ0KTtcblx0XHRcdC8vIGlmIGF1dG9Db250cm9sc0NvbWJpbmUgaXMgZmFsc2UsIGluc2VydCBib3RoIGNvbnRyb2xzXG5cdFx0XHR9ZWxzZXtcblx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLmF1dG9FbC5hcHBlbmQoc2xpZGVyLmNvbnRyb2xzLnN0YXJ0KS5hcHBlbmQoc2xpZGVyLmNvbnRyb2xzLnN0b3ApO1xuXHRcdFx0fVxuXHRcdFx0Ly8gaWYgYXV0byBjb250cm9scyBzZWxlY3RvciB3YXMgc3VwcGxpZWQsIHBvcHVsYXRlIGl0IHdpdGggdGhlIGNvbnRyb2xzXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuYXV0b0NvbnRyb2xzU2VsZWN0b3Ipe1xuXHRcdFx0XHQkKHNsaWRlci5zZXR0aW5ncy5hdXRvQ29udHJvbHNTZWxlY3RvcikuaHRtbChzbGlkZXIuY29udHJvbHMuYXV0b0VsKTtcblx0XHRcdC8vIGlmIGF1dG8gY29udHJvbHMgc2VsZWN0b3Igd2FzIG5vdCBzdXBwbGllZCwgYWRkIGl0IGFmdGVyIHRoZSB3cmFwcGVyXG5cdFx0XHR9ZWxzZXtcblx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLmVsLmFkZENsYXNzKCdieC1oYXMtY29udHJvbHMtYXV0bycpLmFwcGVuZChzbGlkZXIuY29udHJvbHMuYXV0b0VsKTtcblx0XHRcdH1cblx0XHRcdC8vIHVwZGF0ZSB0aGUgYXV0byBjb250cm9sc1xuXHRcdFx0dXBkYXRlQXV0b0NvbnRyb2xzKHNsaWRlci5zZXR0aW5ncy5hdXRvU3RhcnQgPyAnc3RvcCcgOiAnc3RhcnQnKTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBBcHBlbmRzIGltYWdlIGNhcHRpb25zIHRvIHRoZSBET01cblx0XHQgKi9cblx0XHR2YXIgYXBwZW5kQ2FwdGlvbnMgPSBmdW5jdGlvbigpe1xuXHRcdFx0Ly8gY3ljbGUgdGhyb3VnaCBlYWNoIGNoaWxkXG5cdFx0XHRzbGlkZXIuY2hpbGRyZW4uZWFjaChmdW5jdGlvbihpbmRleCl7XG5cdFx0XHRcdC8vIGdldCB0aGUgaW1hZ2UgdGl0bGUgYXR0cmlidXRlXG5cdFx0XHRcdHZhciB0aXRsZSA9ICQodGhpcykuZmluZCgnaW1nOmZpcnN0JykuYXR0cigndGl0bGUnKTtcblx0XHRcdFx0Ly8gYXBwZW5kIHRoZSBjYXB0aW9uXG5cdFx0XHRcdGlmICh0aXRsZSAhPSB1bmRlZmluZWQgJiYgKCcnICsgdGl0bGUpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmFwcGVuZCgnPGRpdiBjbGFzcz1cImJ4LWNhcHRpb25cIj48c3Bhbj4nICsgdGl0bGUgKyAnPC9zcGFuPjwvZGl2PicpO1xuICAgICAgICAgICAgICAgIH1cblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIENsaWNrIG5leHQgYmluZGluZ1xuXHRcdCAqXG5cdFx0ICogQHBhcmFtIGUgKGV2ZW50KVxuXHRcdCAqICAtIERPTSBldmVudCBvYmplY3Rcblx0XHQgKi9cblx0XHR2YXIgY2xpY2tOZXh0QmluZCA9IGZ1bmN0aW9uKGUpe1xuXHRcdFx0Ly8gaWYgYXV0byBzaG93IGlzIHJ1bm5pbmcsIHN0b3AgaXRcblx0XHRcdGlmIChzbGlkZXIuc2V0dGluZ3MuYXV0bykgZWwuc3RvcEF1dG8oKTtcblx0XHRcdGVsLmdvVG9OZXh0U2xpZGUoKTtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBDbGljayBwcmV2IGJpbmRpbmdcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSBlIChldmVudClcblx0XHQgKiAgLSBET00gZXZlbnQgb2JqZWN0XG5cdFx0ICovXG5cdFx0dmFyIGNsaWNrUHJldkJpbmQgPSBmdW5jdGlvbihlKXtcblx0XHRcdC8vIGlmIGF1dG8gc2hvdyBpcyBydW5uaW5nLCBzdG9wIGl0XG5cdFx0XHRpZiAoc2xpZGVyLnNldHRpbmdzLmF1dG8pIGVsLnN0b3BBdXRvKCk7XG5cdFx0XHRlbC5nb1RvUHJldlNsaWRlKCk7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogQ2xpY2sgc3RhcnQgYmluZGluZ1xuXHRcdCAqXG5cdFx0ICogQHBhcmFtIGUgKGV2ZW50KVxuXHRcdCAqICAtIERPTSBldmVudCBvYmplY3Rcblx0XHQgKi9cblx0XHR2YXIgY2xpY2tTdGFydEJpbmQgPSBmdW5jdGlvbihlKXtcblx0XHRcdGVsLnN0YXJ0QXV0bygpO1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIENsaWNrIHN0b3AgYmluZGluZ1xuXHRcdCAqXG5cdFx0ICogQHBhcmFtIGUgKGV2ZW50KVxuXHRcdCAqICAtIERPTSBldmVudCBvYmplY3Rcblx0XHQgKi9cblx0XHR2YXIgY2xpY2tTdG9wQmluZCA9IGZ1bmN0aW9uKGUpe1xuXHRcdFx0ZWwuc3RvcEF1dG8oKTtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBDbGljayBwYWdlciBiaW5kaW5nXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gZSAoZXZlbnQpXG5cdFx0ICogIC0gRE9NIGV2ZW50IG9iamVjdFxuXHRcdCAqL1xuXHRcdHZhciBjbGlja1BhZ2VyQmluZCA9IGZ1bmN0aW9uKGUpe1xuXHRcdFx0Ly8gaWYgYXV0byBzaG93IGlzIHJ1bm5pbmcsIHN0b3AgaXRcblx0XHRcdGlmIChzbGlkZXIuc2V0dGluZ3MuYXV0bykgZWwuc3RvcEF1dG8oKTtcblx0XHRcdHZhciBwYWdlckxpbmsgPSAkKGUuY3VycmVudFRhcmdldCk7XG5cdFx0XHRpZihwYWdlckxpbmsuYXR0cignZGF0YS1zbGlkZS1pbmRleCcpICE9PSB1bmRlZmluZWQpe1xuXHRcdFx0XHR2YXIgcGFnZXJJbmRleCA9IHBhcnNlSW50KHBhZ2VyTGluay5hdHRyKCdkYXRhLXNsaWRlLWluZGV4JykpO1xuXHRcdFx0XHQvLyBpZiBjbGlja2VkIHBhZ2VyIGxpbmsgaXMgbm90IGFjdGl2ZSwgY29udGludWUgd2l0aCB0aGUgZ29Ub1NsaWRlIGNhbGxcblx0XHRcdFx0aWYocGFnZXJJbmRleCAhPSBzbGlkZXIuYWN0aXZlLmluZGV4KSBlbC5nb1RvU2xpZGUocGFnZXJJbmRleCk7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBVcGRhdGVzIHRoZSBwYWdlciBsaW5rcyB3aXRoIGFuIGFjdGl2ZSBjbGFzc1xuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHNsaWRlSW5kZXggKGludClcblx0XHQgKiAgLSBpbmRleCBvZiBzbGlkZSB0byBtYWtlIGFjdGl2ZVxuXHRcdCAqL1xuXHRcdHZhciB1cGRhdGVQYWdlckFjdGl2ZSA9IGZ1bmN0aW9uKHNsaWRlSW5kZXgpe1xuXHRcdFx0Ly8gaWYgXCJzaG9ydFwiIHBhZ2VyIHR5cGVcblx0XHRcdHZhciBsZW4gPSBzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoOyAvLyBuYiBvZiBjaGlsZHJlblxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLnBhZ2VyVHlwZSA9PSAnc2hvcnQnKXtcblx0XHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcyA+IDEpIHtcblx0XHRcdFx0XHRsZW4gPSBNYXRoLmNlaWwoc2xpZGVyLmNoaWxkcmVuLmxlbmd0aC9zbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRzbGlkZXIucGFnZXJFbC5odG1sKCAoc2xpZGVJbmRleCArIDEpICsgc2xpZGVyLnNldHRpbmdzLnBhZ2VyU2hvcnRTZXBhcmF0b3IgKyBsZW4pO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHQvLyByZW1vdmUgYWxsIHBhZ2VyIGFjdGl2ZSBjbGFzc2VzXG5cdFx0XHRzbGlkZXIucGFnZXJFbC5maW5kKCdhJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuXHRcdFx0Ly8gYXBwbHkgdGhlIGFjdGl2ZSBjbGFzcyBmb3IgYWxsIHBhZ2Vyc1xuXHRcdFx0c2xpZGVyLnBhZ2VyRWwuZWFjaChmdW5jdGlvbihpLCBlbCkgeyAkKGVsKS5maW5kKCdhJykuZXEoc2xpZGVJbmRleCkuYWRkQ2xhc3MoJ2FjdGl2ZScpOyB9KTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBQZXJmb3JtcyBuZWVkZWQgYWN0aW9ucyBhZnRlciBhIHNsaWRlIHRyYW5zaXRpb25cblx0XHQgKi9cblx0XHR2YXIgdXBkYXRlQWZ0ZXJTbGlkZVRyYW5zaXRpb24gPSBmdW5jdGlvbigpe1xuXHRcdFx0Ly8gaWYgaW5maW50ZSBsb29wIGlzIHRydWVcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5pbmZpbml0ZUxvb3Ape1xuXHRcdFx0XHR2YXIgcG9zaXRpb24gPSAnJztcblx0XHRcdFx0Ly8gZmlyc3Qgc2xpZGVcblx0XHRcdFx0aWYoc2xpZGVyLmFjdGl2ZS5pbmRleCA9PSAwKXtcblx0XHRcdFx0XHQvLyBzZXQgdGhlIG5ldyBwb3NpdGlvblxuXHRcdFx0XHRcdHBvc2l0aW9uID0gc2xpZGVyLmNoaWxkcmVuLmVxKDApLnBvc2l0aW9uKCk7XG5cdFx0XHRcdC8vIGNhcm91c2VsLCBsYXN0IHNsaWRlXG5cdFx0XHRcdH1lbHNlIGlmKHNsaWRlci5hY3RpdmUuaW5kZXggPT0gZ2V0UGFnZXJRdHkoKSAtIDEgJiYgc2xpZGVyLmNhcm91c2VsKXtcblx0XHRcdFx0XHRwb3NpdGlvbiA9IHNsaWRlci5jaGlsZHJlbi5lcSgoZ2V0UGFnZXJRdHkoKSAtIDEpICogZ2V0TW92ZUJ5KCkpLnBvc2l0aW9uKCk7XG5cdFx0XHRcdC8vIGxhc3Qgc2xpZGVcblx0XHRcdFx0fWVsc2UgaWYoc2xpZGVyLmFjdGl2ZS5pbmRleCA9PSBzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoIC0gMSl7XG5cdFx0XHRcdFx0cG9zaXRpb24gPSBzbGlkZXIuY2hpbGRyZW4uZXEoc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCAtIDEpLnBvc2l0aW9uKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYocG9zaXRpb24pe1xuXHRcdFx0XHRcdGlmIChzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnaG9yaXpvbnRhbCcpIHsgc2V0UG9zaXRpb25Qcm9wZXJ0eSgtcG9zaXRpb24ubGVmdCwgJ3Jlc2V0JywgMCk7IH1cblx0XHRcdFx0XHRlbHNlIGlmIChzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAndmVydGljYWwnKSB7IHNldFBvc2l0aW9uUHJvcGVydHkoLXBvc2l0aW9uLnRvcCwgJ3Jlc2V0JywgMCk7IH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0Ly8gZGVjbGFyZSB0aGF0IHRoZSB0cmFuc2l0aW9uIGlzIGNvbXBsZXRlXG5cdFx0XHRzbGlkZXIud29ya2luZyA9IGZhbHNlO1xuXHRcdFx0Ly8gb25TbGlkZUFmdGVyIGNhbGxiYWNrXG5cdFx0XHRzbGlkZXIuc2V0dGluZ3Mub25TbGlkZUFmdGVyKHNsaWRlci5jaGlsZHJlbi5lcShzbGlkZXIuYWN0aXZlLmluZGV4KSwgc2xpZGVyLm9sZEluZGV4LCBzbGlkZXIuYWN0aXZlLmluZGV4KTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBVcGRhdGVzIHRoZSBhdXRvIGNvbnRyb2xzIHN0YXRlIChlaXRoZXIgYWN0aXZlLCBvciBjb21iaW5lZCBzd2l0Y2gpXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gc3RhdGUgKHN0cmluZykgXCJzdGFydFwiLCBcInN0b3BcIlxuXHRcdCAqICAtIHRoZSBuZXcgc3RhdGUgb2YgdGhlIGF1dG8gc2hvd1xuXHRcdCAqL1xuXHRcdHZhciB1cGRhdGVBdXRvQ29udHJvbHMgPSBmdW5jdGlvbihzdGF0ZSl7XG5cdFx0XHQvLyBpZiBhdXRvQ29udHJvbHNDb21iaW5lIGlzIHRydWUsIHJlcGxhY2UgdGhlIGN1cnJlbnQgY29udHJvbCB3aXRoIHRoZSBuZXcgc3RhdGVcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5hdXRvQ29udHJvbHNDb21iaW5lKXtcblx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLmF1dG9FbC5odG1sKHNsaWRlci5jb250cm9sc1tzdGF0ZV0pO1xuXHRcdFx0Ly8gaWYgYXV0b0NvbnRyb2xzQ29tYmluZSBpcyBmYWxzZSwgYXBwbHkgdGhlIFwiYWN0aXZlXCIgY2xhc3MgdG8gdGhlIGFwcHJvcHJpYXRlIGNvbnRyb2xcblx0XHRcdH1lbHNle1xuXHRcdFx0XHRzbGlkZXIuY29udHJvbHMuYXV0b0VsLmZpbmQoJ2EnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG5cdFx0XHRcdHNsaWRlci5jb250cm9scy5hdXRvRWwuZmluZCgnYTpub3QoLmJ4LScgKyBzdGF0ZSArICcpJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFVwZGF0ZXMgdGhlIGRpcmVjdGlvbiBjb250cm9scyAoY2hlY2tzIGlmIGVpdGhlciBzaG91bGQgYmUgaGlkZGVuKVxuXHRcdCAqL1xuXHRcdHZhciB1cGRhdGVEaXJlY3Rpb25Db250cm9scyA9IGZ1bmN0aW9uKCl7XG5cdFx0XHRpZihnZXRQYWdlclF0eSgpID09IDEpe1xuXHRcdFx0XHRzbGlkZXIuY29udHJvbHMucHJldi5hZGRDbGFzcygnZGlzYWJsZWQnKTtcblx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLm5leHQuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG5cdFx0XHR9ZWxzZSBpZighc2xpZGVyLnNldHRpbmdzLmluZmluaXRlTG9vcCAmJiBzbGlkZXIuc2V0dGluZ3MuaGlkZUNvbnRyb2xPbkVuZCl7XG5cdFx0XHRcdC8vIGlmIGZpcnN0IHNsaWRlXG5cdFx0XHRcdGlmIChzbGlkZXIuYWN0aXZlLmluZGV4ID09IDApe1xuXHRcdFx0XHRcdHNsaWRlci5jb250cm9scy5wcmV2LmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuXHRcdFx0XHRcdHNsaWRlci5jb250cm9scy5uZXh0LnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xuXHRcdFx0XHQvLyBpZiBsYXN0IHNsaWRlXG5cdFx0XHRcdH1lbHNlIGlmKHNsaWRlci5hY3RpdmUuaW5kZXggPT0gZ2V0UGFnZXJRdHkoKSAtIDEpe1xuXHRcdFx0XHRcdHNsaWRlci5jb250cm9scy5uZXh0LmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuXHRcdFx0XHRcdHNsaWRlci5jb250cm9scy5wcmV2LnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xuXHRcdFx0XHQvLyBpZiBhbnkgc2xpZGUgaW4gdGhlIG1pZGRsZVxuXHRcdFx0XHR9ZWxzZXtcblx0XHRcdFx0XHRzbGlkZXIuY29udHJvbHMucHJldi5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcblx0XHRcdFx0XHRzbGlkZXIuY29udHJvbHMubmV4dC5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIEluaXRpYWx6ZXMgdGhlIGF1dG8gcHJvY2Vzc1xuXHRcdCAqL1xuXHRcdHZhciBpbml0QXV0byA9IGZ1bmN0aW9uKCl7XG5cdFx0XHQvLyBpZiBhdXRvRGVsYXkgd2FzIHN1cHBsaWVkLCBsYXVuY2ggdGhlIGF1dG8gc2hvdyB1c2luZyBhIHNldFRpbWVvdXQoKSBjYWxsXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuYXV0b0RlbGF5ID4gMCl7XG5cdFx0XHRcdHZhciB0aW1lb3V0ID0gc2V0VGltZW91dChlbC5zdGFydEF1dG8sIHNsaWRlci5zZXR0aW5ncy5hdXRvRGVsYXkpO1xuXHRcdFx0Ly8gaWYgYXV0b0RlbGF5IHdhcyBub3Qgc3VwcGxpZWQsIHN0YXJ0IHRoZSBhdXRvIHNob3cgbm9ybWFsbHlcblx0XHRcdH1lbHNle1xuXHRcdFx0XHRlbC5zdGFydEF1dG8oKTtcblx0XHRcdH1cblx0XHRcdC8vIGlmIGF1dG9Ib3ZlciBpcyByZXF1ZXN0ZWRcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5hdXRvSG92ZXIpe1xuXHRcdFx0XHQvLyBvbiBlbCBob3ZlclxuXHRcdFx0XHRlbC5ob3ZlcihmdW5jdGlvbigpe1xuXHRcdFx0XHRcdC8vIGlmIHRoZSBhdXRvIHNob3cgaXMgY3VycmVudGx5IHBsYXlpbmcgKGhhcyBhbiBhY3RpdmUgaW50ZXJ2YWwpXG5cdFx0XHRcdFx0aWYoc2xpZGVyLmludGVydmFsKXtcblx0XHRcdFx0XHRcdC8vIHN0b3AgdGhlIGF1dG8gc2hvdyBhbmQgcGFzcyB0cnVlIGFndW1lbnQgd2hpY2ggd2lsbCBwcmV2ZW50IGNvbnRyb2wgdXBkYXRlXG5cdFx0XHRcdFx0XHRlbC5zdG9wQXV0byh0cnVlKTtcblx0XHRcdFx0XHRcdC8vIGNyZWF0ZSBhIG5ldyBhdXRvUGF1c2VkIHZhbHVlIHdoaWNoIHdpbGwgYmUgdXNlZCBieSB0aGUgcmVsYXRpdmUgXCJtb3VzZW91dFwiIGV2ZW50XG5cdFx0XHRcdFx0XHRzbGlkZXIuYXV0b1BhdXNlZCA9IHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LCBmdW5jdGlvbigpe1xuXHRcdFx0XHRcdC8vIGlmIHRoZSBhdXRvUGF1c2VkIHZhbHVlIHdhcyBjcmVhdGVkIGJlIHRoZSBwcmlvciBcIm1vdXNlb3ZlclwiIGV2ZW50XG5cdFx0XHRcdFx0aWYoc2xpZGVyLmF1dG9QYXVzZWQpe1xuXHRcdFx0XHRcdFx0Ly8gc3RhcnQgdGhlIGF1dG8gc2hvdyBhbmQgcGFzcyB0cnVlIGFndW1lbnQgd2hpY2ggd2lsbCBwcmV2ZW50IGNvbnRyb2wgdXBkYXRlXG5cdFx0XHRcdFx0XHRlbC5zdGFydEF1dG8odHJ1ZSk7XG5cdFx0XHRcdFx0XHQvLyByZXNldCB0aGUgYXV0b1BhdXNlZCB2YWx1ZVxuXHRcdFx0XHRcdFx0c2xpZGVyLmF1dG9QYXVzZWQgPSBudWxsO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogSW5pdGlhbHplcyB0aGUgdGlja2VyIHByb2Nlc3Ncblx0XHQgKi9cblx0XHR2YXIgaW5pdFRpY2tlciA9IGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgc3RhcnRQb3NpdGlvbiA9IDA7XG5cdFx0XHQvLyBpZiBhdXRvRGlyZWN0aW9uIGlzIFwibmV4dFwiLCBhcHBlbmQgYSBjbG9uZSBvZiB0aGUgZW50aXJlIHNsaWRlclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLmF1dG9EaXJlY3Rpb24gPT0gJ25leHQnKXtcblx0XHRcdFx0ZWwuYXBwZW5kKHNsaWRlci5jaGlsZHJlbi5jbG9uZSgpLmFkZENsYXNzKCdieC1jbG9uZScpKTtcblx0XHRcdC8vIGlmIGF1dG9EaXJlY3Rpb24gaXMgXCJwcmV2XCIsIHByZXBlbmQgYSBjbG9uZSBvZiB0aGUgZW50aXJlIHNsaWRlciwgYW5kIHNldCB0aGUgbGVmdCBwb3NpdGlvblxuXHRcdFx0fWVsc2V7XG5cdFx0XHRcdGVsLnByZXBlbmQoc2xpZGVyLmNoaWxkcmVuLmNsb25lKCkuYWRkQ2xhc3MoJ2J4LWNsb25lJykpO1xuXHRcdFx0XHR2YXIgcG9zaXRpb24gPSBzbGlkZXIuY2hpbGRyZW4uZmlyc3QoKS5wb3NpdGlvbigpO1xuXHRcdFx0XHRzdGFydFBvc2l0aW9uID0gc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnID8gLXBvc2l0aW9uLmxlZnQgOiAtcG9zaXRpb24udG9wO1xuXHRcdFx0fVxuXHRcdFx0c2V0UG9zaXRpb25Qcm9wZXJ0eShzdGFydFBvc2l0aW9uLCAncmVzZXQnLCAwKTtcblx0XHRcdC8vIGRvIG5vdCBhbGxvdyBjb250cm9scyBpbiB0aWNrZXIgbW9kZVxuXHRcdFx0c2xpZGVyLnNldHRpbmdzLnBhZ2VyID0gZmFsc2U7XG5cdFx0XHRzbGlkZXIuc2V0dGluZ3MuY29udHJvbHMgPSBmYWxzZTtcblx0XHRcdHNsaWRlci5zZXR0aW5ncy5hdXRvQ29udHJvbHMgPSBmYWxzZTtcblx0XHRcdC8vIGlmIGF1dG9Ib3ZlciBpcyByZXF1ZXN0ZWRcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy50aWNrZXJIb3ZlciAmJiAhc2xpZGVyLnVzaW5nQ1NTKXtcblx0XHRcdFx0Ly8gb24gZWwgaG92ZXJcblx0XHRcdFx0c2xpZGVyLnZpZXdwb3J0LmhvdmVyKGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0ZWwuc3RvcCgpO1xuXHRcdFx0XHR9LCBmdW5jdGlvbigpe1xuXHRcdFx0XHRcdC8vIGNhbGN1bGF0ZSB0aGUgdG90YWwgd2lkdGggb2YgY2hpbGRyZW4gKHVzZWQgdG8gY2FsY3VsYXRlIHRoZSBzcGVlZCByYXRpbylcblx0XHRcdFx0XHR2YXIgdG90YWxEaW1lbnMgPSAwO1xuXHRcdFx0XHRcdHNsaWRlci5jaGlsZHJlbi5lYWNoKGZ1bmN0aW9uKGluZGV4KXtcblx0XHRcdFx0XHQgIHRvdGFsRGltZW5zICs9IHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICdob3Jpem9udGFsJyA/ICQodGhpcykub3V0ZXJXaWR0aCh0cnVlKSA6ICQodGhpcykub3V0ZXJIZWlnaHQodHJ1ZSk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0Ly8gY2FsY3VsYXRlIHRoZSBzcGVlZCByYXRpbyAodXNlZCB0byBkZXRlcm1pbmUgdGhlIG5ldyBzcGVlZCB0byBmaW5pc2ggdGhlIHBhdXNlZCBhbmltYXRpb24pXG5cdFx0XHRcdFx0dmFyIHJhdGlvID0gc2xpZGVyLnNldHRpbmdzLnNwZWVkIC8gdG90YWxEaW1lbnM7XG5cdFx0XHRcdFx0Ly8gZGV0ZXJtaW5lIHdoaWNoIHByb3BlcnR5IHRvIHVzZVxuXHRcdFx0XHRcdHZhciBwcm9wZXJ0eSA9IHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICdob3Jpem9udGFsJyA/ICdsZWZ0JyA6ICd0b3AnO1xuXHRcdFx0XHRcdC8vIGNhbGN1bGF0ZSB0aGUgbmV3IHNwZWVkXG5cdFx0XHRcdFx0dmFyIG5ld1NwZWVkID0gcmF0aW8gKiAodG90YWxEaW1lbnMgLSAoTWF0aC5hYnMocGFyc2VJbnQoZWwuY3NzKHByb3BlcnR5KSkpKSk7XG5cdFx0XHRcdFx0dGlja2VyTG9vcChuZXdTcGVlZCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdFx0Ly8gc3RhcnQgdGhlIHRpY2tlciBsb29wXG5cdFx0XHR0aWNrZXJMb29wKCk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogUnVucyBhIGNvbnRpbnVvdXMgbG9vcCwgbmV3cyB0aWNrZXItc3R5bGVcblx0XHQgKi9cblx0XHR2YXIgdGlja2VyTG9vcCA9IGZ1bmN0aW9uKHJlc3VtZVNwZWVkKXtcblx0XHRcdHNwZWVkID0gcmVzdW1lU3BlZWQgPyByZXN1bWVTcGVlZCA6IHNsaWRlci5zZXR0aW5ncy5zcGVlZDtcblx0XHRcdHZhciBwb3NpdGlvbiA9IHtsZWZ0OiAwLCB0b3A6IDB9O1xuXHRcdFx0dmFyIHJlc2V0ID0ge2xlZnQ6IDAsIHRvcDogMH07XG5cdFx0XHQvLyBpZiBcIm5leHRcIiBhbmltYXRlIGxlZnQgcG9zaXRpb24gdG8gbGFzdCBjaGlsZCwgdGhlbiByZXNldCBsZWZ0IHRvIDBcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5hdXRvRGlyZWN0aW9uID09ICduZXh0Jyl7XG5cdFx0XHRcdHBvc2l0aW9uID0gZWwuZmluZCgnLmJ4LWNsb25lJykuZmlyc3QoKS5wb3NpdGlvbigpO1xuXHRcdFx0Ly8gaWYgXCJwcmV2XCIgYW5pbWF0ZSBsZWZ0IHBvc2l0aW9uIHRvIDAsIHRoZW4gcmVzZXQgbGVmdCB0byBmaXJzdCBub24tY2xvbmUgY2hpbGRcblx0XHRcdH1lbHNle1xuXHRcdFx0XHRyZXNldCA9IHNsaWRlci5jaGlsZHJlbi5maXJzdCgpLnBvc2l0aW9uKCk7XG5cdFx0XHR9XG5cdFx0XHR2YXIgYW5pbWF0ZVByb3BlcnR5ID0gc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnID8gLXBvc2l0aW9uLmxlZnQgOiAtcG9zaXRpb24udG9wO1xuXHRcdFx0dmFyIHJlc2V0VmFsdWUgPSBzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnaG9yaXpvbnRhbCcgPyAtcmVzZXQubGVmdCA6IC1yZXNldC50b3A7XG5cdFx0XHR2YXIgcGFyYW1zID0ge3Jlc2V0VmFsdWU6IHJlc2V0VmFsdWV9O1xuXHRcdFx0c2V0UG9zaXRpb25Qcm9wZXJ0eShhbmltYXRlUHJvcGVydHksICd0aWNrZXInLCBzcGVlZCwgcGFyYW1zKTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBJbml0aWFsaXplcyB0b3VjaCBldmVudHNcblx0XHQgKi9cblx0XHR2YXIgaW5pdFRvdWNoID0gZnVuY3Rpb24oKXtcblx0XHRcdC8vIGluaXRpYWxpemUgb2JqZWN0IHRvIGNvbnRhaW4gYWxsIHRvdWNoIHZhbHVlc1xuXHRcdFx0c2xpZGVyLnRvdWNoID0ge1xuXHRcdFx0XHRzdGFydDoge3g6IDAsIHk6IDB9LFxuXHRcdFx0XHRlbmQ6IHt4OiAwLCB5OiAwfVxuXHRcdFx0fVxuXHRcdFx0c2xpZGVyLnZpZXdwb3J0LmJpbmQoJ3RvdWNoc3RhcnQnLCBvblRvdWNoU3RhcnQpO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIEV2ZW50IGhhbmRsZXIgZm9yIFwidG91Y2hzdGFydFwiXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gZSAoZXZlbnQpXG5cdFx0ICogIC0gRE9NIGV2ZW50IG9iamVjdFxuXHRcdCAqL1xuXHRcdHZhciBvblRvdWNoU3RhcnQgPSBmdW5jdGlvbihlKXtcblx0XHRcdGlmKHNsaWRlci53b3JraW5nKXtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0fWVsc2V7XG5cdFx0XHRcdC8vIHJlY29yZCB0aGUgb3JpZ2luYWwgcG9zaXRpb24gd2hlbiB0b3VjaCBzdGFydHNcblx0XHRcdFx0c2xpZGVyLnRvdWNoLm9yaWdpbmFsUG9zID0gZWwucG9zaXRpb24oKTtcblx0XHRcdFx0dmFyIG9yaWcgPSBlLm9yaWdpbmFsRXZlbnQ7XG5cdFx0XHRcdC8vIHJlY29yZCB0aGUgc3RhcnRpbmcgdG91Y2ggeCwgeSBjb29yZGluYXRlc1xuXHRcdFx0XHRzbGlkZXIudG91Y2guc3RhcnQueCA9IG9yaWcuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVg7XG5cdFx0XHRcdHNsaWRlci50b3VjaC5zdGFydC55ID0gb3JpZy5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWTtcblx0XHRcdFx0Ly8gYmluZCBhIFwidG91Y2htb3ZlXCIgZXZlbnQgdG8gdGhlIHZpZXdwb3J0XG5cdFx0XHRcdHNsaWRlci52aWV3cG9ydC5iaW5kKCd0b3VjaG1vdmUnLCBvblRvdWNoTW92ZSk7XG5cdFx0XHRcdC8vIGJpbmQgYSBcInRvdWNoZW5kXCIgZXZlbnQgdG8gdGhlIHZpZXdwb3J0XG5cdFx0XHRcdHNsaWRlci52aWV3cG9ydC5iaW5kKCd0b3VjaGVuZCcsIG9uVG91Y2hFbmQpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIEV2ZW50IGhhbmRsZXIgZm9yIFwidG91Y2htb3ZlXCJcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSBlIChldmVudClcblx0XHQgKiAgLSBET00gZXZlbnQgb2JqZWN0XG5cdFx0ICovXG5cdFx0dmFyIG9uVG91Y2hNb3ZlID0gZnVuY3Rpb24oZSl7XG5cdFx0XHR2YXIgb3JpZyA9IGUub3JpZ2luYWxFdmVudDtcblx0XHRcdC8vIGlmIHNjcm9sbGluZyBvbiB5IGF4aXMsIGRvIG5vdCBwcmV2ZW50IGRlZmF1bHRcblx0XHRcdHZhciB4TW92ZW1lbnQgPSBNYXRoLmFicyhvcmlnLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYIC0gc2xpZGVyLnRvdWNoLnN0YXJ0LngpO1xuXHRcdFx0dmFyIHlNb3ZlbWVudCA9IE1hdGguYWJzKG9yaWcuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVkgLSBzbGlkZXIudG91Y2guc3RhcnQueSk7XG5cdFx0XHQvLyB4IGF4aXMgc3dpcGVcblx0XHRcdGlmKCh4TW92ZW1lbnQgKiAzKSA+IHlNb3ZlbWVudCAmJiBzbGlkZXIuc2V0dGluZ3MucHJldmVudERlZmF1bHRTd2lwZVgpe1xuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHQvLyB5IGF4aXMgc3dpcGVcblx0XHRcdH1lbHNlIGlmKCh5TW92ZW1lbnQgKiAzKSA+IHhNb3ZlbWVudCAmJiBzbGlkZXIuc2V0dGluZ3MucHJldmVudERlZmF1bHRTd2lwZVkpe1xuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR9XG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MubW9kZSAhPSAnZmFkZScgJiYgc2xpZGVyLnNldHRpbmdzLm9uZVRvT25lVG91Y2gpe1xuXHRcdFx0XHR2YXIgdmFsdWUgPSAwO1xuXHRcdFx0XHQvLyBpZiBob3Jpem9udGFsLCBkcmFnIGFsb25nIHggYXhpc1xuXHRcdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnaG9yaXpvbnRhbCcpe1xuXHRcdFx0XHRcdHZhciBjaGFuZ2UgPSBvcmlnLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYIC0gc2xpZGVyLnRvdWNoLnN0YXJ0Lng7XG5cdFx0XHRcdFx0dmFsdWUgPSBzbGlkZXIudG91Y2gub3JpZ2luYWxQb3MubGVmdCArIGNoYW5nZTtcblx0XHRcdFx0Ly8gaWYgdmVydGljYWwsIGRyYWcgYWxvbmcgeSBheGlzXG5cdFx0XHRcdH1lbHNle1xuXHRcdFx0XHRcdHZhciBjaGFuZ2UgPSBvcmlnLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZIC0gc2xpZGVyLnRvdWNoLnN0YXJ0Lnk7XG5cdFx0XHRcdFx0dmFsdWUgPSBzbGlkZXIudG91Y2gub3JpZ2luYWxQb3MudG9wICsgY2hhbmdlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHNldFBvc2l0aW9uUHJvcGVydHkodmFsdWUsICdyZXNldCcsIDApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIEV2ZW50IGhhbmRsZXIgZm9yIFwidG91Y2hlbmRcIlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIGUgKGV2ZW50KVxuXHRcdCAqICAtIERPTSBldmVudCBvYmplY3Rcblx0XHQgKi9cblx0XHR2YXIgb25Ub3VjaEVuZCA9IGZ1bmN0aW9uKGUpe1xuXHRcdFx0c2xpZGVyLnZpZXdwb3J0LnVuYmluZCgndG91Y2htb3ZlJywgb25Ub3VjaE1vdmUpO1xuXHRcdFx0dmFyIG9yaWcgPSBlLm9yaWdpbmFsRXZlbnQ7XG5cdFx0XHR2YXIgdmFsdWUgPSAwO1xuXHRcdFx0Ly8gcmVjb3JkIGVuZCB4LCB5IHBvc2l0aW9uc1xuXHRcdFx0c2xpZGVyLnRvdWNoLmVuZC54ID0gb3JpZy5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWDtcblx0XHRcdHNsaWRlci50b3VjaC5lbmQueSA9IG9yaWcuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVk7XG5cdFx0XHQvLyBpZiBmYWRlIG1vZGUsIGNoZWNrIGlmIGFic29sdXRlIHggZGlzdGFuY2UgY2xlYXJzIHRoZSB0aHJlc2hvbGRcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICdmYWRlJyl7XG5cdFx0XHRcdHZhciBkaXN0YW5jZSA9IE1hdGguYWJzKHNsaWRlci50b3VjaC5zdGFydC54IC0gc2xpZGVyLnRvdWNoLmVuZC54KTtcblx0XHRcdFx0aWYoZGlzdGFuY2UgPj0gc2xpZGVyLnNldHRpbmdzLnN3aXBlVGhyZXNob2xkKXtcblx0XHRcdFx0XHRzbGlkZXIudG91Y2guc3RhcnQueCA+IHNsaWRlci50b3VjaC5lbmQueCA/IGVsLmdvVG9OZXh0U2xpZGUoKSA6IGVsLmdvVG9QcmV2U2xpZGUoKTtcblx0XHRcdFx0XHRlbC5zdG9wQXV0bygpO1xuXHRcdFx0XHR9XG5cdFx0XHQvLyBub3QgZmFkZSBtb2RlXG5cdFx0XHR9ZWxzZXtcblx0XHRcdFx0dmFyIGRpc3RhbmNlID0gMDtcblx0XHRcdFx0Ly8gY2FsY3VsYXRlIGRpc3RhbmNlIGFuZCBlbCdzIGFuaW1hdGUgcHJvcGVydHlcblx0XHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnKXtcblx0XHRcdFx0XHRkaXN0YW5jZSA9IHNsaWRlci50b3VjaC5lbmQueCAtIHNsaWRlci50b3VjaC5zdGFydC54O1xuXHRcdFx0XHRcdHZhbHVlID0gc2xpZGVyLnRvdWNoLm9yaWdpbmFsUG9zLmxlZnQ7XG5cdFx0XHRcdH1lbHNle1xuXHRcdFx0XHRcdGRpc3RhbmNlID0gc2xpZGVyLnRvdWNoLmVuZC55IC0gc2xpZGVyLnRvdWNoLnN0YXJ0Lnk7XG5cdFx0XHRcdFx0dmFsdWUgPSBzbGlkZXIudG91Y2gub3JpZ2luYWxQb3MudG9wO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIGlmIG5vdCBpbmZpbml0ZSBsb29wIGFuZCBmaXJzdCAvIGxhc3Qgc2xpZGUsIGRvIG5vdCBhdHRlbXB0IGEgc2xpZGUgdHJhbnNpdGlvblxuXHRcdFx0XHRpZighc2xpZGVyLnNldHRpbmdzLmluZmluaXRlTG9vcCAmJiAoKHNsaWRlci5hY3RpdmUuaW5kZXggPT0gMCAmJiBkaXN0YW5jZSA+IDApIHx8IChzbGlkZXIuYWN0aXZlLmxhc3QgJiYgZGlzdGFuY2UgPCAwKSkpe1xuXHRcdFx0XHRcdHNldFBvc2l0aW9uUHJvcGVydHkodmFsdWUsICdyZXNldCcsIDIwMCk7XG5cdFx0XHRcdH1lbHNle1xuXHRcdFx0XHRcdC8vIGNoZWNrIGlmIGRpc3RhbmNlIGNsZWFycyB0aHJlc2hvbGRcblx0XHRcdFx0XHRpZihNYXRoLmFicyhkaXN0YW5jZSkgPj0gc2xpZGVyLnNldHRpbmdzLnN3aXBlVGhyZXNob2xkKXtcblx0XHRcdFx0XHRcdGRpc3RhbmNlIDwgMCA/IGVsLmdvVG9OZXh0U2xpZGUoKSA6IGVsLmdvVG9QcmV2U2xpZGUoKTtcblx0XHRcdFx0XHRcdGVsLnN0b3BBdXRvKCk7XG5cdFx0XHRcdFx0fWVsc2V7XG5cdFx0XHRcdFx0XHQvLyBlbC5hbmltYXRlKHByb3BlcnR5LCAyMDApO1xuXHRcdFx0XHRcdFx0c2V0UG9zaXRpb25Qcm9wZXJ0eSh2YWx1ZSwgJ3Jlc2V0JywgMjAwKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHNsaWRlci52aWV3cG9ydC51bmJpbmQoJ3RvdWNoZW5kJywgb25Ub3VjaEVuZCk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogV2luZG93IHJlc2l6ZSBldmVudCBjYWxsYmFja1xuXHRcdCAqL1xuXHRcdHZhciByZXNpemVXaW5kb3cgPSBmdW5jdGlvbihlKXtcblx0XHRcdC8vIGRvbid0IGRvIGFueXRoaW5nIGlmIHNsaWRlciBpc24ndCBpbml0aWFsaXplZC5cblx0XHRcdGlmKCFzbGlkZXIuaW5pdGlhbGl6ZWQpIHJldHVybjtcblx0XHRcdC8vIGdldCB0aGUgbmV3IHdpbmRvdyBkaW1lbnMgKGFnYWluLCB0aGFuayB5b3UgSUUpXG5cdFx0XHR2YXIgd2luZG93V2lkdGhOZXcgPSAkKHdpbmRvdykud2lkdGgoKTtcblx0XHRcdHZhciB3aW5kb3dIZWlnaHROZXcgPSAkKHdpbmRvdykuaGVpZ2h0KCk7XG5cdFx0XHQvLyBtYWtlIHN1cmUgdGhhdCBpdCBpcyBhIHRydWUgd2luZG93IHJlc2l6ZVxuXHRcdFx0Ly8gKndlIG11c3QgY2hlY2sgdGhpcyBiZWNhdXNlIG91ciBkaW5vc2F1ciBmcmllbmQgSUUgZmlyZXMgYSB3aW5kb3cgcmVzaXplIGV2ZW50IHdoZW4gY2VydGFpbiBET00gZWxlbWVudHNcblx0XHRcdC8vIGFyZSByZXNpemVkLiBDYW4geW91IGp1c3QgZGllIGFscmVhZHk/KlxuXHRcdFx0aWYod2luZG93V2lkdGggIT0gd2luZG93V2lkdGhOZXcgfHwgd2luZG93SGVpZ2h0ICE9IHdpbmRvd0hlaWdodE5ldyl7XG5cdFx0XHRcdC8vIHNldCB0aGUgbmV3IHdpbmRvdyBkaW1lbnNcblx0XHRcdFx0d2luZG93V2lkdGggPSB3aW5kb3dXaWR0aE5ldztcblx0XHRcdFx0d2luZG93SGVpZ2h0ID0gd2luZG93SGVpZ2h0TmV3O1xuXHRcdFx0XHQvLyB1cGRhdGUgYWxsIGR5bmFtaWMgZWxlbWVudHNcblx0XHRcdFx0ZWwucmVkcmF3U2xpZGVyKCk7XG5cdFx0XHRcdC8vIENhbGwgdXNlciByZXNpemUgaGFuZGxlclxuXHRcdFx0XHRzbGlkZXIuc2V0dGluZ3Mub25TbGlkZXJSZXNpemUuY2FsbChlbCwgc2xpZGVyLmFjdGl2ZS5pbmRleCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0XHQgKiA9IFBVQkxJQyBGVU5DVElPTlNcblx0XHQgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRcdCAqL1xuXG5cdFx0LyoqXG5cdFx0ICogUGVyZm9ybXMgc2xpZGUgdHJhbnNpdGlvbiB0byB0aGUgc3BlY2lmaWVkIHNsaWRlXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gc2xpZGVJbmRleCAoaW50KVxuXHRcdCAqICAtIHRoZSBkZXN0aW5hdGlvbiBzbGlkZSdzIGluZGV4ICh6ZXJvLWJhc2VkKVxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIGRpcmVjdGlvbiAoc3RyaW5nKVxuXHRcdCAqICAtIElOVEVSTkFMIFVTRSBPTkxZIC0gdGhlIGRpcmVjdGlvbiBvZiB0cmF2ZWwgKFwicHJldlwiIC8gXCJuZXh0XCIpXG5cdFx0ICovXG5cdFx0ZWwuZ29Ub1NsaWRlID0gZnVuY3Rpb24oc2xpZGVJbmRleCwgZGlyZWN0aW9uKXtcblx0XHRcdC8vIGlmIHBsdWdpbiBpcyBjdXJyZW50bHkgaW4gbW90aW9uLCBpZ25vcmUgcmVxdWVzdFxuXHRcdFx0aWYoc2xpZGVyLndvcmtpbmcgfHwgc2xpZGVyLmFjdGl2ZS5pbmRleCA9PSBzbGlkZUluZGV4KSByZXR1cm47XG5cdFx0XHQvLyBkZWNsYXJlIHRoYXQgcGx1Z2luIGlzIGluIG1vdGlvblxuXHRcdFx0c2xpZGVyLndvcmtpbmcgPSB0cnVlO1xuXHRcdFx0Ly8gc3RvcmUgdGhlIG9sZCBpbmRleFxuXHRcdFx0c2xpZGVyLm9sZEluZGV4ID0gc2xpZGVyLmFjdGl2ZS5pbmRleDtcblx0XHRcdC8vIGlmIHNsaWRlSW5kZXggaXMgbGVzcyB0aGFuIHplcm8sIHNldCBhY3RpdmUgaW5kZXggdG8gbGFzdCBjaGlsZCAodGhpcyBoYXBwZW5zIGR1cmluZyBpbmZpbml0ZSBsb29wKVxuXHRcdFx0aWYoc2xpZGVJbmRleCA8IDApe1xuXHRcdFx0XHRzbGlkZXIuYWN0aXZlLmluZGV4ID0gZ2V0UGFnZXJRdHkoKSAtIDE7XG5cdFx0XHQvLyBpZiBzbGlkZUluZGV4IGlzIGdyZWF0ZXIgdGhhbiBjaGlsZHJlbiBsZW5ndGgsIHNldCBhY3RpdmUgaW5kZXggdG8gMCAodGhpcyBoYXBwZW5zIGR1cmluZyBpbmZpbml0ZSBsb29wKVxuXHRcdFx0fWVsc2UgaWYoc2xpZGVJbmRleCA+PSBnZXRQYWdlclF0eSgpKXtcblx0XHRcdFx0c2xpZGVyLmFjdGl2ZS5pbmRleCA9IDA7XG5cdFx0XHQvLyBzZXQgYWN0aXZlIGluZGV4IHRvIHJlcXVlc3RlZCBzbGlkZVxuXHRcdFx0fWVsc2V7XG5cdFx0XHRcdHNsaWRlci5hY3RpdmUuaW5kZXggPSBzbGlkZUluZGV4O1xuXHRcdFx0fVxuXHRcdFx0Ly8gb25TbGlkZUJlZm9yZSwgb25TbGlkZU5leHQsIG9uU2xpZGVQcmV2IGNhbGxiYWNrc1xuXHRcdFx0c2xpZGVyLnNldHRpbmdzLm9uU2xpZGVCZWZvcmUoc2xpZGVyLmNoaWxkcmVuLmVxKHNsaWRlci5hY3RpdmUuaW5kZXgpLCBzbGlkZXIub2xkSW5kZXgsIHNsaWRlci5hY3RpdmUuaW5kZXgpO1xuXHRcdFx0aWYoZGlyZWN0aW9uID09ICduZXh0Jyl7XG5cdFx0XHRcdHNsaWRlci5zZXR0aW5ncy5vblNsaWRlTmV4dChzbGlkZXIuY2hpbGRyZW4uZXEoc2xpZGVyLmFjdGl2ZS5pbmRleCksIHNsaWRlci5vbGRJbmRleCwgc2xpZGVyLmFjdGl2ZS5pbmRleCk7XG5cdFx0XHR9ZWxzZSBpZihkaXJlY3Rpb24gPT0gJ3ByZXYnKXtcblx0XHRcdFx0c2xpZGVyLnNldHRpbmdzLm9uU2xpZGVQcmV2KHNsaWRlci5jaGlsZHJlbi5lcShzbGlkZXIuYWN0aXZlLmluZGV4KSwgc2xpZGVyLm9sZEluZGV4LCBzbGlkZXIuYWN0aXZlLmluZGV4KTtcblx0XHRcdH1cblx0XHRcdC8vIGNoZWNrIGlmIGxhc3Qgc2xpZGVcblx0XHRcdHNsaWRlci5hY3RpdmUubGFzdCA9IHNsaWRlci5hY3RpdmUuaW5kZXggPj0gZ2V0UGFnZXJRdHkoKSAtIDE7XG5cdFx0XHQvLyB1cGRhdGUgdGhlIHBhZ2VyIHdpdGggYWN0aXZlIGNsYXNzXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MucGFnZXIpIHVwZGF0ZVBhZ2VyQWN0aXZlKHNsaWRlci5hY3RpdmUuaW5kZXgpO1xuXHRcdFx0Ly8gLy8gY2hlY2sgZm9yIGRpcmVjdGlvbiBjb250cm9sIHVwZGF0ZVxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLmNvbnRyb2xzKSB1cGRhdGVEaXJlY3Rpb25Db250cm9scygpO1xuXHRcdFx0Ly8gaWYgc2xpZGVyIGlzIHNldCB0byBtb2RlOiBcImZhZGVcIlxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2ZhZGUnKXtcblx0XHRcdFx0Ly8gaWYgYWRhcHRpdmVIZWlnaHQgaXMgdHJ1ZSBhbmQgbmV4dCBoZWlnaHQgaXMgZGlmZmVyZW50IGZyb20gY3VycmVudCBoZWlnaHQsIGFuaW1hdGUgdG8gdGhlIG5ldyBoZWlnaHRcblx0XHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLmFkYXB0aXZlSGVpZ2h0ICYmIHNsaWRlci52aWV3cG9ydC5oZWlnaHQoKSAhPSBnZXRWaWV3cG9ydEhlaWdodCgpKXtcblx0XHRcdFx0XHRzbGlkZXIudmlld3BvcnQuYW5pbWF0ZSh7aGVpZ2h0OiBnZXRWaWV3cG9ydEhlaWdodCgpfSwgc2xpZGVyLnNldHRpbmdzLmFkYXB0aXZlSGVpZ2h0U3BlZWQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIGZhZGUgb3V0IHRoZSB2aXNpYmxlIGNoaWxkIGFuZCByZXNldCBpdHMgei1pbmRleCB2YWx1ZVxuXHRcdFx0XHRzbGlkZXIuY2hpbGRyZW4uZmlsdGVyKCc6dmlzaWJsZScpLmZhZGVPdXQoc2xpZGVyLnNldHRpbmdzLnNwZWVkKS5jc3Moe3pJbmRleDogMH0pO1xuXHRcdFx0XHQvLyBmYWRlIGluIHRoZSBuZXdseSByZXF1ZXN0ZWQgc2xpZGVcblx0XHRcdFx0c2xpZGVyLmNoaWxkcmVuLmVxKHNsaWRlci5hY3RpdmUuaW5kZXgpLmNzcygnekluZGV4Jywgc2xpZGVyLnNldHRpbmdzLnNsaWRlWkluZGV4KzEpLmZhZGVJbihzbGlkZXIuc2V0dGluZ3Muc3BlZWQsIGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0JCh0aGlzKS5jc3MoJ3pJbmRleCcsIHNsaWRlci5zZXR0aW5ncy5zbGlkZVpJbmRleCk7XG5cdFx0XHRcdFx0dXBkYXRlQWZ0ZXJTbGlkZVRyYW5zaXRpb24oKTtcblx0XHRcdFx0fSk7XG5cdFx0XHQvLyBzbGlkZXIgbW9kZSBpcyBub3QgXCJmYWRlXCJcblx0XHRcdH1lbHNle1xuXHRcdFx0XHQvLyBpZiBhZGFwdGl2ZUhlaWdodCBpcyB0cnVlIGFuZCBuZXh0IGhlaWdodCBpcyBkaWZmZXJlbnQgZnJvbSBjdXJyZW50IGhlaWdodCwgYW5pbWF0ZSB0byB0aGUgbmV3IGhlaWdodFxuXHRcdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuYWRhcHRpdmVIZWlnaHQgJiYgc2xpZGVyLnZpZXdwb3J0LmhlaWdodCgpICE9IGdldFZpZXdwb3J0SGVpZ2h0KCkpe1xuXHRcdFx0XHRcdHNsaWRlci52aWV3cG9ydC5hbmltYXRlKHtoZWlnaHQ6IGdldFZpZXdwb3J0SGVpZ2h0KCl9LCBzbGlkZXIuc2V0dGluZ3MuYWRhcHRpdmVIZWlnaHRTcGVlZCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dmFyIG1vdmVCeSA9IDA7XG5cdFx0XHRcdHZhciBwb3NpdGlvbiA9IHtsZWZ0OiAwLCB0b3A6IDB9O1xuXHRcdFx0XHQvLyBpZiBjYXJvdXNlbCBhbmQgbm90IGluZmluaXRlIGxvb3Bcblx0XHRcdFx0aWYoIXNsaWRlci5zZXR0aW5ncy5pbmZpbml0ZUxvb3AgJiYgc2xpZGVyLmNhcm91c2VsICYmIHNsaWRlci5hY3RpdmUubGFzdCl7XG5cdFx0XHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnKXtcblx0XHRcdFx0XHRcdC8vIGdldCB0aGUgbGFzdCBjaGlsZCBwb3NpdGlvblxuXHRcdFx0XHRcdFx0dmFyIGxhc3RDaGlsZCA9IHNsaWRlci5jaGlsZHJlbi5lcShzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoIC0gMSk7XG5cdFx0XHRcdFx0XHRwb3NpdGlvbiA9IGxhc3RDaGlsZC5wb3NpdGlvbigpO1xuXHRcdFx0XHRcdFx0Ly8gY2FsY3VsYXRlIHRoZSBwb3NpdGlvbiBvZiB0aGUgbGFzdCBzbGlkZVxuXHRcdFx0XHRcdFx0bW92ZUJ5ID0gc2xpZGVyLnZpZXdwb3J0LndpZHRoKCkgLSBsYXN0Q2hpbGQub3V0ZXJXaWR0aCgpO1xuXHRcdFx0XHRcdH1lbHNle1xuXHRcdFx0XHRcdFx0Ly8gZ2V0IGxhc3Qgc2hvd2luZyBpbmRleCBwb3NpdGlvblxuXHRcdFx0XHRcdFx0dmFyIGxhc3RTaG93aW5nSW5kZXggPSBzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoIC0gc2xpZGVyLnNldHRpbmdzLm1pblNsaWRlcztcblx0XHRcdFx0XHRcdHBvc2l0aW9uID0gc2xpZGVyLmNoaWxkcmVuLmVxKGxhc3RTaG93aW5nSW5kZXgpLnBvc2l0aW9uKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC8vIGhvcml6b250YWwgY2Fyb3VzZWwsIGdvaW5nIHByZXZpb3VzIHdoaWxlIG9uIGZpcnN0IHNsaWRlIChpbmZpbml0ZUxvb3AgbW9kZSlcblx0XHRcdFx0fWVsc2UgaWYoc2xpZGVyLmNhcm91c2VsICYmIHNsaWRlci5hY3RpdmUubGFzdCAmJiBkaXJlY3Rpb24gPT0gJ3ByZXYnKXtcblx0XHRcdFx0XHQvLyBnZXQgdGhlIGxhc3QgY2hpbGQgcG9zaXRpb25cblx0XHRcdFx0XHR2YXIgZXEgPSBzbGlkZXIuc2V0dGluZ3MubW92ZVNsaWRlcyA9PSAxID8gc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcyAtIGdldE1vdmVCeSgpIDogKChnZXRQYWdlclF0eSgpIC0gMSkgKiBnZXRNb3ZlQnkoKSkgLSAoc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCAtIHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMpO1xuXHRcdFx0XHRcdHZhciBsYXN0Q2hpbGQgPSBlbC5jaGlsZHJlbignLmJ4LWNsb25lJykuZXEoZXEpO1xuXHRcdFx0XHRcdHBvc2l0aW9uID0gbGFzdENoaWxkLnBvc2l0aW9uKCk7XG5cdFx0XHRcdC8vIGlmIGluZmluaXRlIGxvb3AgYW5kIFwiTmV4dFwiIGlzIGNsaWNrZWQgb24gdGhlIGxhc3Qgc2xpZGVcblx0XHRcdFx0fWVsc2UgaWYoZGlyZWN0aW9uID09ICduZXh0JyAmJiBzbGlkZXIuYWN0aXZlLmluZGV4ID09IDApe1xuXHRcdFx0XHRcdC8vIGdldCB0aGUgbGFzdCBjbG9uZSBwb3NpdGlvblxuXHRcdFx0XHRcdHBvc2l0aW9uID0gZWwuZmluZCgnPiAuYngtY2xvbmUnKS5lcShzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzKS5wb3NpdGlvbigpO1xuXHRcdFx0XHRcdHNsaWRlci5hY3RpdmUubGFzdCA9IGZhbHNlO1xuXHRcdFx0XHQvLyBub3JtYWwgbm9uLXplcm8gcmVxdWVzdHNcblx0XHRcdFx0fWVsc2UgaWYoc2xpZGVJbmRleCA+PSAwKXtcblx0XHRcdFx0XHR2YXIgcmVxdWVzdEVsID0gc2xpZGVJbmRleCAqIGdldE1vdmVCeSgpO1xuXHRcdFx0XHRcdHBvc2l0aW9uID0gc2xpZGVyLmNoaWxkcmVuLmVxKHJlcXVlc3RFbCkucG9zaXRpb24oKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8qIElmIHRoZSBwb3NpdGlvbiBkb2Vzbid0IGV4aXN0XG5cdFx0XHRcdCAqIChlLmcuIGlmIHlvdSBkZXN0cm95IHRoZSBzbGlkZXIgb24gYSBuZXh0IGNsaWNrKSxcblx0XHRcdFx0ICogaXQgZG9lc24ndCB0aHJvdyBhbiBlcnJvci5cblx0XHRcdFx0ICovXG5cdFx0XHRcdGlmIChcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YocG9zaXRpb24pKSB7XG5cdFx0XHRcdFx0dmFyIHZhbHVlID0gc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnID8gLShwb3NpdGlvbi5sZWZ0IC0gbW92ZUJ5KSA6IC1wb3NpdGlvbi50b3A7XG5cdFx0XHRcdFx0Ly8gcGx1Z2luIHZhbHVlcyB0byBiZSBhbmltYXRlZFxuXHRcdFx0XHRcdHNldFBvc2l0aW9uUHJvcGVydHkodmFsdWUsICdzbGlkZScsIHNsaWRlci5zZXR0aW5ncy5zcGVlZCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBUcmFuc2l0aW9ucyB0byB0aGUgbmV4dCBzbGlkZSBpbiB0aGUgc2hvd1xuXHRcdCAqL1xuXHRcdGVsLmdvVG9OZXh0U2xpZGUgPSBmdW5jdGlvbigpe1xuXHRcdFx0Ly8gaWYgaW5maW5pdGVMb29wIGlzIGZhbHNlIGFuZCBsYXN0IHBhZ2UgaXMgc2hvd2luZywgZGlzcmVnYXJkIGNhbGxcblx0XHRcdGlmICghc2xpZGVyLnNldHRpbmdzLmluZmluaXRlTG9vcCAmJiBzbGlkZXIuYWN0aXZlLmxhc3QpIHJldHVybjtcblx0XHRcdHZhciBwYWdlckluZGV4ID0gcGFyc2VJbnQoc2xpZGVyLmFjdGl2ZS5pbmRleCkgKyAxO1xuXHRcdFx0ZWwuZ29Ub1NsaWRlKHBhZ2VySW5kZXgsICduZXh0Jyk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogVHJhbnNpdGlvbnMgdG8gdGhlIHByZXYgc2xpZGUgaW4gdGhlIHNob3dcblx0XHQgKi9cblx0XHRlbC5nb1RvUHJldlNsaWRlID0gZnVuY3Rpb24oKXtcblx0XHRcdC8vIGlmIGluZmluaXRlTG9vcCBpcyBmYWxzZSBhbmQgbGFzdCBwYWdlIGlzIHNob3dpbmcsIGRpc3JlZ2FyZCBjYWxsXG5cdFx0XHRpZiAoIXNsaWRlci5zZXR0aW5ncy5pbmZpbml0ZUxvb3AgJiYgc2xpZGVyLmFjdGl2ZS5pbmRleCA9PSAwKSByZXR1cm47XG5cdFx0XHR2YXIgcGFnZXJJbmRleCA9IHBhcnNlSW50KHNsaWRlci5hY3RpdmUuaW5kZXgpIC0gMTtcblx0XHRcdGVsLmdvVG9TbGlkZShwYWdlckluZGV4LCAncHJldicpO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFN0YXJ0cyB0aGUgYXV0byBzaG93XG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gcHJldmVudENvbnRyb2xVcGRhdGUgKGJvb2xlYW4pXG5cdFx0ICogIC0gaWYgdHJ1ZSwgYXV0byBjb250cm9scyBzdGF0ZSB3aWxsIG5vdCBiZSB1cGRhdGVkXG5cdFx0ICovXG5cdFx0ZWwuc3RhcnRBdXRvID0gZnVuY3Rpb24ocHJldmVudENvbnRyb2xVcGRhdGUpe1xuXHRcdFx0Ly8gaWYgYW4gaW50ZXJ2YWwgYWxyZWFkeSBleGlzdHMsIGRpc3JlZ2FyZCBjYWxsXG5cdFx0XHRpZihzbGlkZXIuaW50ZXJ2YWwpIHJldHVybjtcblx0XHRcdC8vIGNyZWF0ZSBhbiBpbnRlcnZhbFxuXHRcdFx0c2xpZGVyLmludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtcblx0XHRcdFx0c2xpZGVyLnNldHRpbmdzLmF1dG9EaXJlY3Rpb24gPT0gJ25leHQnID8gZWwuZ29Ub05leHRTbGlkZSgpIDogZWwuZ29Ub1ByZXZTbGlkZSgpO1xuXHRcdFx0fSwgc2xpZGVyLnNldHRpbmdzLnBhdXNlKTtcblx0XHRcdC8vIGlmIGF1dG8gY29udHJvbHMgYXJlIGRpc3BsYXllZCBhbmQgcHJldmVudENvbnRyb2xVcGRhdGUgaXMgbm90IHRydWVcblx0XHRcdGlmIChzbGlkZXIuc2V0dGluZ3MuYXV0b0NvbnRyb2xzICYmIHByZXZlbnRDb250cm9sVXBkYXRlICE9IHRydWUpIHVwZGF0ZUF1dG9Db250cm9scygnc3RvcCcpO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFN0b3BzIHRoZSBhdXRvIHNob3dcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSBwcmV2ZW50Q29udHJvbFVwZGF0ZSAoYm9vbGVhbilcblx0XHQgKiAgLSBpZiB0cnVlLCBhdXRvIGNvbnRyb2xzIHN0YXRlIHdpbGwgbm90IGJlIHVwZGF0ZWRcblx0XHQgKi9cblx0XHRlbC5zdG9wQXV0byA9IGZ1bmN0aW9uKHByZXZlbnRDb250cm9sVXBkYXRlKXtcblx0XHRcdC8vIGlmIG5vIGludGVydmFsIGV4aXN0cywgZGlzcmVnYXJkIGNhbGxcblx0XHRcdGlmKCFzbGlkZXIuaW50ZXJ2YWwpIHJldHVybjtcblx0XHRcdC8vIGNsZWFyIHRoZSBpbnRlcnZhbFxuXHRcdFx0Y2xlYXJJbnRlcnZhbChzbGlkZXIuaW50ZXJ2YWwpO1xuXHRcdFx0c2xpZGVyLmludGVydmFsID0gbnVsbDtcblx0XHRcdC8vIGlmIGF1dG8gY29udHJvbHMgYXJlIGRpc3BsYXllZCBhbmQgcHJldmVudENvbnRyb2xVcGRhdGUgaXMgbm90IHRydWVcblx0XHRcdGlmIChzbGlkZXIuc2V0dGluZ3MuYXV0b0NvbnRyb2xzICYmIHByZXZlbnRDb250cm9sVXBkYXRlICE9IHRydWUpIHVwZGF0ZUF1dG9Db250cm9scygnc3RhcnQnKTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIGN1cnJlbnQgc2xpZGUgaW5kZXggKHplcm8tYmFzZWQpXG5cdFx0ICovXG5cdFx0ZWwuZ2V0Q3VycmVudFNsaWRlID0gZnVuY3Rpb24oKXtcblx0XHRcdHJldHVybiBzbGlkZXIuYWN0aXZlLmluZGV4O1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgY3VycmVudCBzbGlkZSBlbGVtZW50XG5cdFx0ICovXG5cdFx0ZWwuZ2V0Q3VycmVudFNsaWRlRWxlbWVudCA9IGZ1bmN0aW9uKCl7XG5cdFx0XHRyZXR1cm4gc2xpZGVyLmNoaWxkcmVuLmVxKHNsaWRlci5hY3RpdmUuaW5kZXgpO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgbnVtYmVyIG9mIHNsaWRlcyBpbiBzaG93XG5cdFx0ICovXG5cdFx0ZWwuZ2V0U2xpZGVDb3VudCA9IGZ1bmN0aW9uKCl7XG5cdFx0XHRyZXR1cm4gc2xpZGVyLmNoaWxkcmVuLmxlbmd0aDtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBVcGRhdGUgYWxsIGR5bmFtaWMgc2xpZGVyIGVsZW1lbnRzXG5cdFx0ICovXG5cdFx0ZWwucmVkcmF3U2xpZGVyID0gZnVuY3Rpb24oKXtcblx0XHRcdC8vIHJlc2l6ZSBhbGwgY2hpbGRyZW4gaW4gcmF0aW8gdG8gbmV3IHNjcmVlbiBzaXplXG5cdFx0XHRzbGlkZXIuY2hpbGRyZW4uYWRkKGVsLmZpbmQoJy5ieC1jbG9uZScpKS53aWR0aChnZXRTbGlkZVdpZHRoKCkpO1xuXHRcdFx0Ly8gYWRqdXN0IHRoZSBoZWlnaHRcblx0XHRcdHNsaWRlci52aWV3cG9ydC5jc3MoJ2hlaWdodCcsIGdldFZpZXdwb3J0SGVpZ2h0KCkpO1xuXHRcdFx0Ly8gdXBkYXRlIHRoZSBzbGlkZSBwb3NpdGlvblxuXHRcdFx0aWYoIXNsaWRlci5zZXR0aW5ncy50aWNrZXIpIHNldFNsaWRlUG9zaXRpb24oKTtcblx0XHRcdC8vIGlmIGFjdGl2ZS5sYXN0IHdhcyB0cnVlIGJlZm9yZSB0aGUgc2NyZWVuIHJlc2l6ZSwgd2Ugd2FudFxuXHRcdFx0Ly8gdG8ga2VlcCBpdCBsYXN0IG5vIG1hdHRlciB3aGF0IHNjcmVlbiBzaXplIHdlIGVuZCBvblxuXHRcdFx0aWYgKHNsaWRlci5hY3RpdmUubGFzdCkgc2xpZGVyLmFjdGl2ZS5pbmRleCA9IGdldFBhZ2VyUXR5KCkgLSAxO1xuXHRcdFx0Ly8gaWYgdGhlIGFjdGl2ZSBpbmRleCAocGFnZSkgbm8gbG9uZ2VyIGV4aXN0cyBkdWUgdG8gdGhlIHJlc2l6ZSwgc2ltcGx5IHNldCB0aGUgaW5kZXggYXMgbGFzdFxuXHRcdFx0aWYgKHNsaWRlci5hY3RpdmUuaW5kZXggPj0gZ2V0UGFnZXJRdHkoKSkgc2xpZGVyLmFjdGl2ZS5sYXN0ID0gdHJ1ZTtcblx0XHRcdC8vIGlmIGEgcGFnZXIgaXMgYmVpbmcgZGlzcGxheWVkIGFuZCBhIGN1c3RvbSBwYWdlciBpcyBub3QgYmVpbmcgdXNlZCwgdXBkYXRlIGl0XG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MucGFnZXIgJiYgIXNsaWRlci5zZXR0aW5ncy5wYWdlckN1c3RvbSl7XG5cdFx0XHRcdHBvcHVsYXRlUGFnZXIoKTtcblx0XHRcdFx0dXBkYXRlUGFnZXJBY3RpdmUoc2xpZGVyLmFjdGl2ZS5pbmRleCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogRGVzdHJveSB0aGUgY3VycmVudCBpbnN0YW5jZSBvZiB0aGUgc2xpZGVyIChyZXZlcnQgZXZlcnl0aGluZyBiYWNrIHRvIG9yaWdpbmFsIHN0YXRlKVxuXHRcdCAqL1xuXHRcdGVsLmRlc3Ryb3lTbGlkZXIgPSBmdW5jdGlvbigpe1xuXHRcdFx0Ly8gZG9uJ3QgZG8gYW55dGhpbmcgaWYgc2xpZGVyIGhhcyBhbHJlYWR5IGJlZW4gZGVzdHJveWVkXG5cdFx0XHRpZighc2xpZGVyLmluaXRpYWxpemVkKSByZXR1cm47XG5cdFx0XHRzbGlkZXIuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcblx0XHRcdCQoJy5ieC1jbG9uZScsIHRoaXMpLnJlbW92ZSgpO1xuXHRcdFx0c2xpZGVyLmNoaWxkcmVuLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRcdCQodGhpcykuZGF0YShcIm9yaWdTdHlsZVwiKSAhPSB1bmRlZmluZWQgPyAkKHRoaXMpLmF0dHIoXCJzdHlsZVwiLCAkKHRoaXMpLmRhdGEoXCJvcmlnU3R5bGVcIikpIDogJCh0aGlzKS5yZW1vdmVBdHRyKCdzdHlsZScpO1xuXHRcdFx0fSk7XG5cdFx0XHQkKHRoaXMpLmRhdGEoXCJvcmlnU3R5bGVcIikgIT0gdW5kZWZpbmVkID8gdGhpcy5hdHRyKFwic3R5bGVcIiwgJCh0aGlzKS5kYXRhKFwib3JpZ1N0eWxlXCIpKSA6ICQodGhpcykucmVtb3ZlQXR0cignc3R5bGUnKTtcblx0XHRcdCQodGhpcykudW53cmFwKCkudW53cmFwKCk7XG5cdFx0XHRpZihzbGlkZXIuY29udHJvbHMuZWwpIHNsaWRlci5jb250cm9scy5lbC5yZW1vdmUoKTtcblx0XHRcdGlmKHNsaWRlci5jb250cm9scy5uZXh0KSBzbGlkZXIuY29udHJvbHMubmV4dC5yZW1vdmUoKTtcblx0XHRcdGlmKHNsaWRlci5jb250cm9scy5wcmV2KSBzbGlkZXIuY29udHJvbHMucHJldi5yZW1vdmUoKTtcblx0XHRcdGlmKHNsaWRlci5wYWdlckVsICYmIHNsaWRlci5zZXR0aW5ncy5jb250cm9scykgc2xpZGVyLnBhZ2VyRWwucmVtb3ZlKCk7XG5cdFx0XHQkKCcuYngtY2FwdGlvbicsIHRoaXMpLnJlbW92ZSgpO1xuXHRcdFx0aWYoc2xpZGVyLmNvbnRyb2xzLmF1dG9FbCkgc2xpZGVyLmNvbnRyb2xzLmF1dG9FbC5yZW1vdmUoKTtcblx0XHRcdGNsZWFySW50ZXJ2YWwoc2xpZGVyLmludGVydmFsKTtcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5yZXNwb25zaXZlKSAkKHdpbmRvdykudW5iaW5kKCdyZXNpemUnLCByZXNpemVXaW5kb3cpO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFJlbG9hZCB0aGUgc2xpZGVyIChyZXZlcnQgYWxsIERPTSBjaGFuZ2VzLCBhbmQgcmUtaW5pdGlhbGl6ZSlcblx0XHQgKi9cblx0XHRlbC5yZWxvYWRTbGlkZXIgPSBmdW5jdGlvbihzZXR0aW5ncyl7XG5cdFx0XHRpZiAoc2V0dGluZ3MgIT0gdW5kZWZpbmVkKSBvcHRpb25zID0gc2V0dGluZ3M7XG5cdFx0XHRlbC5kZXN0cm95U2xpZGVyKCk7XG5cdFx0XHRpbml0KCk7XG5cdFx0fVxuXG5cdFx0aW5pdCgpO1xuXG5cdFx0Ly8gcmV0dXJucyB0aGUgY3VycmVudCBqUXVlcnkgb2JqZWN0XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxufSkoalF1ZXJ5KTtcbiIsIiQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJy5ieHNsaWRlcicpLmJ4U2xpZGVyKHtcbiAgICAgICAgICAgIGF1dG86IGZhbHNlLFxuICAgICAgICAgICAgYXV0b0NvbnRyb2xzOiB0cnVlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZ1bmN0aW9uIGdyaWQoKSB7XG4gICAgICAgICAgICB2YXIgJGdyaWQgPSAkKCcuZ3JpZCcpLmltYWdlc0xvYWRlZChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJGdyaWQubWFzb25yeSh7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1TZWxlY3RvcjogJy5ncmlkLWl0ZW0nLFxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5XaWR0aDogJy5ncmlkLXNpemVyJyxcbiAgICAgICAgICAgICAgICAgICAgZ3V0dGVyOiAnLmd1dHRlci1zaXplcicsXG4gICAgICAgICAgICAgICAgICAgIHBlcmNlbnRQb3NpdGlvbjogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzZWFyY2goKSB7XG4gICAgICAgICAgICAkKCcuaWRlYXMnKS5maW5kKCdkaXYnKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIHZhciAkc2VhcmNoS2V5ID0gJCgnLnNlYXJjaF9fZmllbGQnKS52YWwoKTtcblxuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB1cmw6ICdodHRwczovL3BpeGFiYXkuY29tL2FwaS8/a2V5PTI2NTA1ODQtZThmZWFiOWIxMWVkNjQ0ZGNlYzcyOGFjOSZxPScgKyAkc2VhcmNoS2V5ICsgJyZpbWFnZV90eXBlPXBob3RvJyxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb25wJyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyICRodG1sID0gJCgnI2NvbnRhaW5lcicpLmh0bWwoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyICRjb250ZW50ID0gdG1wbCgkaHRtbCwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICQoJy5pZGVhcycpLmFwcGVuZCgkY29udGVudCk7XG4gICAgICAgICAgICAgICAgICAgIGdyaWQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdFcnJvciEnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlYXJjaCgpO1xuXG4gICAgICAgICQoJy5zZWFyY2hfX2J1dHRvbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBzZWFyY2goKTtcbiAgICAgICAgICAgICQoJy5zZWFyY2hfX2ZpZWxkJykudmFsKCcnKTtcbiAgICAgICAgfSlcbiAgICB9XG4pO1xuIiwiLy8gU2ltcGxlIEphdmFTY3JpcHQgVGVtcGxhdGluZ1xuLy8gSm9obiBSZXNpZyAtIGh0dHA6Ly9lam9obi5vcmcvIC0gTUlUIExpY2Vuc2VkXG4oZnVuY3Rpb24gKCkge1xuICAgIHZhciBjYWNoZSA9IHt9O1xuXG4gICAgdGhpcy50bXBsID0gZnVuY3Rpb24gdG1wbChzdHIsIGRhdGEpIHtcbiAgICAgICAgLy8gRmlndXJlIG91dCBpZiB3ZSdyZSBnZXR0aW5nIGEgdGVtcGxhdGUsIG9yIGlmIHdlIG5lZWQgdG9cbiAgICAgICAgLy8gbG9hZCB0aGUgdGVtcGxhdGUgLSBhbmQgYmUgc3VyZSB0byBjYWNoZSB0aGUgcmVzdWx0LlxuICAgICAgICB2YXIgZm4gPSAhL1xcVy8udGVzdChzdHIpID9cbiAgICAgICAgICAgIGNhY2hlW3N0cl0gPSBjYWNoZVtzdHJdIHx8XG4gICAgICAgICAgICAgICAgdG1wbChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzdHIpLmlubmVySFRNTCkgOlxuXG4gICAgICAgICAgICAvLyBHZW5lcmF0ZSBhIHJldXNhYmxlIGZ1bmN0aW9uIHRoYXQgd2lsbCBzZXJ2ZSBhcyBhIHRlbXBsYXRlXG4gICAgICAgICAgICAvLyBnZW5lcmF0b3IgKGFuZCB3aGljaCB3aWxsIGJlIGNhY2hlZCkuXG4gICAgICAgICAgICBuZXcgRnVuY3Rpb24oXCJvYmpcIixcbiAgICAgICAgICAgICAgICBcInZhciBwPVtdLHByaW50PWZ1bmN0aW9uKCl7cC5wdXNoLmFwcGx5KHAsYXJndW1lbnRzKTt9O1wiICtcblxuICAgICAgICAgICAgICAgICAgICAvLyBJbnRyb2R1Y2UgdGhlIGRhdGEgYXMgbG9jYWwgdmFyaWFibGVzIHVzaW5nIHdpdGgoKXt9XG4gICAgICAgICAgICAgICAgXCJ3aXRoKG9iail7cC5wdXNoKCdcIiArXG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ29udmVydCB0aGUgdGVtcGxhdGUgaW50byBwdXJlIEphdmFTY3JpcHRcbiAgICAgICAgICAgICAgICBzdHJcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1tcXHJcXHRcXG5dL2csIFwiIFwiKVxuICAgICAgICAgICAgICAgICAgICAuc3BsaXQoXCI8JVwiKS5qb2luKFwiXFx0XCIpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8oKF58JT4pW15cXHRdKiknL2csIFwiJDFcXHJcIilcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcdD0oLio/KSU+L2csIFwiJywkMSwnXCIpXG4gICAgICAgICAgICAgICAgICAgIC5zcGxpdChcIlxcdFwiKS5qb2luKFwiJyk7XCIpXG4gICAgICAgICAgICAgICAgICAgIC5zcGxpdChcIiU+XCIpLmpvaW4oXCJwLnB1c2goJ1wiKVxuICAgICAgICAgICAgICAgICAgICAuc3BsaXQoXCJcXHJcIikuam9pbihcIlxcXFwnXCIpXG4gICAgICAgICAgICAgICAgKyBcIicpO31yZXR1cm4gcC5qb2luKCcnKTtcIik7XG5cbiAgICAgICAgLy8gUHJvdmlkZSBzb21lIGJhc2ljIGN1cnJ5aW5nIHRvIHRoZSB1c2VyXG4gICAgICAgIHJldHVybiBkYXRhID8gZm4oZGF0YSkgOiBmbjtcbiAgICB9O1xufSkoKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
