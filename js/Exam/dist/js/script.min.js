(function(){"use strict";function t(){}function e(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function i(t){return function(){return this[t].apply(this,arguments)}}var n=t.prototype,s=this,o=s.EventEmitter;n.getListeners=function(t){var e,i,n=this._getEvents();if("object"==typeof t){e={};for(i in n)n.hasOwnProperty(i)&&t.test(i)&&(e[i]=n[i])}else e=n[t]||(n[t]=[]);return e},n.flattenListeners=function(t){var e,i=[];for(e=0;e<t.length;e+=1)i.push(t[e].listener);return i},n.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&(e={},e[t]=i),e||i},n.addListener=function(t,i){var n,s=this.getListenersAsObject(t),o="object"==typeof i;for(n in s)s.hasOwnProperty(n)&&e(s[n],i)===-1&&s[n].push(o?i:{listener:i,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function(t){return this.getListeners(t),this},n.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},n.removeListener=function(t,i){var n,s,o=this.getListenersAsObject(t);for(s in o)o.hasOwnProperty(s)&&(n=e(o[s],i),n!==-1&&o[s].splice(n,1));return this},n.off=i("removeListener"),n.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},n.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},n.manipulateListeners=function(t,e,i){var n,s,o=t?this.removeListener:this.addListener,r=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(n=i.length;n--;)o.call(this,e,i[n]);else for(n in e)e.hasOwnProperty(n)&&(s=e[n])&&("function"==typeof s?o.call(this,n,s):r.call(this,n,s));return this},n.removeEvent=function(t){var e,i=typeof t,n=this._getEvents();if("string"===i)delete n[t];else if("object"===i)for(e in n)n.hasOwnProperty(e)&&t.test(e)&&delete n[e];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(t,e){var i,n,s,o,r=this.getListenersAsObject(t);for(s in r)if(r.hasOwnProperty(s))for(n=r[s].length;n--;)i=r[s][n],i.once===!0&&this.removeListener(t,i.listener),o=i.listener.apply(this,e||[]),o===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},n.trigger=i("emitEvent"),n.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},n.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},n._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},n._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return s.EventEmitter=o,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}).call(this),function(t){function e(e){var i=t.event;return i.target=i.target||i.srcElement||e,i}var i=document.documentElement,n=function(){};i.addEventListener?n=function(t,e,i){t.addEventListener(e,i,!1)}:i.attachEvent&&(n=function(t,i,n){t[i+n]=n.handleEvent?function(){var i=e(t);n.handleEvent.call(n,i)}:function(){var i=e(t);n.call(t,i)},t.attachEvent("on"+i,t[i+n])});var s=function(){};i.removeEventListener?s=function(t,e,i){t.removeEventListener(e,i,!1)}:i.detachEvent&&(s=function(t,e,i){t.detachEvent("on"+e,t[e+i]);try{delete t[e+i]}catch(n){t[e+i]=void 0}});var o={bind:n,unbind:s};"function"==typeof define&&define.amd?define("eventie/eventie",o):t.eventie=o}(this),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("wolfy87-eventemitter"),require("eventie")):t.imagesLoaded=e(t,t.EventEmitter,t.eventie)}(window,function(t,e,i){function n(t,e){for(var i in e)t[i]=e[i];return t}function s(t){return"[object Array]"==h.call(t)}function o(t){var e=[];if(s(t))e=t;else if("number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e}function r(t,e,i){if(!(this instanceof r))return new r(t,e,i);"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=o(t),this.options=n({},this.options),"function"==typeof e?i=e:n(this.options,e),i&&this.on("always",i),this.getImages(),d&&(this.jqDeferred=new d.Deferred);var s=this;setTimeout(function(){s.check()})}function a(t){this.img=t}function l(t,e){this.url=t,this.element=e,this.img=new Image}var d=t.jQuery,c=t.console,h=Object.prototype.toString;r.prototype=new e,r.prototype.options={},r.prototype.getImages=function(){this.images=[];for(var t=0;t<this.elements.length;t++){var e=this.elements[t];this.addElementImages(e)}},r.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),this.options.background===!0&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&u[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var s=i[n];this.addImage(s)}if("string"==typeof this.options.background){var o=t.querySelectorAll(this.options.background);for(n=0;n<o.length;n++){var r=o[n];this.addElementBackgroundImages(r)}}}};var u={1:!0,9:!0,11:!0};r.prototype.addElementBackgroundImages=function(t){for(var e=g(t),i=/url\(['"]*([^'"\)]+)['"]*\)/gi,n=i.exec(e.backgroundImage);null!==n;){var s=n&&n[1];s&&this.addBackground(s,t),n=i.exec(e.backgroundImage)}};var g=t.getComputedStyle||function(t){return t.currentStyle};return r.prototype.addImage=function(t){var e=new a(t);this.images.push(e)},r.prototype.addBackground=function(t,e){var i=new l(t,e);this.images.push(i)},r.prototype.check=function(){function t(t,i,n){setTimeout(function(){e.progress(t,i,n)})}var e=this;if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length)return void this.complete();for(var i=0;i<this.images.length;i++){var n=this.images[i];n.once("progress",t),n.check()}},r.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emit("progress",this,t,e),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&c&&c.log("progress: "+i,t,e)},r.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emit(t,this),this.emit("always",this),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},a.prototype=new e,a.prototype.check=function(){var t=this.getIsImageComplete();return t?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,i.bind(this.proxyImage,"load",this),i.bind(this.proxyImage,"error",this),i.bind(this.img,"load",this),i.bind(this.img,"error",this),void(this.proxyImage.src=this.img.src))},a.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},a.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("progress",this,this.img,e)},a.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},a.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},a.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},a.prototype.unbindEvents=function(){i.unbind(this.proxyImage,"load",this),i.unbind(this.proxyImage,"error",this),i.unbind(this.img,"load",this),i.unbind(this.img,"error",this)},l.prototype=new a,l.prototype.check=function(){i.bind(this.img,"load",this),i.bind(this.img,"error",this),this.img.src=this.url;var t=this.getIsImageComplete();t&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},l.prototype.unbindEvents=function(){i.unbind(this.img,"load",this),i.unbind(this.img,"error",this)},l.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("progress",this,this.element,e)},r.makeJQueryPlugin=function(e){e=e||t.jQuery,e&&(d=e,d.fn.imagesLoaded=function(t,e){var i=new r(this,t,e);return i.jqDeferred.promise(d(this))})},r.makeJQueryPlugin(),r}),function(t){var e={},n={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){},onSliderResize:function(){}};t.fn.bxSlider=function(s){if(0==this.length)return this;if(this.length>1)return this.each(function(){t(this).bxSlider(s)}),this;var o={},r=this;e.el=this;var a=t(window).width(),l=t(window).height(),d=function(){o.settings=t.extend({},n,s),o.settings.slideWidth=parseInt(o.settings.slideWidth),o.children=r.children(o.settings.slideSelector),o.children.length<o.settings.minSlides&&(o.settings.minSlides=o.children.length),o.children.length<o.settings.maxSlides&&(o.settings.maxSlides=o.children.length),o.settings.randomStart&&(o.settings.startSlide=Math.floor(Math.random()*o.children.length)),o.active={index:o.settings.startSlide},o.carousel=o.settings.minSlides>1||o.settings.maxSlides>1,o.carousel&&(o.settings.preloadImages="all"),o.minThreshold=o.settings.minSlides*o.settings.slideWidth+(o.settings.minSlides-1)*o.settings.slideMargin,o.maxThreshold=o.settings.maxSlides*o.settings.slideWidth+(o.settings.maxSlides-1)*o.settings.slideMargin,o.working=!1,o.controls={},o.interval=null,o.animProp="vertical"==o.settings.mode?"top":"left",o.usingCSS=o.settings.useCSS&&"fade"!=o.settings.mode&&function(){var t=document.createElement("div"),e=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in e)if(void 0!==t.style[e[i]])return o.cssPrefix=e[i].replace("Perspective","").toLowerCase(),o.animProp="-"+o.cssPrefix+"-transform",!0;return!1}(),"vertical"==o.settings.mode&&(o.settings.maxSlides=o.settings.minSlides),r.data("origStyle",r.attr("style")),r.children(o.settings.slideSelector).each(function(){t(this).data("origStyle",t(this).attr("style"))}),c()},c=function(){r.wrap('<div class="'+o.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),o.viewport=r.parent(),o.loader=t('<div class="bx-loading" />'),o.viewport.prepend(o.loader),r.css({width:"horizontal"==o.settings.mode?100*o.children.length+215+"%":"auto",position:"relative"}),o.usingCSS&&o.settings.easing?r.css("-"+o.cssPrefix+"-transition-timing-function",o.settings.easing):o.settings.easing||(o.settings.easing="swing");f();o.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),o.viewport.parent().css({maxWidth:p()}),o.settings.pager||o.viewport.parent().css({margin:"0 auto 0px"}),o.children.css({"float":"horizontal"==o.settings.mode?"left":"none",listStyle:"none",position:"relative"}),o.children.css("width",v()),"horizontal"==o.settings.mode&&o.settings.slideMargin>0&&o.children.css("marginRight",o.settings.slideMargin),"vertical"==o.settings.mode&&o.settings.slideMargin>0&&o.children.css("marginBottom",o.settings.slideMargin),"fade"==o.settings.mode&&(o.children.css({position:"absolute",zIndex:0,display:"none"}),o.children.eq(o.settings.startSlide).css({zIndex:o.settings.slideZIndex,display:"block"})),o.controls.el=t('<div class="bx-controls" />'),o.settings.captions&&k(),o.active.last=o.settings.startSlide==m()-1,o.settings.video&&r.fitVids();var e=o.children.eq(o.settings.startSlide);"all"==o.settings.preloadImages&&(e=o.children),o.settings.ticker?o.settings.pager=!1:(o.settings.pager&&w(),o.settings.controls&&E(),o.settings.auto&&o.settings.autoControls&&C(),(o.settings.controls||o.settings.autoControls||o.settings.pager)&&o.viewport.after(o.controls.el)),h(e,u)},h=function(e,i){var n=e.find("img, iframe").length;if(0==n)return void i();var s=0;e.find("img, iframe").each(function(){t(this).one("load",function(){++s==n&&i()}).each(function(){this.complete&&t(this).load()})})},u=function(){if(o.settings.infiniteLoop&&"fade"!=o.settings.mode&&!o.settings.ticker){var e="vertical"==o.settings.mode?o.settings.minSlides:o.settings.maxSlides,i=o.children.slice(0,e).clone().addClass("bx-clone"),n=o.children.slice(-e).clone().addClass("bx-clone");r.append(i).prepend(n)}o.loader.remove(),y(),"vertical"==o.settings.mode&&(o.settings.adaptiveHeight=!0),o.viewport.height(g()),r.redrawSlider(),o.settings.onSliderLoad(o.active.index),o.initialized=!0,o.settings.responsive&&t(window).bind("resize",H),o.settings.auto&&o.settings.autoStart&&(m()>1||o.settings.autoSlideForOnePage)&&q(),o.settings.ticker&&j(),o.settings.pager&&P(o.settings.startSlide),o.settings.controls&&_(),o.settings.touchEnabled&&!o.settings.ticker&&O()},g=function(){var e=0,n=t();if("vertical"==o.settings.mode||o.settings.adaptiveHeight)if(o.carousel){var s=1==o.settings.moveSlides?o.active.index:o.active.index*x();for(n=o.children.eq(s),i=1;i<=o.settings.maxSlides-1;i++)n=s+i>=o.children.length?n.add(o.children.eq(i-1)):n.add(o.children.eq(s+i))}else n=o.children.eq(o.active.index);else n=o.children;return"vertical"==o.settings.mode?(n.each(function(i){e+=t(this).outerHeight()}),o.settings.slideMargin>0&&(e+=o.settings.slideMargin*(o.settings.minSlides-1))):e=Math.max.apply(Math,n.map(function(){return t(this).outerHeight(!1)}).get()),"border-box"==o.viewport.css("box-sizing")?e+=parseFloat(o.viewport.css("padding-top"))+parseFloat(o.viewport.css("padding-bottom"))+parseFloat(o.viewport.css("border-top-width"))+parseFloat(o.viewport.css("border-bottom-width")):"padding-box"==o.viewport.css("box-sizing")&&(e+=parseFloat(o.viewport.css("padding-top"))+parseFloat(o.viewport.css("padding-bottom"))),e},p=function(){var t="100%";return o.settings.slideWidth>0&&(t="horizontal"==o.settings.mode?o.settings.maxSlides*o.settings.slideWidth+(o.settings.maxSlides-1)*o.settings.slideMargin:o.settings.slideWidth),t},v=function(){var t=o.settings.slideWidth,e=o.viewport.width();return 0==o.settings.slideWidth||o.settings.slideWidth>e&&!o.carousel||"vertical"==o.settings.mode?t=e:o.settings.maxSlides>1&&"horizontal"==o.settings.mode&&(e>o.maxThreshold||e<o.minThreshold&&(t=(e-o.settings.slideMargin*(o.settings.minSlides-1))/o.settings.minSlides)),t},f=function(){var t=1;if("horizontal"==o.settings.mode&&o.settings.slideWidth>0)if(o.viewport.width()<o.minThreshold)t=o.settings.minSlides;else if(o.viewport.width()>o.maxThreshold)t=o.settings.maxSlides;else{var e=o.children.first().width()+o.settings.slideMargin;t=Math.floor((o.viewport.width()+o.settings.slideMargin)/e)}else"vertical"==o.settings.mode&&(t=o.settings.minSlides);return t},m=function(){var t=0;if(o.settings.moveSlides>0)if(o.settings.infiniteLoop)t=Math.ceil(o.children.length/x());else for(var e=0,i=0;e<o.children.length;)++t,e=i+f(),i+=o.settings.moveSlides<=f()?o.settings.moveSlides:f();else t=Math.ceil(o.children.length/f());return t},x=function(){return o.settings.moveSlides>0&&o.settings.moveSlides<=f()?o.settings.moveSlides:f()},y=function(){if(o.children.length>o.settings.maxSlides&&o.active.last&&!o.settings.infiniteLoop){if("horizontal"==o.settings.mode){var t=o.children.last(),e=t.position();S(-(e.left-(o.viewport.width()-t.outerWidth())),"reset",0)}else if("vertical"==o.settings.mode){var i=o.children.length-o.settings.minSlides,e=o.children.eq(i).position();S(-e.top,"reset",0)}}else{var e=o.children.eq(o.active.index*x()).position();o.active.index==m()-1&&(o.active.last=!0),void 0!=e&&("horizontal"==o.settings.mode?S(-e.left,"reset",0):"vertical"==o.settings.mode&&S(-e.top,"reset",0))}},S=function(t,e,i,n){if(o.usingCSS){var s="vertical"==o.settings.mode?"translate3d(0, "+t+"px, 0)":"translate3d("+t+"px, 0, 0)";r.css("-"+o.cssPrefix+"-transition-duration",i/1e3+"s"),"slide"==e?(r.css(o.animProp,s),r.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){r.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),M()})):"reset"==e?r.css(o.animProp,s):"ticker"==e&&(r.css("-"+o.cssPrefix+"-transition-timing-function","linear"),r.css(o.animProp,s),r.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){r.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),S(n.resetValue,"reset",0),D()}))}else{var a={};a[o.animProp]=t,"slide"==e?r.animate(a,i,o.settings.easing,function(){M()}):"reset"==e?r.css(o.animProp,t):"ticker"==e&&r.animate(a,speed,"linear",function(){S(n.resetValue,"reset",0),D()})}},b=function(){for(var e="",i=m(),n=0;n<i;n++){var s="";o.settings.buildPager&&t.isFunction(o.settings.buildPager)?(s=o.settings.buildPager(n),o.pagerEl.addClass("bx-custom-pager")):(s=n+1,o.pagerEl.addClass("bx-default-pager")),e+='<div class="bx-pager-item"><a href="" data-slide-index="'+n+'" class="bx-pager-link">'+s+"</a></div>"}o.pagerEl.html(e)},w=function(){o.settings.pagerCustom?o.pagerEl=t(o.settings.pagerCustom):(o.pagerEl=t('<div class="bx-pager" />'),o.settings.pagerSelector?t(o.settings.pagerSelector).html(o.pagerEl):o.controls.el.addClass("bx-has-pager").append(o.pagerEl),b()),o.pagerEl.on("click","a",z)},E=function(){o.controls.next=t('<a class="bx-next" href="">'+o.settings.nextText+"</a>"),o.controls.prev=t('<a class="bx-prev" href="">'+o.settings.prevText+"</a>"),o.controls.next.bind("click",T),o.controls.prev.bind("click",A),o.settings.nextSelector&&t(o.settings.nextSelector).append(o.controls.next),o.settings.prevSelector&&t(o.settings.prevSelector).append(o.controls.prev),o.settings.nextSelector||o.settings.prevSelector||(o.controls.directionEl=t('<div class="bx-controls-direction" />'),o.controls.directionEl.append(o.controls.prev).append(o.controls.next),o.controls.el.addClass("bx-has-controls-direction").append(o.controls.directionEl))},C=function(){o.controls.start=t('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+o.settings.startText+"</a></div>"),o.controls.stop=t('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+o.settings.stopText+"</a></div>"),o.controls.autoEl=t('<div class="bx-controls-auto" />'),o.controls.autoEl.on("click",".bx-start",L),o.controls.autoEl.on("click",".bx-stop",I),o.settings.autoControlsCombine?o.controls.autoEl.append(o.controls.start):o.controls.autoEl.append(o.controls.start).append(o.controls.stop),o.settings.autoControlsSelector?t(o.settings.autoControlsSelector).html(o.controls.autoEl):o.controls.el.addClass("bx-has-controls-auto").append(o.controls.autoEl),W(o.settings.autoStart?"stop":"start")},k=function(){o.children.each(function(e){var i=t(this).find("img:first").attr("title");void 0!=i&&(""+i).length&&t(this).append('<div class="bx-caption"><span>'+i+"</span></div>")})},T=function(t){o.settings.auto&&r.stopAuto(),r.goToNextSlide(),t.preventDefault()},A=function(t){o.settings.auto&&r.stopAuto(),r.goToPrevSlide(),t.preventDefault()},L=function(t){r.startAuto(),t.preventDefault()},I=function(t){r.stopAuto(),t.preventDefault()},z=function(e){o.settings.auto&&r.stopAuto();var i=t(e.currentTarget);if(void 0!==i.attr("data-slide-index")){var n=parseInt(i.attr("data-slide-index"));n!=o.active.index&&r.goToSlide(n),e.preventDefault()}},P=function(e){var i=o.children.length;return"short"==o.settings.pagerType?(o.settings.maxSlides>1&&(i=Math.ceil(o.children.length/o.settings.maxSlides)),void o.pagerEl.html(e+1+o.settings.pagerShortSeparator+i)):(o.pagerEl.find("a").removeClass("active"),void o.pagerEl.each(function(i,n){t(n).find("a").eq(e).addClass("active")}))},M=function(){if(o.settings.infiniteLoop){var t="";0==o.active.index?t=o.children.eq(0).position():o.active.index==m()-1&&o.carousel?t=o.children.eq((m()-1)*x()).position():o.active.index==o.children.length-1&&(t=o.children.eq(o.children.length-1).position()),t&&("horizontal"==o.settings.mode?S(-t.left,"reset",0):"vertical"==o.settings.mode&&S(-t.top,"reset",0))}o.working=!1,o.settings.onSlideAfter(o.children.eq(o.active.index),o.oldIndex,o.active.index)},W=function(t){o.settings.autoControlsCombine?o.controls.autoEl.html(o.controls[t]):(o.controls.autoEl.find("a").removeClass("active"),o.controls.autoEl.find("a:not(.bx-"+t+")").addClass("active"))},_=function(){1==m()?(o.controls.prev.addClass("disabled"),o.controls.next.addClass("disabled")):!o.settings.infiniteLoop&&o.settings.hideControlOnEnd&&(0==o.active.index?(o.controls.prev.addClass("disabled"),o.controls.next.removeClass("disabled")):o.active.index==m()-1?(o.controls.next.addClass("disabled"),o.controls.prev.removeClass("disabled")):(o.controls.prev.removeClass("disabled"),o.controls.next.removeClass("disabled")))},q=function(){if(o.settings.autoDelay>0){setTimeout(r.startAuto,o.settings.autoDelay)}else r.startAuto();o.settings.autoHover&&r.hover(function(){o.interval&&(r.stopAuto(!0),o.autoPaused=!0)},function(){o.autoPaused&&(r.startAuto(!0),o.autoPaused=null)})},j=function(){var e=0;if("next"==o.settings.autoDirection)r.append(o.children.clone().addClass("bx-clone"));else{r.prepend(o.children.clone().addClass("bx-clone"));var i=o.children.first().position();e="horizontal"==o.settings.mode?-i.left:-i.top}S(e,"reset",0),o.settings.pager=!1,o.settings.controls=!1,o.settings.autoControls=!1,o.settings.tickerHover&&!o.usingCSS&&o.viewport.hover(function(){r.stop()},function(){var e=0;o.children.each(function(i){e+="horizontal"==o.settings.mode?t(this).outerWidth(!0):t(this).outerHeight(!0)});var i=o.settings.speed/e,n="horizontal"==o.settings.mode?"left":"top",s=i*(e-Math.abs(parseInt(r.css(n))));D(s)}),D()},D=function(t){speed=t?t:o.settings.speed;var e={left:0,top:0},i={left:0,top:0};"next"==o.settings.autoDirection?e=r.find(".bx-clone").first().position():i=o.children.first().position();var n="horizontal"==o.settings.mode?-e.left:-e.top,s="horizontal"==o.settings.mode?-i.left:-i.top,a={resetValue:s};S(n,"ticker",speed,a)},O=function(){o.touch={start:{x:0,y:0},end:{x:0,y:0}},o.viewport.bind("touchstart",B)},B=function(t){if(o.working)t.preventDefault();else{o.touch.originalPos=r.position();var e=t.originalEvent;o.touch.start.x=e.changedTouches[0].pageX,o.touch.start.y=e.changedTouches[0].pageY,o.viewport.bind("touchmove",$),o.viewport.bind("touchend",F)}},$=function(t){var e=t.originalEvent,i=Math.abs(e.changedTouches[0].pageX-o.touch.start.x),n=Math.abs(e.changedTouches[0].pageY-o.touch.start.y);if(3*i>n&&o.settings.preventDefaultSwipeX?t.preventDefault():3*n>i&&o.settings.preventDefaultSwipeY&&t.preventDefault(),"fade"!=o.settings.mode&&o.settings.oneToOneTouch){var s=0;if("horizontal"==o.settings.mode){var r=e.changedTouches[0].pageX-o.touch.start.x;s=o.touch.originalPos.left+r}else{var r=e.changedTouches[0].pageY-o.touch.start.y;s=o.touch.originalPos.top+r}S(s,"reset",0)}},F=function(t){o.viewport.unbind("touchmove",$);var e=t.originalEvent,i=0;if(o.touch.end.x=e.changedTouches[0].pageX,o.touch.end.y=e.changedTouches[0].pageY,"fade"==o.settings.mode){var n=Math.abs(o.touch.start.x-o.touch.end.x);n>=o.settings.swipeThreshold&&(o.touch.start.x>o.touch.end.x?r.goToNextSlide():r.goToPrevSlide(),r.stopAuto())}else{var n=0;"horizontal"==o.settings.mode?(n=o.touch.end.x-o.touch.start.x,i=o.touch.originalPos.left):(n=o.touch.end.y-o.touch.start.y,i=o.touch.originalPos.top),!o.settings.infiniteLoop&&(0==o.active.index&&n>0||o.active.last&&n<0)?S(i,"reset",200):Math.abs(n)>=o.settings.swipeThreshold?(n<0?r.goToNextSlide():r.goToPrevSlide(),r.stopAuto()):S(i,"reset",200)}o.viewport.unbind("touchend",F)},H=function(e){if(o.initialized){var i=t(window).width(),n=t(window).height();a==i&&l==n||(a=i,l=n,r.redrawSlider(),o.settings.onSliderResize.call(r,o.active.index))}};return r.goToSlide=function(e,i){if(!o.working&&o.active.index!=e)if(o.working=!0,o.oldIndex=o.active.index,e<0?o.active.index=m()-1:e>=m()?o.active.index=0:o.active.index=e,o.settings.onSlideBefore(o.children.eq(o.active.index),o.oldIndex,o.active.index),"next"==i?o.settings.onSlideNext(o.children.eq(o.active.index),o.oldIndex,o.active.index):"prev"==i&&o.settings.onSlidePrev(o.children.eq(o.active.index),o.oldIndex,o.active.index),o.active.last=o.active.index>=m()-1,o.settings.pager&&P(o.active.index),o.settings.controls&&_(),"fade"==o.settings.mode)o.settings.adaptiveHeight&&o.viewport.height()!=g()&&o.viewport.animate({height:g()},o.settings.adaptiveHeightSpeed),o.children.filter(":visible").fadeOut(o.settings.speed).css({zIndex:0}),o.children.eq(o.active.index).css("zIndex",o.settings.slideZIndex+1).fadeIn(o.settings.speed,function(){t(this).css("zIndex",o.settings.slideZIndex),M()});else{o.settings.adaptiveHeight&&o.viewport.height()!=g()&&o.viewport.animate({height:g()},o.settings.adaptiveHeightSpeed);var n=0,s={left:0,top:0};if(!o.settings.infiniteLoop&&o.carousel&&o.active.last)if("horizontal"==o.settings.mode){var a=o.children.eq(o.children.length-1);s=a.position(),n=o.viewport.width()-a.outerWidth()}else{var l=o.children.length-o.settings.minSlides;s=o.children.eq(l).position()}else if(o.carousel&&o.active.last&&"prev"==i){var d=1==o.settings.moveSlides?o.settings.maxSlides-x():(m()-1)*x()-(o.children.length-o.settings.maxSlides),a=r.children(".bx-clone").eq(d);s=a.position()}else if("next"==i&&0==o.active.index)s=r.find("> .bx-clone").eq(o.settings.maxSlides).position(),o.active.last=!1;else if(e>=0){var c=e*x();s=o.children.eq(c).position()}if("undefined"!=typeof s){var h="horizontal"==o.settings.mode?-(s.left-n):-s.top;S(h,"slide",o.settings.speed)}}},r.goToNextSlide=function(){if(o.settings.infiniteLoop||!o.active.last){var t=parseInt(o.active.index)+1;r.goToSlide(t,"next")}},r.goToPrevSlide=function(){if(o.settings.infiniteLoop||0!=o.active.index){var t=parseInt(o.active.index)-1;r.goToSlide(t,"prev")}},r.startAuto=function(t){o.interval||(o.interval=setInterval(function(){"next"==o.settings.autoDirection?r.goToNextSlide():r.goToPrevSlide()},o.settings.pause),o.settings.autoControls&&1!=t&&W("stop"))},r.stopAuto=function(t){o.interval&&(clearInterval(o.interval),o.interval=null,o.settings.autoControls&&1!=t&&W("start"))},r.getCurrentSlide=function(){return o.active.index},r.getCurrentSlideElement=function(){return o.children.eq(o.active.index)},r.getSlideCount=function(){return o.children.length},r.redrawSlider=function(){o.children.add(r.find(".bx-clone")).width(v()),o.viewport.css("height",g()),o.settings.ticker||y(),o.active.last&&(o.active.index=m()-1),o.active.index>=m()&&(o.active.last=!0),o.settings.pager&&!o.settings.pagerCustom&&(b(),P(o.active.index))},r.destroySlider=function(){o.initialized&&(o.initialized=!1,t(".bx-clone",this).remove(),o.children.each(function(){void 0!=t(this).data("origStyle")?t(this).attr("style",t(this).data("origStyle")):t(this).removeAttr("style")}),void 0!=t(this).data("origStyle")?this.attr("style",t(this).data("origStyle")):t(this).removeAttr("style"),t(this).unwrap().unwrap(),o.controls.el&&o.controls.el.remove(),o.controls.next&&o.controls.next.remove(),o.controls.prev&&o.controls.prev.remove(),o.pagerEl&&o.settings.controls&&o.pagerEl.remove(),t(".bx-caption",this).remove(),o.controls.autoEl&&o.controls.autoEl.remove(),clearInterval(o.interval),o.settings.responsive&&t(window).unbind("resize",H))},r.reloadSlider=function(t){void 0!=t&&(s=t),r.destroySlider(),d()},d(),this}}(jQuery),function(t,e,i){"use strict";var n,s=e.event;s.special.smartresize={setup:function(){e(this).bind("resize",s.special.smartresize.handler)},teardown:function(){e(this).unbind("resize",s.special.smartresize.handler)},handler:function(t,e){var i=this,o=arguments;t.type="smartresize",n&&clearTimeout(n),n=setTimeout(function(){s.dispatch.apply(i,o)},"execAsap"===e?0:100)}},e.fn.smartresize=function(t){return t?this.bind("smartresize",t):this.trigger("smartresize",["execAsap"])},e.Mason=function(t,i){this.element=e(i),this._create(t),this._init()},e.Mason.settings={isResizable:!0,isAnimated:!1,animationOptions:{queue:!1,duration:500},gutterWidth:0,isRTL:!1,isFitWidth:!1,containerStyle:{position:"relative"}},e.Mason.prototype={_filterFindBricks:function(t){var e=this.options.itemSelector;return e?t.filter(e).add(t.find(e)):t},_getBricks:function(t){var e=this._filterFindBricks(t).css({position:"absolute"}).addClass("masonry-brick");return e},_create:function(i){this.options=e.extend(!0,{},e.Mason.settings,i),this.styleQueue=[];var n=this.element[0].style;this.originalStyle={height:n.height||""};var s=this.options.containerStyle;for(var o in s)this.originalStyle[o]=n[o]||"";this.element.css(s),this.horizontalDirection=this.options.isRTL?"right":"left";var r=this.element.css("padding-"+this.horizontalDirection),a=this.element.css("padding-top");this.offset={x:r?parseInt(r,10):0,y:a?parseInt(a,10):0},this.isFluid=this.options.columnWidth&&"function"==typeof this.options.columnWidth;var l=this;setTimeout(function(){l.element.addClass("masonry")},0),this.options.isResizable&&e(t).bind("smartresize.masonry",function(){l.resize()}),this.reloadItems()},_init:function(t){this._getColumns(),this._reLayout(t)},option:function(t,i){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))},layout:function(t,e){for(var i=0,n=t.length;i<n;i++)this._placeBrick(t[i]);var s={};if(s.height=Math.max.apply(Math,this.colYs),this.options.isFitWidth){var o=0;for(i=this.cols;--i&&0===this.colYs[i];)o++;s.width=(this.cols-o)*this.columnWidth-this.options.gutterWidth}this.styleQueue.push({$el:this.element,style:s});var r,a=this.isLaidOut&&this.options.isAnimated?"animate":"css",l=this.options.animationOptions;for(i=0,n=this.styleQueue.length;i<n;i++)r=this.styleQueue[i],r.$el[a](r.style,l);this.styleQueue=[],e&&e.call(t),this.isLaidOut=!0},_getColumns:function(){var t=this.options.isFitWidth?this.element.parent():this.element,e=t.width();this.columnWidth=this.isFluid?this.options.columnWidth(e):this.options.columnWidth||this.$bricks.outerWidth(!0)||e,this.columnWidth+=this.options.gutterWidth,this.cols=Math.floor((e+this.options.gutterWidth)/this.columnWidth),this.cols=Math.max(this.cols,1)},_placeBrick:function(t){var i,n,s,o,r,a=e(t);if(i=Math.ceil(a.outerWidth(!0)/this.columnWidth),i=Math.min(i,this.cols),1===i)s=this.colYs;else for(n=this.cols+1-i,s=[],r=0;r<n;r++)o=this.colYs.slice(r,r+i),s[r]=Math.max.apply(Math,o);for(var l=Math.min.apply(Math,s),d=0,c=0,h=s.length;c<h;c++)if(s[c]===l){d=c;break}var u={top:l+this.offset.y};u[this.horizontalDirection]=this.columnWidth*d+this.offset.x,this.styleQueue.push({$el:a,style:u});var g=l+a.outerHeight(!0),p=this.cols+1-h;for(c=0;c<p;c++)this.colYs[d+c]=g},resize:function(){var t=this.cols;this._getColumns(),(this.isFluid||this.cols!==t)&&this._reLayout()},_reLayout:function(t){var e=this.cols;for(this.colYs=[];e--;)this.colYs.push(0);this.layout(this.$bricks,t)},reloadItems:function(){this.$bricks=this._getBricks(this.element.children())},reload:function(t){this.reloadItems(),this._init(t)},appended:function(t,e,i){if(e){this._filterFindBricks(t).css({top:this.element.height()});var n=this;setTimeout(function(){n._appended(t,i)},1)}else this._appended(t,i)},_appended:function(t,e){var i=this._getBricks(t);this.$bricks=this.$bricks.add(i),this.layout(i,e)},remove:function(t){this.$bricks=this.$bricks.not(t),t.remove()},destroy:function(){this.$bricks.removeClass("masonry-brick").each(function(){this.style.position="",this.style.top="",this.style.left=""});var i=this.element[0].style;for(var n in this.originalStyle)i[n]=this.originalStyle[n];this.element.unbind(".masonry").removeClass("masonry").removeData("masonry"),e(t).unbind(".masonry")}},e.fn.imagesLoaded=function(t){function i(){t.call(s,o)}function n(t){var s=t.target;s.src!==a&&e.inArray(s,l)===-1&&(l.push(s),
--r<=0&&(setTimeout(i),o.unbind(".imagesLoaded",n)))}var s=this,o=s.find("img").add(s.filter("img")),r=o.length,a="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",l=[];return r||i(),o.bind("load.imagesLoaded error.imagesLoaded",n).each(function(){var t=this.src;this.src=a,this.src=t}),s};var o=function(e){t.console&&t.console.error(e)};e.fn.masonry=function(t){if("string"==typeof t){var i=Array.prototype.slice.call(arguments,1);this.each(function(){var n=e.data(this,"masonry");return n?e.isFunction(n[t])&&"_"!==t.charAt(0)?void n[t].apply(n,i):void o("no such method '"+t+"' for masonry instance"):void o("cannot call methods on masonry prior to initialization; attempted to call method '"+t+"'")})}else this.each(function(){var i=e.data(this,"masonry");i?(i.option(t||{}),i._init()):e.data(this,"masonry",new e.Mason(t,this))});return this}}(window,jQuery),$(function(){function t(){var t=$(".grid");t.imagesLoaded(function(){t.masonry({itemSelector:".grid-item",columnWidth:function(t){return t/3-10},gutterWidth:10})})}function e(){$(".ideas").find("div").remove();var e=$(".search__field").val();$.ajax({url:"https://pixabay.com/api/?key=2650584-e8feab9b11ed644dcec728ac9&q="+e+"&image_type=photo",dataType:"jsonp",success:function(e){var i=$("#container").html(),n=tmpl(i,e);$(".ideas").append(n),t()},error:function(){alert("Error!")}})}$(".bxslider").bxSlider({auto:!1,autoControls:!0}),e(),$(".search__button").on("click",function(t){t.preventDefault(),e(),$(".search__field").val("")})}),function(){var t={};this.tmpl=function e(i,n){var s=/\W/.test(i)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+i.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):t[i]=t[i]||e(document.getElementById(i).innerHTML);return n?s(n):s}}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImltYWdlc2xvYWRlZC5wa2dkLmpzIiwianF1ZXJ5LmJ4c2xpZGVyLmpzIiwianF1ZXJ5Lm1hc29ucnkubWluLmpzIiwic2NyaXB0LmpzIiwidG1wbC5qcyJdLCJuYW1lcyI6WyJFdmVudEVtaXR0ZXIiLCJpbmRleE9mTGlzdGVuZXIiLCJsaXN0ZW5lcnMiLCJsaXN0ZW5lciIsImkiLCJsZW5ndGgiLCJhbGlhcyIsIm5hbWUiLCJ0aGlzIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJwcm90byIsInByb3RvdHlwZSIsImV4cG9ydHMiLCJvcmlnaW5hbEdsb2JhbFZhbHVlIiwiZ2V0TGlzdGVuZXJzIiwiZXZ0IiwicmVzcG9uc2UiLCJrZXkiLCJldmVudHMiLCJfZ2V0RXZlbnRzIiwiaGFzT3duUHJvcGVydHkiLCJ0ZXN0IiwiZmxhdHRlbkxpc3RlbmVycyIsImZsYXRMaXN0ZW5lcnMiLCJwdXNoIiwiZ2V0TGlzdGVuZXJzQXNPYmplY3QiLCJBcnJheSIsImFkZExpc3RlbmVyIiwibGlzdGVuZXJJc1dyYXBwZWQiLCJvbmNlIiwib24iLCJhZGRPbmNlTGlzdGVuZXIiLCJkZWZpbmVFdmVudCIsImRlZmluZUV2ZW50cyIsImV2dHMiLCJyZW1vdmVMaXN0ZW5lciIsImluZGV4Iiwic3BsaWNlIiwib2ZmIiwiYWRkTGlzdGVuZXJzIiwibWFuaXB1bGF0ZUxpc3RlbmVycyIsInJlbW92ZUxpc3RlbmVycyIsInJlbW92ZSIsInZhbHVlIiwic2luZ2xlIiwibXVsdGlwbGUiLCJSZWdFeHAiLCJjYWxsIiwicmVtb3ZlRXZlbnQiLCJ0eXBlIiwiX2V2ZW50cyIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXRFdmVudCIsImFyZ3MiLCJfZ2V0T25jZVJldHVyblZhbHVlIiwidHJpZ2dlciIsImVtaXQiLCJzbGljZSIsInNldE9uY2VSZXR1cm5WYWx1ZSIsIl9vbmNlUmV0dXJuVmFsdWUiLCJub0NvbmZsaWN0IiwiZGVmaW5lIiwiYW1kIiwibW9kdWxlIiwid2luZG93IiwiZ2V0SUVFdmVudCIsIm9iaiIsImV2ZW50IiwidGFyZ2V0Iiwic3JjRWxlbWVudCIsImRvY0VsZW0iLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsImJpbmQiLCJhZGRFdmVudExpc3RlbmVyIiwiZm4iLCJhdHRhY2hFdmVudCIsImhhbmRsZUV2ZW50IiwidW5iaW5kIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRldGFjaEV2ZW50IiwiZXJyIiwidW5kZWZpbmVkIiwiZXZlbnRpZSIsImZhY3RvcnkiLCJyZXF1aXJlIiwiaW1hZ2VzTG9hZGVkIiwiZXh0ZW5kIiwiYSIsImIiLCJwcm9wIiwiaXNBcnJheSIsIm9ialRvU3RyaW5nIiwibWFrZUFycmF5IiwiYXJ5IiwiSW1hZ2VzTG9hZGVkIiwiZWxlbSIsIm9wdGlvbnMiLCJvbkFsd2F5cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlbGVtZW50cyIsImdldEltYWdlcyIsIiQiLCJqcURlZmVycmVkIiwiRGVmZXJyZWQiLCJfdGhpcyIsInNldFRpbWVvdXQiLCJjaGVjayIsIkxvYWRpbmdJbWFnZSIsImltZyIsIkJhY2tncm91bmQiLCJ1cmwiLCJlbGVtZW50IiwiSW1hZ2UiLCJqUXVlcnkiLCJjb25zb2xlIiwiT2JqZWN0IiwidG9TdHJpbmciLCJpbWFnZXMiLCJhZGRFbGVtZW50SW1hZ2VzIiwibm9kZU5hbWUiLCJhZGRJbWFnZSIsImJhY2tncm91bmQiLCJhZGRFbGVtZW50QmFja2dyb3VuZEltYWdlcyIsIm5vZGVUeXBlIiwiZWxlbWVudE5vZGVUeXBlcyIsImNoaWxkSW1ncyIsImNoaWxkcmVuIiwiY2hpbGQiLCIxIiwiOSIsIjExIiwic3R5bGUiLCJnZXRTdHlsZSIsInJlVVJMIiwibWF0Y2hlcyIsImV4ZWMiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJhZGRCYWNrZ3JvdW5kIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImN1cnJlbnRTdHlsZSIsImxvYWRpbmdJbWFnZSIsIm9uUHJvZ3Jlc3MiLCJpbWFnZSIsIm1lc3NhZ2UiLCJwcm9ncmVzcyIsInByb2dyZXNzZWRDb3VudCIsImhhc0FueUJyb2tlbiIsImNvbXBsZXRlIiwiaXNMb2FkZWQiLCJub3RpZnkiLCJkZWJ1ZyIsImxvZyIsImV2ZW50TmFtZSIsImlzQ29tcGxldGUiLCJqcU1ldGhvZCIsImdldElzSW1hZ2VDb21wbGV0ZSIsImNvbmZpcm0iLCJuYXR1cmFsV2lkdGgiLCJwcm94eUltYWdlIiwic3JjIiwibWV0aG9kIiwib25sb2FkIiwidW5iaW5kRXZlbnRzIiwib25lcnJvciIsIm1ha2VKUXVlcnlQbHVnaW4iLCJjYWxsYmFjayIsImluc3RhbmNlIiwicHJvbWlzZSIsInBsdWdpbiIsImRlZmF1bHRzIiwibW9kZSIsInNsaWRlU2VsZWN0b3IiLCJpbmZpbml0ZUxvb3AiLCJoaWRlQ29udHJvbE9uRW5kIiwic3BlZWQiLCJlYXNpbmciLCJzbGlkZU1hcmdpbiIsInN0YXJ0U2xpZGUiLCJyYW5kb21TdGFydCIsImNhcHRpb25zIiwidGlja2VyIiwidGlja2VySG92ZXIiLCJhZGFwdGl2ZUhlaWdodCIsImFkYXB0aXZlSGVpZ2h0U3BlZWQiLCJ2aWRlbyIsInVzZUNTUyIsInByZWxvYWRJbWFnZXMiLCJyZXNwb25zaXZlIiwic2xpZGVaSW5kZXgiLCJ3cmFwcGVyQ2xhc3MiLCJ0b3VjaEVuYWJsZWQiLCJzd2lwZVRocmVzaG9sZCIsIm9uZVRvT25lVG91Y2giLCJwcmV2ZW50RGVmYXVsdFN3aXBlWCIsInByZXZlbnREZWZhdWx0U3dpcGVZIiwicGFnZXIiLCJwYWdlclR5cGUiLCJwYWdlclNob3J0U2VwYXJhdG9yIiwicGFnZXJTZWxlY3RvciIsImJ1aWxkUGFnZXIiLCJwYWdlckN1c3RvbSIsImNvbnRyb2xzIiwibmV4dFRleHQiLCJwcmV2VGV4dCIsIm5leHRTZWxlY3RvciIsInByZXZTZWxlY3RvciIsImF1dG9Db250cm9scyIsInN0YXJ0VGV4dCIsInN0b3BUZXh0IiwiYXV0b0NvbnRyb2xzQ29tYmluZSIsImF1dG9Db250cm9sc1NlbGVjdG9yIiwiYXV0byIsInBhdXNlIiwiYXV0b1N0YXJ0IiwiYXV0b0RpcmVjdGlvbiIsImF1dG9Ib3ZlciIsImF1dG9EZWxheSIsImF1dG9TbGlkZUZvck9uZVBhZ2UiLCJtaW5TbGlkZXMiLCJtYXhTbGlkZXMiLCJtb3ZlU2xpZGVzIiwic2xpZGVXaWR0aCIsIm9uU2xpZGVyTG9hZCIsIm9uU2xpZGVCZWZvcmUiLCJvblNsaWRlQWZ0ZXIiLCJvblNsaWRlTmV4dCIsIm9uU2xpZGVQcmV2Iiwib25TbGlkZXJSZXNpemUiLCJieFNsaWRlciIsImVhY2giLCJzbGlkZXIiLCJlbCIsIndpbmRvd1dpZHRoIiwid2lkdGgiLCJ3aW5kb3dIZWlnaHQiLCJoZWlnaHQiLCJpbml0Iiwic2V0dGluZ3MiLCJwYXJzZUludCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImFjdGl2ZSIsImNhcm91c2VsIiwibWluVGhyZXNob2xkIiwibWF4VGhyZXNob2xkIiwid29ya2luZyIsImludGVydmFsIiwiYW5pbVByb3AiLCJ1c2luZ0NTUyIsImRpdiIsImNyZWF0ZUVsZW1lbnQiLCJwcm9wcyIsImNzc1ByZWZpeCIsInJlcGxhY2UiLCJ0b0xvd2VyQ2FzZSIsImRhdGEiLCJhdHRyIiwic2V0dXAiLCJ3cmFwIiwidmlld3BvcnQiLCJwYXJlbnQiLCJsb2FkZXIiLCJwcmVwZW5kIiwiY3NzIiwicG9zaXRpb24iLCJnZXROdW1iZXJTbGlkZXNTaG93aW5nIiwib3ZlcmZsb3ciLCJtYXhXaWR0aCIsImdldFZpZXdwb3J0TWF4V2lkdGgiLCJtYXJnaW4iLCJmbG9hdCIsImxpc3RTdHlsZSIsImdldFNsaWRlV2lkdGgiLCJ6SW5kZXgiLCJkaXNwbGF5IiwiZXEiLCJhcHBlbmRDYXB0aW9ucyIsImxhc3QiLCJnZXRQYWdlclF0eSIsImZpdFZpZHMiLCJwcmVsb2FkU2VsZWN0b3IiLCJhcHBlbmRQYWdlciIsImFwcGVuZENvbnRyb2xzIiwiYXBwZW5kQ29udHJvbHNBdXRvIiwiYWZ0ZXIiLCJsb2FkRWxlbWVudHMiLCJzdGFydCIsInNlbGVjdG9yIiwidG90YWwiLCJmaW5kIiwiY291bnQiLCJvbmUiLCJsb2FkIiwic2xpY2VBcHBlbmQiLCJjbG9uZSIsImFkZENsYXNzIiwic2xpY2VQcmVwZW5kIiwiYXBwZW5kIiwic2V0U2xpZGVQb3NpdGlvbiIsImdldFZpZXdwb3J0SGVpZ2h0IiwicmVkcmF3U2xpZGVyIiwiaW5pdGlhbGl6ZWQiLCJyZXNpemVXaW5kb3ciLCJpbml0QXV0byIsImluaXRUaWNrZXIiLCJ1cGRhdGVQYWdlckFjdGl2ZSIsInVwZGF0ZURpcmVjdGlvbkNvbnRyb2xzIiwiaW5pdFRvdWNoIiwiY3VycmVudEluZGV4IiwiZ2V0TW92ZUJ5IiwiYWRkIiwib3V0ZXJIZWlnaHQiLCJtYXgiLCJtYXAiLCJnZXQiLCJwYXJzZUZsb2F0IiwibmV3RWxXaWR0aCIsIndyYXBXaWR0aCIsInNsaWRlc1Nob3dpbmciLCJjaGlsZFdpZHRoIiwiZmlyc3QiLCJwYWdlclF0eSIsImNlaWwiLCJicmVha1BvaW50IiwiY291bnRlciIsImxhc3RDaGlsZCIsInNldFBvc2l0aW9uUHJvcGVydHkiLCJsZWZ0Iiwib3V0ZXJXaWR0aCIsImxhc3RTaG93aW5nSW5kZXgiLCJ0b3AiLCJkdXJhdGlvbiIsInBhcmFtcyIsInByb3BWYWx1ZSIsInVwZGF0ZUFmdGVyU2xpZGVUcmFuc2l0aW9uIiwidGlja2VyTG9vcCIsImFuaW1hdGVPYmoiLCJhbmltYXRlIiwicG9wdWxhdGVQYWdlciIsInBhZ2VySHRtbCIsImxpbmtDb250ZW50IiwiaXNGdW5jdGlvbiIsInBhZ2VyRWwiLCJodG1sIiwiY2xpY2tQYWdlckJpbmQiLCJuZXh0IiwicHJldiIsImNsaWNrTmV4dEJpbmQiLCJjbGlja1ByZXZCaW5kIiwiZGlyZWN0aW9uRWwiLCJzdG9wIiwiYXV0b0VsIiwiY2xpY2tTdGFydEJpbmQiLCJjbGlja1N0b3BCaW5kIiwidXBkYXRlQXV0b0NvbnRyb2xzIiwidGl0bGUiLCJlIiwic3RvcEF1dG8iLCJnb1RvTmV4dFNsaWRlIiwicHJldmVudERlZmF1bHQiLCJnb1RvUHJldlNsaWRlIiwic3RhcnRBdXRvIiwicGFnZXJMaW5rIiwiY3VycmVudFRhcmdldCIsInBhZ2VySW5kZXgiLCJnb1RvU2xpZGUiLCJzbGlkZUluZGV4IiwibGVuIiwicmVtb3ZlQ2xhc3MiLCJvbGRJbmRleCIsInN0YXRlIiwiaG92ZXIiLCJhdXRvUGF1c2VkIiwic3RhcnRQb3NpdGlvbiIsInRvdGFsRGltZW5zIiwicmF0aW8iLCJwcm9wZXJ0eSIsIm5ld1NwZWVkIiwiYWJzIiwicmVzdW1lU3BlZWQiLCJyZXNldCIsImFuaW1hdGVQcm9wZXJ0eSIsInJlc2V0VmFsdWUiLCJ0b3VjaCIsIngiLCJ5IiwiZW5kIiwib25Ub3VjaFN0YXJ0Iiwib3JpZ2luYWxQb3MiLCJvcmlnIiwib3JpZ2luYWxFdmVudCIsImNoYW5nZWRUb3VjaGVzIiwicGFnZVgiLCJwYWdlWSIsIm9uVG91Y2hNb3ZlIiwib25Ub3VjaEVuZCIsInhNb3ZlbWVudCIsInlNb3ZlbWVudCIsImNoYW5nZSIsImRpc3RhbmNlIiwid2luZG93V2lkdGhOZXciLCJ3aW5kb3dIZWlnaHROZXciLCJkaXJlY3Rpb24iLCJmaWx0ZXIiLCJmYWRlT3V0IiwiZmFkZUluIiwibW92ZUJ5IiwicmVxdWVzdEVsIiwicHJldmVudENvbnRyb2xVcGRhdGUiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJnZXRDdXJyZW50U2xpZGUiLCJnZXRDdXJyZW50U2xpZGVFbGVtZW50IiwiZ2V0U2xpZGVDb3VudCIsImRlc3Ryb3lTbGlkZXIiLCJyZW1vdmVBdHRyIiwidW53cmFwIiwicmVsb2FkU2xpZGVyIiwidCIsIm4iLCJyIiwic3BlY2lhbCIsInNtYXJ0cmVzaXplIiwiaGFuZGxlciIsInRlYXJkb3duIiwicyIsImNsZWFyVGltZW91dCIsImRpc3BhdGNoIiwiTWFzb24iLCJfY3JlYXRlIiwiX2luaXQiLCJpc1Jlc2l6YWJsZSIsImlzQW5pbWF0ZWQiLCJhbmltYXRpb25PcHRpb25zIiwicXVldWUiLCJndXR0ZXJXaWR0aCIsImlzUlRMIiwiaXNGaXRXaWR0aCIsImNvbnRhaW5lclN0eWxlIiwiX2ZpbHRlckZpbmRCcmlja3MiLCJpdGVtU2VsZWN0b3IiLCJfZ2V0QnJpY2tzIiwic3R5bGVRdWV1ZSIsIm9yaWdpbmFsU3R5bGUiLCJob3Jpem9udGFsRGlyZWN0aW9uIiwibyIsInUiLCJvZmZzZXQiLCJpc0ZsdWlkIiwiY29sdW1uV2lkdGgiLCJyZXNpemUiLCJyZWxvYWRJdGVtcyIsIl9nZXRDb2x1bW5zIiwiX3JlTGF5b3V0Iiwib3B0aW9uIiwiaXNQbGFpbk9iamVjdCIsImxheW91dCIsIl9wbGFjZUJyaWNrIiwiY29sWXMiLCJjb2xzIiwiJGVsIiwiaXNMYWlkT3V0IiwiJGJyaWNrcyIsIm1pbiIsImYiLCJsIiwiYyIsImgiLCJwIiwiZCIsInJlbG9hZCIsImFwcGVuZGVkIiwiX2FwcGVuZGVkIiwibm90IiwiZGVzdHJveSIsInJlbW92ZURhdGEiLCJpbkFycmF5IiwiZXJyb3IiLCJtYXNvbnJ5IiwiY2hhckF0IiwiZ3JpZCIsIiRncmlkIiwiY29udGFpbmVyV2lkdGgiLCJzZWFyY2giLCIkc2VhcmNoS2V5IiwidmFsIiwiYWpheCIsImRhdGFUeXBlIiwic3VjY2VzcyIsIiRodG1sIiwiJGNvbnRlbnQiLCJ0bXBsIiwiYWxlcnQiLCJjYWNoZSIsInN0ciIsIkZ1bmN0aW9uIiwic3BsaXQiLCJqb2luIiwiZ2V0RWxlbWVudEJ5SWQiLCJpbm5lckhUTUwiXSwibWFwcGluZ3MiOiJDQWFBLFdBQ0EsWUFRQSxTQUFBQSxNQWVBLFFBQUFDLEdBQUFDLEVBQUFDLEdBRUEsSUFEQSxHQUFBQyxHQUFBRixFQUFBRyxPQUNBRCxLQUNBLEdBQUFGLEVBQUFFLEdBQUFELFdBQUFBLEVBQ0EsTUFBQUMsRUFJQSxVQVVBLFFBQUFFLEdBQUFDLEdBQ0EsTUFBQSxZQUNBLE1BQUFDLE1BQUFELEdBQUFFLE1BQUFELEtBQUFFLFlBaENBLEdBQUFDLEdBQUFYLEVBQUFZLFVBQ0FDLEVBQUFMLEtBQ0FNLEVBQUFELEVBQUFiLFlBMkNBVyxHQUFBSSxhQUFBLFNBQUFDLEdBQ0EsR0FDQUMsR0FDQUMsRUFGQUMsRUFBQVgsS0FBQVksWUFNQSxJQUFBLGdCQUFBSixHQUFBLENBQ0FDLElBQ0EsS0FBQUMsSUFBQUMsR0FDQUEsRUFBQUUsZUFBQUgsSUFBQUYsRUFBQU0sS0FBQUosS0FDQUQsRUFBQUMsR0FBQUMsRUFBQUQsUUFLQUQsR0FBQUUsRUFBQUgsS0FBQUcsRUFBQUgsTUFHQSxPQUFBQyxJQVNBTixFQUFBWSxpQkFBQSxTQUFBckIsR0FDQSxHQUNBRSxHQURBb0IsSUFHQSxLQUFBcEIsRUFBQSxFQUFBQSxFQUFBRixFQUFBRyxPQUFBRCxHQUFBLEVBQ0FvQixFQUFBQyxLQUFBdkIsRUFBQUUsR0FBQUQsU0FHQSxPQUFBcUIsSUFTQWIsRUFBQWUscUJBQUEsU0FBQVYsR0FDQSxHQUNBQyxHQURBZixFQUFBTSxLQUFBTyxhQUFBQyxFQVFBLE9BTEFkLGFBQUF5QixTQUNBVixLQUNBQSxFQUFBRCxHQUFBZCxHQUdBZSxHQUFBZixHQWFBUyxFQUFBaUIsWUFBQSxTQUFBWixFQUFBYixHQUNBLEdBRUFlLEdBRkFoQixFQUFBTSxLQUFBa0IscUJBQUFWLEdBQ0FhLEVBQUEsZ0JBQUExQixFQUdBLEtBQUFlLElBQUFoQixHQUNBQSxFQUFBbUIsZUFBQUgsSUFBQWpCLEVBQUFDLEVBQUFnQixHQUFBZixTQUNBRCxFQUFBZ0IsR0FBQU8sS0FBQUksRUFBQTFCLEdBQ0FBLFNBQUFBLEVBQ0EyQixNQUFBLEdBS0EsT0FBQXRCLE9BTUFHLEVBQUFvQixHQUFBekIsRUFBQSxlQVVBSyxFQUFBcUIsZ0JBQUEsU0FBQWhCLEVBQUFiLEdBQ0EsTUFBQUssTUFBQW9CLFlBQUFaLEdBQ0FiLFNBQUFBLEVBQ0EyQixNQUFBLEtBT0FuQixFQUFBbUIsS0FBQXhCLEVBQUEsbUJBU0FLLEVBQUFzQixZQUFBLFNBQUFqQixHQUVBLE1BREFSLE1BQUFPLGFBQUFDLEdBQ0FSLE1BU0FHLEVBQUF1QixhQUFBLFNBQUFDLEdBQ0EsSUFBQSxHQUFBL0IsR0FBQSxFQUFBQSxFQUFBK0IsRUFBQTlCLE9BQUFELEdBQUEsRUFDQUksS0FBQXlCLFlBQUFFLEVBQUEvQixHQUVBLE9BQUFJLE9BV0FHLEVBQUF5QixlQUFBLFNBQUFwQixFQUFBYixHQUNBLEdBQ0FrQyxHQUNBbkIsRUFGQWhCLEVBQUFNLEtBQUFrQixxQkFBQVYsRUFJQSxLQUFBRSxJQUFBaEIsR0FDQUEsRUFBQW1CLGVBQUFILEtBQ0FtQixFQUFBcEMsRUFBQUMsRUFBQWdCLEdBQUFmLEdBRUFrQyxRQUNBbkMsRUFBQWdCLEdBQUFvQixPQUFBRCxFQUFBLEdBS0EsT0FBQTdCLE9BTUFHLEVBQUE0QixJQUFBakMsRUFBQSxrQkFZQUssRUFBQTZCLGFBQUEsU0FBQXhCLEVBQUFkLEdBRUEsTUFBQU0sTUFBQWlDLHFCQUFBLEVBQUF6QixFQUFBZCxJQWFBUyxFQUFBK0IsZ0JBQUEsU0FBQTFCLEVBQUFkLEdBRUEsTUFBQU0sTUFBQWlDLHFCQUFBLEVBQUF6QixFQUFBZCxJQWVBUyxFQUFBOEIsb0JBQUEsU0FBQUUsRUFBQTNCLEVBQUFkLEdBQ0EsR0FBQUUsR0FDQXdDLEVBQ0FDLEVBQUFGLEVBQUFuQyxLQUFBNEIsZUFBQTVCLEtBQUFvQixZQUNBa0IsRUFBQUgsRUFBQW5DLEtBQUFrQyxnQkFBQWxDLEtBQUFnQyxZQUdBLElBQUEsZ0JBQUF4QixJQUFBQSxZQUFBK0IsUUFtQkEsSUFEQTNDLEVBQUFGLEVBQUFHLE9BQ0FELEtBQ0F5QyxFQUFBRyxLQUFBeEMsS0FBQVEsRUFBQWQsRUFBQUUsUUFuQkEsS0FBQUEsSUFBQVksR0FDQUEsRUFBQUssZUFBQWpCLEtBQUF3QyxFQUFBNUIsRUFBQVosTUFFQSxrQkFBQXdDLEdBQ0FDLEVBQUFHLEtBQUF4QyxLQUFBSixFQUFBd0MsR0FJQUUsRUFBQUUsS0FBQXhDLEtBQUFKLEVBQUF3QyxHQWVBLE9BQUFwQyxPQVlBRyxFQUFBc0MsWUFBQSxTQUFBakMsR0FDQSxHQUVBRSxHQUZBZ0MsUUFBQWxDLEdBQ0FHLEVBQUFYLEtBQUFZLFlBSUEsSUFBQSxXQUFBOEIsUUFFQS9CLEdBQUFILE9BRUEsSUFBQSxXQUFBa0MsRUFFQSxJQUFBaEMsSUFBQUMsR0FDQUEsRUFBQUUsZUFBQUgsSUFBQUYsRUFBQU0sS0FBQUosVUFDQUMsR0FBQUQsY0FNQVYsTUFBQTJDLE9BR0EsT0FBQTNDLE9BUUFHLEVBQUF5QyxtQkFBQTlDLEVBQUEsZUFjQUssRUFBQTBDLFVBQUEsU0FBQXJDLEVBQUFzQyxHQUNBLEdBQ0FuRCxHQUNBQyxFQUNBYyxFQUNBRCxFQUpBZixFQUFBTSxLQUFBa0IscUJBQUFWLEVBTUEsS0FBQUUsSUFBQWhCLEdBQ0EsR0FBQUEsRUFBQW1CLGVBQUFILEdBR0EsSUFGQWQsRUFBQUYsRUFBQWdCLEdBQUFiLE9BRUFELEtBR0FELEVBQUFELEVBQUFnQixHQUFBZCxHQUVBRCxFQUFBMkIsUUFBQSxHQUNBdEIsS0FBQTRCLGVBQUFwQixFQUFBYixFQUFBQSxVQUdBYyxFQUFBZCxFQUFBQSxTQUFBTSxNQUFBRCxLQUFBOEMsT0FFQXJDLElBQUFULEtBQUErQyx1QkFDQS9DLEtBQUE0QixlQUFBcEIsRUFBQWIsRUFBQUEsU0FNQSxPQUFBSyxPQU1BRyxFQUFBNkMsUUFBQWxELEVBQUEsYUFVQUssRUFBQThDLEtBQUEsU0FBQXpDLEdBQ0EsR0FBQXNDLEdBQUEzQixNQUFBZixVQUFBOEMsTUFBQVYsS0FBQXRDLFVBQUEsRUFDQSxPQUFBRixNQUFBNkMsVUFBQXJDLEVBQUFzQyxJQVdBM0MsRUFBQWdELG1CQUFBLFNBQUFmLEdBRUEsTUFEQXBDLE1BQUFvRCxpQkFBQWhCLEVBQ0FwQyxNQVdBRyxFQUFBNEMsb0JBQUEsV0FDQSxPQUFBL0MsS0FBQWEsZUFBQSxxQkFDQWIsS0FBQW9ELGtCQWFBakQsRUFBQVMsV0FBQSxXQUNBLE1BQUFaLE1BQUEyQyxVQUFBM0MsS0FBQTJDLGFBUUFuRCxFQUFBNkQsV0FBQSxXQUVBLE1BREFoRCxHQUFBYixhQUFBYyxFQUNBZCxHQUlBLGtCQUFBOEQsU0FBQUEsT0FBQUMsSUFDQUQsT0FBQSwrQkFBQSxXQUNBLE1BQUE5RCxLQUdBLGdCQUFBZ0UsU0FBQUEsT0FBQW5ELFFBQ0FtRCxPQUFBbkQsUUFBQWIsRUFHQVEsS0FBQVIsYUFBQUEsSUFFQWdELEtBQUF4QyxNQVlBLFNBQUF5RCxHQVFBLFFBQUFDLEdBQUFDLEdBQ0EsR0FBQUMsR0FBQUgsRUFBQUcsS0FHQSxPQURBQSxHQUFBQyxPQUFBRCxFQUFBQyxRQUFBRCxFQUFBRSxZQUFBSCxFQUNBQyxFQVJBLEdBQUFHLEdBQUFDLFNBQUFDLGdCQUVBQyxFQUFBLFlBU0FILEdBQUFJLGlCQUNBRCxFQUFBLFNBQUFQLEVBQUFqQixFQUFBMEIsR0FDQVQsRUFBQVEsaUJBQUF6QixFQUFBMEIsR0FBQSxJQUVBTCxFQUFBTSxjQUNBSCxFQUFBLFNBQUFQLEVBQUFqQixFQUFBMEIsR0FDQVQsRUFBQWpCLEVBQUEwQixHQUFBQSxFQUFBRSxZQUNBLFdBQ0EsR0FBQVYsR0FBQUYsRUFBQUMsRUFDQVMsR0FBQUUsWUFBQTlCLEtBQUE0QixFQUFBUixJQUVBLFdBQ0EsR0FBQUEsR0FBQUYsRUFBQUMsRUFDQVMsR0FBQTVCLEtBQUFtQixFQUFBQyxJQUVBRCxFQUFBVSxZQUFBLEtBQUEzQixFQUFBaUIsRUFBQWpCLEVBQUEwQixLQUlBLElBQUFHLEdBQUEsWUFFQVIsR0FBQVMsb0JBQ0FELEVBQUEsU0FBQVosRUFBQWpCLEVBQUEwQixHQUNBVCxFQUFBYSxvQkFBQTlCLEVBQUEwQixHQUFBLElBRUFMLEVBQUFVLGNBQ0FGLEVBQUEsU0FBQVosRUFBQWpCLEVBQUEwQixHQUNBVCxFQUFBYyxZQUFBLEtBQUEvQixFQUFBaUIsRUFBQWpCLEVBQUEwQixHQUNBLFdBQ0FULEdBQUFqQixFQUFBMEIsR0FDQSxNQUFBTSxHQUVBZixFQUFBakIsRUFBQTBCLEdBQUFPLFNBS0EsSUFBQUMsSUFDQVYsS0FBQUEsRUFDQUssT0FBQUEsRUFJQSxtQkFBQWpCLFNBQUFBLE9BQUFDLElBRUFELE9BQUEsa0JBQUFzQixHQUdBbkIsRUFBQW1CLFFBQUFBLEdBR0E1RSxNQVFBLFNBQUF5RCxFQUFBb0IsR0FBQSxZQUtBLG1CQUFBdkIsU0FBQUEsT0FBQUMsSUFFQUQsUUFDQSw0QkFDQSxtQkFDQSxTQUFBOUQsRUFBQW9GLEdBQ0EsTUFBQUMsR0FBQXBCLEVBQUFqRSxFQUFBb0YsS0FFQSxnQkFBQXBCLFNBQUFBLE9BQUFuRCxRQUVBbUQsT0FBQW5ELFFBQUF3RSxFQUNBcEIsRUFDQXFCLFFBQUEsd0JBQ0FBLFFBQUEsWUFJQXJCLEVBQUFzQixhQUFBRixFQUNBcEIsRUFDQUEsRUFBQWpFLGFBQ0FpRSxFQUFBbUIsVUFJQW5CLE9BSUEsU0FBQUEsRUFBQWpFLEVBQUFvRixHQVVBLFFBQUFJLEdBQUFDLEVBQUFDLEdBQ0EsSUFBQSxHQUFBQyxLQUFBRCxHQUNBRCxFQUFBRSxHQUFBRCxFQUFBQyxFQUVBLE9BQUFGLEdBSUEsUUFBQUcsR0FBQXpCLEdBQ0EsTUFBQSxrQkFBQTBCLEVBQUE3QyxLQUFBbUIsR0FJQSxRQUFBMkIsR0FBQTNCLEdBQ0EsR0FBQTRCLEtBQ0EsSUFBQUgsRUFBQXpCLEdBRUE0QixFQUFBNUIsTUFDQSxJQUFBLGdCQUFBQSxHQUFBOUQsT0FFQSxJQUFBLEdBQUFELEdBQUEsRUFBQUEsRUFBQStELEVBQUE5RCxPQUFBRCxJQUNBMkYsRUFBQXRFLEtBQUEwQyxFQUFBL0QsUUFJQTJGLEdBQUF0RSxLQUFBMEMsRUFFQSxPQUFBNEIsR0FVQSxRQUFBQyxHQUFBQyxFQUFBQyxFQUFBQyxHQUVBLEtBQUEzRixlQUFBd0YsSUFDQSxNQUFBLElBQUFBLEdBQUFDLEVBQUFDLEVBQUFDLEVBR0EsaUJBQUFGLEtBQ0FBLEVBQUF6QixTQUFBNEIsaUJBQUFILElBR0F6RixLQUFBNkYsU0FBQVAsRUFBQUcsR0FDQXpGLEtBQUEwRixRQUFBVixLQUFBaEYsS0FBQTBGLFNBRUEsa0JBQUFBLEdBQ0FDLEVBQUFELEVBRUFWLEVBQUFoRixLQUFBMEYsUUFBQUEsR0FHQUMsR0FDQTNGLEtBQUF1QixHQUFBLFNBQUFvRSxHQUdBM0YsS0FBQThGLFlBRUFDLElBRUEvRixLQUFBZ0csV0FBQSxHQUFBRCxHQUFBRSxTQUlBLElBQUFDLEdBQUFsRyxJQUNBbUcsWUFBQSxXQUNBRCxFQUFBRSxVQW1KQSxRQUFBQyxHQUFBQyxHQUNBdEcsS0FBQXNHLElBQUFBLEVBK0RBLFFBQUFDLEdBQUFDLEVBQUFDLEdBQ0F6RyxLQUFBd0csSUFBQUEsRUFDQXhHLEtBQUF5RyxRQUFBQSxFQUNBekcsS0FBQXNHLElBQUEsR0FBQUksT0FsU0EsR0FBQVgsR0FBQXRDLEVBQUFrRCxPQUNBQyxFQUFBbkQsRUFBQW1ELFFBWUF2QixFQUFBd0IsT0FBQXpHLFVBQUEwRyxRQW1FQXRCLEdBQUFwRixVQUFBLEdBQUFaLEdBRUFnRyxFQUFBcEYsVUFBQXNGLFdBRUFGLEVBQUFwRixVQUFBMEYsVUFBQSxXQUNBOUYsS0FBQStHLFNBR0EsS0FBQSxHQUFBbkgsR0FBQSxFQUFBQSxFQUFBSSxLQUFBNkYsU0FBQWhHLE9BQUFELElBQUEsQ0FDQSxHQUFBNkYsR0FBQXpGLEtBQUE2RixTQUFBakcsRUFDQUksTUFBQWdILGlCQUFBdkIsS0FPQUQsRUFBQXBGLFVBQUE0RyxpQkFBQSxTQUFBdkIsR0FFQSxPQUFBQSxFQUFBd0IsVUFDQWpILEtBQUFrSCxTQUFBekIsR0FHQXpGLEtBQUEwRixRQUFBeUIsY0FBQSxHQUNBbkgsS0FBQW9ILDJCQUFBM0IsRUFLQSxJQUFBNEIsR0FBQTVCLEVBQUE0QixRQUNBLElBQUFBLEdBQUFDLEVBQUFELEdBQUEsQ0FLQSxJQUFBLEdBRkFFLEdBQUE5QixFQUFBRyxpQkFBQSxPQUVBaEcsRUFBQSxFQUFBQSxFQUFBMkgsRUFBQTFILE9BQUFELElBQUEsQ0FDQSxHQUFBMEcsR0FBQWlCLEVBQUEzSCxFQUNBSSxNQUFBa0gsU0FBQVosR0FJQSxHQUFBLGdCQUFBdEcsTUFBQTBGLFFBQUF5QixXQUFBLENBQ0EsR0FBQUssR0FBQS9CLEVBQUFHLGlCQUFBNUYsS0FBQTBGLFFBQUF5QixXQUNBLEtBQUF2SCxFQUFBLEVBQUFBLEVBQUE0SCxFQUFBM0gsT0FBQUQsSUFBQSxDQUNBLEdBQUE2SCxHQUFBRCxFQUFBNUgsRUFDQUksTUFBQW9ILDJCQUFBSyxNQUtBLElBQUFILElBQ0FJLEdBQUEsRUFDQUMsR0FBQSxFQUNBQyxJQUFBLEVBR0FwQyxHQUFBcEYsVUFBQWdILDJCQUFBLFNBQUEzQixHQUtBLElBSkEsR0FBQW9DLEdBQUFDLEVBQUFyQyxHQUVBc0MsRUFBQSxnQ0FDQUMsRUFBQUQsRUFBQUUsS0FBQUosRUFBQUssaUJBQ0EsT0FBQUYsR0FBQSxDQUNBLEdBQUF4QixHQUFBd0IsR0FBQUEsRUFBQSxFQUNBeEIsSUFDQXhHLEtBQUFtSSxjQUFBM0IsRUFBQWYsR0FFQXVDLEVBQUFELEVBQUFFLEtBQUFKLEVBQUFLLGtCQUtBLElBQUFKLEdBQUFyRSxFQUFBMkUsa0JBQUEsU0FBQTNDLEdBQ0EsTUFBQUEsR0FBQTRDLGFBMExBLE9BcExBN0MsR0FBQXBGLFVBQUE4RyxTQUFBLFNBQUFaLEdBQ0EsR0FBQWdDLEdBQUEsR0FBQWpDLEdBQUFDLEVBQ0F0RyxNQUFBK0csT0FBQTlGLEtBQUFxSCxJQUdBOUMsRUFBQXBGLFVBQUErSCxjQUFBLFNBQUEzQixFQUFBZixHQUNBLEdBQUEwQixHQUFBLEdBQUFaLEdBQUFDLEVBQUFmLEVBQ0F6RixNQUFBK0csT0FBQTlGLEtBQUFrRyxJQUdBM0IsRUFBQXBGLFVBQUFnRyxNQUFBLFdBVUEsUUFBQW1DLEdBQUFDLEVBQUEvQyxFQUFBZ0QsR0FFQXRDLFdBQUEsV0FDQUQsRUFBQXdDLFNBQUFGLEVBQUEvQyxFQUFBZ0QsS0FaQSxHQUFBdkMsR0FBQWxHLElBSUEsSUFIQUEsS0FBQTJJLGdCQUFBLEVBQ0EzSSxLQUFBNEksY0FBQSxHQUVBNUksS0FBQStHLE9BQUFsSCxPQUVBLFdBREFHLE1BQUE2SSxVQVdBLEtBQUEsR0FBQWpKLEdBQUEsRUFBQUEsRUFBQUksS0FBQStHLE9BQUFsSCxPQUFBRCxJQUFBLENBQ0EsR0FBQTBJLEdBQUF0SSxLQUFBK0csT0FBQW5ILEVBQ0EwSSxHQUFBaEgsS0FBQSxXQUFBaUgsR0FDQUQsRUFBQWxDLFVBSUFaLEVBQUFwRixVQUFBc0ksU0FBQSxTQUFBRixFQUFBL0MsRUFBQWdELEdBQ0F6SSxLQUFBMkksa0JBQ0EzSSxLQUFBNEksYUFBQTVJLEtBQUE0SSxlQUFBSixFQUFBTSxTQUVBOUksS0FBQWlELEtBQUEsV0FBQWpELEtBQUF3SSxFQUFBL0MsR0FDQXpGLEtBQUFnRyxZQUFBaEcsS0FBQWdHLFdBQUErQyxRQUNBL0ksS0FBQWdHLFdBQUErQyxPQUFBL0ksS0FBQXdJLEdBR0F4SSxLQUFBMkksaUJBQUEzSSxLQUFBK0csT0FBQWxILFFBQ0FHLEtBQUE2SSxXQUdBN0ksS0FBQTBGLFFBQUFzRCxPQUFBcEMsR0FDQUEsRUFBQXFDLElBQUEsYUFBQVIsRUFBQUQsRUFBQS9DLElBSUFELEVBQUFwRixVQUFBeUksU0FBQSxXQUNBLEdBQUFLLEdBQUFsSixLQUFBNEksYUFBQSxPQUFBLE1BSUEsSUFIQTVJLEtBQUFtSixZQUFBLEVBQ0FuSixLQUFBaUQsS0FBQWlHLEVBQUFsSixNQUNBQSxLQUFBaUQsS0FBQSxTQUFBakQsTUFDQUEsS0FBQWdHLFdBQUEsQ0FDQSxHQUFBb0QsR0FBQXBKLEtBQUE0SSxhQUFBLFNBQUEsU0FDQTVJLE1BQUFnRyxXQUFBb0QsR0FBQXBKLFFBVUFxRyxFQUFBakcsVUFBQSxHQUFBWixHQUVBNkcsRUFBQWpHLFVBQUFnRyxNQUFBLFdBR0EsR0FBQStDLEdBQUFuSixLQUFBcUosb0JBQ0EsT0FBQUYsT0FFQW5KLE1BQUFzSixRQUFBLElBQUF0SixLQUFBc0csSUFBQWlELGFBQUEsaUJBS0F2SixLQUFBd0osV0FBQSxHQUFBOUMsT0FDQTlCLEVBQUFWLEtBQUFsRSxLQUFBd0osV0FBQSxPQUFBeEosTUFDQTRFLEVBQUFWLEtBQUFsRSxLQUFBd0osV0FBQSxRQUFBeEosTUFFQTRFLEVBQUFWLEtBQUFsRSxLQUFBc0csSUFBQSxPQUFBdEcsTUFDQTRFLEVBQUFWLEtBQUFsRSxLQUFBc0csSUFBQSxRQUFBdEcsV0FDQUEsS0FBQXdKLFdBQUFDLElBQUF6SixLQUFBc0csSUFBQW1ELE9BR0FwRCxFQUFBakcsVUFBQWlKLG1CQUFBLFdBQ0EsTUFBQXJKLE1BQUFzRyxJQUFBdUMsVUFBQWxFLFNBQUEzRSxLQUFBc0csSUFBQWlELGNBR0FsRCxFQUFBakcsVUFBQWtKLFFBQUEsU0FBQVIsRUFBQUwsR0FDQXpJLEtBQUE4SSxTQUFBQSxFQUNBOUksS0FBQWlELEtBQUEsV0FBQWpELEtBQUFBLEtBQUFzRyxJQUFBbUMsSUFNQXBDLEVBQUFqRyxVQUFBa0UsWUFBQSxTQUFBVixHQUNBLEdBQUE4RixHQUFBLEtBQUE5RixFQUFBbEIsSUFDQTFDLE1BQUEwSixJQUNBMUosS0FBQTBKLEdBQUE5RixJQUlBeUMsRUFBQWpHLFVBQUF1SixPQUFBLFdBQ0EzSixLQUFBc0osU0FBQSxFQUFBLFVBQ0F0SixLQUFBNEosZ0JBR0F2RCxFQUFBakcsVUFBQXlKLFFBQUEsV0FDQTdKLEtBQUFzSixTQUFBLEVBQUEsV0FDQXRKLEtBQUE0SixnQkFHQXZELEVBQUFqRyxVQUFBd0osYUFBQSxXQUNBaEYsRUFBQUwsT0FBQXZFLEtBQUF3SixXQUFBLE9BQUF4SixNQUNBNEUsRUFBQUwsT0FBQXZFLEtBQUF3SixXQUFBLFFBQUF4SixNQUNBNEUsRUFBQUwsT0FBQXZFLEtBQUFzRyxJQUFBLE9BQUF0RyxNQUNBNEUsRUFBQUwsT0FBQXZFLEtBQUFzRyxJQUFBLFFBQUF0RyxPQVlBdUcsRUFBQW5HLFVBQUEsR0FBQWlHLEdBRUFFLEVBQUFuRyxVQUFBZ0csTUFBQSxXQUNBeEIsRUFBQVYsS0FBQWxFLEtBQUFzRyxJQUFBLE9BQUF0RyxNQUNBNEUsRUFBQVYsS0FBQWxFLEtBQUFzRyxJQUFBLFFBQUF0RyxNQUNBQSxLQUFBc0csSUFBQW1ELElBQUF6SixLQUFBd0csR0FFQSxJQUFBMkMsR0FBQW5KLEtBQUFxSixvQkFDQUYsS0FDQW5KLEtBQUFzSixRQUFBLElBQUF0SixLQUFBc0csSUFBQWlELGFBQUEsZ0JBQ0F2SixLQUFBNEosaUJBSUFyRCxFQUFBbkcsVUFBQXdKLGFBQUEsV0FDQWhGLEVBQUFMLE9BQUF2RSxLQUFBc0csSUFBQSxPQUFBdEcsTUFDQTRFLEVBQUFMLE9BQUF2RSxLQUFBc0csSUFBQSxRQUFBdEcsT0FHQXVHLEVBQUFuRyxVQUFBa0osUUFBQSxTQUFBUixFQUFBTCxHQUNBekksS0FBQThJLFNBQUFBLEVBQ0E5SSxLQUFBaUQsS0FBQSxXQUFBakQsS0FBQUEsS0FBQXlHLFFBQUFnQyxJQUtBakQsRUFBQXNFLGlCQUFBLFNBQUFuRCxHQUNBQSxFQUFBQSxHQUFBbEQsRUFBQWtELE9BQ0FBLElBSUFaLEVBQUFZLEVBRUFaLEVBQUEzQixHQUFBVyxhQUFBLFNBQUFXLEVBQUFxRSxHQUNBLEdBQUFDLEdBQUEsR0FBQXhFLEdBQUF4RixLQUFBMEYsRUFBQXFFLEVBQ0EsT0FBQUMsR0FBQWhFLFdBQUFpRSxRQUFBbEUsRUFBQS9GLFVBSUF3RixFQUFBc0UsbUJBSUF0RSxJQ2g2QkEsU0FBQU8sR0FFQSxHQUFBbUUsTUFFQUMsR0FHQUMsS0FBQSxhQUNBQyxjQUFBLEdBQ0FDLGNBQUEsRUFDQUMsa0JBQUEsRUFDQUMsTUFBQSxJQUNBQyxPQUFBLEtBQ0FDLFlBQUEsRUFDQUMsV0FBQSxFQUNBQyxhQUFBLEVBQ0FDLFVBQUEsRUFDQUMsUUFBQSxFQUNBQyxhQUFBLEVBQ0FDLGdCQUFBLEVBQ0FDLG9CQUFBLElBQ0FDLE9BQUEsRUFDQUMsUUFBQSxFQUNBQyxjQUFBLFVBQ0FDLFlBQUEsRUFDQUMsWUFBQSxHQUNBQyxhQUFBLGFBR0FDLGNBQUEsRUFDQUMsZUFBQSxHQUNBQyxlQUFBLEVBQ0FDLHNCQUFBLEVBQ0FDLHNCQUFBLEVBR0FDLE9BQUEsRUFDQUMsVUFBQSxPQUNBQyxvQkFBQSxNQUNBQyxjQUFBLEtBQ0FDLFdBQUEsS0FDQUMsWUFBQSxLQUdBQyxVQUFBLEVBQ0FDLFNBQUEsT0FDQUMsU0FBQSxPQUNBQyxhQUFBLEtBQ0FDLGFBQUEsS0FDQUMsY0FBQSxFQUNBQyxVQUFBLFFBQ0FDLFNBQUEsT0FDQUMscUJBQUEsRUFDQUMscUJBQUEsS0FHQUMsTUFBQSxFQUNBQyxNQUFBLElBQ0FDLFdBQUEsRUFDQUMsY0FBQSxPQUNBQyxXQUFBLEVBQ0FDLFVBQUEsRUFDQUMscUJBQUEsRUFHQUMsVUFBQSxFQUNBQyxVQUFBLEVBQ0FDLFdBQUEsRUFDQUMsV0FBQSxFQUdBQyxhQUFBLGFBQ0FDLGNBQUEsYUFDQUMsYUFBQSxhQUNBQyxZQUFBLGFBQ0FDLFlBQUEsYUFDQUMsZUFBQSxhQUdBOUgsR0FBQTNCLEdBQUEwSixTQUFBLFNBQUFwSSxHQUVBLEdBQUEsR0FBQTFGLEtBQUFILE9BQUEsTUFBQUcsS0FHQSxJQUFBQSxLQUFBSCxPQUFBLEVBRUEsTUFEQUcsTUFBQStOLEtBQUEsV0FBQWhJLEVBQUEvRixNQUFBOE4sU0FBQXBJLEtBQ0ExRixJQUlBLElBQUFnTyxNQUVBQyxFQUFBak8sSUFDQWtLLEdBQUErRCxHQUFBak8sSUFNQSxJQUFBa08sR0FBQW5JLEVBQUF0QyxRQUFBMEssUUFDQUMsRUFBQXJJLEVBQUF0QyxRQUFBNEssU0FhQUMsRUFBQSxXQUVBTixFQUFBTyxTQUFBeEksRUFBQWYsVUFBQW1GLEVBQUF6RSxHQUVBc0ksRUFBQU8sU0FBQWhCLFdBQUFpQixTQUFBUixFQUFBTyxTQUFBaEIsWUFFQVMsRUFBQXhHLFNBQUF5RyxFQUFBekcsU0FBQXdHLEVBQUFPLFNBQUFsRSxlQUVBMkQsRUFBQXhHLFNBQUEzSCxPQUFBbU8sRUFBQU8sU0FBQW5CLFlBQUFZLEVBQUFPLFNBQUFuQixVQUFBWSxFQUFBeEcsU0FBQTNILFFBQ0FtTyxFQUFBeEcsU0FBQTNILE9BQUFtTyxFQUFBTyxTQUFBbEIsWUFBQVcsRUFBQU8sU0FBQWxCLFVBQUFXLEVBQUF4RyxTQUFBM0gsUUFFQW1PLEVBQUFPLFNBQUEzRCxjQUFBb0QsRUFBQU8sU0FBQTVELFdBQUE4RCxLQUFBQyxNQUFBRCxLQUFBRSxTQUFBWCxFQUFBeEcsU0FBQTNILFNBRUFtTyxFQUFBWSxRQUFBL00sTUFBQW1NLEVBQUFPLFNBQUE1RCxZQUVBcUQsRUFBQWEsU0FBQWIsRUFBQU8sU0FBQW5CLFVBQUEsR0FBQVksRUFBQU8sU0FBQWxCLFVBQUEsRUFFQVcsRUFBQWEsV0FBQWIsRUFBQU8sU0FBQW5ELGNBQUEsT0FHQTRDLEVBQUFjLGFBQUFkLEVBQUFPLFNBQUFuQixVQUFBWSxFQUFBTyxTQUFBaEIsWUFBQVMsRUFBQU8sU0FBQW5CLFVBQUEsR0FBQVksRUFBQU8sU0FBQTdELFlBQ0FzRCxFQUFBZSxhQUFBZixFQUFBTyxTQUFBbEIsVUFBQVcsRUFBQU8sU0FBQWhCLFlBQUFTLEVBQUFPLFNBQUFsQixVQUFBLEdBQUFXLEVBQUFPLFNBQUE3RCxZQUVBc0QsRUFBQWdCLFNBQUEsRUFFQWhCLEVBQUE3QixZQUVBNkIsRUFBQWlCLFNBQUEsS0FFQWpCLEVBQUFrQixTQUFBLFlBQUFsQixFQUFBTyxTQUFBbkUsS0FBQSxNQUFBLE9BRUE0RCxFQUFBbUIsU0FBQW5CLEVBQUFPLFNBQUFwRCxRQUFBLFFBQUE2QyxFQUFBTyxTQUFBbkUsTUFBQSxXQUVBLEdBQUFnRixHQUFBcEwsU0FBQXFMLGNBQUEsT0FFQUMsR0FBQSxvQkFBQSxpQkFBQSxlQUFBLGdCQUVBLEtBQUEsR0FBQTFQLEtBQUEwUCxHQUNBLEdBQUEzSyxTQUFBeUssRUFBQXZILE1BQUF5SCxFQUFBMVAsSUFHQSxNQUZBb08sR0FBQXVCLFVBQUFELEVBQUExUCxHQUFBNFAsUUFBQSxjQUFBLElBQUFDLGNBQ0F6QixFQUFBa0IsU0FBQSxJQUFBbEIsRUFBQXVCLFVBQUEsY0FDQSxDQUdBLFFBQUEsS0FHQSxZQUFBdkIsRUFBQU8sU0FBQW5FLE9BQUE0RCxFQUFBTyxTQUFBbEIsVUFBQVcsRUFBQU8sU0FBQW5CLFdBRUFhLEVBQUF5QixLQUFBLFlBQUF6QixFQUFBMEIsS0FBQSxVQUNBMUIsRUFBQXpHLFNBQUF3RyxFQUFBTyxTQUFBbEUsZUFBQTBELEtBQUEsV0FDQWhJLEVBQUEvRixNQUFBMFAsS0FBQSxZQUFBM0osRUFBQS9GLE1BQUEyUCxLQUFBLFlBR0FDLEtBTUFBLEVBQUEsV0FFQTNCLEVBQUE0QixLQUFBLGVBQUE3QixFQUFBTyxTQUFBaEQsYUFBQSwyQ0FFQXlDLEVBQUE4QixTQUFBN0IsRUFBQThCLFNBRUEvQixFQUFBZ0MsT0FBQWpLLEVBQUEsOEJBQ0FpSSxFQUFBOEIsU0FBQUcsUUFBQWpDLEVBQUFnQyxRQUdBL0IsRUFBQWlDLEtBQ0EvQixNQUFBLGNBQUFILEVBQUFPLFNBQUFuRSxLQUFBLElBQUE0RCxFQUFBeEcsU0FBQTNILE9BQUEsSUFBQSxJQUFBLE9BQ0FzUSxTQUFBLGFBR0FuQyxFQUFBbUIsVUFBQW5CLEVBQUFPLFNBQUE5RCxPQUNBd0QsRUFBQWlDLElBQUEsSUFBQWxDLEVBQUF1QixVQUFBLDhCQUFBdkIsRUFBQU8sU0FBQTlELFFBRUF1RCxFQUFBTyxTQUFBOUQsU0FDQXVELEVBQUFPLFNBQUE5RCxPQUFBLFFBRUEyRixJQUVBcEMsR0FBQThCLFNBQUFJLEtBQ0EvQixNQUFBLE9BQ0FrQyxTQUFBLFNBQ0FGLFNBQUEsYUFFQW5DLEVBQUE4QixTQUFBQyxTQUFBRyxLQUNBSSxTQUFBQyxNQUdBdkMsRUFBQU8sU0FBQTFDLE9BQ0FtQyxFQUFBOEIsU0FBQUMsU0FBQUcsS0FDQU0sT0FBQSxlQUlBeEMsRUFBQXhHLFNBQUEwSSxLQUNBTyxRQUFBLGNBQUF6QyxFQUFBTyxTQUFBbkUsS0FBQSxPQUFBLE9BQ0FzRyxVQUFBLE9BQ0FQLFNBQUEsYUFHQW5DLEVBQUF4RyxTQUFBMEksSUFBQSxRQUFBUyxLQUVBLGNBQUEzQyxFQUFBTyxTQUFBbkUsTUFBQTRELEVBQUFPLFNBQUE3RCxZQUFBLEdBQUFzRCxFQUFBeEcsU0FBQTBJLElBQUEsY0FBQWxDLEVBQUFPLFNBQUE3RCxhQUNBLFlBQUFzRCxFQUFBTyxTQUFBbkUsTUFBQTRELEVBQUFPLFNBQUE3RCxZQUFBLEdBQUFzRCxFQUFBeEcsU0FBQTBJLElBQUEsZUFBQWxDLEVBQUFPLFNBQUE3RCxhQUVBLFFBQUFzRCxFQUFBTyxTQUFBbkUsT0FDQTRELEVBQUF4RyxTQUFBMEksS0FDQUMsU0FBQSxXQUNBUyxPQUFBLEVBQ0FDLFFBQUEsU0FHQTdDLEVBQUF4RyxTQUFBc0osR0FBQTlDLEVBQUFPLFNBQUE1RCxZQUFBdUYsS0FBQVUsT0FBQTVDLEVBQUFPLFNBQUFqRCxZQUFBdUYsUUFBQSxXQUdBN0MsRUFBQTdCLFNBQUE4QixHQUFBbEksRUFBQSwrQkFFQWlJLEVBQUFPLFNBQUExRCxVQUFBa0csSUFFQS9DLEVBQUFZLE9BQUFvQyxLQUFBaEQsRUFBQU8sU0FBQTVELFlBQUFzRyxJQUFBLEVBRUFqRCxFQUFBTyxTQUFBckQsT0FBQStDLEVBQUFpRCxTQUVBLElBQUFDLEdBQUFuRCxFQUFBeEcsU0FBQXNKLEdBQUE5QyxFQUFBTyxTQUFBNUQsV0FDQSxRQUFBcUQsRUFBQU8sU0FBQW5ELGdCQUFBK0YsRUFBQW5ELEVBQUF4RyxVQUVBd0csRUFBQU8sU0FBQXpELE9BV0FrRCxFQUFBTyxTQUFBMUMsT0FBQSxHQVRBbUMsRUFBQU8sU0FBQTFDLE9BQUF1RixJQUVBcEQsRUFBQU8sU0FBQXBDLFVBQUFrRixJQUVBckQsRUFBQU8sU0FBQTFCLE1BQUFtQixFQUFBTyxTQUFBL0IsY0FBQThFLEtBRUF0RCxFQUFBTyxTQUFBcEMsVUFBQTZCLEVBQUFPLFNBQUEvQixjQUFBd0IsRUFBQU8sU0FBQTFDLFFBQUFtQyxFQUFBOEIsU0FBQXlCLE1BQUF2RCxFQUFBN0IsU0FBQThCLEtBTUF1RCxFQUFBTCxFQUFBTSxJQUdBRCxFQUFBLFNBQUFFLEVBQUEzSCxHQUNBLEdBQUE0SCxHQUFBRCxFQUFBRSxLQUFBLGVBQUEvUixNQUNBLElBQUEsR0FBQThSLEVBRUEsV0FEQTVILElBR0EsSUFBQThILEdBQUEsQ0FDQUgsR0FBQUUsS0FBQSxlQUFBN0QsS0FBQSxXQUNBaEksRUFBQS9GLE1BQUE4UixJQUFBLE9BQUEsYUFDQUQsR0FBQUYsR0FBQTVILE1BQ0FnRSxLQUFBLFdBQ0EvTixLQUFBNkksVUFBQTlDLEVBQUEvRixNQUFBK1IsWUFRQU4sRUFBQSxXQUVBLEdBQUF6RCxFQUFBTyxTQUFBakUsY0FBQSxRQUFBMEQsRUFBQU8sU0FBQW5FLE9BQUE0RCxFQUFBTyxTQUFBekQsT0FBQSxDQUNBLEdBQUE1SCxHQUFBLFlBQUE4SyxFQUFBTyxTQUFBbkUsS0FBQTRELEVBQUFPLFNBQUFuQixVQUFBWSxFQUFBTyxTQUFBbEIsVUFDQTJFLEVBQUFoRSxFQUFBeEcsU0FBQXRFLE1BQUEsRUFBQUEsR0FBQStPLFFBQUFDLFNBQUEsWUFDQUMsRUFBQW5FLEVBQUF4RyxTQUFBdEUsT0FBQUEsR0FBQStPLFFBQUFDLFNBQUEsV0FDQWpFLEdBQUFtRSxPQUFBSixHQUFBL0IsUUFBQWtDLEdBR0FuRSxFQUFBZ0MsT0FBQTdOLFNBRUFrUSxJQUVBLFlBQUFyRSxFQUFBTyxTQUFBbkUsT0FBQTRELEVBQUFPLFNBQUF2RCxnQkFBQSxHQUVBZ0QsRUFBQThCLFNBQUF6QixPQUFBaUUsS0FFQXJFLEVBQUFzRSxlQUVBdkUsRUFBQU8sU0FBQWYsYUFBQVEsRUFBQVksT0FBQS9NLE9BRUFtTSxFQUFBd0UsYUFBQSxFQUVBeEUsRUFBQU8sU0FBQWxELFlBQUF0RixFQUFBdEMsUUFBQVMsS0FBQSxTQUFBdU8sR0FFQXpFLEVBQUFPLFNBQUExQixNQUFBbUIsRUFBQU8sU0FBQXhCLFlBQUFrRSxJQUFBLEdBQUFqRCxFQUFBTyxTQUFBcEIsc0JBQUF1RixJQUVBMUUsRUFBQU8sU0FBQXpELFFBQUE2SCxJQUVBM0UsRUFBQU8sU0FBQTFDLE9BQUErRyxFQUFBNUUsRUFBQU8sU0FBQTVELFlBRUFxRCxFQUFBTyxTQUFBcEMsVUFBQTBHLElBRUE3RSxFQUFBTyxTQUFBL0MsZUFBQXdDLEVBQUFPLFNBQUF6RCxRQUFBZ0ksS0FNQVIsRUFBQSxXQUNBLEdBQUFqRSxHQUFBLEVBRUE3RyxFQUFBekIsR0FFQSxJQUFBLFlBQUFpSSxFQUFBTyxTQUFBbkUsTUFBQTRELEVBQUFPLFNBQUF2RCxlQUlBLEdBQUFnRCxFQUFBYSxTQUdBLENBRUEsR0FBQWtFLEdBQUEsR0FBQS9FLEVBQUFPLFNBQUFqQixXQUFBVSxFQUFBWSxPQUFBL00sTUFBQW1NLEVBQUFZLE9BQUEvTSxNQUFBbVIsR0FJQSxLQUZBeEwsRUFBQXdHLEVBQUF4RyxTQUFBc0osR0FBQWlDLEdBRUFuVCxFQUFBLEVBQUFBLEdBQUFvTyxFQUFBTyxTQUFBbEIsVUFBQSxFQUFBek4sSUFHQTRILEVBREF1TCxFQUFBblQsR0FBQW9PLEVBQUF4RyxTQUFBM0gsT0FDQTJILEVBQUF5TCxJQUFBakYsRUFBQXhHLFNBQUFzSixHQUFBbFIsRUFBQSxJQUVBNEgsRUFBQXlMLElBQUFqRixFQUFBeEcsU0FBQXNKLEdBQUFpQyxFQUFBblQsUUFiQTRILEdBQUF3RyxFQUFBeEcsU0FBQXNKLEdBQUE5QyxFQUFBWSxPQUFBL00sV0FKQTJGLEdBQUF3RyxFQUFBeEcsUUE2Q0EsT0F0QkEsWUFBQXdHLEVBQUFPLFNBQUFuRSxNQUNBNUMsRUFBQXVHLEtBQUEsU0FBQWxNLEdBQ0F3TSxHQUFBdEksRUFBQS9GLE1BQUFrVCxnQkFHQWxGLEVBQUFPLFNBQUE3RCxZQUFBLElBQ0EyRCxHQUFBTCxFQUFBTyxTQUFBN0QsYUFBQXNELEVBQUFPLFNBQUFuQixVQUFBLEtBSUFpQixFQUFBSSxLQUFBMEUsSUFBQWxULE1BQUF3TyxLQUFBakgsRUFBQTRMLElBQUEsV0FDQSxNQUFBck4sR0FBQS9GLE1BQUFrVCxhQUFBLEtBQ0FHLE9BR0EsY0FBQXJGLEVBQUE4QixTQUFBSSxJQUFBLGNBQ0E3QixHQUFBaUYsV0FBQXRGLEVBQUE4QixTQUFBSSxJQUFBLGdCQUFBb0QsV0FBQXRGLEVBQUE4QixTQUFBSSxJQUFBLG1CQUNBb0QsV0FBQXRGLEVBQUE4QixTQUFBSSxJQUFBLHFCQUFBb0QsV0FBQXRGLEVBQUE4QixTQUFBSSxJQUFBLHdCQUNBLGVBQUFsQyxFQUFBOEIsU0FBQUksSUFBQSxnQkFDQTdCLEdBQUFpRixXQUFBdEYsRUFBQThCLFNBQUFJLElBQUEsZ0JBQUFvRCxXQUFBdEYsRUFBQThCLFNBQUFJLElBQUEsb0JBR0E3QixHQU1Ba0MsRUFBQSxXQUNBLEdBQUFwQyxHQUFBLE1BUUEsT0FQQUgsR0FBQU8sU0FBQWhCLFdBQUEsSUFFQVksRUFEQSxjQUFBSCxFQUFBTyxTQUFBbkUsS0FDQTRELEVBQUFPLFNBQUFsQixVQUFBVyxFQUFBTyxTQUFBaEIsWUFBQVMsRUFBQU8sU0FBQWxCLFVBQUEsR0FBQVcsRUFBQU8sU0FBQTdELFlBRUFzRCxFQUFBTyxTQUFBaEIsWUFHQVksR0FNQXdDLEVBQUEsV0FFQSxHQUFBNEMsR0FBQXZGLEVBQUFPLFNBQUFoQixXQUVBaUcsRUFBQXhGLEVBQUE4QixTQUFBM0IsT0FjQSxPQVpBLElBQUFILEVBQUFPLFNBQUFoQixZQUNBUyxFQUFBTyxTQUFBaEIsV0FBQWlHLElBQUF4RixFQUFBYSxVQUNBLFlBQUFiLEVBQUFPLFNBQUFuRSxLQUNBbUosRUFBQUMsRUFFQXhGLEVBQUFPLFNBQUFsQixVQUFBLEdBQUEsY0FBQVcsRUFBQU8sU0FBQW5FLE9BQ0FvSixFQUFBeEYsRUFBQWUsY0FFQXlFLEVBQUF4RixFQUFBYyxlQUNBeUUsR0FBQUMsRUFBQXhGLEVBQUFPLFNBQUE3RCxhQUFBc0QsRUFBQU8sU0FBQW5CLFVBQUEsSUFBQVksRUFBQU8sU0FBQW5CLFlBR0FtRyxHQU1BbkQsRUFBQSxXQUNBLEdBQUFxRCxHQUFBLENBQ0EsSUFBQSxjQUFBekYsRUFBQU8sU0FBQW5FLE1BQUE0RCxFQUFBTyxTQUFBaEIsV0FBQSxFQUVBLEdBQUFTLEVBQUE4QixTQUFBM0IsUUFBQUgsRUFBQWMsYUFDQTJFLEVBQUF6RixFQUFBTyxTQUFBbkIsY0FFQSxJQUFBWSxFQUFBOEIsU0FBQTNCLFFBQUFILEVBQUFlLGFBQ0EwRSxFQUFBekYsRUFBQU8sU0FBQWxCLGNBRUEsQ0FDQSxHQUFBcUcsR0FBQTFGLEVBQUF4RyxTQUFBbU0sUUFBQXhGLFFBQUFILEVBQUFPLFNBQUE3RCxXQUNBK0ksR0FBQWhGLEtBQUFDLE9BQUFWLEVBQUE4QixTQUFBM0IsUUFDQUgsRUFBQU8sU0FBQTdELGFBQUFnSixPQUdBLFlBQUExRixFQUFBTyxTQUFBbkUsT0FDQXFKLEVBQUF6RixFQUFBTyxTQUFBbkIsVUFFQSxPQUFBcUcsSUFNQXhDLEVBQUEsV0FDQSxHQUFBMkMsR0FBQSxDQUVBLElBQUE1RixFQUFBTyxTQUFBakIsV0FBQSxFQUNBLEdBQUFVLEVBQUFPLFNBQUFqRSxhQUNBc0osRUFBQW5GLEtBQUFvRixLQUFBN0YsRUFBQXhHLFNBQUEzSCxPQUFBbVQsU0FNQSxLQUhBLEdBQUFjLEdBQUEsRUFDQUMsRUFBQSxFQUVBRCxFQUFBOUYsRUFBQXhHLFNBQUEzSCxVQUNBK1QsRUFDQUUsRUFBQUMsRUFBQTNELElBQ0EyRCxHQUFBL0YsRUFBQU8sU0FBQWpCLFlBQUE4QyxJQUFBcEMsRUFBQU8sU0FBQWpCLFdBQUE4QyxRQUtBd0QsR0FBQW5GLEtBQUFvRixLQUFBN0YsRUFBQXhHLFNBQUEzSCxPQUFBdVEsSUFFQSxPQUFBd0QsSUFNQVosRUFBQSxXQUVBLE1BQUFoRixHQUFBTyxTQUFBakIsV0FBQSxHQUFBVSxFQUFBTyxTQUFBakIsWUFBQThDLElBQ0FwQyxFQUFBTyxTQUFBakIsV0FHQThDLEtBTUFpQyxFQUFBLFdBRUEsR0FBQXJFLEVBQUF4RyxTQUFBM0gsT0FBQW1PLEVBQUFPLFNBQUFsQixXQUFBVyxFQUFBWSxPQUFBb0MsT0FBQWhELEVBQUFPLFNBQUFqRSxjQUNBLEdBQUEsY0FBQTBELEVBQUFPLFNBQUFuRSxLQUFBLENBRUEsR0FBQTRKLEdBQUFoRyxFQUFBeEcsU0FBQXdKLE9BQ0FiLEVBQUE2RCxFQUFBN0QsVUFFQThELEtBQUE5RCxFQUFBK0QsTUFBQWxHLEVBQUE4QixTQUFBM0IsUUFBQTZGLEVBQUFHLGVBQUEsUUFBQSxPQUNBLElBQUEsWUFBQW5HLEVBQUFPLFNBQUFuRSxLQUFBLENBRUEsR0FBQWdLLEdBQUFwRyxFQUFBeEcsU0FBQTNILE9BQUFtTyxFQUFBTyxTQUFBbkIsVUFDQStDLEVBQUFuQyxFQUFBeEcsU0FBQXNKLEdBQUFzRCxHQUFBakUsVUFFQThELElBQUE5RCxFQUFBa0UsSUFBQSxRQUFBLFFBR0EsQ0FFQSxHQUFBbEUsR0FBQW5DLEVBQUF4RyxTQUFBc0osR0FBQTlDLEVBQUFZLE9BQUEvTSxNQUFBbVIsS0FBQTdDLFVBRUFuQyxHQUFBWSxPQUFBL00sT0FBQW9QLElBQUEsSUFBQWpELEVBQUFZLE9BQUFvQyxNQUFBLEdBRUFyTSxRQUFBd0wsSUFDQSxjQUFBbkMsRUFBQU8sU0FBQW5FLEtBQUE2SixHQUFBOUQsRUFBQStELEtBQUEsUUFBQSxHQUNBLFlBQUFsRyxFQUFBTyxTQUFBbkUsTUFBQTZKLEdBQUE5RCxFQUFBa0UsSUFBQSxRQUFBLE1BcUJBSixFQUFBLFNBQUE3UixFQUFBTSxFQUFBNFIsRUFBQUMsR0FFQSxHQUFBdkcsRUFBQW1CLFNBQUEsQ0FFQSxHQUFBcUYsR0FBQSxZQUFBeEcsRUFBQU8sU0FBQW5FLEtBQUEsa0JBQUFoSSxFQUFBLFNBQUEsZUFBQUEsRUFBQSxXQUVBNkwsR0FBQWlDLElBQUEsSUFBQWxDLEVBQUF1QixVQUFBLHVCQUFBK0UsRUFBQSxJQUFBLEtBQ0EsU0FBQTVSLEdBRUF1TCxFQUFBaUMsSUFBQWxDLEVBQUFrQixTQUFBc0YsR0FFQXZHLEVBQUEvSixLQUFBLG1FQUFBLFdBRUErSixFQUFBMUosT0FBQSxvRUFDQWtRLE9BRUEsU0FBQS9SLEVBQ0F1TCxFQUFBaUMsSUFBQWxDLEVBQUFrQixTQUFBc0YsR0FDQSxVQUFBOVIsSUFFQXVMLEVBQUFpQyxJQUFBLElBQUFsQyxFQUFBdUIsVUFBQSw4QkFBQSxVQUNBdEIsRUFBQWlDLElBQUFsQyxFQUFBa0IsU0FBQXNGLEdBRUF2RyxFQUFBL0osS0FBQSxtRUFBQSxXQUVBK0osRUFBQTFKLE9BQUEsb0VBRUEwUCxFQUFBTSxFQUFBLFdBQUEsUUFBQSxHQUVBRyxXQUlBLENBQ0EsR0FBQUMsS0FDQUEsR0FBQTNHLEVBQUFrQixVQUFBOU0sRUFDQSxTQUFBTSxFQUNBdUwsRUFBQTJHLFFBQUFELEVBQUFMLEVBQUF0RyxFQUFBTyxTQUFBOUQsT0FBQSxXQUNBZ0ssTUFFQSxTQUFBL1IsRUFDQXVMLEVBQUFpQyxJQUFBbEMsRUFBQWtCLFNBQUE5TSxHQUNBLFVBQUFNLEdBQ0F1TCxFQUFBMkcsUUFBQUQsRUFBQW5LLE1BQUEsU0FBQSxXQUNBeUosRUFBQU0sRUFBQSxXQUFBLFFBQUEsR0FFQUcsUUFTQUcsRUFBQSxXQUlBLElBQUEsR0FIQUMsR0FBQSxHQUNBbEIsRUFBQTNDLElBRUFyUixFQUFBLEVBQUFBLEVBQUFnVSxFQUFBaFUsSUFBQSxDQUNBLEdBQUFtVixHQUFBLEVBRUEvRyxHQUFBTyxTQUFBdEMsWUFBQWxHLEVBQUFpUCxXQUFBaEgsRUFBQU8sU0FBQXRDLGFBQ0E4SSxFQUFBL0csRUFBQU8sU0FBQXRDLFdBQUFyTSxHQUNBb08sRUFBQWlILFFBQUEvQyxTQUFBLHFCQUVBNkMsRUFBQW5WLEVBQUEsRUFDQW9PLEVBQUFpSCxRQUFBL0MsU0FBQSxxQkFJQTRDLEdBQUEsMkRBQUFsVixFQUFBLDJCQUFBbVYsRUFBQSxhQUdBL0csRUFBQWlILFFBQUFDLEtBQUFKLElBTUExRCxFQUFBLFdBQ0FwRCxFQUFBTyxTQUFBckMsWUFhQThCLEVBQUFpSCxRQUFBbFAsRUFBQWlJLEVBQUFPLFNBQUFyQyxjQVhBOEIsRUFBQWlILFFBQUFsUCxFQUFBLDRCQUVBaUksRUFBQU8sU0FBQXZDLGNBQ0FqRyxFQUFBaUksRUFBQU8sU0FBQXZDLGVBQUFrSixLQUFBbEgsRUFBQWlILFNBR0FqSCxFQUFBN0IsU0FBQThCLEdBQUFpRSxTQUFBLGdCQUFBRSxPQUFBcEUsRUFBQWlILFNBR0FKLEtBS0E3RyxFQUFBaUgsUUFBQTFULEdBQUEsUUFBQSxJQUFBNFQsSUFNQTlELEVBQUEsV0FDQXJELEVBQUE3QixTQUFBaUosS0FBQXJQLEVBQUEsOEJBQUFpSSxFQUFBTyxTQUFBbkMsU0FBQSxRQUNBNEIsRUFBQTdCLFNBQUFrSixLQUFBdFAsRUFBQSw4QkFBQWlJLEVBQUFPLFNBQUFsQyxTQUFBLFFBRUEyQixFQUFBN0IsU0FBQWlKLEtBQUFsUixLQUFBLFFBQUFvUixHQUNBdEgsRUFBQTdCLFNBQUFrSixLQUFBblIsS0FBQSxRQUFBcVIsR0FFQXZILEVBQUFPLFNBQUFqQyxjQUNBdkcsRUFBQWlJLEVBQUFPLFNBQUFqQyxjQUFBOEYsT0FBQXBFLEVBQUE3QixTQUFBaUosTUFHQXBILEVBQUFPLFNBQUFoQyxjQUNBeEcsRUFBQWlJLEVBQUFPLFNBQUFoQyxjQUFBNkYsT0FBQXBFLEVBQUE3QixTQUFBa0osTUFHQXJILEVBQUFPLFNBQUFqQyxjQUFBMEIsRUFBQU8sU0FBQWhDLGVBRUF5QixFQUFBN0IsU0FBQXFKLFlBQUF6UCxFQUFBLHlDQUVBaUksRUFBQTdCLFNBQUFxSixZQUFBcEQsT0FBQXBFLEVBQUE3QixTQUFBa0osTUFBQWpELE9BQUFwRSxFQUFBN0IsU0FBQWlKLE1BRUFwSCxFQUFBN0IsU0FBQThCLEdBQUFpRSxTQUFBLDZCQUFBRSxPQUFBcEUsRUFBQTdCLFNBQUFxSixlQU9BbEUsRUFBQSxXQUNBdEQsRUFBQTdCLFNBQUFzRixNQUFBMUwsRUFBQSxrRUFBQWlJLEVBQUFPLFNBQUE5QixVQUFBLGNBQ0F1QixFQUFBN0IsU0FBQXNKLEtBQUExUCxFQUFBLGlFQUFBaUksRUFBQU8sU0FBQTdCLFNBQUEsY0FFQXNCLEVBQUE3QixTQUFBdUosT0FBQTNQLEVBQUEsb0NBRUFpSSxFQUFBN0IsU0FBQXVKLE9BQUFuVSxHQUFBLFFBQUEsWUFBQW9VLEdBQ0EzSCxFQUFBN0IsU0FBQXVKLE9BQUFuVSxHQUFBLFFBQUEsV0FBQXFVLEdBRUE1SCxFQUFBTyxTQUFBNUIsb0JBQ0FxQixFQUFBN0IsU0FBQXVKLE9BQUF0RCxPQUFBcEUsRUFBQTdCLFNBQUFzRixPQUdBekQsRUFBQTdCLFNBQUF1SixPQUFBdEQsT0FBQXBFLEVBQUE3QixTQUFBc0YsT0FBQVcsT0FBQXBFLEVBQUE3QixTQUFBc0osTUFHQXpILEVBQUFPLFNBQUEzQixxQkFDQTdHLEVBQUFpSSxFQUFBTyxTQUFBM0Isc0JBQUFzSSxLQUFBbEgsRUFBQTdCLFNBQUF1SixRQUdBMUgsRUFBQTdCLFNBQUE4QixHQUFBaUUsU0FBQSx3QkFBQUUsT0FBQXBFLEVBQUE3QixTQUFBdUosUUFHQUcsRUFBQTdILEVBQUFPLFNBQUF4QixVQUFBLE9BQUEsVUFNQWdFLEVBQUEsV0FFQS9DLEVBQUF4RyxTQUFBdUcsS0FBQSxTQUFBbE0sR0FFQSxHQUFBaVUsR0FBQS9QLEVBQUEvRixNQUFBNFIsS0FBQSxhQUFBakMsS0FBQSxRQUVBaEwsU0FBQW1SLElBQUEsR0FBQUEsR0FBQWpXLFFBQ0FrRyxFQUFBL0YsTUFBQW9TLE9BQUEsaUNBQUEwRCxFQUFBLG9CQVdBUixFQUFBLFNBQUFTLEdBRUEvSCxFQUFBTyxTQUFBMUIsTUFBQW9CLEVBQUErSCxXQUNBL0gsRUFBQWdJLGdCQUNBRixFQUFBRyxrQkFTQVgsRUFBQSxTQUFBUSxHQUVBL0gsRUFBQU8sU0FBQTFCLE1BQUFvQixFQUFBK0gsV0FDQS9ILEVBQUFrSSxnQkFDQUosRUFBQUcsa0JBU0FQLEVBQUEsU0FBQUksR0FDQTlILEVBQUFtSSxZQUNBTCxFQUFBRyxrQkFTQU4sRUFBQSxTQUFBRyxHQUNBOUgsRUFBQStILFdBQ0FELEVBQUFHLGtCQVNBZixFQUFBLFNBQUFZLEdBRUEvSCxFQUFBTyxTQUFBMUIsTUFBQW9CLEVBQUErSCxVQUNBLElBQUFLLEdBQUF0USxFQUFBZ1EsRUFBQU8sY0FDQSxJQUFBM1IsU0FBQTBSLEVBQUExRyxLQUFBLG9CQUFBLENBQ0EsR0FBQTRHLEdBQUEvSCxTQUFBNkgsRUFBQTFHLEtBQUEsb0JBRUE0RyxJQUFBdkksRUFBQVksT0FBQS9NLE9BQUFvTSxFQUFBdUksVUFBQUQsR0FDQVIsRUFBQUcsbUJBVUF0RCxFQUFBLFNBQUE2RCxHQUVBLEdBQUFDLEdBQUExSSxFQUFBeEcsU0FBQTNILE1BQ0EsT0FBQSxTQUFBbU8sRUFBQU8sU0FBQXpDLFdBQ0FrQyxFQUFBTyxTQUFBbEIsVUFBQSxJQUNBcUosRUFBQWpJLEtBQUFvRixLQUFBN0YsRUFBQXhHLFNBQUEzSCxPQUFBbU8sRUFBQU8sU0FBQWxCLGdCQUVBVyxHQUFBaUgsUUFBQUMsS0FBQXVCLEVBQUEsRUFBQXpJLEVBQUFPLFNBQUF4QyxvQkFBQTJLLEtBSUExSSxFQUFBaUgsUUFBQXJELEtBQUEsS0FBQStFLFlBQUEsY0FFQTNJLEdBQUFpSCxRQUFBbEgsS0FBQSxTQUFBbk8sRUFBQXFPLEdBQUFsSSxFQUFBa0ksR0FBQTJELEtBQUEsS0FBQWQsR0FBQTJGLEdBQUF2RSxTQUFBLGNBTUF1QyxFQUFBLFdBRUEsR0FBQXpHLEVBQUFPLFNBQUFqRSxhQUFBLENBQ0EsR0FBQTZGLEdBQUEsRUFFQSxJQUFBbkMsRUFBQVksT0FBQS9NLE1BRUFzTyxFQUFBbkMsRUFBQXhHLFNBQUFzSixHQUFBLEdBQUFYLFdBRUFuQyxFQUFBWSxPQUFBL00sT0FBQW9QLElBQUEsR0FBQWpELEVBQUFhLFNBQ0FzQixFQUFBbkMsRUFBQXhHLFNBQUFzSixJQUFBRyxJQUFBLEdBQUErQixLQUFBN0MsV0FFQW5DLEVBQUFZLE9BQUEvTSxPQUFBbU0sRUFBQXhHLFNBQUEzSCxPQUFBLElBQ0FzUSxFQUFBbkMsRUFBQXhHLFNBQUFzSixHQUFBOUMsRUFBQXhHLFNBQUEzSCxPQUFBLEdBQUFzUSxZQUVBQSxJQUNBLGNBQUFuQyxFQUFBTyxTQUFBbkUsS0FBQTZKLEdBQUE5RCxFQUFBK0QsS0FBQSxRQUFBLEdBQ0EsWUFBQWxHLEVBQUFPLFNBQUFuRSxNQUFBNkosR0FBQTlELEVBQUFrRSxJQUFBLFFBQUEsSUFJQXJHLEVBQUFnQixTQUFBLEVBRUFoQixFQUFBTyxTQUFBYixhQUFBTSxFQUFBeEcsU0FBQXNKLEdBQUE5QyxFQUFBWSxPQUFBL00sT0FBQW1NLEVBQUE0SSxTQUFBNUksRUFBQVksT0FBQS9NLFFBU0FnVSxFQUFBLFNBQUFnQixHQUVBN0ksRUFBQU8sU0FBQTVCLG9CQUNBcUIsRUFBQTdCLFNBQUF1SixPQUFBUixLQUFBbEgsRUFBQTdCLFNBQUEwSyxLQUdBN0ksRUFBQTdCLFNBQUF1SixPQUFBOUQsS0FBQSxLQUFBK0UsWUFBQSxVQUNBM0ksRUFBQTdCLFNBQUF1SixPQUFBOUQsS0FBQSxhQUFBaUYsRUFBQSxLQUFBM0UsU0FBQSxZQU9BVyxFQUFBLFdBQ0EsR0FBQTVCLEtBQ0FqRCxFQUFBN0IsU0FBQWtKLEtBQUFuRCxTQUFBLFlBQ0FsRSxFQUFBN0IsU0FBQWlKLEtBQUFsRCxTQUFBLGNBQ0FsRSxFQUFBTyxTQUFBakUsY0FBQTBELEVBQUFPLFNBQUFoRSxtQkFFQSxHQUFBeUQsRUFBQVksT0FBQS9NLE9BQ0FtTSxFQUFBN0IsU0FBQWtKLEtBQUFuRCxTQUFBLFlBQ0FsRSxFQUFBN0IsU0FBQWlKLEtBQUF1QixZQUFBLGFBRUEzSSxFQUFBWSxPQUFBL00sT0FBQW9QLElBQUEsR0FDQWpELEVBQUE3QixTQUFBaUosS0FBQWxELFNBQUEsWUFDQWxFLEVBQUE3QixTQUFBa0osS0FBQXNCLFlBQUEsY0FHQTNJLEVBQUE3QixTQUFBa0osS0FBQXNCLFlBQUEsWUFDQTNJLEVBQUE3QixTQUFBaUosS0FBQXVCLFlBQUEsZUFRQWpFLEVBQUEsV0FFQSxHQUFBMUUsRUFBQU8sU0FBQXJCLFVBQUEsRUFDQSxDQUFBL0csV0FBQThILEVBQUFtSSxVQUFBcEksRUFBQU8sU0FBQXJCLGVBR0FlLEdBQUFtSSxXQUdBcEksR0FBQU8sU0FBQXRCLFdBRUFnQixFQUFBNkksTUFBQSxXQUVBOUksRUFBQWlCLFdBRUFoQixFQUFBK0gsVUFBQSxHQUVBaEksRUFBQStJLFlBQUEsSUFFQSxXQUVBL0ksRUFBQStJLGFBRUE5SSxFQUFBbUksV0FBQSxHQUVBcEksRUFBQStJLFdBQUEsU0FTQXBFLEVBQUEsV0FDQSxHQUFBcUUsR0FBQSxDQUVBLElBQUEsUUFBQWhKLEVBQUFPLFNBQUF2QixjQUNBaUIsRUFBQW1FLE9BQUFwRSxFQUFBeEcsU0FBQXlLLFFBQUFDLFNBQUEsaUJBRUEsQ0FDQWpFLEVBQUFnQyxRQUFBakMsRUFBQXhHLFNBQUF5SyxRQUFBQyxTQUFBLFlBQ0EsSUFBQS9CLEdBQUFuQyxFQUFBeEcsU0FBQW1NLFFBQUF4RCxVQUNBNkcsR0FBQSxjQUFBaEosRUFBQU8sU0FBQW5FLE1BQUErRixFQUFBK0QsTUFBQS9ELEVBQUFrRSxJQUVBSixFQUFBK0MsRUFBQSxRQUFBLEdBRUFoSixFQUFBTyxTQUFBMUMsT0FBQSxFQUNBbUMsRUFBQU8sU0FBQXBDLFVBQUEsRUFDQTZCLEVBQUFPLFNBQUEvQixjQUFBLEVBRUF3QixFQUFBTyxTQUFBeEQsY0FBQWlELEVBQUFtQixVQUVBbkIsRUFBQThCLFNBQUFnSCxNQUFBLFdBQ0E3SSxFQUFBd0gsUUFDQSxXQUVBLEdBQUF3QixHQUFBLENBQ0FqSixHQUFBeEcsU0FBQXVHLEtBQUEsU0FBQWxNLEdBQ0FvVixHQUFBLGNBQUFqSixFQUFBTyxTQUFBbkUsS0FBQXJFLEVBQUEvRixNQUFBbVUsWUFBQSxHQUFBcE8sRUFBQS9GLE1BQUFrVCxhQUFBLElBR0EsSUFBQWdFLEdBQUFsSixFQUFBTyxTQUFBL0QsTUFBQXlNLEVBRUFFLEVBQUEsY0FBQW5KLEVBQUFPLFNBQUFuRSxLQUFBLE9BQUEsTUFFQWdOLEVBQUFGLEdBQUFELEVBQUF4SSxLQUFBNEksSUFBQTdJLFNBQUFQLEVBQUFpQyxJQUFBaUgsS0FDQXpDLEdBQUEwQyxLQUlBMUMsS0FNQUEsRUFBQSxTQUFBNEMsR0FDQTlNLE1BQUE4TSxFQUFBQSxFQUFBdEosRUFBQU8sU0FBQS9ELEtBQ0EsSUFBQTJGLElBQUErRCxLQUFBLEVBQUFHLElBQUEsR0FDQWtELEdBQUFyRCxLQUFBLEVBQUFHLElBQUEsRUFFQSxTQUFBckcsRUFBQU8sU0FBQXZCLGNBQ0FtRCxFQUFBbEMsRUFBQTJELEtBQUEsYUFBQStCLFFBQUF4RCxXQUdBb0gsRUFBQXZKLEVBQUF4RyxTQUFBbU0sUUFBQXhELFVBRUEsSUFBQXFILEdBQUEsY0FBQXhKLEVBQUFPLFNBQUFuRSxNQUFBK0YsRUFBQStELE1BQUEvRCxFQUFBa0UsSUFDQW9ELEVBQUEsY0FBQXpKLEVBQUFPLFNBQUFuRSxNQUFBbU4sRUFBQXJELE1BQUFxRCxFQUFBbEQsSUFDQUUsR0FBQWtELFdBQUFBLEVBQ0F4RCxHQUFBdUQsRUFBQSxTQUFBaE4sTUFBQStKLElBTUF6QixFQUFBLFdBRUE5RSxFQUFBMEosT0FDQWpHLE9BQUFrRyxFQUFBLEVBQUFDLEVBQUEsR0FDQUMsS0FBQUYsRUFBQSxFQUFBQyxFQUFBLElBRUE1SixFQUFBOEIsU0FBQTVMLEtBQUEsYUFBQTRULElBU0FBLEVBQUEsU0FBQS9CLEdBQ0EsR0FBQS9ILEVBQUFnQixRQUNBK0csRUFBQUcscUJBQ0EsQ0FFQWxJLEVBQUEwSixNQUFBSyxZQUFBOUosRUFBQWtDLFVBQ0EsSUFBQTZILEdBQUFqQyxFQUFBa0MsYUFFQWpLLEdBQUEwSixNQUFBakcsTUFBQWtHLEVBQUFLLEVBQUFFLGVBQUEsR0FBQUMsTUFDQW5LLEVBQUEwSixNQUFBakcsTUFBQW1HLEVBQUFJLEVBQUFFLGVBQUEsR0FBQUUsTUFFQXBLLEVBQUE4QixTQUFBNUwsS0FBQSxZQUFBbVUsR0FFQXJLLEVBQUE4QixTQUFBNUwsS0FBQSxXQUFBb1UsS0FVQUQsRUFBQSxTQUFBdEMsR0FDQSxHQUFBaUMsR0FBQWpDLEVBQUFrQyxjQUVBTSxFQUFBOUosS0FBQTRJLElBQUFXLEVBQUFFLGVBQUEsR0FBQUMsTUFBQW5LLEVBQUEwSixNQUFBakcsTUFBQWtHLEdBQ0FhLEVBQUEvSixLQUFBNEksSUFBQVcsRUFBQUUsZUFBQSxHQUFBRSxNQUFBcEssRUFBQTBKLE1BQUFqRyxNQUFBbUcsRUFRQSxJQU5BLEVBQUFXLEVBQUFDLEdBQUF4SyxFQUFBTyxTQUFBNUMscUJBQ0FvSyxFQUFBRyxpQkFFQSxFQUFBc0MsRUFBQUQsR0FBQXZLLEVBQUFPLFNBQUEzQyxzQkFDQW1LLEVBQUFHLGlCQUVBLFFBQUFsSSxFQUFBTyxTQUFBbkUsTUFBQTRELEVBQUFPLFNBQUE3QyxjQUFBLENBQ0EsR0FBQXRKLEdBQUEsQ0FFQSxJQUFBLGNBQUE0TCxFQUFBTyxTQUFBbkUsS0FBQSxDQUNBLEdBQUFxTyxHQUFBVCxFQUFBRSxlQUFBLEdBQUFDLE1BQUFuSyxFQUFBMEosTUFBQWpHLE1BQUFrRyxDQUNBdlYsR0FBQTRMLEVBQUEwSixNQUFBSyxZQUFBN0QsS0FBQXVFLE1BRUEsQ0FDQSxHQUFBQSxHQUFBVCxFQUFBRSxlQUFBLEdBQUFFLE1BQUFwSyxFQUFBMEosTUFBQWpHLE1BQUFtRyxDQUNBeFYsR0FBQTRMLEVBQUEwSixNQUFBSyxZQUFBMUQsSUFBQW9FLEVBRUF4RSxFQUFBN1IsRUFBQSxRQUFBLEtBVUFrVyxFQUFBLFNBQUF2QyxHQUNBL0gsRUFBQThCLFNBQUF2TCxPQUFBLFlBQUE4VCxFQUNBLElBQUFMLEdBQUFqQyxFQUFBa0MsY0FDQTdWLEVBQUEsQ0FLQSxJQUhBNEwsRUFBQTBKLE1BQUFHLElBQUFGLEVBQUFLLEVBQUFFLGVBQUEsR0FBQUMsTUFDQW5LLEVBQUEwSixNQUFBRyxJQUFBRCxFQUFBSSxFQUFBRSxlQUFBLEdBQUFFLE1BRUEsUUFBQXBLLEVBQUFPLFNBQUFuRSxLQUFBLENBQ0EsR0FBQXNPLEdBQUFqSyxLQUFBNEksSUFBQXJKLEVBQUEwSixNQUFBakcsTUFBQWtHLEVBQUEzSixFQUFBMEosTUFBQUcsSUFBQUYsRUFDQWUsSUFBQTFLLEVBQUFPLFNBQUE5QyxpQkFDQXVDLEVBQUEwSixNQUFBakcsTUFBQWtHLEVBQUEzSixFQUFBMEosTUFBQUcsSUFBQUYsRUFBQTFKLEVBQUFnSSxnQkFBQWhJLEVBQUFrSSxnQkFDQWxJLEVBQUErSCxnQkFHQSxDQUNBLEdBQUEwQyxHQUFBLENBRUEsZUFBQTFLLEVBQUFPLFNBQUFuRSxNQUNBc08sRUFBQTFLLEVBQUEwSixNQUFBRyxJQUFBRixFQUFBM0osRUFBQTBKLE1BQUFqRyxNQUFBa0csRUFDQXZWLEVBQUE0TCxFQUFBMEosTUFBQUssWUFBQTdELE9BRUF3RSxFQUFBMUssRUFBQTBKLE1BQUFHLElBQUFELEVBQUE1SixFQUFBMEosTUFBQWpHLE1BQUFtRyxFQUNBeFYsRUFBQTRMLEVBQUEwSixNQUFBSyxZQUFBMUQsTUFHQXJHLEVBQUFPLFNBQUFqRSxlQUFBLEdBQUEwRCxFQUFBWSxPQUFBL00sT0FBQTZXLEVBQUEsR0FBQTFLLEVBQUFZLE9BQUFvQyxNQUFBMEgsRUFBQSxHQUNBekUsRUFBQTdSLEVBQUEsUUFBQSxLQUdBcU0sS0FBQTRJLElBQUFxQixJQUFBMUssRUFBQU8sU0FBQTlDLGdCQUNBaU4sRUFBQSxFQUFBekssRUFBQWdJLGdCQUFBaEksRUFBQWtJLGdCQUNBbEksRUFBQStILFlBR0EvQixFQUFBN1IsRUFBQSxRQUFBLEtBSUE0TCxFQUFBOEIsU0FBQXZMLE9BQUEsV0FBQStULElBTUE3RixFQUFBLFNBQUFzRCxHQUVBLEdBQUEvSCxFQUFBd0UsWUFBQSxDQUVBLEdBQUFtRyxHQUFBNVMsRUFBQXRDLFFBQUEwSyxRQUNBeUssRUFBQTdTLEVBQUF0QyxRQUFBNEssUUFJQUgsSUFBQXlLLEdBQUF2SyxHQUFBd0ssSUFFQTFLLEVBQUF5SyxFQUNBdkssRUFBQXdLLEVBRUEzSyxFQUFBc0UsZUFFQXZFLEVBQUFPLFNBQUFWLGVBQUFyTCxLQUFBeUwsRUFBQUQsRUFBQVksT0FBQS9NLFNBbVBBLE9BaE9Bb00sR0FBQXVJLFVBQUEsU0FBQUMsRUFBQW9DLEdBRUEsSUFBQTdLLEVBQUFnQixTQUFBaEIsRUFBQVksT0FBQS9NLE9BQUE0VSxFQTZCQSxHQTNCQXpJLEVBQUFnQixTQUFBLEVBRUFoQixFQUFBNEksU0FBQTVJLEVBQUFZLE9BQUEvTSxNQUVBNFUsRUFBQSxFQUNBekksRUFBQVksT0FBQS9NLE1BQUFvUCxJQUFBLEVBRUF3RixHQUFBeEYsSUFDQWpELEVBQUFZLE9BQUEvTSxNQUFBLEVBR0FtTSxFQUFBWSxPQUFBL00sTUFBQTRVLEVBR0F6SSxFQUFBTyxTQUFBZCxjQUFBTyxFQUFBeEcsU0FBQXNKLEdBQUE5QyxFQUFBWSxPQUFBL00sT0FBQW1NLEVBQUE0SSxTQUFBNUksRUFBQVksT0FBQS9NLE9BQ0EsUUFBQWdYLEVBQ0E3SyxFQUFBTyxTQUFBWixZQUFBSyxFQUFBeEcsU0FBQXNKLEdBQUE5QyxFQUFBWSxPQUFBL00sT0FBQW1NLEVBQUE0SSxTQUFBNUksRUFBQVksT0FBQS9NLE9BQ0EsUUFBQWdYLEdBQ0E3SyxFQUFBTyxTQUFBWCxZQUFBSSxFQUFBeEcsU0FBQXNKLEdBQUE5QyxFQUFBWSxPQUFBL00sT0FBQW1NLEVBQUE0SSxTQUFBNUksRUFBQVksT0FBQS9NLE9BR0FtTSxFQUFBWSxPQUFBb0MsS0FBQWhELEVBQUFZLE9BQUEvTSxPQUFBb1AsSUFBQSxFQUVBakQsRUFBQU8sU0FBQTFDLE9BQUErRyxFQUFBNUUsRUFBQVksT0FBQS9NLE9BRUFtTSxFQUFBTyxTQUFBcEMsVUFBQTBHLElBRUEsUUFBQTdFLEVBQUFPLFNBQUFuRSxLQUVBNEQsRUFBQU8sU0FBQXZELGdCQUFBZ0QsRUFBQThCLFNBQUF6QixVQUFBaUUsS0FDQXRFLEVBQUE4QixTQUFBOEUsU0FBQXZHLE9BQUFpRSxLQUFBdEUsRUFBQU8sU0FBQXRELHFCQUdBK0MsRUFBQXhHLFNBQUFzUixPQUFBLFlBQUFDLFFBQUEvSyxFQUFBTyxTQUFBL0QsT0FBQTBGLEtBQUFVLE9BQUEsSUFFQTVDLEVBQUF4RyxTQUFBc0osR0FBQTlDLEVBQUFZLE9BQUEvTSxPQUFBcU8sSUFBQSxTQUFBbEMsRUFBQU8sU0FBQWpELFlBQUEsR0FBQTBOLE9BQUFoTCxFQUFBTyxTQUFBL0QsTUFBQSxXQUNBekUsRUFBQS9GLE1BQUFrUSxJQUFBLFNBQUFsQyxFQUFBTyxTQUFBakQsYUFDQW1KLFVBR0EsQ0FFQXpHLEVBQUFPLFNBQUF2RCxnQkFBQWdELEVBQUE4QixTQUFBekIsVUFBQWlFLEtBQ0F0RSxFQUFBOEIsU0FBQThFLFNBQUF2RyxPQUFBaUUsS0FBQXRFLEVBQUFPLFNBQUF0RCxvQkFFQSxJQUFBZ08sR0FBQSxFQUNBOUksR0FBQStELEtBQUEsRUFBQUcsSUFBQSxFQUVBLEtBQUFyRyxFQUFBTyxTQUFBakUsY0FBQTBELEVBQUFhLFVBQUFiLEVBQUFZLE9BQUFvQyxLQUNBLEdBQUEsY0FBQWhELEVBQUFPLFNBQUFuRSxLQUFBLENBRUEsR0FBQTRKLEdBQUFoRyxFQUFBeEcsU0FBQXNKLEdBQUE5QyxFQUFBeEcsU0FBQTNILE9BQUEsRUFDQXNRLEdBQUE2RCxFQUFBN0QsV0FFQThJLEVBQUFqTCxFQUFBOEIsU0FBQTNCLFFBQUE2RixFQUFBRyxpQkFDQSxDQUVBLEdBQUFDLEdBQUFwRyxFQUFBeEcsU0FBQTNILE9BQUFtTyxFQUFBTyxTQUFBbkIsU0FDQStDLEdBQUFuQyxFQUFBeEcsU0FBQXNKLEdBQUFzRCxHQUFBakUsZUFHQSxJQUFBbkMsRUFBQWEsVUFBQWIsRUFBQVksT0FBQW9DLE1BQUEsUUFBQTZILEVBQUEsQ0FFQSxHQUFBL0gsR0FBQSxHQUFBOUMsRUFBQU8sU0FBQWpCLFdBQUFVLEVBQUFPLFNBQUFsQixVQUFBMkYsS0FBQS9CLElBQUEsR0FBQStCLEtBQUFoRixFQUFBeEcsU0FBQTNILE9BQUFtTyxFQUFBTyxTQUFBbEIsV0FDQTJHLEVBQUEvRixFQUFBekcsU0FBQSxhQUFBc0osR0FBQUEsRUFDQVgsR0FBQTZELEVBQUE3RCxlQUVBLElBQUEsUUFBQTBJLEdBQUEsR0FBQTdLLEVBQUFZLE9BQUEvTSxNQUVBc08sRUFBQWxDLEVBQUEyRCxLQUFBLGVBQUFkLEdBQUE5QyxFQUFBTyxTQUFBbEIsV0FBQThDLFdBQ0FuQyxFQUFBWSxPQUFBb0MsTUFBQSxNQUVBLElBQUF5RixHQUFBLEVBQUEsQ0FDQSxHQUFBeUMsR0FBQXpDLEVBQUF6RCxHQUNBN0MsR0FBQW5DLEVBQUF4RyxTQUFBc0osR0FBQW9JLEdBQUEvSSxXQU9BLEdBQUEsbUJBQUEsR0FBQSxDQUNBLEdBQUEvTixHQUFBLGNBQUE0TCxFQUFBTyxTQUFBbkUsT0FBQStGLEVBQUErRCxLQUFBK0UsSUFBQTlJLEVBQUFrRSxHQUVBSixHQUFBN1IsRUFBQSxRQUFBNEwsRUFBQU8sU0FBQS9ELFVBUUF5RCxFQUFBZ0ksY0FBQSxXQUVBLEdBQUFqSSxFQUFBTyxTQUFBakUsZUFBQTBELEVBQUFZLE9BQUFvQyxLQUFBLENBQ0EsR0FBQXVGLEdBQUEvSCxTQUFBUixFQUFBWSxPQUFBL00sT0FBQSxDQUNBb00sR0FBQXVJLFVBQUFELEVBQUEsVUFNQXRJLEVBQUFrSSxjQUFBLFdBRUEsR0FBQW5JLEVBQUFPLFNBQUFqRSxjQUFBLEdBQUEwRCxFQUFBWSxPQUFBL00sTUFBQSxDQUNBLEdBQUEwVSxHQUFBL0gsU0FBQVIsRUFBQVksT0FBQS9NLE9BQUEsQ0FDQW9NLEdBQUF1SSxVQUFBRCxFQUFBLFVBU0F0SSxFQUFBbUksVUFBQSxTQUFBK0MsR0FFQW5MLEVBQUFpQixXQUVBakIsRUFBQWlCLFNBQUFtSyxZQUFBLFdBQ0EsUUFBQXBMLEVBQUFPLFNBQUF2QixjQUFBaUIsRUFBQWdJLGdCQUFBaEksRUFBQWtJLGlCQUNBbkksRUFBQU8sU0FBQXpCLE9BRUFrQixFQUFBTyxTQUFBL0IsY0FBQSxHQUFBMk0sR0FBQXRELEVBQUEsVUFTQTVILEVBQUErSCxTQUFBLFNBQUFtRCxHQUVBbkwsRUFBQWlCLFdBRUFvSyxjQUFBckwsRUFBQWlCLFVBQ0FqQixFQUFBaUIsU0FBQSxLQUVBakIsRUFBQU8sU0FBQS9CLGNBQUEsR0FBQTJNLEdBQUF0RCxFQUFBLFdBTUE1SCxFQUFBcUwsZ0JBQUEsV0FDQSxNQUFBdEwsR0FBQVksT0FBQS9NLE9BTUFvTSxFQUFBc0wsdUJBQUEsV0FDQSxNQUFBdkwsR0FBQXhHLFNBQUFzSixHQUFBOUMsRUFBQVksT0FBQS9NLFFBTUFvTSxFQUFBdUwsY0FBQSxXQUNBLE1BQUF4TCxHQUFBeEcsU0FBQTNILFFBTUFvTyxFQUFBc0UsYUFBQSxXQUVBdkUsRUFBQXhHLFNBQUF5TCxJQUFBaEYsRUFBQTJELEtBQUEsY0FBQXpELE1BQUF3QyxLQUVBM0MsRUFBQThCLFNBQUFJLElBQUEsU0FBQW9DLEtBRUF0RSxFQUFBTyxTQUFBekQsUUFBQXVILElBR0FyRSxFQUFBWSxPQUFBb0MsT0FBQWhELEVBQUFZLE9BQUEvTSxNQUFBb1AsSUFBQSxHQUVBakQsRUFBQVksT0FBQS9NLE9BQUFvUCxNQUFBakQsRUFBQVksT0FBQW9DLE1BQUEsR0FFQWhELEVBQUFPLFNBQUExQyxRQUFBbUMsRUFBQU8sU0FBQXJDLGNBQ0EySSxJQUNBakMsRUFBQTVFLEVBQUFZLE9BQUEvTSxTQU9Bb00sRUFBQXdMLGNBQUEsV0FFQXpMLEVBQUF3RSxjQUNBeEUsRUFBQXdFLGFBQUEsRUFDQXpNLEVBQUEsWUFBQS9GLE1BQUFtQyxTQUNBNkwsRUFBQXhHLFNBQUF1RyxLQUFBLFdBQ0FwSixRQUFBb0IsRUFBQS9GLE1BQUEwUCxLQUFBLGFBQUEzSixFQUFBL0YsTUFBQTJQLEtBQUEsUUFBQTVKLEVBQUEvRixNQUFBMFAsS0FBQSxjQUFBM0osRUFBQS9GLE1BQUEwWixXQUFBLFdBRUEvVSxRQUFBb0IsRUFBQS9GLE1BQUEwUCxLQUFBLGFBQUExUCxLQUFBMlAsS0FBQSxRQUFBNUosRUFBQS9GLE1BQUEwUCxLQUFBLGNBQUEzSixFQUFBL0YsTUFBQTBaLFdBQUEsU0FDQTNULEVBQUEvRixNQUFBMlosU0FBQUEsU0FDQTNMLEVBQUE3QixTQUFBOEIsSUFBQUQsRUFBQTdCLFNBQUE4QixHQUFBOUwsU0FDQTZMLEVBQUE3QixTQUFBaUosTUFBQXBILEVBQUE3QixTQUFBaUosS0FBQWpULFNBQ0E2TCxFQUFBN0IsU0FBQWtKLE1BQUFySCxFQUFBN0IsU0FBQWtKLEtBQUFsVCxTQUNBNkwsRUFBQWlILFNBQUFqSCxFQUFBTyxTQUFBcEMsVUFBQTZCLEVBQUFpSCxRQUFBOVMsU0FDQTRELEVBQUEsY0FBQS9GLE1BQUFtQyxTQUNBNkwsRUFBQTdCLFNBQUF1SixRQUFBMUgsRUFBQTdCLFNBQUF1SixPQUFBdlQsU0FDQWtYLGNBQUFyTCxFQUFBaUIsVUFDQWpCLEVBQUFPLFNBQUFsRCxZQUFBdEYsRUFBQXRDLFFBQUFjLE9BQUEsU0FBQWtPLEtBTUF4RSxFQUFBMkwsYUFBQSxTQUFBckwsR0FDQTVKLFFBQUE0SixJQUFBN0ksRUFBQTZJLEdBQ0FOLEVBQUF3TCxnQkFDQW5MLEtBR0FBLElBR0F0TyxPQUdBMkcsUUNyekNBLFNBQUFvUCxFQUFBOEQsRUFBQUMsR0FBQSxZQUFBLElBQUFsYSxHQUFBbWEsRUFBQUYsRUFBQWpXLEtBQUFtVyxHQUFBQyxRQUFBQyxhQUFBckssTUFBQSxXQUFBaUssRUFBQTdaLE1BQUFrRSxLQUFBLFNBQUE2VixFQUFBQyxRQUFBQyxZQUFBQyxVQUFBQyxTQUFBLFdBQUFOLEVBQUE3WixNQUFBdUUsT0FBQSxTQUFBd1YsRUFBQUMsUUFBQUMsWUFBQUMsVUFBQUEsUUFBQSxTQUFBbkUsRUFBQThELEdBQUEsR0FBQUMsR0FBQTlaLEtBQUFvYSxFQUFBbGEsU0FBQTZWLEdBQUFyVCxLQUFBLGNBQUE5QyxHQUFBeWEsYUFBQXphLEdBQUFBLEVBQUF1RyxXQUFBLFdBQUE0VCxFQUFBTyxTQUFBcmEsTUFBQTZaLEVBQUFNLElBQUEsYUFBQVAsRUFBQSxFQUFBLE9BQUFBLEVBQUF6VixHQUFBNlYsWUFBQSxTQUFBbEUsR0FBQSxNQUFBQSxHQUFBL1YsS0FBQWtFLEtBQUEsY0FBQTZSLEdBQUEvVixLQUFBZ0QsUUFBQSxlQUFBLGNBQUE2VyxFQUFBVSxNQUFBLFNBQUF4RSxFQUFBK0QsR0FBQTlaLEtBQUF5RyxRQUFBb1QsRUFBQUMsR0FBQTlaLEtBQUF3YSxRQUFBekUsR0FBQS9WLEtBQUF5YSxTQUFBWixFQUFBVSxNQUFBaE0sVUFBQW1NLGFBQUEsRUFBQUMsWUFBQSxFQUFBQyxrQkFBQUMsT0FBQSxFQUFBdkcsU0FBQSxLQUFBd0csWUFBQSxFQUFBQyxPQUFBLEVBQUFDLFlBQUEsRUFBQUMsZ0JBQUE5SyxTQUFBLGFBQUEwSixFQUFBVSxNQUFBbmEsV0FBQThhLGtCQUFBLFNBQUFuRixHQUFBLEdBQUE4RCxHQUFBN1osS0FBQTBGLFFBQUF5VixZQUFBLE9BQUF0QixHQUFBOUQsRUFBQStDLE9BQUFlLEdBQUE1RyxJQUFBOEMsRUFBQW5FLEtBQUFpSSxJQUFBOUQsR0FBQXFGLFdBQUEsU0FBQXJGLEdBQUEsR0FBQThELEdBQUE3WixLQUFBa2Isa0JBQUFuRixHQUFBN0YsS0FBQUMsU0FBQSxhQUFBK0IsU0FBQSxnQkFBQSxPQUFBMkgsSUFBQVcsUUFBQSxTQUFBVixHQUFBOVosS0FBQTBGLFFBQUFtVSxFQUFBN1UsUUFBQSxLQUFBNlUsRUFBQVUsTUFBQWhNLFNBQUF1TCxHQUFBOVosS0FBQXFiLGFBQUEsSUFBQXRCLEdBQUEvWixLQUFBeUcsUUFBQSxHQUFBb0IsS0FBQTdILE1BQUFzYixlQUFBak4sT0FBQTBMLEVBQUExTCxRQUFBLEdBQUEsSUFBQXpPLEdBQUFJLEtBQUEwRixRQUFBdVYsY0FBQSxLQUFBLEdBQUFiLEtBQUF4YSxHQUFBSSxLQUFBc2IsY0FBQWxCLEdBQUFMLEVBQUFLLElBQUEsRUFBQXBhLE1BQUF5RyxRQUFBeUosSUFBQXRRLEdBQUFJLEtBQUF1YixvQkFBQXZiLEtBQUEwRixRQUFBcVYsTUFBQSxRQUFBLE1BQUEsSUFBQVMsR0FBQXhiLEtBQUF5RyxRQUFBeUosSUFBQSxXQUFBbFEsS0FBQXViLHFCQUFBRSxFQUFBemIsS0FBQXlHLFFBQUF5SixJQUFBLGNBQUFsUSxNQUFBMGIsUUFBQS9ELEVBQUE2RCxFQUFBaE4sU0FBQWdOLEVBQUEsSUFBQSxFQUFBNUQsRUFBQTZELEVBQUFqTixTQUFBaU4sRUFBQSxJQUFBLEdBQUF6YixLQUFBMmIsUUFBQTNiLEtBQUEwRixRQUFBa1csYUFBQSxrQkFBQTViLE1BQUEwRixRQUFBa1csV0FBQSxJQUFBM1csR0FBQWpGLElBQUFtRyxZQUFBLFdBQUFsQixFQUFBd0IsUUFBQXlMLFNBQUEsWUFBQSxHQUFBbFMsS0FBQTBGLFFBQUFnVixhQUFBYixFQUFBOUQsR0FBQTdSLEtBQUEsc0JBQUEsV0FBQWUsRUFBQTRXLFdBQUE3YixLQUFBOGIsZUFBQXJCLE1BQUEsU0FBQTFFLEdBQUEvVixLQUFBK2IsY0FBQS9iLEtBQUFnYyxVQUFBakcsSUFBQWtHLE9BQUEsU0FBQWxHLEVBQUErRCxHQUFBRCxFQUFBcUMsY0FBQW5HLEtBQUEvVixLQUFBMEYsUUFBQW1VLEVBQUE3VSxRQUFBLEVBQUFoRixLQUFBMEYsUUFBQXFRLEtBQUFvRyxPQUFBLFNBQUFwRyxFQUFBOEQsR0FBQSxJQUFBLEdBQUFDLEdBQUEsRUFBQUMsRUFBQWhFLEVBQUFsVyxPQUFBaWEsRUFBQUMsRUFBQUQsSUFBQTlaLEtBQUFvYyxZQUFBckcsRUFBQStELEdBQUEsSUFBQWxhLEtBQUEsSUFBQUEsRUFBQXlPLE9BQUFJLEtBQUEwRSxJQUFBbFQsTUFBQXdPLEtBQUF6TyxLQUFBcWMsT0FBQXJjLEtBQUEwRixRQUFBc1YsV0FBQSxDQUFBLEdBQUFaLEdBQUEsQ0FBQSxLQUFBTixFQUFBOVosS0FBQXNjLE9BQUF4QyxHQUFBLElBQUE5WixLQUFBcWMsTUFBQXZDLElBQUFNLEdBQUF4YSxHQUFBdU8sT0FBQW5PLEtBQUFzYyxLQUFBbEMsR0FBQXBhLEtBQUE0YixZQUFBNWIsS0FBQTBGLFFBQUFvVixZQUFBOWEsS0FBQXFiLFdBQUFwYSxNQUFBc2IsSUFBQXZjLEtBQUF5RyxRQUFBb0IsTUFBQWpJLEdBQUEsSUFBQXFGLEdBQUF1VyxFQUFBeGIsS0FBQXdjLFdBQUF4YyxLQUFBMEYsUUFBQWlWLFdBQUEsVUFBQSxNQUFBYyxFQUFBemIsS0FBQTBGLFFBQUFrVixnQkFBQSxLQUFBZCxFQUFBLEVBQUFDLEVBQUEvWixLQUFBcWIsV0FBQXhiLE9BQUFpYSxFQUFBQyxFQUFBRCxJQUFBN1UsRUFBQWpGLEtBQUFxYixXQUFBdkIsR0FBQTdVLEVBQUFzWCxJQUFBZixHQUFBdlcsRUFBQTRDLE1BQUE0VCxFQUFBemIsTUFBQXFiLGNBQUF4QixHQUFBQSxFQUFBclgsS0FBQXVULEdBQUEvVixLQUFBd2MsV0FBQSxHQUFBVCxZQUFBLFdBQUEsR0FBQWhHLEdBQUEvVixLQUFBMEYsUUFBQXNWLFdBQUFoYixLQUFBeUcsUUFBQXNKLFNBQUEvUCxLQUFBeUcsUUFBQW9ULEVBQUE5RCxFQUFBNUgsT0FBQW5PLE1BQUE0YixZQUFBNWIsS0FBQTJiLFFBQUEzYixLQUFBMEYsUUFBQWtXLFlBQUEvQixHQUFBN1osS0FBQTBGLFFBQUFrVyxhQUFBNWIsS0FBQXljLFFBQUF0SSxZQUFBLElBQUEwRixFQUFBN1osS0FBQTRiLGFBQUE1YixLQUFBMEYsUUFBQW9WLFlBQUE5YSxLQUFBc2MsS0FBQTdOLEtBQUFDLE9BQUFtTCxFQUFBN1osS0FBQTBGLFFBQUFvVixhQUFBOWEsS0FBQTRiLGFBQUE1YixLQUFBc2MsS0FBQTdOLEtBQUEwRSxJQUFBblQsS0FBQXNjLEtBQUEsSUFBQUYsWUFBQSxTQUFBckcsR0FBQSxHQUFBZ0UsR0FBQW5hLEVBQUF3YSxFQUFBb0IsRUFBQUMsRUFBQTNCLEVBQUFELEVBQUE5RCxFQUFBLElBQUFnRSxFQUFBdEwsS0FBQW9GLEtBQUFpRyxFQUFBM0YsWUFBQSxHQUFBblUsS0FBQTRiLGFBQUE3QixFQUFBdEwsS0FBQWlPLElBQUEzQyxFQUFBL1osS0FBQXNjLE1BQUEsSUFBQXZDLEVBQUFLLEVBQUFwYSxLQUFBcWMsVUFBQSxLQUFBemMsRUFBQUksS0FBQXNjLEtBQUEsRUFBQXZDLEVBQUFLLEtBQUFxQixFQUFBLEVBQUFBLEVBQUE3YixFQUFBNmIsSUFBQUQsRUFBQXhiLEtBQUFxYyxNQUFBblosTUFBQXVZLEVBQUFBLEVBQUExQixHQUFBSyxFQUFBcUIsR0FBQWhOLEtBQUEwRSxJQUFBbFQsTUFBQXdPLEtBQUErTSxFQUFBLEtBQUEsR0FBQXZXLEdBQUF3SixLQUFBaU8sSUFBQXpjLE1BQUF3TyxLQUFBMkwsR0FBQXVDLEVBQUEsRUFBQUMsRUFBQSxFQUFBQyxFQUFBekMsRUFBQXZhLE9BQUErYyxFQUFBQyxFQUFBRCxJQUFBLEdBQUF4QyxFQUFBd0MsS0FBQTNYLEVBQUEsQ0FBQTBYLEVBQUFDLENBQUEsT0FBQSxHQUFBRSxJQUFBekksSUFBQXBQLEVBQUFqRixLQUFBMGIsT0FBQTlELEVBQUFrRixHQUFBOWMsS0FBQXViLHFCQUFBdmIsS0FBQTRiLFlBQUFlLEVBQUEzYyxLQUFBMGIsT0FBQS9ELEVBQUEzWCxLQUFBcWIsV0FBQXBhLE1BQUFzYixJQUFBekMsRUFBQWpTLE1BQUFpVixHQUFBLElBQUFDLEdBQUE5WCxFQUFBNlUsRUFBQTVHLGFBQUEsR0FBQThKLEVBQUFoZCxLQUFBc2MsS0FBQSxFQUFBTyxDQUFBLEtBQUFELEVBQUEsRUFBQUEsRUFBQUksRUFBQUosSUFBQTVjLEtBQUFxYyxNQUFBTSxFQUFBQyxHQUFBRyxHQUFBbEIsT0FBQSxXQUFBLEdBQUE5RixHQUFBL1YsS0FBQXNjLElBQUF0YyxNQUFBK2IsZUFBQS9iLEtBQUEyYixTQUFBM2IsS0FBQXNjLE9BQUF2RyxJQUFBL1YsS0FBQWdjLGFBQUFBLFVBQUEsU0FBQWpHLEdBQUEsR0FBQThELEdBQUE3WixLQUFBc2MsSUFBQSxLQUFBdGMsS0FBQXFjLFNBQUF4QyxLQUFBN1osS0FBQXFjLE1BQUFwYixLQUFBLEVBQUFqQixNQUFBbWMsT0FBQW5jLEtBQUF5YyxRQUFBMUcsSUFBQStGLFlBQUEsV0FBQTliLEtBQUF5YyxRQUFBemMsS0FBQW9iLFdBQUFwYixLQUFBeUcsUUFBQWUsYUFBQXlWLE9BQUEsU0FBQWxILEdBQUEvVixLQUFBOGIsY0FBQTliLEtBQUF5YSxNQUFBMUUsSUFBQW1ILFNBQUEsU0FBQW5ILEVBQUE4RCxFQUFBQyxHQUFBLEdBQUFELEVBQUEsQ0FBQTdaLEtBQUFrYixrQkFBQW5GLEdBQUE3RixLQUFBbUUsSUFBQXJVLEtBQUF5RyxRQUFBNEgsVUFBQSxJQUFBMEwsR0FBQS9aLElBQUFtRyxZQUFBLFdBQUE0VCxFQUFBb0QsVUFBQXBILEVBQUErRCxJQUFBLE9BQUE5WixNQUFBbWQsVUFBQXBILEVBQUErRCxJQUFBcUQsVUFBQSxTQUFBcEgsRUFBQThELEdBQUEsR0FBQUMsR0FBQTlaLEtBQUFvYixXQUFBckYsRUFBQS9WLE1BQUF5YyxRQUFBemMsS0FBQXljLFFBQUF4SixJQUFBNkcsR0FBQTlaLEtBQUFtYyxPQUFBckMsRUFBQUQsSUFBQTFYLE9BQUEsU0FBQTRULEdBQUEvVixLQUFBeWMsUUFBQXpjLEtBQUF5YyxRQUFBVyxJQUFBckgsR0FBQUEsRUFBQTVULFVBQUFrYixRQUFBLFdBQUFyZCxLQUFBeWMsUUFBQTlGLFlBQUEsaUJBQUE1SSxLQUFBLFdBQUEvTixLQUFBNkgsTUFBQXNJLFNBQUEsR0FBQW5RLEtBQUE2SCxNQUFBd00sSUFBQSxHQUFBclUsS0FBQTZILE1BQUFxTSxLQUFBLElBQUEsSUFBQTRGLEdBQUE5WixLQUFBeUcsUUFBQSxHQUFBb0IsS0FBQSxLQUFBLEdBQUFrUyxLQUFBL1osTUFBQXNiLGNBQUF4QixFQUFBQyxHQUFBL1osS0FBQXNiLGNBQUF2QixFQUFBL1osTUFBQXlHLFFBQUFsQyxPQUFBLFlBQUFvUyxZQUFBLFdBQUEyRyxXQUFBLFdBQUF6RCxFQUFBOUQsR0FBQXhSLE9BQUEsY0FBQXNWLEVBQUF6VixHQUFBVyxhQUFBLFNBQUFnUixHQUFBLFFBQUEwRixLQUFBMUYsRUFBQXZULEtBQUFzWCxFQUFBQyxHQUFBLFFBQUE5VSxHQUFBOFEsR0FBQSxHQUFBK0QsR0FBQS9ELEVBQUFsUyxNQUFBaVcsR0FBQXJRLE1BQUEyUSxHQUFBUCxFQUFBMEQsUUFBQXpELEVBQUEwQixVQUFBQSxFQUFBdmEsS0FBQTZZO0VBQUFsYSxHQUFBLElBQUF1RyxXQUFBc1YsR0FBQTFCLEVBQUF4VixPQUFBLGdCQUFBVSxLQUFBLEdBQUE2VSxHQUFBOVosS0FBQStaLEVBQUFELEVBQUFsSSxLQUFBLE9BQUFxQixJQUFBNkcsRUFBQWhCLE9BQUEsUUFBQWxaLEVBQUFtYSxFQUFBbGEsT0FBQXVhLEVBQUEseUVBQUFvQixJQUFBLE9BQUE1YixJQUFBNmIsSUFBQTFCLEVBQUE3VixLQUFBLHVDQUFBZSxHQUFBOEksS0FBQSxXQUFBLEdBQUFnSSxHQUFBL1YsS0FBQXlKLEdBQUF6SixNQUFBeUosSUFBQTJRLEVBQUFwYSxLQUFBeUosSUFBQXNNLElBQUErRCxFQUFBLElBQUFNLEdBQUEsU0FBQVAsR0FBQTlELEVBQUFuUCxTQUFBbVAsRUFBQW5QLFFBQUE0VyxNQUFBM0QsR0FBQUEsR0FBQXpWLEdBQUFxWixRQUFBLFNBQUExSCxHQUFBLEdBQUEsZ0JBQUFBLEdBQUEsQ0FBQSxHQUFBK0QsR0FBQTNZLE1BQUFmLFVBQUE4QyxNQUFBVixLQUFBdEMsVUFBQSxFQUFBRixNQUFBK04sS0FBQSxXQUFBLEdBQUFnTSxHQUFBRixFQUFBbkssS0FBQTFQLEtBQUEsVUFBQSxPQUFBK1osR0FBQUYsRUFBQTdFLFdBQUErRSxFQUFBaEUsS0FBQSxNQUFBQSxFQUFBMkgsT0FBQSxPQUFBM0QsR0FBQWhFLEdBQUE5VixNQUFBOFosRUFBQUQsT0FBQU0sR0FBQSxtQkFBQXJFLEVBQUEsOEJBQUFxRSxHQUFBLHFGQUFBckUsRUFBQSxXQUFBL1YsTUFBQStOLEtBQUEsV0FBQSxHQUFBK0wsR0FBQUQsRUFBQW5LLEtBQUExUCxLQUFBLFVBQUE4WixJQUFBQSxFQUFBbUMsT0FBQWxHLE9BQUErRCxFQUFBVyxTQUFBWixFQUFBbkssS0FBQTFQLEtBQUEsVUFBQSxHQUFBNlosR0FBQVUsTUFBQXhFLEVBQUEvVixRQUFBLE9BQUFBLFFBQUF5RCxPQUFBa0QsUUNUQVosRUFBQSxXQU9BLFFBQUE0WCxLQUNBLEdBQUFDLEdBQUE3WCxFQUFBLFFBQ0E2WCxHQUFBN1ksYUFBQSxXQUNBNlksRUFBQUgsU0FDQXRDLGFBQUEsYUFDQVMsWUFBQSxTQUFBaUMsR0FDQSxNQUFBQSxHQUFBLEVBQUEsSUFFQS9DLFlBQUEsT0FLQSxRQUFBZ0QsS0FDQS9YLEVBQUEsVUFBQTZMLEtBQUEsT0FBQXpQLFFBQ0EsSUFBQTRiLEdBQUFoWSxFQUFBLGtCQUFBaVksS0FFQWpZLEdBQUFrWSxNQUNBelgsSUFBQSxvRUFBQXVYLEVBQUEsb0JBQ0FHLFNBQUEsUUFDQUMsUUFBQSxTQUFBek8sR0FFQSxHQUFBME8sR0FBQXJZLEVBQUEsY0FBQW1QLE9BQ0FtSixFQUFBQyxLQUFBRixFQUFBMU8sRUFDQTNKLEdBQUEsVUFBQXFNLE9BQUFpTSxHQUNBVixLQUVBSCxNQUFBLFdBQ0FlLE1BQUEsYUFqQ0F4WSxFQUFBLGFBQUErSCxVQUNBakIsTUFBQSxFQUNBTCxjQUFBLElBb0NBc1IsSUFFQS9YLEVBQUEsbUJBQUF4RSxHQUFBLFFBQUEsU0FBQXdVLEdBQ0FBLEVBQUFHLGlCQUNBNEgsSUFDQS9YLEVBQUEsa0JBQUFpWSxJQUFBLFFDM0NBLFdBQ0EsR0FBQVEsS0FFQXhlLE1BQUFzZSxLQUFBLFFBQUFBLEdBQUFHLEVBQUEvTyxHQUdBLEdBQUF0TCxHQUFBLEtBQUF0RCxLQUFBMmQsR0FNQSxHQUFBQyxVQUFBLE1BQ0EsMkVBTUFELEVBQ0FqUCxRQUFBLFlBQUEsS0FDQW1QLE1BQUEsTUFBQUMsS0FBQSxNQUNBcFAsUUFBQSxtQkFBQSxRQUNBQSxRQUFBLGNBQUEsVUFDQW1QLE1BQUEsTUFBQUMsS0FBQSxPQUNBRCxNQUFBLE1BQUFDLEtBQUEsWUFDQUQsTUFBQSxNQUFBQyxLQUFBLE9BQ0EsMEJBcEJBSixFQUFBQyxHQUFBRCxFQUFBQyxJQUNBSCxFQUFBdGEsU0FBQTZhLGVBQUFKLEdBQUFLLFVBc0JBLE9BQUFwUCxHQUFBdEwsRUFBQXNMLEdBQUF0TCIsImZpbGUiOiJzY3JpcHQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXHJcbiAqIGltYWdlc0xvYWRlZCBQQUNLQUdFRCB2My4yLjBcclxuICogSmF2YVNjcmlwdCBpcyBhbGwgbGlrZSBcIllvdSBpbWFnZXMgYXJlIGRvbmUgeWV0IG9yIHdoYXQ/XCJcclxuICogTUlUIExpY2Vuc2VcclxuICovXHJcblxyXG4vKiFcclxuICogRXZlbnRFbWl0dGVyIHY0LjIuNiAtIGdpdC5pby9lZVxyXG4gKiBPbGl2ZXIgQ2FsZHdlbGxcclxuICogTUlUIGxpY2Vuc2VcclxuICogQHByZXNlcnZlXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uICgpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdC8qKlxyXG5cdCAqIENsYXNzIGZvciBtYW5hZ2luZyBldmVudHMuXHJcblx0ICogQ2FuIGJlIGV4dGVuZGVkIHRvIHByb3ZpZGUgZXZlbnQgZnVuY3Rpb25hbGl0eSBpbiBvdGhlciBjbGFzc2VzLlxyXG5cdCAqXHJcblx0ICogQGNsYXNzIEV2ZW50RW1pdHRlciBNYW5hZ2VzIGV2ZW50IHJlZ2lzdGVyaW5nIGFuZCBlbWl0dGluZy5cclxuXHQgKi9cclxuXHRmdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7fVxyXG5cclxuXHQvLyBTaG9ydGN1dHMgdG8gaW1wcm92ZSBzcGVlZCBhbmQgc2l6ZVxyXG5cdHZhciBwcm90byA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGU7XHJcblx0dmFyIGV4cG9ydHMgPSB0aGlzO1xyXG5cdHZhciBvcmlnaW5hbEdsb2JhbFZhbHVlID0gZXhwb3J0cy5FdmVudEVtaXR0ZXI7XHJcblxyXG5cdC8qKlxyXG5cdCAqIEZpbmRzIHRoZSBpbmRleCBvZiB0aGUgbGlzdGVuZXIgZm9yIHRoZSBldmVudCBpbiBpdCdzIHN0b3JhZ2UgYXJyYXkuXHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9uW119IGxpc3RlbmVycyBBcnJheSBvZiBsaXN0ZW5lcnMgdG8gc2VhcmNoIHRocm91Z2guXHJcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgTWV0aG9kIHRvIGxvb2sgZm9yLlxyXG5cdCAqIEByZXR1cm4ge051bWJlcn0gSW5kZXggb2YgdGhlIHNwZWNpZmllZCBsaXN0ZW5lciwgLTEgaWYgbm90IGZvdW5kXHJcblx0ICogQGFwaSBwcml2YXRlXHJcblx0ICovXHJcblx0ZnVuY3Rpb24gaW5kZXhPZkxpc3RlbmVyKGxpc3RlbmVycywgbGlzdGVuZXIpIHtcclxuXHRcdHZhciBpID0gbGlzdGVuZXJzLmxlbmd0aDtcclxuXHRcdHdoaWxlIChpLS0pIHtcclxuXHRcdFx0aWYgKGxpc3RlbmVyc1tpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcclxuXHRcdFx0XHRyZXR1cm4gaTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiAtMTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFsaWFzIGEgbWV0aG9kIHdoaWxlIGtlZXBpbmcgdGhlIGNvbnRleHQgY29ycmVjdCwgdG8gYWxsb3cgZm9yIG92ZXJ3cml0aW5nIG9mIHRhcmdldCBtZXRob2QuXHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgdGFyZ2V0IG1ldGhvZC5cclxuXHQgKiBAcmV0dXJuIHtGdW5jdGlvbn0gVGhlIGFsaWFzZWQgbWV0aG9kXHJcblx0ICogQGFwaSBwcml2YXRlXHJcblx0ICovXHJcblx0ZnVuY3Rpb24gYWxpYXMobmFtZSkge1xyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uIGFsaWFzQ2xvc3VyZSgpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXNbbmFtZV0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZXR1cm5zIHRoZSBsaXN0ZW5lciBhcnJheSBmb3IgdGhlIHNwZWNpZmllZCBldmVudC5cclxuXHQgKiBXaWxsIGluaXRpYWxpc2UgdGhlIGV2ZW50IG9iamVjdCBhbmQgbGlzdGVuZXIgYXJyYXlzIGlmIHJlcXVpcmVkLlxyXG5cdCAqIFdpbGwgcmV0dXJuIGFuIG9iamVjdCBpZiB5b3UgdXNlIGEgcmVnZXggc2VhcmNoLiBUaGUgb2JqZWN0IGNvbnRhaW5zIGtleXMgZm9yIGVhY2ggbWF0Y2hlZCBldmVudC4gU28gL2JhW3J6XS8gbWlnaHQgcmV0dXJuIGFuIG9iamVjdCBjb250YWluaW5nIGJhciBhbmQgYmF6LiBCdXQgb25seSBpZiB5b3UgaGF2ZSBlaXRoZXIgZGVmaW5lZCB0aGVtIHdpdGggZGVmaW5lRXZlbnQgb3IgYWRkZWQgc29tZSBsaXN0ZW5lcnMgdG8gdGhlbS5cclxuXHQgKiBFYWNoIHByb3BlcnR5IGluIHRoZSBvYmplY3QgcmVzcG9uc2UgaXMgYW4gYXJyYXkgb2YgbGlzdGVuZXIgZnVuY3Rpb25zLlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtTdHJpbmd8UmVnRXhwfSBldnQgTmFtZSBvZiB0aGUgZXZlbnQgdG8gcmV0dXJuIHRoZSBsaXN0ZW5lcnMgZnJvbS5cclxuXHQgKiBAcmV0dXJuIHtGdW5jdGlvbltdfE9iamVjdH0gQWxsIGxpc3RlbmVyIGZ1bmN0aW9ucyBmb3IgdGhlIGV2ZW50LlxyXG5cdCAqL1xyXG5cdHByb3RvLmdldExpc3RlbmVycyA9IGZ1bmN0aW9uIGdldExpc3RlbmVycyhldnQpIHtcclxuXHRcdHZhciBldmVudHMgPSB0aGlzLl9nZXRFdmVudHMoKTtcclxuXHRcdHZhciByZXNwb25zZTtcclxuXHRcdHZhciBrZXk7XHJcblxyXG5cdFx0Ly8gUmV0dXJuIGEgY29uY2F0ZW5hdGVkIGFycmF5IG9mIGFsbCBtYXRjaGluZyBldmVudHMgaWZcclxuXHRcdC8vIHRoZSBzZWxlY3RvciBpcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbi5cclxuXHRcdGlmICh0eXBlb2YgZXZ0ID09PSAnb2JqZWN0Jykge1xyXG5cdFx0XHRyZXNwb25zZSA9IHt9O1xyXG5cdFx0XHRmb3IgKGtleSBpbiBldmVudHMpIHtcclxuXHRcdFx0XHRpZiAoZXZlbnRzLmhhc093blByb3BlcnR5KGtleSkgJiYgZXZ0LnRlc3Qoa2V5KSkge1xyXG5cdFx0XHRcdFx0cmVzcG9uc2Vba2V5XSA9IGV2ZW50c1trZXldO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0ZWxzZSB7XHJcblx0XHRcdHJlc3BvbnNlID0gZXZlbnRzW2V2dF0gfHwgKGV2ZW50c1tldnRdID0gW10pO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXNwb25zZTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBUYWtlcyBhIGxpc3Qgb2YgbGlzdGVuZXIgb2JqZWN0cyBhbmQgZmxhdHRlbnMgaXQgaW50byBhIGxpc3Qgb2YgbGlzdGVuZXIgZnVuY3Rpb25zLlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtPYmplY3RbXX0gbGlzdGVuZXJzIFJhdyBsaXN0ZW5lciBvYmplY3RzLlxyXG5cdCAqIEByZXR1cm4ge0Z1bmN0aW9uW119IEp1c3QgdGhlIGxpc3RlbmVyIGZ1bmN0aW9ucy5cclxuXHQgKi9cclxuXHRwcm90by5mbGF0dGVuTGlzdGVuZXJzID0gZnVuY3Rpb24gZmxhdHRlbkxpc3RlbmVycyhsaXN0ZW5lcnMpIHtcclxuXHRcdHZhciBmbGF0TGlzdGVuZXJzID0gW107XHJcblx0XHR2YXIgaTtcclxuXHJcblx0XHRmb3IgKGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSArPSAxKSB7XHJcblx0XHRcdGZsYXRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcnNbaV0ubGlzdGVuZXIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBmbGF0TGlzdGVuZXJzO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEZldGNoZXMgdGhlIHJlcXVlc3RlZCBsaXN0ZW5lcnMgdmlhIGdldExpc3RlbmVycyBidXQgd2lsbCBhbHdheXMgcmV0dXJuIHRoZSByZXN1bHRzIGluc2lkZSBhbiBvYmplY3QuIFRoaXMgaXMgbWFpbmx5IGZvciBpbnRlcm5hbCB1c2UgYnV0IG90aGVycyBtYXkgZmluZCBpdCB1c2VmdWwuXHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IGV2dCBOYW1lIG9mIHRoZSBldmVudCB0byByZXR1cm4gdGhlIGxpc3RlbmVycyBmcm9tLlxyXG5cdCAqIEByZXR1cm4ge09iamVjdH0gQWxsIGxpc3RlbmVyIGZ1bmN0aW9ucyBmb3IgYW4gZXZlbnQgaW4gYW4gb2JqZWN0LlxyXG5cdCAqL1xyXG5cdHByb3RvLmdldExpc3RlbmVyc0FzT2JqZWN0ID0gZnVuY3Rpb24gZ2V0TGlzdGVuZXJzQXNPYmplY3QoZXZ0KSB7XHJcblx0XHR2YXIgbGlzdGVuZXJzID0gdGhpcy5nZXRMaXN0ZW5lcnMoZXZ0KTtcclxuXHRcdHZhciByZXNwb25zZTtcclxuXHJcblx0XHRpZiAobGlzdGVuZXJzIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuXHRcdFx0cmVzcG9uc2UgPSB7fTtcclxuXHRcdFx0cmVzcG9uc2VbZXZ0XSA9IGxpc3RlbmVycztcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzcG9uc2UgfHwgbGlzdGVuZXJzO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZHMgYSBsaXN0ZW5lciBmdW5jdGlvbiB0byB0aGUgc3BlY2lmaWVkIGV2ZW50LlxyXG5cdCAqIFRoZSBsaXN0ZW5lciB3aWxsIG5vdCBiZSBhZGRlZCBpZiBpdCBpcyBhIGR1cGxpY2F0ZS5cclxuXHQgKiBJZiB0aGUgbGlzdGVuZXIgcmV0dXJucyB0cnVlIHRoZW4gaXQgd2lsbCBiZSByZW1vdmVkIGFmdGVyIGl0IGlzIGNhbGxlZC5cclxuXHQgKiBJZiB5b3UgcGFzcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBhcyB0aGUgZXZlbnQgbmFtZSB0aGVuIHRoZSBsaXN0ZW5lciB3aWxsIGJlIGFkZGVkIHRvIGFsbCBldmVudHMgdGhhdCBtYXRjaCBpdC5cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gZXZ0IE5hbWUgb2YgdGhlIGV2ZW50IHRvIGF0dGFjaCB0aGUgbGlzdGVuZXIgdG8uXHJcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgTWV0aG9kIHRvIGJlIGNhbGxlZCB3aGVuIHRoZSBldmVudCBpcyBlbWl0dGVkLiBJZiB0aGUgZnVuY3Rpb24gcmV0dXJucyB0cnVlIHRoZW4gaXQgd2lsbCBiZSByZW1vdmVkIGFmdGVyIGNhbGxpbmcuXHJcblx0ICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXHJcblx0ICovXHJcblx0cHJvdG8uYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiBhZGRMaXN0ZW5lcihldnQsIGxpc3RlbmVyKSB7XHJcblx0XHR2YXIgbGlzdGVuZXJzID0gdGhpcy5nZXRMaXN0ZW5lcnNBc09iamVjdChldnQpO1xyXG5cdFx0dmFyIGxpc3RlbmVySXNXcmFwcGVkID0gdHlwZW9mIGxpc3RlbmVyID09PSAnb2JqZWN0JztcclxuXHRcdHZhciBrZXk7XHJcblxyXG5cdFx0Zm9yIChrZXkgaW4gbGlzdGVuZXJzKSB7XHJcblx0XHRcdGlmIChsaXN0ZW5lcnMuaGFzT3duUHJvcGVydHkoa2V5KSAmJiBpbmRleE9mTGlzdGVuZXIobGlzdGVuZXJzW2tleV0sIGxpc3RlbmVyKSA9PT0gLTEpIHtcclxuXHRcdFx0XHRsaXN0ZW5lcnNba2V5XS5wdXNoKGxpc3RlbmVySXNXcmFwcGVkID8gbGlzdGVuZXIgOiB7XHJcblx0XHRcdFx0XHRsaXN0ZW5lcjogbGlzdGVuZXIsXHJcblx0XHRcdFx0XHRvbmNlOiBmYWxzZVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogQWxpYXMgb2YgYWRkTGlzdGVuZXJcclxuXHQgKi9cclxuXHRwcm90by5vbiA9IGFsaWFzKCdhZGRMaXN0ZW5lcicpO1xyXG5cclxuXHQvKipcclxuXHQgKiBTZW1pLWFsaWFzIG9mIGFkZExpc3RlbmVyLiBJdCB3aWxsIGFkZCBhIGxpc3RlbmVyIHRoYXQgd2lsbCBiZVxyXG5cdCAqIGF1dG9tYXRpY2FsbHkgcmVtb3ZlZCBhZnRlciBpdCdzIGZpcnN0IGV4ZWN1dGlvbi5cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gZXZ0IE5hbWUgb2YgdGhlIGV2ZW50IHRvIGF0dGFjaCB0aGUgbGlzdGVuZXIgdG8uXHJcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgTWV0aG9kIHRvIGJlIGNhbGxlZCB3aGVuIHRoZSBldmVudCBpcyBlbWl0dGVkLiBJZiB0aGUgZnVuY3Rpb24gcmV0dXJucyB0cnVlIHRoZW4gaXQgd2lsbCBiZSByZW1vdmVkIGFmdGVyIGNhbGxpbmcuXHJcblx0ICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXHJcblx0ICovXHJcblx0cHJvdG8uYWRkT25jZUxpc3RlbmVyID0gZnVuY3Rpb24gYWRkT25jZUxpc3RlbmVyKGV2dCwgbGlzdGVuZXIpIHtcclxuXHRcdHJldHVybiB0aGlzLmFkZExpc3RlbmVyKGV2dCwge1xyXG5cdFx0XHRsaXN0ZW5lcjogbGlzdGVuZXIsXHJcblx0XHRcdG9uY2U6IHRydWVcclxuXHRcdH0pO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFsaWFzIG9mIGFkZE9uY2VMaXN0ZW5lci5cclxuXHQgKi9cclxuXHRwcm90by5vbmNlID0gYWxpYXMoJ2FkZE9uY2VMaXN0ZW5lcicpO1xyXG5cclxuXHQvKipcclxuXHQgKiBEZWZpbmVzIGFuIGV2ZW50IG5hbWUuIFRoaXMgaXMgcmVxdWlyZWQgaWYgeW91IHdhbnQgdG8gdXNlIGEgcmVnZXggdG8gYWRkIGEgbGlzdGVuZXIgdG8gbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2UuIElmIHlvdSBkb24ndCBkbyB0aGlzIHRoZW4gaG93IGRvIHlvdSBleHBlY3QgaXQgdG8ga25vdyB3aGF0IGV2ZW50IHRvIGFkZCB0bz8gU2hvdWxkIGl0IGp1c3QgYWRkIHRvIGV2ZXJ5IHBvc3NpYmxlIG1hdGNoIGZvciBhIHJlZ2V4PyBOby4gVGhhdCBpcyBzY2FyeSBhbmQgYmFkLlxyXG5cdCAqIFlvdSBuZWVkIHRvIHRlbGwgaXQgd2hhdCBldmVudCBuYW1lcyBzaG91bGQgYmUgbWF0Y2hlZCBieSBhIHJlZ2V4LlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtTdHJpbmd9IGV2dCBOYW1lIG9mIHRoZSBldmVudCB0byBjcmVhdGUuXHJcblx0ICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXHJcblx0ICovXHJcblx0cHJvdG8uZGVmaW5lRXZlbnQgPSBmdW5jdGlvbiBkZWZpbmVFdmVudChldnQpIHtcclxuXHRcdHRoaXMuZ2V0TGlzdGVuZXJzKGV2dCk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBVc2VzIGRlZmluZUV2ZW50IHRvIGRlZmluZSBtdWx0aXBsZSBldmVudHMuXHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge1N0cmluZ1tdfSBldnRzIEFuIGFycmF5IG9mIGV2ZW50IG5hbWVzIHRvIGRlZmluZS5cclxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cclxuXHQgKi9cclxuXHRwcm90by5kZWZpbmVFdmVudHMgPSBmdW5jdGlvbiBkZWZpbmVFdmVudHMoZXZ0cykge1xyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBldnRzLmxlbmd0aDsgaSArPSAxKSB7XHJcblx0XHRcdHRoaXMuZGVmaW5lRXZlbnQoZXZ0c1tpXSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBSZW1vdmVzIGEgbGlzdGVuZXIgZnVuY3Rpb24gZnJvbSB0aGUgc3BlY2lmaWVkIGV2ZW50LlxyXG5cdCAqIFdoZW4gcGFzc2VkIGEgcmVndWxhciBleHByZXNzaW9uIGFzIHRoZSBldmVudCBuYW1lLCBpdCB3aWxsIHJlbW92ZSB0aGUgbGlzdGVuZXIgZnJvbSBhbGwgZXZlbnRzIHRoYXQgbWF0Y2ggaXQuXHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IGV2dCBOYW1lIG9mIHRoZSBldmVudCB0byByZW1vdmUgdGhlIGxpc3RlbmVyIGZyb20uXHJcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgTWV0aG9kIHRvIHJlbW92ZSBmcm9tIHRoZSBldmVudC5cclxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cclxuXHQgKi9cclxuXHRwcm90by5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGV2dCwgbGlzdGVuZXIpIHtcclxuXHRcdHZhciBsaXN0ZW5lcnMgPSB0aGlzLmdldExpc3RlbmVyc0FzT2JqZWN0KGV2dCk7XHJcblx0XHR2YXIgaW5kZXg7XHJcblx0XHR2YXIga2V5O1xyXG5cclxuXHRcdGZvciAoa2V5IGluIGxpc3RlbmVycykge1xyXG5cdFx0XHRpZiAobGlzdGVuZXJzLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0XHRpbmRleCA9IGluZGV4T2ZMaXN0ZW5lcihsaXN0ZW5lcnNba2V5XSwgbGlzdGVuZXIpO1xyXG5cclxuXHRcdFx0XHRpZiAoaW5kZXggIT09IC0xKSB7XHJcblx0XHRcdFx0XHRsaXN0ZW5lcnNba2V5XS5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFsaWFzIG9mIHJlbW92ZUxpc3RlbmVyXHJcblx0ICovXHJcblx0cHJvdG8ub2ZmID0gYWxpYXMoJ3JlbW92ZUxpc3RlbmVyJyk7XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZHMgbGlzdGVuZXJzIGluIGJ1bGsgdXNpbmcgdGhlIG1hbmlwdWxhdGVMaXN0ZW5lcnMgbWV0aG9kLlxyXG5cdCAqIElmIHlvdSBwYXNzIGFuIG9iamVjdCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IHlvdSBjYW4gYWRkIHRvIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlLiBUaGUgb2JqZWN0IHNob3VsZCBjb250YWluIGtleSB2YWx1ZSBwYWlycyBvZiBldmVudHMgYW5kIGxpc3RlbmVycyBvciBsaXN0ZW5lciBhcnJheXMuIFlvdSBjYW4gYWxzbyBwYXNzIGl0IGFuIGV2ZW50IG5hbWUgYW5kIGFuIGFycmF5IG9mIGxpc3RlbmVycyB0byBiZSBhZGRlZC5cclxuXHQgKiBZb3UgY2FuIGFsc28gcGFzcyBpdCBhIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBhZGQgdGhlIGFycmF5IG9mIGxpc3RlbmVycyB0byBhbGwgZXZlbnRzIHRoYXQgbWF0Y2ggaXQuXHJcblx0ICogWWVhaCwgdGhpcyBmdW5jdGlvbiBkb2VzIHF1aXRlIGEgYml0LiBUaGF0J3MgcHJvYmFibHkgYSBiYWQgdGhpbmcuXHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R8UmVnRXhwfSBldnQgQW4gZXZlbnQgbmFtZSBpZiB5b3Ugd2lsbCBwYXNzIGFuIGFycmF5IG9mIGxpc3RlbmVycyBuZXh0LiBBbiBvYmplY3QgaWYgeW91IHdpc2ggdG8gYWRkIHRvIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlLlxyXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb25bXX0gW2xpc3RlbmVyc10gQW4gb3B0aW9uYWwgYXJyYXkgb2YgbGlzdGVuZXIgZnVuY3Rpb25zIHRvIGFkZC5cclxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cclxuXHQgKi9cclxuXHRwcm90by5hZGRMaXN0ZW5lcnMgPSBmdW5jdGlvbiBhZGRMaXN0ZW5lcnMoZXZ0LCBsaXN0ZW5lcnMpIHtcclxuXHRcdC8vIFBhc3MgdGhyb3VnaCB0byBtYW5pcHVsYXRlTGlzdGVuZXJzXHJcblx0XHRyZXR1cm4gdGhpcy5tYW5pcHVsYXRlTGlzdGVuZXJzKGZhbHNlLCBldnQsIGxpc3RlbmVycyk7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogUmVtb3ZlcyBsaXN0ZW5lcnMgaW4gYnVsayB1c2luZyB0aGUgbWFuaXB1bGF0ZUxpc3RlbmVycyBtZXRob2QuXHJcblx0ICogSWYgeW91IHBhc3MgYW4gb2JqZWN0IGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgeW91IGNhbiByZW1vdmUgZnJvbSBtdWx0aXBsZSBldmVudHMgYXQgb25jZS4gVGhlIG9iamVjdCBzaG91bGQgY29udGFpbiBrZXkgdmFsdWUgcGFpcnMgb2YgZXZlbnRzIGFuZCBsaXN0ZW5lcnMgb3IgbGlzdGVuZXIgYXJyYXlzLlxyXG5cdCAqIFlvdSBjYW4gYWxzbyBwYXNzIGl0IGFuIGV2ZW50IG5hbWUgYW5kIGFuIGFycmF5IG9mIGxpc3RlbmVycyB0byBiZSByZW1vdmVkLlxyXG5cdCAqIFlvdSBjYW4gYWxzbyBwYXNzIGl0IGEgcmVndWxhciBleHByZXNzaW9uIHRvIHJlbW92ZSB0aGUgbGlzdGVuZXJzIGZyb20gYWxsIGV2ZW50cyB0aGF0IG1hdGNoIGl0LlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fFJlZ0V4cH0gZXZ0IEFuIGV2ZW50IG5hbWUgaWYgeW91IHdpbGwgcGFzcyBhbiBhcnJheSBvZiBsaXN0ZW5lcnMgbmV4dC4gQW4gb2JqZWN0IGlmIHlvdSB3aXNoIHRvIHJlbW92ZSBmcm9tIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlLlxyXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb25bXX0gW2xpc3RlbmVyc10gQW4gb3B0aW9uYWwgYXJyYXkgb2YgbGlzdGVuZXIgZnVuY3Rpb25zIHRvIHJlbW92ZS5cclxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cclxuXHQgKi9cclxuXHRwcm90by5yZW1vdmVMaXN0ZW5lcnMgPSBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcnMoZXZ0LCBsaXN0ZW5lcnMpIHtcclxuXHRcdC8vIFBhc3MgdGhyb3VnaCB0byBtYW5pcHVsYXRlTGlzdGVuZXJzXHJcblx0XHRyZXR1cm4gdGhpcy5tYW5pcHVsYXRlTGlzdGVuZXJzKHRydWUsIGV2dCwgbGlzdGVuZXJzKTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBFZGl0cyBsaXN0ZW5lcnMgaW4gYnVsay4gVGhlIGFkZExpc3RlbmVycyBhbmQgcmVtb3ZlTGlzdGVuZXJzIG1ldGhvZHMgYm90aCB1c2UgdGhpcyB0byBkbyB0aGVpciBqb2IuIFlvdSBzaG91bGQgcmVhbGx5IHVzZSB0aG9zZSBpbnN0ZWFkLCB0aGlzIGlzIGEgbGl0dGxlIGxvd2VyIGxldmVsLlxyXG5cdCAqIFRoZSBmaXJzdCBhcmd1bWVudCB3aWxsIGRldGVybWluZSBpZiB0aGUgbGlzdGVuZXJzIGFyZSByZW1vdmVkICh0cnVlKSBvciBhZGRlZCAoZmFsc2UpLlxyXG5cdCAqIElmIHlvdSBwYXNzIGFuIG9iamVjdCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IHlvdSBjYW4gYWRkL3JlbW92ZSBmcm9tIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlLiBUaGUgb2JqZWN0IHNob3VsZCBjb250YWluIGtleSB2YWx1ZSBwYWlycyBvZiBldmVudHMgYW5kIGxpc3RlbmVycyBvciBsaXN0ZW5lciBhcnJheXMuXHJcblx0ICogWW91IGNhbiBhbHNvIHBhc3MgaXQgYW4gZXZlbnQgbmFtZSBhbmQgYW4gYXJyYXkgb2YgbGlzdGVuZXJzIHRvIGJlIGFkZGVkL3JlbW92ZWQuXHJcblx0ICogWW91IGNhbiBhbHNvIHBhc3MgaXQgYSByZWd1bGFyIGV4cHJlc3Npb24gdG8gbWFuaXB1bGF0ZSB0aGUgbGlzdGVuZXJzIG9mIGFsbCBldmVudHMgdGhhdCBtYXRjaCBpdC5cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gcmVtb3ZlIFRydWUgaWYgeW91IHdhbnQgdG8gcmVtb3ZlIGxpc3RlbmVycywgZmFsc2UgaWYgeW91IHdhbnQgdG8gYWRkLlxyXG5cdCAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdHxSZWdFeHB9IGV2dCBBbiBldmVudCBuYW1lIGlmIHlvdSB3aWxsIHBhc3MgYW4gYXJyYXkgb2YgbGlzdGVuZXJzIG5leHQuIEFuIG9iamVjdCBpZiB5b3Ugd2lzaCB0byBhZGQvcmVtb3ZlIGZyb20gbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2UuXHJcblx0ICogQHBhcmFtIHtGdW5jdGlvbltdfSBbbGlzdGVuZXJzXSBBbiBvcHRpb25hbCBhcnJheSBvZiBsaXN0ZW5lciBmdW5jdGlvbnMgdG8gYWRkL3JlbW92ZS5cclxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cclxuXHQgKi9cclxuXHRwcm90by5tYW5pcHVsYXRlTGlzdGVuZXJzID0gZnVuY3Rpb24gbWFuaXB1bGF0ZUxpc3RlbmVycyhyZW1vdmUsIGV2dCwgbGlzdGVuZXJzKSB7XHJcblx0XHR2YXIgaTtcclxuXHRcdHZhciB2YWx1ZTtcclxuXHRcdHZhciBzaW5nbGUgPSByZW1vdmUgPyB0aGlzLnJlbW92ZUxpc3RlbmVyIDogdGhpcy5hZGRMaXN0ZW5lcjtcclxuXHRcdHZhciBtdWx0aXBsZSA9IHJlbW92ZSA/IHRoaXMucmVtb3ZlTGlzdGVuZXJzIDogdGhpcy5hZGRMaXN0ZW5lcnM7XHJcblxyXG5cdFx0Ly8gSWYgZXZ0IGlzIGFuIG9iamVjdCB0aGVuIHBhc3MgZWFjaCBvZiBpdCdzIHByb3BlcnRpZXMgdG8gdGhpcyBtZXRob2RcclxuXHRcdGlmICh0eXBlb2YgZXZ0ID09PSAnb2JqZWN0JyAmJiAhKGV2dCBpbnN0YW5jZW9mIFJlZ0V4cCkpIHtcclxuXHRcdFx0Zm9yIChpIGluIGV2dCkge1xyXG5cdFx0XHRcdGlmIChldnQuaGFzT3duUHJvcGVydHkoaSkgJiYgKHZhbHVlID0gZXZ0W2ldKSkge1xyXG5cdFx0XHRcdFx0Ly8gUGFzcyB0aGUgc2luZ2xlIGxpc3RlbmVyIHN0cmFpZ2h0IHRocm91Z2ggdG8gdGhlIHNpbmd1bGFyIG1ldGhvZFxyXG5cdFx0XHRcdFx0aWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRcdFx0XHRzaW5nbGUuY2FsbCh0aGlzLCBpLCB2YWx1ZSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0Ly8gT3RoZXJ3aXNlIHBhc3MgYmFjayB0byB0aGUgbXVsdGlwbGUgZnVuY3Rpb25cclxuXHRcdFx0XHRcdFx0bXVsdGlwbGUuY2FsbCh0aGlzLCBpLCB2YWx1ZSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRlbHNlIHtcclxuXHRcdFx0Ly8gU28gZXZ0IG11c3QgYmUgYSBzdHJpbmdcclxuXHRcdFx0Ly8gQW5kIGxpc3RlbmVycyBtdXN0IGJlIGFuIGFycmF5IG9mIGxpc3RlbmVyc1xyXG5cdFx0XHQvLyBMb29wIG92ZXIgaXQgYW5kIHBhc3MgZWFjaCBvbmUgdG8gdGhlIG11bHRpcGxlIG1ldGhvZFxyXG5cdFx0XHRpID0gbGlzdGVuZXJzLmxlbmd0aDtcclxuXHRcdFx0d2hpbGUgKGktLSkge1xyXG5cdFx0XHRcdHNpbmdsZS5jYWxsKHRoaXMsIGV2dCwgbGlzdGVuZXJzW2ldKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlbW92ZXMgYWxsIGxpc3RlbmVycyBmcm9tIGEgc3BlY2lmaWVkIGV2ZW50LlxyXG5cdCAqIElmIHlvdSBkbyBub3Qgc3BlY2lmeSBhbiBldmVudCB0aGVuIGFsbCBsaXN0ZW5lcnMgd2lsbCBiZSByZW1vdmVkLlxyXG5cdCAqIFRoYXQgbWVhbnMgZXZlcnkgZXZlbnQgd2lsbCBiZSBlbXB0aWVkLlxyXG5cdCAqIFlvdSBjYW4gYWxzbyBwYXNzIGEgcmVnZXggdG8gcmVtb3ZlIGFsbCBldmVudHMgdGhhdCBtYXRjaCBpdC5cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gW2V2dF0gT3B0aW9uYWwgbmFtZSBvZiB0aGUgZXZlbnQgdG8gcmVtb3ZlIGFsbCBsaXN0ZW5lcnMgZm9yLiBXaWxsIHJlbW92ZSBmcm9tIGV2ZXJ5IGV2ZW50IGlmIG5vdCBwYXNzZWQuXHJcblx0ICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXHJcblx0ICovXHJcblx0cHJvdG8ucmVtb3ZlRXZlbnQgPSBmdW5jdGlvbiByZW1vdmVFdmVudChldnQpIHtcclxuXHRcdHZhciB0eXBlID0gdHlwZW9mIGV2dDtcclxuXHRcdHZhciBldmVudHMgPSB0aGlzLl9nZXRFdmVudHMoKTtcclxuXHRcdHZhciBrZXk7XHJcblxyXG5cdFx0Ly8gUmVtb3ZlIGRpZmZlcmVudCB0aGluZ3MgZGVwZW5kaW5nIG9uIHRoZSBzdGF0ZSBvZiBldnRcclxuXHRcdGlmICh0eXBlID09PSAnc3RyaW5nJykge1xyXG5cdFx0XHQvLyBSZW1vdmUgYWxsIGxpc3RlbmVycyBmb3IgdGhlIHNwZWNpZmllZCBldmVudFxyXG5cdFx0XHRkZWxldGUgZXZlbnRzW2V2dF07XHJcblx0XHR9XHJcblx0XHRlbHNlIGlmICh0eXBlID09PSAnb2JqZWN0Jykge1xyXG5cdFx0XHQvLyBSZW1vdmUgYWxsIGV2ZW50cyBtYXRjaGluZyB0aGUgcmVnZXguXHJcblx0XHRcdGZvciAoa2V5IGluIGV2ZW50cykge1xyXG5cdFx0XHRcdGlmIChldmVudHMuaGFzT3duUHJvcGVydHkoa2V5KSAmJiBldnQudGVzdChrZXkpKSB7XHJcblx0XHRcdFx0XHRkZWxldGUgZXZlbnRzW2tleV07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRlbHNlIHtcclxuXHRcdFx0Ly8gUmVtb3ZlIGFsbCBsaXN0ZW5lcnMgaW4gYWxsIGV2ZW50c1xyXG5cdFx0XHRkZWxldGUgdGhpcy5fZXZlbnRzO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFsaWFzIG9mIHJlbW92ZUV2ZW50LlxyXG5cdCAqXHJcblx0ICogQWRkZWQgdG8gbWlycm9yIHRoZSBub2RlIEFQSS5cclxuXHQgKi9cclxuXHRwcm90by5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBhbGlhcygncmVtb3ZlRXZlbnQnKTtcclxuXHJcblx0LyoqXHJcblx0ICogRW1pdHMgYW4gZXZlbnQgb2YgeW91ciBjaG9pY2UuXHJcblx0ICogV2hlbiBlbWl0dGVkLCBldmVyeSBsaXN0ZW5lciBhdHRhY2hlZCB0byB0aGF0IGV2ZW50IHdpbGwgYmUgZXhlY3V0ZWQuXHJcblx0ICogSWYgeW91IHBhc3MgdGhlIG9wdGlvbmFsIGFyZ3VtZW50IGFycmF5IHRoZW4gdGhvc2UgYXJndW1lbnRzIHdpbGwgYmUgcGFzc2VkIHRvIGV2ZXJ5IGxpc3RlbmVyIHVwb24gZXhlY3V0aW9uLlxyXG5cdCAqIEJlY2F1c2UgaXQgdXNlcyBgYXBwbHlgLCB5b3VyIGFycmF5IG9mIGFyZ3VtZW50cyB3aWxsIGJlIHBhc3NlZCBhcyBpZiB5b3Ugd3JvdGUgdGhlbSBvdXQgc2VwYXJhdGVseS5cclxuXHQgKiBTbyB0aGV5IHdpbGwgbm90IGFycml2ZSB3aXRoaW4gdGhlIGFycmF5IG9uIHRoZSBvdGhlciBzaWRlLCB0aGV5IHdpbGwgYmUgc2VwYXJhdGUuXHJcblx0ICogWW91IGNhbiBhbHNvIHBhc3MgYSByZWd1bGFyIGV4cHJlc3Npb24gdG8gZW1pdCB0byBhbGwgZXZlbnRzIHRoYXQgbWF0Y2ggaXQuXHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IGV2dCBOYW1lIG9mIHRoZSBldmVudCB0byBlbWl0IGFuZCBleGVjdXRlIGxpc3RlbmVycyBmb3IuXHJcblx0ICogQHBhcmFtIHtBcnJheX0gW2FyZ3NdIE9wdGlvbmFsIGFycmF5IG9mIGFyZ3VtZW50cyB0byBiZSBwYXNzZWQgdG8gZWFjaCBsaXN0ZW5lci5cclxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cclxuXHQgKi9cclxuXHRwcm90by5lbWl0RXZlbnQgPSBmdW5jdGlvbiBlbWl0RXZlbnQoZXZ0LCBhcmdzKSB7XHJcblx0XHR2YXIgbGlzdGVuZXJzID0gdGhpcy5nZXRMaXN0ZW5lcnNBc09iamVjdChldnQpO1xyXG5cdFx0dmFyIGxpc3RlbmVyO1xyXG5cdFx0dmFyIGk7XHJcblx0XHR2YXIga2V5O1xyXG5cdFx0dmFyIHJlc3BvbnNlO1xyXG5cclxuXHRcdGZvciAoa2V5IGluIGxpc3RlbmVycykge1xyXG5cdFx0XHRpZiAobGlzdGVuZXJzLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0XHRpID0gbGlzdGVuZXJzW2tleV0ubGVuZ3RoO1xyXG5cclxuXHRcdFx0XHR3aGlsZSAoaS0tKSB7XHJcblx0XHRcdFx0XHQvLyBJZiB0aGUgbGlzdGVuZXIgcmV0dXJucyB0cnVlIHRoZW4gaXQgc2hhbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBldmVudFxyXG5cdFx0XHRcdFx0Ly8gVGhlIGZ1bmN0aW9uIGlzIGV4ZWN1dGVkIGVpdGhlciB3aXRoIGEgYmFzaWMgY2FsbCBvciBhbiBhcHBseSBpZiB0aGVyZSBpcyBhbiBhcmdzIGFycmF5XHJcblx0XHRcdFx0XHRsaXN0ZW5lciA9IGxpc3RlbmVyc1trZXldW2ldO1xyXG5cclxuXHRcdFx0XHRcdGlmIChsaXN0ZW5lci5vbmNlID09PSB0cnVlKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZ0LCBsaXN0ZW5lci5saXN0ZW5lcik7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0cmVzcG9uc2UgPSBsaXN0ZW5lci5saXN0ZW5lci5hcHBseSh0aGlzLCBhcmdzIHx8IFtdKTtcclxuXHJcblx0XHRcdFx0XHRpZiAocmVzcG9uc2UgPT09IHRoaXMuX2dldE9uY2VSZXR1cm5WYWx1ZSgpKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZ0LCBsaXN0ZW5lci5saXN0ZW5lcik7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogQWxpYXMgb2YgZW1pdEV2ZW50XHJcblx0ICovXHJcblx0cHJvdG8udHJpZ2dlciA9IGFsaWFzKCdlbWl0RXZlbnQnKTtcclxuXHJcblx0LyoqXHJcblx0ICogU3VidGx5IGRpZmZlcmVudCBmcm9tIGVtaXRFdmVudCBpbiB0aGF0IGl0IHdpbGwgcGFzcyBpdHMgYXJndW1lbnRzIG9uIHRvIHRoZSBsaXN0ZW5lcnMsIGFzIG9wcG9zZWQgdG8gdGFraW5nIGEgc2luZ2xlIGFycmF5IG9mIGFyZ3VtZW50cyB0byBwYXNzIG9uLlxyXG5cdCAqIEFzIHdpdGggZW1pdEV2ZW50LCB5b3UgY2FuIHBhc3MgYSByZWdleCBpbiBwbGFjZSBvZiB0aGUgZXZlbnQgbmFtZSB0byBlbWl0IHRvIGFsbCBldmVudHMgdGhhdCBtYXRjaCBpdC5cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gZXZ0IE5hbWUgb2YgdGhlIGV2ZW50IHRvIGVtaXQgYW5kIGV4ZWN1dGUgbGlzdGVuZXJzIGZvci5cclxuXHQgKiBAcGFyYW0gey4uLip9IE9wdGlvbmFsIGFkZGl0aW9uYWwgYXJndW1lbnRzIHRvIGJlIHBhc3NlZCB0byBlYWNoIGxpc3RlbmVyLlxyXG5cdCAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxyXG5cdCAqL1xyXG5cdHByb3RvLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGV2dCkge1xyXG5cdFx0dmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xyXG5cdFx0cmV0dXJuIHRoaXMuZW1pdEV2ZW50KGV2dCwgYXJncyk7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogU2V0cyB0aGUgY3VycmVudCB2YWx1ZSB0byBjaGVjayBhZ2FpbnN0IHdoZW4gZXhlY3V0aW5nIGxpc3RlbmVycy4gSWYgYVxyXG5cdCAqIGxpc3RlbmVycyByZXR1cm4gdmFsdWUgbWF0Y2hlcyB0aGUgb25lIHNldCBoZXJlIHRoZW4gaXQgd2lsbCBiZSByZW1vdmVkXHJcblx0ICogYWZ0ZXIgZXhlY3V0aW9uLiBUaGlzIHZhbHVlIGRlZmF1bHRzIHRvIHRydWUuXHJcblx0ICpcclxuXHQgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSBuZXcgdmFsdWUgdG8gY2hlY2sgZm9yIHdoZW4gZXhlY3V0aW5nIGxpc3RlbmVycy5cclxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cclxuXHQgKi9cclxuXHRwcm90by5zZXRPbmNlUmV0dXJuVmFsdWUgPSBmdW5jdGlvbiBzZXRPbmNlUmV0dXJuVmFsdWUodmFsdWUpIHtcclxuXHRcdHRoaXMuX29uY2VSZXR1cm5WYWx1ZSA9IHZhbHVlO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogRmV0Y2hlcyB0aGUgY3VycmVudCB2YWx1ZSB0byBjaGVjayBhZ2FpbnN0IHdoZW4gZXhlY3V0aW5nIGxpc3RlbmVycy4gSWZcclxuXHQgKiB0aGUgbGlzdGVuZXJzIHJldHVybiB2YWx1ZSBtYXRjaGVzIHRoaXMgb25lIHRoZW4gaXQgc2hvdWxkIGJlIHJlbW92ZWRcclxuXHQgKiBhdXRvbWF0aWNhbGx5LiBJdCB3aWxsIHJldHVybiB0cnVlIGJ5IGRlZmF1bHQuXHJcblx0ICpcclxuXHQgKiBAcmV0dXJuIHsqfEJvb2xlYW59IFRoZSBjdXJyZW50IHZhbHVlIHRvIGNoZWNrIGZvciBvciB0aGUgZGVmYXVsdCwgdHJ1ZS5cclxuXHQgKiBAYXBpIHByaXZhdGVcclxuXHQgKi9cclxuXHRwcm90by5fZ2V0T25jZVJldHVyblZhbHVlID0gZnVuY3Rpb24gX2dldE9uY2VSZXR1cm5WYWx1ZSgpIHtcclxuXHRcdGlmICh0aGlzLmhhc093blByb3BlcnR5KCdfb25jZVJldHVyblZhbHVlJykpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuX29uY2VSZXR1cm5WYWx1ZTtcclxuXHRcdH1cclxuXHRcdGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBGZXRjaGVzIHRoZSBldmVudHMgb2JqZWN0IGFuZCBjcmVhdGVzIG9uZSBpZiByZXF1aXJlZC5cclxuXHQgKlxyXG5cdCAqIEByZXR1cm4ge09iamVjdH0gVGhlIGV2ZW50cyBzdG9yYWdlIG9iamVjdC5cclxuXHQgKiBAYXBpIHByaXZhdGVcclxuXHQgKi9cclxuXHRwcm90by5fZ2V0RXZlbnRzID0gZnVuY3Rpb24gX2dldEV2ZW50cygpIHtcclxuXHRcdHJldHVybiB0aGlzLl9ldmVudHMgfHwgKHRoaXMuX2V2ZW50cyA9IHt9KTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBSZXZlcnRzIHRoZSBnbG9iYWwge0BsaW5rIEV2ZW50RW1pdHRlcn0gdG8gaXRzIHByZXZpb3VzIHZhbHVlIGFuZCByZXR1cm5zIGEgcmVmZXJlbmNlIHRvIHRoaXMgdmVyc2lvbi5cclxuXHQgKlxyXG5cdCAqIEByZXR1cm4ge0Z1bmN0aW9ufSBOb24gY29uZmxpY3RpbmcgRXZlbnRFbWl0dGVyIGNsYXNzLlxyXG5cdCAqL1xyXG5cdEV2ZW50RW1pdHRlci5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gbm9Db25mbGljdCgpIHtcclxuXHRcdGV4cG9ydHMuRXZlbnRFbWl0dGVyID0gb3JpZ2luYWxHbG9iYWxWYWx1ZTtcclxuXHRcdHJldHVybiBFdmVudEVtaXR0ZXI7XHJcblx0fTtcclxuXHJcblx0Ly8gRXhwb3NlIHRoZSBjbGFzcyBlaXRoZXIgdmlhIEFNRCwgQ29tbW9uSlMgb3IgdGhlIGdsb2JhbCBvYmplY3RcclxuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XHJcblx0XHRkZWZpbmUoJ2V2ZW50RW1pdHRlci9FdmVudEVtaXR0ZXInLFtdLGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuIEV2ZW50RW1pdHRlcjtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHRlbHNlIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyl7XHJcblx0XHRtb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcclxuXHR9XHJcblx0ZWxzZSB7XHJcblx0XHR0aGlzLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcclxuXHR9XHJcbn0uY2FsbCh0aGlzKSk7XHJcblxyXG4vKiFcclxuICogZXZlbnRpZSB2MS4wLjRcclxuICogZXZlbnQgYmluZGluZyBoZWxwZXJcclxuICogICBldmVudGllLmJpbmQoIGVsZW0sICdjbGljaycsIG15Rm4gKVxyXG4gKiAgIGV2ZW50aWUudW5iaW5kKCBlbGVtLCAnY2xpY2snLCBteUZuIClcclxuICovXHJcblxyXG4vKmpzaGludCBicm93c2VyOiB0cnVlLCB1bmRlZjogdHJ1ZSwgdW51c2VkOiB0cnVlICovXHJcbi8qZ2xvYmFsIGRlZmluZTogZmFsc2UgKi9cclxuXHJcbiggZnVuY3Rpb24oIHdpbmRvdyApIHtcclxuXHJcblxyXG5cclxudmFyIGRvY0VsZW0gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XHJcblxyXG52YXIgYmluZCA9IGZ1bmN0aW9uKCkge307XHJcblxyXG5mdW5jdGlvbiBnZXRJRUV2ZW50KCBvYmogKSB7XHJcbiAgdmFyIGV2ZW50ID0gd2luZG93LmV2ZW50O1xyXG4gIC8vIGFkZCBldmVudC50YXJnZXRcclxuICBldmVudC50YXJnZXQgPSBldmVudC50YXJnZXQgfHwgZXZlbnQuc3JjRWxlbWVudCB8fCBvYmo7XHJcbiAgcmV0dXJuIGV2ZW50O1xyXG59XHJcblxyXG5pZiAoIGRvY0VsZW0uYWRkRXZlbnRMaXN0ZW5lciApIHtcclxuICBiaW5kID0gZnVuY3Rpb24oIG9iaiwgdHlwZSwgZm4gKSB7XHJcbiAgICBvYmouYWRkRXZlbnRMaXN0ZW5lciggdHlwZSwgZm4sIGZhbHNlICk7XHJcbiAgfTtcclxufSBlbHNlIGlmICggZG9jRWxlbS5hdHRhY2hFdmVudCApIHtcclxuICBiaW5kID0gZnVuY3Rpb24oIG9iaiwgdHlwZSwgZm4gKSB7XHJcbiAgICBvYmpbIHR5cGUgKyBmbiBdID0gZm4uaGFuZGxlRXZlbnQgP1xyXG4gICAgICBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgZXZlbnQgPSBnZXRJRUV2ZW50KCBvYmogKTtcclxuICAgICAgICBmbi5oYW5kbGVFdmVudC5jYWxsKCBmbiwgZXZlbnQgKTtcclxuICAgICAgfSA6XHJcbiAgICAgIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBldmVudCA9IGdldElFRXZlbnQoIG9iaiApO1xyXG4gICAgICAgIGZuLmNhbGwoIG9iaiwgZXZlbnQgKTtcclxuICAgICAgfTtcclxuICAgIG9iai5hdHRhY2hFdmVudCggXCJvblwiICsgdHlwZSwgb2JqWyB0eXBlICsgZm4gXSApO1xyXG4gIH07XHJcbn1cclxuXHJcbnZhciB1bmJpbmQgPSBmdW5jdGlvbigpIHt9O1xyXG5cclxuaWYgKCBkb2NFbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIgKSB7XHJcbiAgdW5iaW5kID0gZnVuY3Rpb24oIG9iaiwgdHlwZSwgZm4gKSB7XHJcbiAgICBvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lciggdHlwZSwgZm4sIGZhbHNlICk7XHJcbiAgfTtcclxufSBlbHNlIGlmICggZG9jRWxlbS5kZXRhY2hFdmVudCApIHtcclxuICB1bmJpbmQgPSBmdW5jdGlvbiggb2JqLCB0eXBlLCBmbiApIHtcclxuICAgIG9iai5kZXRhY2hFdmVudCggXCJvblwiICsgdHlwZSwgb2JqWyB0eXBlICsgZm4gXSApO1xyXG4gICAgdHJ5IHtcclxuICAgICAgZGVsZXRlIG9ialsgdHlwZSArIGZuIF07XHJcbiAgICB9IGNhdGNoICggZXJyICkge1xyXG4gICAgICAvLyBjYW4ndCBkZWxldGUgd2luZG93IG9iamVjdCBwcm9wZXJ0aWVzXHJcbiAgICAgIG9ialsgdHlwZSArIGZuIF0gPSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgfTtcclxufVxyXG5cclxudmFyIGV2ZW50aWUgPSB7XHJcbiAgYmluZDogYmluZCxcclxuICB1bmJpbmQ6IHVuYmluZFxyXG59O1xyXG5cclxuLy8gdHJhbnNwb3J0XHJcbmlmICggdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xyXG4gIC8vIEFNRFxyXG4gIGRlZmluZSggJ2V2ZW50aWUvZXZlbnRpZScsZXZlbnRpZSApO1xyXG59IGVsc2Uge1xyXG4gIC8vIGJyb3dzZXIgZ2xvYmFsXHJcbiAgd2luZG93LmV2ZW50aWUgPSBldmVudGllO1xyXG59XHJcblxyXG59KSggdGhpcyApO1xyXG5cclxuLyohXHJcbiAqIGltYWdlc0xvYWRlZCB2My4yLjBcclxuICogSmF2YVNjcmlwdCBpcyBhbGwgbGlrZSBcIllvdSBpbWFnZXMgYXJlIGRvbmUgeWV0IG9yIHdoYXQ/XCJcclxuICogTUlUIExpY2Vuc2VcclxuICovXHJcblxyXG4oIGZ1bmN0aW9uKCB3aW5kb3csIGZhY3RvcnkgKSB7ICd1c2Ugc3RyaWN0JztcclxuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cclxuXHJcbiAgLypnbG9iYWwgZGVmaW5lOiBmYWxzZSwgbW9kdWxlOiBmYWxzZSwgcmVxdWlyZTogZmFsc2UgKi9cclxuXHJcbiAgaWYgKCB0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcclxuICAgIC8vIEFNRFxyXG4gICAgZGVmaW5lKCBbXHJcbiAgICAgICdldmVudEVtaXR0ZXIvRXZlbnRFbWl0dGVyJyxcclxuICAgICAgJ2V2ZW50aWUvZXZlbnRpZSdcclxuICAgIF0sIGZ1bmN0aW9uKCBFdmVudEVtaXR0ZXIsIGV2ZW50aWUgKSB7XHJcbiAgICAgIHJldHVybiBmYWN0b3J5KCB3aW5kb3csIEV2ZW50RW1pdHRlciwgZXZlbnRpZSApO1xyXG4gICAgfSk7XHJcbiAgfSBlbHNlIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcclxuICAgIC8vIENvbW1vbkpTXHJcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoXHJcbiAgICAgIHdpbmRvdyxcclxuICAgICAgcmVxdWlyZSgnd29sZnk4Ny1ldmVudGVtaXR0ZXInKSxcclxuICAgICAgcmVxdWlyZSgnZXZlbnRpZScpXHJcbiAgICApO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBicm93c2VyIGdsb2JhbFxyXG4gICAgd2luZG93LmltYWdlc0xvYWRlZCA9IGZhY3RvcnkoXHJcbiAgICAgIHdpbmRvdyxcclxuICAgICAgd2luZG93LkV2ZW50RW1pdHRlcixcclxuICAgICAgd2luZG93LmV2ZW50aWVcclxuICAgICk7XHJcbiAgfVxyXG5cclxufSkoIHdpbmRvdyxcclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICBmYWN0b3J5IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXHJcblxyXG5mdW5jdGlvbiBmYWN0b3J5KCB3aW5kb3csIEV2ZW50RW1pdHRlciwgZXZlbnRpZSApIHtcclxuXHJcblxyXG5cclxudmFyICQgPSB3aW5kb3cualF1ZXJ5O1xyXG52YXIgY29uc29sZSA9IHdpbmRvdy5jb25zb2xlO1xyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gaGVscGVycyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xyXG5cclxuLy8gZXh0ZW5kIG9iamVjdHNcclxuZnVuY3Rpb24gZXh0ZW5kKCBhLCBiICkge1xyXG4gIGZvciAoIHZhciBwcm9wIGluIGIgKSB7XHJcbiAgICBhWyBwcm9wIF0gPSBiWyBwcm9wIF07XHJcbiAgfVxyXG4gIHJldHVybiBhO1xyXG59XHJcblxyXG52YXIgb2JqVG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xyXG5mdW5jdGlvbiBpc0FycmF5KCBvYmogKSB7XHJcbiAgcmV0dXJuIG9ialRvU3RyaW5nLmNhbGwoIG9iaiApID09ICdbb2JqZWN0IEFycmF5XSc7XHJcbn1cclxuXHJcbi8vIHR1cm4gZWxlbWVudCBvciBub2RlTGlzdCBpbnRvIGFuIGFycmF5XHJcbmZ1bmN0aW9uIG1ha2VBcnJheSggb2JqICkge1xyXG4gIHZhciBhcnkgPSBbXTtcclxuICBpZiAoIGlzQXJyYXkoIG9iaiApICkge1xyXG4gICAgLy8gdXNlIG9iamVjdCBpZiBhbHJlYWR5IGFuIGFycmF5XHJcbiAgICBhcnkgPSBvYmo7XHJcbiAgfSBlbHNlIGlmICggdHlwZW9mIG9iai5sZW5ndGggPT0gJ251bWJlcicgKSB7XHJcbiAgICAvLyBjb252ZXJ0IG5vZGVMaXN0IHRvIGFycmF5XHJcbiAgICBmb3IgKCB2YXIgaT0wOyBpIDwgb2JqLmxlbmd0aDsgaSsrICkge1xyXG4gICAgICBhcnkucHVzaCggb2JqW2ldICk7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIGFycmF5IG9mIHNpbmdsZSBpbmRleFxyXG4gICAgYXJ5LnB1c2goIG9iaiApO1xyXG4gIH1cclxuICByZXR1cm4gYXJ5O1xyXG59XHJcblxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGltYWdlc0xvYWRlZCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge0FycmF5LCBFbGVtZW50LCBOb2RlTGlzdCwgU3RyaW5nfSBlbGVtXHJcbiAgICogQHBhcmFtIHtPYmplY3Qgb3IgRnVuY3Rpb259IG9wdGlvbnMgLSBpZiBmdW5jdGlvbiwgdXNlIGFzIGNhbGxiYWNrXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gb25BbHdheXMgLSBjYWxsYmFjayBmdW5jdGlvblxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIEltYWdlc0xvYWRlZCggZWxlbSwgb3B0aW9ucywgb25BbHdheXMgKSB7XHJcbiAgICAvLyBjb2VyY2UgSW1hZ2VzTG9hZGVkKCkgd2l0aG91dCBuZXcsIHRvIGJlIG5ldyBJbWFnZXNMb2FkZWQoKVxyXG4gICAgaWYgKCAhKCB0aGlzIGluc3RhbmNlb2YgSW1hZ2VzTG9hZGVkICkgKSB7XHJcbiAgICAgIHJldHVybiBuZXcgSW1hZ2VzTG9hZGVkKCBlbGVtLCBvcHRpb25zLCBvbkFsd2F5cyApO1xyXG4gICAgfVxyXG4gICAgLy8gdXNlIGVsZW0gYXMgc2VsZWN0b3Igc3RyaW5nXHJcbiAgICBpZiAoIHR5cGVvZiBlbGVtID09ICdzdHJpbmcnICkge1xyXG4gICAgICBlbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCggZWxlbSApO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZWxlbWVudHMgPSBtYWtlQXJyYXkoIGVsZW0gKTtcclxuICAgIHRoaXMub3B0aW9ucyA9IGV4dGVuZCgge30sIHRoaXMub3B0aW9ucyApO1xyXG5cclxuICAgIGlmICggdHlwZW9mIG9wdGlvbnMgPT0gJ2Z1bmN0aW9uJyApIHtcclxuICAgICAgb25BbHdheXMgPSBvcHRpb25zO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZXh0ZW5kKCB0aGlzLm9wdGlvbnMsIG9wdGlvbnMgKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIG9uQWx3YXlzICkge1xyXG4gICAgICB0aGlzLm9uKCAnYWx3YXlzJywgb25BbHdheXMgKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmdldEltYWdlcygpO1xyXG5cclxuICAgIGlmICggJCApIHtcclxuICAgICAgLy8gYWRkIGpRdWVyeSBEZWZlcnJlZCBvYmplY3RcclxuICAgICAgdGhpcy5qcURlZmVycmVkID0gbmV3ICQuRGVmZXJyZWQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBIQUNLIGNoZWNrIGFzeW5jIHRvIGFsbG93IHRpbWUgdG8gYmluZCBsaXN0ZW5lcnNcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcclxuICAgICAgX3RoaXMuY2hlY2soKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgSW1hZ2VzTG9hZGVkLnByb3RvdHlwZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuXHJcbiAgSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5vcHRpb25zID0ge307XHJcblxyXG4gIEltYWdlc0xvYWRlZC5wcm90b3R5cGUuZ2V0SW1hZ2VzID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLmltYWdlcyA9IFtdO1xyXG5cclxuICAgIC8vIGZpbHRlciAmIGZpbmQgaXRlbXMgaWYgd2UgaGF2ZSBhbiBpdGVtIHNlbGVjdG9yXHJcbiAgICBmb3IgKCB2YXIgaT0wOyBpIDwgdGhpcy5lbGVtZW50cy5sZW5ndGg7IGkrKyApIHtcclxuICAgICAgdmFyIGVsZW0gPSB0aGlzLmVsZW1lbnRzW2ldO1xyXG4gICAgICB0aGlzLmFkZEVsZW1lbnRJbWFnZXMoIGVsZW0gKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge05vZGV9IGVsZW1lbnRcclxuICAgKi9cclxuICBJbWFnZXNMb2FkZWQucHJvdG90eXBlLmFkZEVsZW1lbnRJbWFnZXMgPSBmdW5jdGlvbiggZWxlbSApIHtcclxuICAgIC8vIGZpbHRlciBzaWJsaW5nc1xyXG4gICAgaWYgKCBlbGVtLm5vZGVOYW1lID09ICdJTUcnICkge1xyXG4gICAgICB0aGlzLmFkZEltYWdlKCBlbGVtICk7XHJcbiAgICB9XHJcbiAgICAvLyBnZXQgYmFja2dyb3VuZCBpbWFnZSBvbiBlbGVtZW50XHJcbiAgICBpZiAoIHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kID09PSB0cnVlICkge1xyXG4gICAgICB0aGlzLmFkZEVsZW1lbnRCYWNrZ3JvdW5kSW1hZ2VzKCBlbGVtICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZmluZCBjaGlsZHJlblxyXG4gICAgLy8gbm8gbm9uLWVsZW1lbnQgbm9kZXMsICMxNDNcclxuICAgIHZhciBub2RlVHlwZSA9IGVsZW0ubm9kZVR5cGU7XHJcbiAgICBpZiAoICFub2RlVHlwZSB8fCAhZWxlbWVudE5vZGVUeXBlc1sgbm9kZVR5cGUgXSApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIGNoaWxkSW1ncyA9IGVsZW0ucXVlcnlTZWxlY3RvckFsbCgnaW1nJyk7XHJcbiAgICAvLyBjb25jYXQgY2hpbGRFbGVtcyB0byBmaWx0ZXJGb3VuZCBhcnJheVxyXG4gICAgZm9yICggdmFyIGk9MDsgaSA8IGNoaWxkSW1ncy5sZW5ndGg7IGkrKyApIHtcclxuICAgICAgdmFyIGltZyA9IGNoaWxkSW1nc1tpXTtcclxuICAgICAgdGhpcy5hZGRJbWFnZSggaW1nICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZ2V0IGNoaWxkIGJhY2tncm91bmQgaW1hZ2VzXHJcbiAgICBpZiAoIHR5cGVvZiB0aGlzLm9wdGlvbnMuYmFja2dyb3VuZCA9PSAnc3RyaW5nJyApIHtcclxuICAgICAgdmFyIGNoaWxkcmVuID0gZWxlbS5xdWVyeVNlbGVjdG9yQWxsKCB0aGlzLm9wdGlvbnMuYmFja2dyb3VuZCApO1xyXG4gICAgICBmb3IgKCBpPTA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKyApIHtcclxuICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpXTtcclxuICAgICAgICB0aGlzLmFkZEVsZW1lbnRCYWNrZ3JvdW5kSW1hZ2VzKCBjaGlsZCApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdmFyIGVsZW1lbnROb2RlVHlwZXMgPSB7XHJcbiAgICAxOiB0cnVlLFxyXG4gICAgOTogdHJ1ZSxcclxuICAgIDExOiB0cnVlXHJcbiAgfTtcclxuXHJcbiAgSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5hZGRFbGVtZW50QmFja2dyb3VuZEltYWdlcyA9IGZ1bmN0aW9uKCBlbGVtICkge1xyXG4gICAgdmFyIHN0eWxlID0gZ2V0U3R5bGUoIGVsZW0gKTtcclxuICAgIC8vIGdldCB1cmwgaW5zaWRlIHVybChcIi4uLlwiKVxyXG4gICAgdmFyIHJlVVJMID0gL3VybFxcKFsnXCJdKihbXidcIlxcKV0rKVsnXCJdKlxcKS9naTtcclxuICAgIHZhciBtYXRjaGVzID0gcmVVUkwuZXhlYyggc3R5bGUuYmFja2dyb3VuZEltYWdlICk7XHJcbiAgICB3aGlsZSAoIG1hdGNoZXMgIT09IG51bGwgKSB7XHJcbiAgICAgIHZhciB1cmwgPSBtYXRjaGVzICYmIG1hdGNoZXNbMV07XHJcbiAgICAgIGlmICggdXJsICkge1xyXG4gICAgICAgIHRoaXMuYWRkQmFja2dyb3VuZCggdXJsLCBlbGVtICk7XHJcbiAgICAgIH1cclxuICAgICAgbWF0Y2hlcyA9IHJlVVJMLmV4ZWMoIHN0eWxlLmJhY2tncm91bmRJbWFnZSApO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIElFOFxyXG4gIHZhciBnZXRTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlIHx8IGZ1bmN0aW9uKCBlbGVtICkge1xyXG4gICAgcmV0dXJuIGVsZW0uY3VycmVudFN0eWxlO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7SW1hZ2V9IGltZ1xyXG4gICAqL1xyXG4gIEltYWdlc0xvYWRlZC5wcm90b3R5cGUuYWRkSW1hZ2UgPSBmdW5jdGlvbiggaW1nICkge1xyXG4gICAgdmFyIGxvYWRpbmdJbWFnZSA9IG5ldyBMb2FkaW5nSW1hZ2UoIGltZyApO1xyXG4gICAgdGhpcy5pbWFnZXMucHVzaCggbG9hZGluZ0ltYWdlICk7XHJcbiAgfTtcclxuXHJcbiAgSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5hZGRCYWNrZ3JvdW5kID0gZnVuY3Rpb24oIHVybCwgZWxlbSApIHtcclxuICAgIHZhciBiYWNrZ3JvdW5kID0gbmV3IEJhY2tncm91bmQoIHVybCwgZWxlbSApO1xyXG4gICAgdGhpcy5pbWFnZXMucHVzaCggYmFja2dyb3VuZCApO1xyXG4gIH07XHJcblxyXG4gIEltYWdlc0xvYWRlZC5wcm90b3R5cGUuY2hlY2sgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICB0aGlzLnByb2dyZXNzZWRDb3VudCA9IDA7XHJcbiAgICB0aGlzLmhhc0FueUJyb2tlbiA9IGZhbHNlO1xyXG4gICAgLy8gY29tcGxldGUgaWYgbm8gaW1hZ2VzXHJcbiAgICBpZiAoICF0aGlzLmltYWdlcy5sZW5ndGggKSB7XHJcbiAgICAgIHRoaXMuY29tcGxldGUoKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG9uUHJvZ3Jlc3MoIGltYWdlLCBlbGVtLCBtZXNzYWdlICkge1xyXG4gICAgICAvLyBIQUNLIC0gQ2hyb21lIHRyaWdnZXJzIGV2ZW50IGJlZm9yZSBvYmplY3QgcHJvcGVydGllcyBoYXZlIGNoYW5nZWQuICM4M1xyXG4gICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcclxuICAgICAgICBfdGhpcy5wcm9ncmVzcyggaW1hZ2UsIGVsZW0sIG1lc3NhZ2UgKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICggdmFyIGk9MDsgaSA8IHRoaXMuaW1hZ2VzLmxlbmd0aDsgaSsrICkge1xyXG4gICAgICB2YXIgbG9hZGluZ0ltYWdlID0gdGhpcy5pbWFnZXNbaV07XHJcbiAgICAgIGxvYWRpbmdJbWFnZS5vbmNlKCAncHJvZ3Jlc3MnLCBvblByb2dyZXNzICk7XHJcbiAgICAgIGxvYWRpbmdJbWFnZS5jaGVjaygpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIEltYWdlc0xvYWRlZC5wcm90b3R5cGUucHJvZ3Jlc3MgPSBmdW5jdGlvbiggaW1hZ2UsIGVsZW0sIG1lc3NhZ2UgKSB7XHJcbiAgICB0aGlzLnByb2dyZXNzZWRDb3VudCsrO1xyXG4gICAgdGhpcy5oYXNBbnlCcm9rZW4gPSB0aGlzLmhhc0FueUJyb2tlbiB8fCAhaW1hZ2UuaXNMb2FkZWQ7XHJcbiAgICAvLyBwcm9ncmVzcyBldmVudFxyXG4gICAgdGhpcy5lbWl0KCAncHJvZ3Jlc3MnLCB0aGlzLCBpbWFnZSwgZWxlbSApO1xyXG4gICAgaWYgKCB0aGlzLmpxRGVmZXJyZWQgJiYgdGhpcy5qcURlZmVycmVkLm5vdGlmeSApIHtcclxuICAgICAgdGhpcy5qcURlZmVycmVkLm5vdGlmeSggdGhpcywgaW1hZ2UgKTtcclxuICAgIH1cclxuICAgIC8vIGNoZWNrIGlmIGNvbXBsZXRlZFxyXG4gICAgaWYgKCB0aGlzLnByb2dyZXNzZWRDb3VudCA9PSB0aGlzLmltYWdlcy5sZW5ndGggKSB7XHJcbiAgICAgIHRoaXMuY29tcGxldGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIHRoaXMub3B0aW9ucy5kZWJ1ZyAmJiBjb25zb2xlICkge1xyXG4gICAgICBjb25zb2xlLmxvZyggJ3Byb2dyZXNzOiAnICsgbWVzc2FnZSwgaW1hZ2UsIGVsZW0gKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBJbWFnZXNMb2FkZWQucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgZXZlbnROYW1lID0gdGhpcy5oYXNBbnlCcm9rZW4gPyAnZmFpbCcgOiAnZG9uZSc7XHJcbiAgICB0aGlzLmlzQ29tcGxldGUgPSB0cnVlO1xyXG4gICAgdGhpcy5lbWl0KCBldmVudE5hbWUsIHRoaXMgKTtcclxuICAgIHRoaXMuZW1pdCggJ2Fsd2F5cycsIHRoaXMgKTtcclxuICAgIGlmICggdGhpcy5qcURlZmVycmVkICkge1xyXG4gICAgICB2YXIganFNZXRob2QgPSB0aGlzLmhhc0FueUJyb2tlbiA/ICdyZWplY3QnIDogJ3Jlc29sdmUnO1xyXG4gICAgICB0aGlzLmpxRGVmZXJyZWRbIGpxTWV0aG9kIF0oIHRoaXMgKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cclxuXHJcbiAgZnVuY3Rpb24gTG9hZGluZ0ltYWdlKCBpbWcgKSB7XHJcbiAgICB0aGlzLmltZyA9IGltZztcclxuICB9XHJcblxyXG4gIExvYWRpbmdJbWFnZS5wcm90b3R5cGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcblxyXG4gIExvYWRpbmdJbWFnZS5wcm90b3R5cGUuY2hlY2sgPSBmdW5jdGlvbigpIHtcclxuICAgIC8vIElmIGNvbXBsZXRlIGlzIHRydWUgYW5kIGJyb3dzZXIgc3VwcG9ydHMgbmF0dXJhbCBzaXplcyxcclxuICAgIC8vIHRyeSB0byBjaGVjayBmb3IgaW1hZ2Ugc3RhdHVzIG1hbnVhbGx5LlxyXG4gICAgdmFyIGlzQ29tcGxldGUgPSB0aGlzLmdldElzSW1hZ2VDb21wbGV0ZSgpO1xyXG4gICAgaWYgKCBpc0NvbXBsZXRlICkge1xyXG4gICAgICAvLyByZXBvcnQgYmFzZWQgb24gbmF0dXJhbFdpZHRoXHJcbiAgICAgIHRoaXMuY29uZmlybSggdGhpcy5pbWcubmF0dXJhbFdpZHRoICE9PSAwLCAnbmF0dXJhbFdpZHRoJyApO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgbm9uZSBvZiB0aGUgY2hlY2tzIGFib3ZlIG1hdGNoZWQsIHNpbXVsYXRlIGxvYWRpbmcgb24gZGV0YWNoZWQgZWxlbWVudC5cclxuICAgIHRoaXMucHJveHlJbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgZXZlbnRpZS5iaW5kKCB0aGlzLnByb3h5SW1hZ2UsICdsb2FkJywgdGhpcyApO1xyXG4gICAgZXZlbnRpZS5iaW5kKCB0aGlzLnByb3h5SW1hZ2UsICdlcnJvcicsIHRoaXMgKTtcclxuICAgIC8vIGJpbmQgdG8gaW1hZ2UgYXMgd2VsbCBmb3IgRmlyZWZveC4gIzE5MVxyXG4gICAgZXZlbnRpZS5iaW5kKCB0aGlzLmltZywgJ2xvYWQnLCB0aGlzICk7XHJcbiAgICBldmVudGllLmJpbmQoIHRoaXMuaW1nLCAnZXJyb3InLCB0aGlzICk7XHJcbiAgICB0aGlzLnByb3h5SW1hZ2Uuc3JjID0gdGhpcy5pbWcuc3JjO1xyXG4gIH07XHJcblxyXG4gIExvYWRpbmdJbWFnZS5wcm90b3R5cGUuZ2V0SXNJbWFnZUNvbXBsZXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5pbWcuY29tcGxldGUgJiYgdGhpcy5pbWcubmF0dXJhbFdpZHRoICE9PSB1bmRlZmluZWQ7XHJcbiAgfTtcclxuXHJcbiAgTG9hZGluZ0ltYWdlLnByb3RvdHlwZS5jb25maXJtID0gZnVuY3Rpb24oIGlzTG9hZGVkLCBtZXNzYWdlICkge1xyXG4gICAgdGhpcy5pc0xvYWRlZCA9IGlzTG9hZGVkO1xyXG4gICAgdGhpcy5lbWl0KCAncHJvZ3Jlc3MnLCB0aGlzLCB0aGlzLmltZywgbWVzc2FnZSApO1xyXG4gIH07XHJcblxyXG4gIC8vIC0tLS0tIGV2ZW50cyAtLS0tLSAvL1xyXG5cclxuICAvLyB0cmlnZ2VyIHNwZWNpZmllZCBoYW5kbGVyIGZvciBldmVudCB0eXBlXHJcbiAgTG9hZGluZ0ltYWdlLnByb3RvdHlwZS5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uKCBldmVudCApIHtcclxuICAgIHZhciBtZXRob2QgPSAnb24nICsgZXZlbnQudHlwZTtcclxuICAgIGlmICggdGhpc1sgbWV0aG9kIF0gKSB7XHJcbiAgICAgIHRoaXNbIG1ldGhvZCBdKCBldmVudCApO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIExvYWRpbmdJbWFnZS5wcm90b3R5cGUub25sb2FkID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLmNvbmZpcm0oIHRydWUsICdvbmxvYWQnICk7XHJcbiAgICB0aGlzLnVuYmluZEV2ZW50cygpO1xyXG4gIH07XHJcblxyXG4gIExvYWRpbmdJbWFnZS5wcm90b3R5cGUub25lcnJvciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5jb25maXJtKCBmYWxzZSwgJ29uZXJyb3InICk7XHJcbiAgICB0aGlzLnVuYmluZEV2ZW50cygpO1xyXG4gIH07XHJcblxyXG4gIExvYWRpbmdJbWFnZS5wcm90b3R5cGUudW5iaW5kRXZlbnRzID0gZnVuY3Rpb24oKSB7XHJcbiAgICBldmVudGllLnVuYmluZCggdGhpcy5wcm94eUltYWdlLCAnbG9hZCcsIHRoaXMgKTtcclxuICAgIGV2ZW50aWUudW5iaW5kKCB0aGlzLnByb3h5SW1hZ2UsICdlcnJvcicsIHRoaXMgKTtcclxuICAgIGV2ZW50aWUudW5iaW5kKCB0aGlzLmltZywgJ2xvYWQnLCB0aGlzICk7XHJcbiAgICBldmVudGllLnVuYmluZCggdGhpcy5pbWcsICdlcnJvcicsIHRoaXMgKTtcclxuICB9O1xyXG5cclxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBCYWNrZ3JvdW5kIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXHJcblxyXG4gIGZ1bmN0aW9uIEJhY2tncm91bmQoIHVybCwgZWxlbWVudCApIHtcclxuICAgIHRoaXMudXJsID0gdXJsO1xyXG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcclxuICAgIHRoaXMuaW1nID0gbmV3IEltYWdlKCk7XHJcbiAgfVxyXG5cclxuICAvLyBpbmhlcml0IExvYWRpbmdJbWFnZSBwcm90b3R5cGVcclxuICBCYWNrZ3JvdW5kLnByb3RvdHlwZSA9IG5ldyBMb2FkaW5nSW1hZ2UoKTtcclxuXHJcbiAgQmFja2dyb3VuZC5wcm90b3R5cGUuY2hlY2sgPSBmdW5jdGlvbigpIHtcclxuICAgIGV2ZW50aWUuYmluZCggdGhpcy5pbWcsICdsb2FkJywgdGhpcyApO1xyXG4gICAgZXZlbnRpZS5iaW5kKCB0aGlzLmltZywgJ2Vycm9yJywgdGhpcyApO1xyXG4gICAgdGhpcy5pbWcuc3JjID0gdGhpcy51cmw7XHJcbiAgICAvLyBjaGVjayBpZiBpbWFnZSBpcyBhbHJlYWR5IGNvbXBsZXRlXHJcbiAgICB2YXIgaXNDb21wbGV0ZSA9IHRoaXMuZ2V0SXNJbWFnZUNvbXBsZXRlKCk7XHJcbiAgICBpZiAoIGlzQ29tcGxldGUgKSB7XHJcbiAgICAgIHRoaXMuY29uZmlybSggdGhpcy5pbWcubmF0dXJhbFdpZHRoICE9PSAwLCAnbmF0dXJhbFdpZHRoJyApO1xyXG4gICAgICB0aGlzLnVuYmluZEV2ZW50cygpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIEJhY2tncm91bmQucHJvdG90eXBlLnVuYmluZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgZXZlbnRpZS51bmJpbmQoIHRoaXMuaW1nLCAnbG9hZCcsIHRoaXMgKTtcclxuICAgIGV2ZW50aWUudW5iaW5kKCB0aGlzLmltZywgJ2Vycm9yJywgdGhpcyApO1xyXG4gIH07XHJcblxyXG4gIEJhY2tncm91bmQucHJvdG90eXBlLmNvbmZpcm0gPSBmdW5jdGlvbiggaXNMb2FkZWQsIG1lc3NhZ2UgKSB7XHJcbiAgICB0aGlzLmlzTG9hZGVkID0gaXNMb2FkZWQ7XHJcbiAgICB0aGlzLmVtaXQoICdwcm9ncmVzcycsIHRoaXMsIHRoaXMuZWxlbWVudCwgbWVzc2FnZSApO1xyXG4gIH07XHJcblxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGpRdWVyeSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xyXG5cclxuICBJbWFnZXNMb2FkZWQubWFrZUpRdWVyeVBsdWdpbiA9IGZ1bmN0aW9uKCBqUXVlcnkgKSB7XHJcbiAgICBqUXVlcnkgPSBqUXVlcnkgfHwgd2luZG93LmpRdWVyeTtcclxuICAgIGlmICggIWpRdWVyeSApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy8gc2V0IGxvY2FsIHZhcmlhYmxlXHJcbiAgICAkID0galF1ZXJ5O1xyXG4gICAgLy8gJCgpLmltYWdlc0xvYWRlZCgpXHJcbiAgICAkLmZuLmltYWdlc0xvYWRlZCA9IGZ1bmN0aW9uKCBvcHRpb25zLCBjYWxsYmFjayApIHtcclxuICAgICAgdmFyIGluc3RhbmNlID0gbmV3IEltYWdlc0xvYWRlZCggdGhpcywgb3B0aW9ucywgY2FsbGJhY2sgKTtcclxuICAgICAgcmV0dXJuIGluc3RhbmNlLmpxRGVmZXJyZWQucHJvbWlzZSggJCh0aGlzKSApO1xyXG4gICAgfTtcclxuICB9O1xyXG4gIC8vIHRyeSBtYWtpbmcgcGx1Z2luXHJcbiAgSW1hZ2VzTG9hZGVkLm1ha2VKUXVlcnlQbHVnaW4oKTtcclxuXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXHJcblxyXG4gIHJldHVybiBJbWFnZXNMb2FkZWQ7XHJcblxyXG59KTtcclxuXHJcbiIsIi8qKlxyXG4gKiBCeFNsaWRlciB2NC4xLjIgLSBGdWxseSBsb2FkZWQsIHJlc3BvbnNpdmUgY29udGVudCBzbGlkZXJcclxuICogaHR0cDovL2J4c2xpZGVyLmNvbVxyXG4gKlxyXG4gKiBDb3B5cmlnaHQgMjAxNCwgU3RldmVuIFdhbmRlcnNraSAtIGh0dHA6Ly9zdGV2ZW53YW5kZXJza2kuY29tIC0gaHR0cDovL2J4Y3JlYXRpdmUuY29tXHJcbiAqIFdyaXR0ZW4gd2hpbGUgZHJpbmtpbmcgQmVsZ2lhbiBhbGVzIGFuZCBsaXN0ZW5pbmcgdG8gamF6elxyXG4gKlxyXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgLSBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXHJcbiAqL1xyXG5cclxuOyhmdW5jdGlvbigkKXtcclxuXHJcblx0dmFyIHBsdWdpbiA9IHt9O1xyXG5cclxuXHR2YXIgZGVmYXVsdHMgPSB7XHJcblxyXG5cdFx0Ly8gR0VORVJBTFxyXG5cdFx0bW9kZTogJ2hvcml6b250YWwnLFxyXG5cdFx0c2xpZGVTZWxlY3RvcjogJycsXHJcblx0XHRpbmZpbml0ZUxvb3A6IHRydWUsXHJcblx0XHRoaWRlQ29udHJvbE9uRW5kOiBmYWxzZSxcclxuXHRcdHNwZWVkOiA1MDAsXHJcblx0XHRlYXNpbmc6IG51bGwsXHJcblx0XHRzbGlkZU1hcmdpbjogMCxcclxuXHRcdHN0YXJ0U2xpZGU6IDAsXHJcblx0XHRyYW5kb21TdGFydDogZmFsc2UsXHJcblx0XHRjYXB0aW9uczogZmFsc2UsXHJcblx0XHR0aWNrZXI6IGZhbHNlLFxyXG5cdFx0dGlja2VySG92ZXI6IGZhbHNlLFxyXG5cdFx0YWRhcHRpdmVIZWlnaHQ6IGZhbHNlLFxyXG5cdFx0YWRhcHRpdmVIZWlnaHRTcGVlZDogNTAwLFxyXG5cdFx0dmlkZW86IGZhbHNlLFxyXG5cdFx0dXNlQ1NTOiB0cnVlLFxyXG5cdFx0cHJlbG9hZEltYWdlczogJ3Zpc2libGUnLFxyXG5cdFx0cmVzcG9uc2l2ZTogdHJ1ZSxcclxuXHRcdHNsaWRlWkluZGV4OiA1MCxcclxuXHRcdHdyYXBwZXJDbGFzczogJ2J4LXdyYXBwZXInLFxyXG5cclxuXHRcdC8vIFRPVUNIXHJcblx0XHR0b3VjaEVuYWJsZWQ6IHRydWUsXHJcblx0XHRzd2lwZVRocmVzaG9sZDogNTAsXHJcblx0XHRvbmVUb09uZVRvdWNoOiB0cnVlLFxyXG5cdFx0cHJldmVudERlZmF1bHRTd2lwZVg6IHRydWUsXHJcblx0XHRwcmV2ZW50RGVmYXVsdFN3aXBlWTogZmFsc2UsXHJcblxyXG5cdFx0Ly8gUEFHRVJcclxuXHRcdHBhZ2VyOiB0cnVlLFxyXG5cdFx0cGFnZXJUeXBlOiAnZnVsbCcsXHJcblx0XHRwYWdlclNob3J0U2VwYXJhdG9yOiAnIC8gJyxcclxuXHRcdHBhZ2VyU2VsZWN0b3I6IG51bGwsXHJcblx0XHRidWlsZFBhZ2VyOiBudWxsLFxyXG5cdFx0cGFnZXJDdXN0b206IG51bGwsXHJcblxyXG5cdFx0Ly8gQ09OVFJPTFNcclxuXHRcdGNvbnRyb2xzOiB0cnVlLFxyXG5cdFx0bmV4dFRleHQ6ICdOZXh0JyxcclxuXHRcdHByZXZUZXh0OiAnUHJldicsXHJcblx0XHRuZXh0U2VsZWN0b3I6IG51bGwsXHJcblx0XHRwcmV2U2VsZWN0b3I6IG51bGwsXHJcblx0XHRhdXRvQ29udHJvbHM6IGZhbHNlLFxyXG5cdFx0c3RhcnRUZXh0OiAnU3RhcnQnLFxyXG5cdFx0c3RvcFRleHQ6ICdTdG9wJyxcclxuXHRcdGF1dG9Db250cm9sc0NvbWJpbmU6IGZhbHNlLFxyXG5cdFx0YXV0b0NvbnRyb2xzU2VsZWN0b3I6IG51bGwsXHJcblxyXG5cdFx0Ly8gQVVUT1xyXG5cdFx0YXV0bzogZmFsc2UsXHJcblx0XHRwYXVzZTogNDAwMCxcclxuXHRcdGF1dG9TdGFydDogdHJ1ZSxcclxuXHRcdGF1dG9EaXJlY3Rpb246ICduZXh0JyxcclxuXHRcdGF1dG9Ib3ZlcjogZmFsc2UsXHJcblx0XHRhdXRvRGVsYXk6IDAsXHJcblx0XHRhdXRvU2xpZGVGb3JPbmVQYWdlOiBmYWxzZSxcclxuXHJcblx0XHQvLyBDQVJPVVNFTFxyXG5cdFx0bWluU2xpZGVzOiAxLFxyXG5cdFx0bWF4U2xpZGVzOiAxLFxyXG5cdFx0bW92ZVNsaWRlczogMCxcclxuXHRcdHNsaWRlV2lkdGg6IDAsXHJcblxyXG5cdFx0Ly8gQ0FMTEJBQ0tTXHJcblx0XHRvblNsaWRlckxvYWQ6IGZ1bmN0aW9uKCkge30sXHJcblx0XHRvblNsaWRlQmVmb3JlOiBmdW5jdGlvbigpIHt9LFxyXG5cdFx0b25TbGlkZUFmdGVyOiBmdW5jdGlvbigpIHt9LFxyXG5cdFx0b25TbGlkZU5leHQ6IGZ1bmN0aW9uKCkge30sXHJcblx0XHRvblNsaWRlUHJldjogZnVuY3Rpb24oKSB7fSxcclxuXHRcdG9uU2xpZGVyUmVzaXplOiBmdW5jdGlvbigpIHt9XHJcblx0fVxyXG5cclxuXHQkLmZuLmJ4U2xpZGVyID0gZnVuY3Rpb24ob3B0aW9ucyl7XHJcblxyXG5cdFx0aWYodGhpcy5sZW5ndGggPT0gMCkgcmV0dXJuIHRoaXM7XHJcblxyXG5cdFx0Ly8gc3VwcG9ydCBtdXRsdGlwbGUgZWxlbWVudHNcclxuXHRcdGlmKHRoaXMubGVuZ3RoID4gMSl7XHJcblx0XHRcdHRoaXMuZWFjaChmdW5jdGlvbigpeyQodGhpcykuYnhTbGlkZXIob3B0aW9ucyl9KTtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gY3JlYXRlIGEgbmFtZXNwYWNlIHRvIGJlIHVzZWQgdGhyb3VnaG91dCB0aGUgcGx1Z2luXHJcblx0XHR2YXIgc2xpZGVyID0ge307XHJcblx0XHQvLyBzZXQgYSByZWZlcmVuY2UgdG8gb3VyIHNsaWRlciBlbGVtZW50XHJcblx0XHR2YXIgZWwgPSB0aGlzO1xyXG5cdFx0cGx1Z2luLmVsID0gdGhpcztcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIE1ha2VzIHNsaWRlc2hvdyByZXNwb25zaXZlXHJcblx0XHQgKi9cclxuXHRcdC8vIGZpcnN0IGdldCB0aGUgb3JpZ2luYWwgd2luZG93IGRpbWVucyAodGhhbmtzIGFsb3QgSUUpXHJcblx0XHR2YXIgd2luZG93V2lkdGggPSAkKHdpbmRvdykud2lkdGgoKTtcclxuXHRcdHZhciB3aW5kb3dIZWlnaHQgPSAkKHdpbmRvdykuaGVpZ2h0KCk7XHJcblxyXG5cclxuXHJcblx0XHQvKipcclxuXHRcdCAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0XHQgKiA9IFBSSVZBVEUgRlVOQ1RJT05TXHJcblx0XHQgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdFx0ICovXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBJbml0aWFsaXplcyBuYW1lc3BhY2Ugc2V0dGluZ3MgdG8gYmUgdXNlZCB0aHJvdWdob3V0IHBsdWdpblxyXG5cdFx0ICovXHJcblx0XHR2YXIgaW5pdCA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdC8vIG1lcmdlIHVzZXItc3VwcGxpZWQgb3B0aW9ucyB3aXRoIHRoZSBkZWZhdWx0c1xyXG5cdFx0XHRzbGlkZXIuc2V0dGluZ3MgPSAkLmV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdGlvbnMpO1xyXG5cdFx0XHQvLyBwYXJzZSBzbGlkZVdpZHRoIHNldHRpbmdcclxuXHRcdFx0c2xpZGVyLnNldHRpbmdzLnNsaWRlV2lkdGggPSBwYXJzZUludChzbGlkZXIuc2V0dGluZ3Muc2xpZGVXaWR0aCk7XHJcblx0XHRcdC8vIHN0b3JlIHRoZSBvcmlnaW5hbCBjaGlsZHJlblxyXG5cdFx0XHRzbGlkZXIuY2hpbGRyZW4gPSBlbC5jaGlsZHJlbihzbGlkZXIuc2V0dGluZ3Muc2xpZGVTZWxlY3Rvcik7XHJcblx0XHRcdC8vIGNoZWNrIGlmIGFjdHVhbCBudW1iZXIgb2Ygc2xpZGVzIGlzIGxlc3MgdGhhbiBtaW5TbGlkZXMgLyBtYXhTbGlkZXNcclxuXHRcdFx0aWYoc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCA8IHNsaWRlci5zZXR0aW5ncy5taW5TbGlkZXMpIHNsaWRlci5zZXR0aW5ncy5taW5TbGlkZXMgPSBzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoO1xyXG5cdFx0XHRpZihzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoIDwgc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcykgc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcyA9IHNsaWRlci5jaGlsZHJlbi5sZW5ndGg7XHJcblx0XHRcdC8vIGlmIHJhbmRvbSBzdGFydCwgc2V0IHRoZSBzdGFydFNsaWRlIHNldHRpbmcgdG8gcmFuZG9tIG51bWJlclxyXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MucmFuZG9tU3RhcnQpIHNsaWRlci5zZXR0aW5ncy5zdGFydFNsaWRlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCk7XHJcblx0XHRcdC8vIHN0b3JlIGFjdGl2ZSBzbGlkZSBpbmZvcm1hdGlvblxyXG5cdFx0XHRzbGlkZXIuYWN0aXZlID0geyBpbmRleDogc2xpZGVyLnNldHRpbmdzLnN0YXJ0U2xpZGUgfVxyXG5cdFx0XHQvLyBzdG9yZSBpZiB0aGUgc2xpZGVyIGlzIGluIGNhcm91c2VsIG1vZGUgKGRpc3BsYXlpbmcgLyBtb3ZpbmcgbXVsdGlwbGUgc2xpZGVzKVxyXG5cdFx0XHRzbGlkZXIuY2Fyb3VzZWwgPSBzbGlkZXIuc2V0dGluZ3MubWluU2xpZGVzID4gMSB8fCBzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzID4gMTtcclxuXHRcdFx0Ly8gaWYgY2Fyb3VzZWwsIGZvcmNlIHByZWxvYWRJbWFnZXMgPSAnYWxsJ1xyXG5cdFx0XHRpZihzbGlkZXIuY2Fyb3VzZWwpIHNsaWRlci5zZXR0aW5ncy5wcmVsb2FkSW1hZ2VzID0gJ2FsbCc7XHJcblx0XHRcdC8vIGNhbGN1bGF0ZSB0aGUgbWluIC8gbWF4IHdpZHRoIHRocmVzaG9sZHMgYmFzZWQgb24gbWluIC8gbWF4IG51bWJlciBvZiBzbGlkZXNcclxuXHRcdFx0Ly8gdXNlZCB0byBzZXR1cCBhbmQgdXBkYXRlIGNhcm91c2VsIHNsaWRlcyBkaW1lbnNpb25zXHJcblx0XHRcdHNsaWRlci5taW5UaHJlc2hvbGQgPSAoc2xpZGVyLnNldHRpbmdzLm1pblNsaWRlcyAqIHNsaWRlci5zZXR0aW5ncy5zbGlkZVdpZHRoKSArICgoc2xpZGVyLnNldHRpbmdzLm1pblNsaWRlcyAtIDEpICogc2xpZGVyLnNldHRpbmdzLnNsaWRlTWFyZ2luKTtcclxuXHRcdFx0c2xpZGVyLm1heFRocmVzaG9sZCA9IChzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzICogc2xpZGVyLnNldHRpbmdzLnNsaWRlV2lkdGgpICsgKChzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzIC0gMSkgKiBzbGlkZXIuc2V0dGluZ3Muc2xpZGVNYXJnaW4pO1xyXG5cdFx0XHQvLyBzdG9yZSB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgc2xpZGVyIChpZiBjdXJyZW50bHkgYW5pbWF0aW5nLCB3b3JraW5nIGlzIHRydWUpXHJcblx0XHRcdHNsaWRlci53b3JraW5nID0gZmFsc2U7XHJcblx0XHRcdC8vIGluaXRpYWxpemUgdGhlIGNvbnRyb2xzIG9iamVjdFxyXG5cdFx0XHRzbGlkZXIuY29udHJvbHMgPSB7fTtcclxuXHRcdFx0Ly8gaW5pdGlhbGl6ZSBhbiBhdXRvIGludGVydmFsXHJcblx0XHRcdHNsaWRlci5pbnRlcnZhbCA9IG51bGw7XHJcblx0XHRcdC8vIGRldGVybWluZSB3aGljaCBwcm9wZXJ0eSB0byB1c2UgZm9yIHRyYW5zaXRpb25zXHJcblx0XHRcdHNsaWRlci5hbmltUHJvcCA9IHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICd2ZXJ0aWNhbCcgPyAndG9wJyA6ICdsZWZ0JztcclxuXHRcdFx0Ly8gZGV0ZXJtaW5lIGlmIGhhcmR3YXJlIGFjY2VsZXJhdGlvbiBjYW4gYmUgdXNlZFxyXG5cdFx0XHRzbGlkZXIudXNpbmdDU1MgPSBzbGlkZXIuc2V0dGluZ3MudXNlQ1NTICYmIHNsaWRlci5zZXR0aW5ncy5tb2RlICE9ICdmYWRlJyAmJiAoZnVuY3Rpb24oKXtcclxuXHRcdFx0XHQvLyBjcmVhdGUgb3VyIHRlc3QgZGl2IGVsZW1lbnRcclxuXHRcdFx0XHR2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRcdFx0Ly8gY3NzIHRyYW5zaXRpb24gcHJvcGVydGllc1xyXG5cdFx0XHRcdHZhciBwcm9wcyA9IFsnV2Via2l0UGVyc3BlY3RpdmUnLCAnTW96UGVyc3BlY3RpdmUnLCAnT1BlcnNwZWN0aXZlJywgJ21zUGVyc3BlY3RpdmUnXTtcclxuXHRcdFx0XHQvLyB0ZXN0IGZvciBlYWNoIHByb3BlcnR5XHJcblx0XHRcdFx0Zm9yKHZhciBpIGluIHByb3BzKXtcclxuXHRcdFx0XHRcdGlmKGRpdi5zdHlsZVtwcm9wc1tpXV0gIT09IHVuZGVmaW5lZCl7XHJcblx0XHRcdFx0XHRcdHNsaWRlci5jc3NQcmVmaXggPSBwcm9wc1tpXS5yZXBsYWNlKCdQZXJzcGVjdGl2ZScsICcnKS50b0xvd2VyQ2FzZSgpO1xyXG5cdFx0XHRcdFx0XHRzbGlkZXIuYW5pbVByb3AgPSAnLScgKyBzbGlkZXIuY3NzUHJlZml4ICsgJy10cmFuc2Zvcm0nO1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9KCkpO1xyXG5cdFx0XHQvLyBpZiB2ZXJ0aWNhbCBtb2RlIGFsd2F5cyBtYWtlIG1heFNsaWRlcyBhbmQgbWluU2xpZGVzIGVxdWFsXHJcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICd2ZXJ0aWNhbCcpIHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMgPSBzbGlkZXIuc2V0dGluZ3MubWluU2xpZGVzO1xyXG5cdFx0XHQvLyBzYXZlIG9yaWdpbmFsIHN0eWxlIGRhdGFcclxuXHRcdFx0ZWwuZGF0YShcIm9yaWdTdHlsZVwiLCBlbC5hdHRyKFwic3R5bGVcIikpO1xyXG5cdFx0XHRlbC5jaGlsZHJlbihzbGlkZXIuc2V0dGluZ3Muc2xpZGVTZWxlY3RvcikuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdFx0ICAkKHRoaXMpLmRhdGEoXCJvcmlnU3R5bGVcIiwgJCh0aGlzKS5hdHRyKFwic3R5bGVcIikpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0Ly8gcGVyZm9ybSBhbGwgRE9NIC8gQ1NTIG1vZGlmaWNhdGlvbnNcclxuXHRcdFx0c2V0dXAoKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFBlcmZvcm1zIGFsbCBET00gYW5kIENTUyBtb2RpZmljYXRpb25zXHJcblx0XHQgKi9cclxuXHRcdHZhciBzZXR1cCA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdC8vIHdyYXAgZWwgaW4gYSB3cmFwcGVyXHJcblx0XHRcdGVsLndyYXAoJzxkaXYgY2xhc3M9XCInICsgc2xpZGVyLnNldHRpbmdzLndyYXBwZXJDbGFzcyArICdcIj48ZGl2IGNsYXNzPVwiYngtdmlld3BvcnRcIj48L2Rpdj48L2Rpdj4nKTtcclxuXHRcdFx0Ly8gc3RvcmUgYSBuYW1zcGFjZSByZWZlcmVuY2UgdG8gLmJ4LXZpZXdwb3J0XHJcblx0XHRcdHNsaWRlci52aWV3cG9ydCA9IGVsLnBhcmVudCgpO1xyXG5cdFx0XHQvLyBhZGQgYSBsb2FkaW5nIGRpdiB0byBkaXNwbGF5IHdoaWxlIGltZyBhcmUgbG9hZGluZ1xyXG5cdFx0XHRzbGlkZXIubG9hZGVyID0gJCgnPGRpdiBjbGFzcz1cImJ4LWxvYWRpbmdcIiAvPicpO1xyXG5cdFx0XHRzbGlkZXIudmlld3BvcnQucHJlcGVuZChzbGlkZXIubG9hZGVyKTtcclxuXHRcdFx0Ly8gc2V0IGVsIHRvIGEgbWFzc2l2ZSB3aWR0aCwgdG8gaG9sZCBhbnkgbmVlZGVkIHNsaWRlc1xyXG5cdFx0XHQvLyBhbHNvIHN0cmlwIGFueSBtYXJnaW4gYW5kIHBhZGRpbmcgZnJvbSBlbFxyXG5cdFx0XHRlbC5jc3Moe1xyXG5cdFx0XHRcdHdpZHRoOiBzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnaG9yaXpvbnRhbCcgPyAoc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCAqIDEwMCArIDIxNSkgKyAnJScgOiAnYXV0bycsXHJcblx0XHRcdFx0cG9zaXRpb246ICdyZWxhdGl2ZSdcclxuXHRcdFx0fSk7XHJcblx0XHRcdC8vIGlmIHVzaW5nIENTUywgYWRkIHRoZSBlYXNpbmcgcHJvcGVydHlcclxuXHRcdFx0aWYoc2xpZGVyLnVzaW5nQ1NTICYmIHNsaWRlci5zZXR0aW5ncy5lYXNpbmcpe1xyXG5cdFx0XHRcdGVsLmNzcygnLScgKyBzbGlkZXIuY3NzUHJlZml4ICsgJy10cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbicsIHNsaWRlci5zZXR0aW5ncy5lYXNpbmcpO1xyXG5cdFx0XHQvLyBpZiBub3QgdXNpbmcgQ1NTIGFuZCBubyBlYXNpbmcgdmFsdWUgd2FzIHN1cHBsaWVkLCB1c2UgdGhlIGRlZmF1bHQgSlMgYW5pbWF0aW9uIGVhc2luZyAoc3dpbmcpXHJcblx0XHRcdH1lbHNlIGlmKCFzbGlkZXIuc2V0dGluZ3MuZWFzaW5nKXtcclxuXHRcdFx0XHRzbGlkZXIuc2V0dGluZ3MuZWFzaW5nID0gJ3N3aW5nJztcclxuXHRcdFx0fVxyXG5cdFx0XHR2YXIgc2xpZGVzU2hvd2luZyA9IGdldE51bWJlclNsaWRlc1Nob3dpbmcoKTtcclxuXHRcdFx0Ly8gbWFrZSBtb2RpZmljYXRpb25zIHRvIHRoZSB2aWV3cG9ydCAoLmJ4LXZpZXdwb3J0KVxyXG5cdFx0XHRzbGlkZXIudmlld3BvcnQuY3NzKHtcclxuXHRcdFx0XHR3aWR0aDogJzEwMCUnLFxyXG5cdFx0XHRcdG92ZXJmbG93OiAnaGlkZGVuJyxcclxuXHRcdFx0XHRwb3NpdGlvbjogJ3JlbGF0aXZlJ1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0c2xpZGVyLnZpZXdwb3J0LnBhcmVudCgpLmNzcyh7XHJcblx0XHRcdFx0bWF4V2lkdGg6IGdldFZpZXdwb3J0TWF4V2lkdGgoKVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0Ly8gbWFrZSBtb2RpZmljYXRpb24gdG8gdGhlIHdyYXBwZXIgKC5ieC13cmFwcGVyKVxyXG5cdFx0XHRpZighc2xpZGVyLnNldHRpbmdzLnBhZ2VyKSB7XHJcblx0XHRcdFx0c2xpZGVyLnZpZXdwb3J0LnBhcmVudCgpLmNzcyh7XHJcblx0XHRcdFx0bWFyZ2luOiAnMCBhdXRvIDBweCdcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBhcHBseSBjc3MgdG8gYWxsIHNsaWRlciBjaGlsZHJlblxyXG5cdFx0XHRzbGlkZXIuY2hpbGRyZW4uY3NzKHtcclxuXHRcdFx0XHQnZmxvYXQnOiBzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnaG9yaXpvbnRhbCcgPyAnbGVmdCcgOiAnbm9uZScsXHJcblx0XHRcdFx0bGlzdFN0eWxlOiAnbm9uZScsXHJcblx0XHRcdFx0cG9zaXRpb246ICdyZWxhdGl2ZSdcclxuXHRcdFx0fSk7XHJcblx0XHRcdC8vIGFwcGx5IHRoZSBjYWxjdWxhdGVkIHdpZHRoIGFmdGVyIHRoZSBmbG9hdCBpcyBhcHBsaWVkIHRvIHByZXZlbnQgc2Nyb2xsYmFyIGludGVyZmVyZW5jZVxyXG5cdFx0XHRzbGlkZXIuY2hpbGRyZW4uY3NzKCd3aWR0aCcsIGdldFNsaWRlV2lkdGgoKSk7XHJcblx0XHRcdC8vIGlmIHNsaWRlTWFyZ2luIGlzIHN1cHBsaWVkLCBhZGQgdGhlIGNzc1xyXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnaG9yaXpvbnRhbCcgJiYgc2xpZGVyLnNldHRpbmdzLnNsaWRlTWFyZ2luID4gMCkgc2xpZGVyLmNoaWxkcmVuLmNzcygnbWFyZ2luUmlnaHQnLCBzbGlkZXIuc2V0dGluZ3Muc2xpZGVNYXJnaW4pO1xyXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAndmVydGljYWwnICYmIHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbiA+IDApIHNsaWRlci5jaGlsZHJlbi5jc3MoJ21hcmdpbkJvdHRvbScsIHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbik7XHJcblx0XHRcdC8vIGlmIFwiZmFkZVwiIG1vZGUsIGFkZCBwb3NpdGlvbmluZyBhbmQgei1pbmRleCBDU1NcclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2ZhZGUnKXtcclxuXHRcdFx0XHRzbGlkZXIuY2hpbGRyZW4uY3NzKHtcclxuXHRcdFx0XHRcdHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG5cdFx0XHRcdFx0ekluZGV4OiAwLFxyXG5cdFx0XHRcdFx0ZGlzcGxheTogJ25vbmUnXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0Ly8gcHJlcGFyZSB0aGUgei1pbmRleCBvbiB0aGUgc2hvd2luZyBlbGVtZW50XHJcblx0XHRcdFx0c2xpZGVyLmNoaWxkcmVuLmVxKHNsaWRlci5zZXR0aW5ncy5zdGFydFNsaWRlKS5jc3Moe3pJbmRleDogc2xpZGVyLnNldHRpbmdzLnNsaWRlWkluZGV4LCBkaXNwbGF5OiAnYmxvY2snfSk7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gY3JlYXRlIGFuIGVsZW1lbnQgdG8gY29udGFpbiBhbGwgc2xpZGVyIGNvbnRyb2xzIChwYWdlciwgc3RhcnQgLyBzdG9wLCBldGMpXHJcblx0XHRcdHNsaWRlci5jb250cm9scy5lbCA9ICQoJzxkaXYgY2xhc3M9XCJieC1jb250cm9sc1wiIC8+Jyk7XHJcblx0XHRcdC8vIGlmIGNhcHRpb25zIGFyZSByZXF1ZXN0ZWQsIGFkZCB0aGVtXHJcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5jYXB0aW9ucykgYXBwZW5kQ2FwdGlvbnMoKTtcclxuXHRcdFx0Ly8gY2hlY2sgaWYgc3RhcnRTbGlkZSBpcyBsYXN0IHNsaWRlXHJcblx0XHRcdHNsaWRlci5hY3RpdmUubGFzdCA9IHNsaWRlci5zZXR0aW5ncy5zdGFydFNsaWRlID09IGdldFBhZ2VyUXR5KCkgLSAxO1xyXG5cdFx0XHQvLyBpZiB2aWRlbyBpcyB0cnVlLCBzZXQgdXAgdGhlIGZpdFZpZHMgcGx1Z2luXHJcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy52aWRlbykgZWwuZml0VmlkcygpO1xyXG5cdFx0XHQvLyBzZXQgdGhlIGRlZmF1bHQgcHJlbG9hZCBzZWxlY3RvciAodmlzaWJsZSlcclxuXHRcdFx0dmFyIHByZWxvYWRTZWxlY3RvciA9IHNsaWRlci5jaGlsZHJlbi5lcShzbGlkZXIuc2V0dGluZ3Muc3RhcnRTbGlkZSk7XHJcblx0XHRcdGlmIChzbGlkZXIuc2V0dGluZ3MucHJlbG9hZEltYWdlcyA9PSBcImFsbFwiKSBwcmVsb2FkU2VsZWN0b3IgPSBzbGlkZXIuY2hpbGRyZW47XHJcblx0XHRcdC8vIG9ubHkgY2hlY2sgZm9yIGNvbnRyb2wgYWRkaXRpb24gaWYgbm90IGluIFwidGlja2VyXCIgbW9kZVxyXG5cdFx0XHRpZighc2xpZGVyLnNldHRpbmdzLnRpY2tlcil7XHJcblx0XHRcdFx0Ly8gaWYgcGFnZXIgaXMgcmVxdWVzdGVkLCBhZGQgaXRcclxuXHRcdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MucGFnZXIpIGFwcGVuZFBhZ2VyKCk7XHJcblx0XHRcdFx0Ly8gaWYgY29udHJvbHMgYXJlIHJlcXVlc3RlZCwgYWRkIHRoZW1cclxuXHRcdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuY29udHJvbHMpIGFwcGVuZENvbnRyb2xzKCk7XHJcblx0XHRcdFx0Ly8gaWYgYXV0byBpcyB0cnVlLCBhbmQgYXV0byBjb250cm9scyBhcmUgcmVxdWVzdGVkLCBhZGQgdGhlbVxyXG5cdFx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5hdXRvICYmIHNsaWRlci5zZXR0aW5ncy5hdXRvQ29udHJvbHMpIGFwcGVuZENvbnRyb2xzQXV0bygpO1xyXG5cdFx0XHRcdC8vIGlmIGFueSBjb250cm9sIG9wdGlvbiBpcyByZXF1ZXN0ZWQsIGFkZCB0aGUgY29udHJvbHMgd3JhcHBlclxyXG5cdFx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5jb250cm9scyB8fCBzbGlkZXIuc2V0dGluZ3MuYXV0b0NvbnRyb2xzIHx8IHNsaWRlci5zZXR0aW5ncy5wYWdlcikgc2xpZGVyLnZpZXdwb3J0LmFmdGVyKHNsaWRlci5jb250cm9scy5lbCk7XHJcblx0XHRcdC8vIGlmIHRpY2tlciBtb2RlLCBkbyBub3QgYWxsb3cgYSBwYWdlclxyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRzbGlkZXIuc2V0dGluZ3MucGFnZXIgPSBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBwcmVsb2FkIGFsbCBpbWcsIHRoZW4gcGVyZm9ybSBmaW5hbCBET00gLyBDU1MgbW9kaWZpY2F0aW9ucyB0aGF0IGRlcGVuZCBvbiBpbWcgYmVpbmcgbG9hZGVkXHJcblx0XHRcdGxvYWRFbGVtZW50cyhwcmVsb2FkU2VsZWN0b3IsIHN0YXJ0KTtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgbG9hZEVsZW1lbnRzID0gZnVuY3Rpb24oc2VsZWN0b3IsIGNhbGxiYWNrKXtcclxuXHRcdFx0dmFyIHRvdGFsID0gc2VsZWN0b3IuZmluZCgnaW1nLCBpZnJhbWUnKS5sZW5ndGg7XHJcblx0XHRcdGlmICh0b3RhbCA9PSAwKXtcclxuXHRcdFx0XHRjYWxsYmFjaygpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHR2YXIgY291bnQgPSAwO1xyXG5cdFx0XHRzZWxlY3Rvci5maW5kKCdpbWcsIGlmcmFtZScpLmVhY2goZnVuY3Rpb24oKXtcclxuXHRcdFx0XHQkKHRoaXMpLm9uZSgnbG9hZCcsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdCAgaWYoKytjb3VudCA9PSB0b3RhbCkgY2FsbGJhY2soKTtcclxuXHRcdFx0XHR9KS5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdCAgaWYodGhpcy5jb21wbGV0ZSkgJCh0aGlzKS5sb2FkKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU3RhcnQgdGhlIHNsaWRlclxyXG5cdFx0ICovXHJcblx0XHR2YXIgc3RhcnQgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHQvLyBpZiBpbmZpbml0ZSBsb29wLCBwcmVwYXJlIGFkZGl0aW9uYWwgc2xpZGVzXHJcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5pbmZpbml0ZUxvb3AgJiYgc2xpZGVyLnNldHRpbmdzLm1vZGUgIT0gJ2ZhZGUnICYmICFzbGlkZXIuc2V0dGluZ3MudGlja2VyKXtcclxuXHRcdFx0XHR2YXIgc2xpY2UgPSBzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAndmVydGljYWwnID8gc2xpZGVyLnNldHRpbmdzLm1pblNsaWRlcyA6IHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXM7XHJcblx0XHRcdFx0dmFyIHNsaWNlQXBwZW5kID0gc2xpZGVyLmNoaWxkcmVuLnNsaWNlKDAsIHNsaWNlKS5jbG9uZSgpLmFkZENsYXNzKCdieC1jbG9uZScpO1xyXG5cdFx0XHRcdHZhciBzbGljZVByZXBlbmQgPSBzbGlkZXIuY2hpbGRyZW4uc2xpY2UoLXNsaWNlKS5jbG9uZSgpLmFkZENsYXNzKCdieC1jbG9uZScpO1xyXG5cdFx0XHRcdGVsLmFwcGVuZChzbGljZUFwcGVuZCkucHJlcGVuZChzbGljZVByZXBlbmQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIHJlbW92ZSB0aGUgbG9hZGluZyBET00gZWxlbWVudFxyXG5cdFx0XHRzbGlkZXIubG9hZGVyLnJlbW92ZSgpO1xyXG5cdFx0XHQvLyBzZXQgdGhlIGxlZnQgLyB0b3AgcG9zaXRpb24gb2YgXCJlbFwiXHJcblx0XHRcdHNldFNsaWRlUG9zaXRpb24oKTtcclxuXHRcdFx0Ly8gaWYgXCJ2ZXJ0aWNhbFwiIG1vZGUsIGFsd2F5cyB1c2UgYWRhcHRpdmVIZWlnaHQgdG8gcHJldmVudCBvZGQgYmVoYXZpb3JcclxuXHRcdFx0aWYgKHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICd2ZXJ0aWNhbCcpIHNsaWRlci5zZXR0aW5ncy5hZGFwdGl2ZUhlaWdodCA9IHRydWU7XHJcblx0XHRcdC8vIHNldCB0aGUgdmlld3BvcnQgaGVpZ2h0XHJcblx0XHRcdHNsaWRlci52aWV3cG9ydC5oZWlnaHQoZ2V0Vmlld3BvcnRIZWlnaHQoKSk7XHJcblx0XHRcdC8vIG1ha2Ugc3VyZSBldmVyeXRoaW5nIGlzIHBvc2l0aW9uZWQganVzdCByaWdodCAoc2FtZSBhcyBhIHdpbmRvdyByZXNpemUpXHJcblx0XHRcdGVsLnJlZHJhd1NsaWRlcigpO1xyXG5cdFx0XHQvLyBvblNsaWRlckxvYWQgY2FsbGJhY2tcclxuXHRcdFx0c2xpZGVyLnNldHRpbmdzLm9uU2xpZGVyTG9hZChzbGlkZXIuYWN0aXZlLmluZGV4KTtcclxuXHRcdFx0Ly8gc2xpZGVyIGhhcyBiZWVuIGZ1bGx5IGluaXRpYWxpemVkXHJcblx0XHRcdHNsaWRlci5pbml0aWFsaXplZCA9IHRydWU7XHJcblx0XHRcdC8vIGJpbmQgdGhlIHJlc2l6ZSBjYWxsIHRvIHRoZSB3aW5kb3dcclxuXHRcdFx0aWYgKHNsaWRlci5zZXR0aW5ncy5yZXNwb25zaXZlKSAkKHdpbmRvdykuYmluZCgncmVzaXplJywgcmVzaXplV2luZG93KTtcclxuXHRcdFx0Ly8gaWYgYXV0byBpcyB0cnVlIGFuZCBoYXMgbW9yZSB0aGFuIDEgcGFnZSwgc3RhcnQgdGhlIHNob3dcclxuXHRcdFx0aWYgKHNsaWRlci5zZXR0aW5ncy5hdXRvICYmIHNsaWRlci5zZXR0aW5ncy5hdXRvU3RhcnQgJiYgKGdldFBhZ2VyUXR5KCkgPiAxIHx8IHNsaWRlci5zZXR0aW5ncy5hdXRvU2xpZGVGb3JPbmVQYWdlKSkgaW5pdEF1dG8oKTtcclxuXHRcdFx0Ly8gaWYgdGlja2VyIGlzIHRydWUsIHN0YXJ0IHRoZSB0aWNrZXJcclxuXHRcdFx0aWYgKHNsaWRlci5zZXR0aW5ncy50aWNrZXIpIGluaXRUaWNrZXIoKTtcclxuXHRcdFx0Ly8gaWYgcGFnZXIgaXMgcmVxdWVzdGVkLCBtYWtlIHRoZSBhcHByb3ByaWF0ZSBwYWdlciBsaW5rIGFjdGl2ZVxyXG5cdFx0XHRpZiAoc2xpZGVyLnNldHRpbmdzLnBhZ2VyKSB1cGRhdGVQYWdlckFjdGl2ZShzbGlkZXIuc2V0dGluZ3Muc3RhcnRTbGlkZSk7XHJcblx0XHRcdC8vIGNoZWNrIGZvciBhbnkgdXBkYXRlcyB0byB0aGUgY29udHJvbHMgKGxpa2UgaGlkZUNvbnRyb2xPbkVuZCB1cGRhdGVzKVxyXG5cdFx0XHRpZiAoc2xpZGVyLnNldHRpbmdzLmNvbnRyb2xzKSB1cGRhdGVEaXJlY3Rpb25Db250cm9scygpO1xyXG5cdFx0XHQvLyBpZiB0b3VjaEVuYWJsZWQgaXMgdHJ1ZSwgc2V0dXAgdGhlIHRvdWNoIGV2ZW50c1xyXG5cdFx0XHRpZiAoc2xpZGVyLnNldHRpbmdzLnRvdWNoRW5hYmxlZCAmJiAhc2xpZGVyLnNldHRpbmdzLnRpY2tlcikgaW5pdFRvdWNoKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZXR1cm5zIHRoZSBjYWxjdWxhdGVkIGhlaWdodCBvZiB0aGUgdmlld3BvcnQsIHVzZWQgdG8gZGV0ZXJtaW5lIGVpdGhlciBhZGFwdGl2ZUhlaWdodCBvciB0aGUgbWF4SGVpZ2h0IHZhbHVlXHJcblx0XHQgKi9cclxuXHRcdHZhciBnZXRWaWV3cG9ydEhlaWdodCA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdHZhciBoZWlnaHQgPSAwO1xyXG5cdFx0XHQvLyBmaXJzdCBkZXRlcm1pbmUgd2hpY2ggY2hpbGRyZW4gKHNsaWRlcykgc2hvdWxkIGJlIHVzZWQgaW4gb3VyIGhlaWdodCBjYWxjdWxhdGlvblxyXG5cdFx0XHR2YXIgY2hpbGRyZW4gPSAkKCk7XHJcblx0XHRcdC8vIGlmIG1vZGUgaXMgbm90IFwidmVydGljYWxcIiBhbmQgYWRhcHRpdmVIZWlnaHQgaXMgZmFsc2UsIGluY2x1ZGUgYWxsIGNoaWxkcmVuXHJcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5tb2RlICE9ICd2ZXJ0aWNhbCcgJiYgIXNsaWRlci5zZXR0aW5ncy5hZGFwdGl2ZUhlaWdodCl7XHJcblx0XHRcdFx0Y2hpbGRyZW4gPSBzbGlkZXIuY2hpbGRyZW47XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdC8vIGlmIG5vdCBjYXJvdXNlbCwgcmV0dXJuIHRoZSBzaW5nbGUgYWN0aXZlIGNoaWxkXHJcblx0XHRcdFx0aWYoIXNsaWRlci5jYXJvdXNlbCl7XHJcblx0XHRcdFx0XHRjaGlsZHJlbiA9IHNsaWRlci5jaGlsZHJlbi5lcShzbGlkZXIuYWN0aXZlLmluZGV4KTtcclxuXHRcdFx0XHQvLyBpZiBjYXJvdXNlbCwgcmV0dXJuIGEgc2xpY2Ugb2YgY2hpbGRyZW5cclxuXHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdC8vIGdldCB0aGUgaW5kaXZpZHVhbCBzbGlkZSBpbmRleFxyXG5cdFx0XHRcdFx0dmFyIGN1cnJlbnRJbmRleCA9IHNsaWRlci5zZXR0aW5ncy5tb3ZlU2xpZGVzID09IDEgPyBzbGlkZXIuYWN0aXZlLmluZGV4IDogc2xpZGVyLmFjdGl2ZS5pbmRleCAqIGdldE1vdmVCeSgpO1xyXG5cdFx0XHRcdFx0Ly8gYWRkIHRoZSBjdXJyZW50IHNsaWRlIHRvIHRoZSBjaGlsZHJlblxyXG5cdFx0XHRcdFx0Y2hpbGRyZW4gPSBzbGlkZXIuY2hpbGRyZW4uZXEoY3VycmVudEluZGV4KTtcclxuXHRcdFx0XHRcdC8vIGN5Y2xlIHRocm91Z2ggdGhlIHJlbWFpbmluZyBcInNob3dpbmdcIiBzbGlkZXNcclxuXHRcdFx0XHRcdGZvciAoaSA9IDE7IGkgPD0gc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcyAtIDE7IGkrKyl7XHJcblx0XHRcdFx0XHRcdC8vIGlmIGxvb3BlZCBiYWNrIHRvIHRoZSBzdGFydFxyXG5cdFx0XHRcdFx0XHRpZihjdXJyZW50SW5kZXggKyBpID49IHNsaWRlci5jaGlsZHJlbi5sZW5ndGgpe1xyXG5cdFx0XHRcdFx0XHRcdGNoaWxkcmVuID0gY2hpbGRyZW4uYWRkKHNsaWRlci5jaGlsZHJlbi5lcShpIC0gMSkpO1xyXG5cdFx0XHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdFx0XHRjaGlsZHJlbiA9IGNoaWxkcmVuLmFkZChzbGlkZXIuY2hpbGRyZW4uZXEoY3VycmVudEluZGV4ICsgaSkpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdC8vIGlmIFwidmVydGljYWxcIiBtb2RlLCBjYWxjdWxhdGUgdGhlIHN1bSBvZiB0aGUgaGVpZ2h0cyBvZiB0aGUgY2hpbGRyZW5cclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ3ZlcnRpY2FsJyl7XHJcblx0XHRcdFx0Y2hpbGRyZW4uZWFjaChmdW5jdGlvbihpbmRleCkge1xyXG5cdFx0XHRcdCAgaGVpZ2h0ICs9ICQodGhpcykub3V0ZXJIZWlnaHQoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHQvLyBhZGQgdXNlci1zdXBwbGllZCBtYXJnaW5zXHJcblx0XHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLnNsaWRlTWFyZ2luID4gMCl7XHJcblx0XHRcdFx0XHRoZWlnaHQgKz0gc2xpZGVyLnNldHRpbmdzLnNsaWRlTWFyZ2luICogKHNsaWRlci5zZXR0aW5ncy5taW5TbGlkZXMgLSAxKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdC8vIGlmIG5vdCBcInZlcnRpY2FsXCIgbW9kZSwgY2FsY3VsYXRlIHRoZSBtYXggaGVpZ2h0IG9mIHRoZSBjaGlsZHJlblxyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRoZWlnaHQgPSBNYXRoLm1heC5hcHBseShNYXRoLCBjaGlsZHJlbi5tYXAoZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdHJldHVybiAkKHRoaXMpLm91dGVySGVpZ2h0KGZhbHNlKTtcclxuXHRcdFx0XHR9KS5nZXQoKSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmKHNsaWRlci52aWV3cG9ydC5jc3MoJ2JveC1zaXppbmcnKSA9PSAnYm9yZGVyLWJveCcpe1xyXG5cdFx0XHRcdGhlaWdodCArPVx0cGFyc2VGbG9hdChzbGlkZXIudmlld3BvcnQuY3NzKCdwYWRkaW5nLXRvcCcpKSArIHBhcnNlRmxvYXQoc2xpZGVyLnZpZXdwb3J0LmNzcygncGFkZGluZy1ib3R0b20nKSkgK1xyXG5cdFx0XHRcdFx0XHRcdHBhcnNlRmxvYXQoc2xpZGVyLnZpZXdwb3J0LmNzcygnYm9yZGVyLXRvcC13aWR0aCcpKSArIHBhcnNlRmxvYXQoc2xpZGVyLnZpZXdwb3J0LmNzcygnYm9yZGVyLWJvdHRvbS13aWR0aCcpKTtcclxuXHRcdFx0fWVsc2UgaWYoc2xpZGVyLnZpZXdwb3J0LmNzcygnYm94LXNpemluZycpID09ICdwYWRkaW5nLWJveCcpe1xyXG5cdFx0XHRcdGhlaWdodCArPVx0cGFyc2VGbG9hdChzbGlkZXIudmlld3BvcnQuY3NzKCdwYWRkaW5nLXRvcCcpKSArIHBhcnNlRmxvYXQoc2xpZGVyLnZpZXdwb3J0LmNzcygncGFkZGluZy1ib3R0b20nKSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBoZWlnaHQ7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZXR1cm5zIHRoZSBjYWxjdWxhdGVkIHdpZHRoIHRvIGJlIHVzZWQgZm9yIHRoZSBvdXRlciB3cmFwcGVyIC8gdmlld3BvcnRcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGdldFZpZXdwb3J0TWF4V2lkdGggPSBmdW5jdGlvbigpe1xyXG5cdFx0XHR2YXIgd2lkdGggPSAnMTAwJSc7XHJcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5zbGlkZVdpZHRoID4gMCl7XHJcblx0XHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnKXtcclxuXHRcdFx0XHRcdHdpZHRoID0gKHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMgKiBzbGlkZXIuc2V0dGluZ3Muc2xpZGVXaWR0aCkgKyAoKHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMgLSAxKSAqIHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbik7XHJcblx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHR3aWR0aCA9IHNsaWRlci5zZXR0aW5ncy5zbGlkZVdpZHRoO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gd2lkdGg7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZXR1cm5zIHRoZSBjYWxjdWxhdGVkIHdpZHRoIHRvIGJlIGFwcGxpZWQgdG8gZWFjaCBzbGlkZVxyXG5cdFx0ICovXHJcblx0XHR2YXIgZ2V0U2xpZGVXaWR0aCA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdC8vIHN0YXJ0IHdpdGggYW55IHVzZXItc3VwcGxpZWQgc2xpZGUgd2lkdGhcclxuXHRcdFx0dmFyIG5ld0VsV2lkdGggPSBzbGlkZXIuc2V0dGluZ3Muc2xpZGVXaWR0aDtcclxuXHRcdFx0Ly8gZ2V0IHRoZSBjdXJyZW50IHZpZXdwb3J0IHdpZHRoXHJcblx0XHRcdHZhciB3cmFwV2lkdGggPSBzbGlkZXIudmlld3BvcnQud2lkdGgoKTtcclxuXHRcdFx0Ly8gaWYgc2xpZGUgd2lkdGggd2FzIG5vdCBzdXBwbGllZCwgb3IgaXMgbGFyZ2VyIHRoYW4gdGhlIHZpZXdwb3J0IHVzZSB0aGUgdmlld3BvcnQgd2lkdGhcclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLnNsaWRlV2lkdGggPT0gMCB8fFxyXG5cdFx0XHRcdChzbGlkZXIuc2V0dGluZ3Muc2xpZGVXaWR0aCA+IHdyYXBXaWR0aCAmJiAhc2xpZGVyLmNhcm91c2VsKSB8fFxyXG5cdFx0XHRcdHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICd2ZXJ0aWNhbCcpe1xyXG5cdFx0XHRcdG5ld0VsV2lkdGggPSB3cmFwV2lkdGg7XHJcblx0XHRcdC8vIGlmIGNhcm91c2VsLCB1c2UgdGhlIHRocmVzaG9sZHMgdG8gZGV0ZXJtaW5lIHRoZSB3aWR0aFxyXG5cdFx0XHR9ZWxzZSBpZihzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzID4gMSAmJiBzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnaG9yaXpvbnRhbCcpe1xyXG5cdFx0XHRcdGlmKHdyYXBXaWR0aCA+IHNsaWRlci5tYXhUaHJlc2hvbGQpe1xyXG5cdFx0XHRcdFx0Ly8gbmV3RWxXaWR0aCA9ICh3cmFwV2lkdGggLSAoc2xpZGVyLnNldHRpbmdzLnNsaWRlTWFyZ2luICogKHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMgLSAxKSkpIC8gc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcztcclxuXHRcdFx0XHR9ZWxzZSBpZih3cmFwV2lkdGggPCBzbGlkZXIubWluVGhyZXNob2xkKXtcclxuXHRcdFx0XHRcdG5ld0VsV2lkdGggPSAod3JhcFdpZHRoIC0gKHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbiAqIChzbGlkZXIuc2V0dGluZ3MubWluU2xpZGVzIC0gMSkpKSAvIHNsaWRlci5zZXR0aW5ncy5taW5TbGlkZXM7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBuZXdFbFdpZHRoO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIHNsaWRlcyBjdXJyZW50bHkgdmlzaWJsZSBpbiB0aGUgdmlld3BvcnQgKGluY2x1ZGVzIHBhcnRpYWxseSB2aXNpYmxlIHNsaWRlcylcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGdldE51bWJlclNsaWRlc1Nob3dpbmcgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHR2YXIgc2xpZGVzU2hvd2luZyA9IDE7XHJcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICdob3Jpem9udGFsJyAmJiBzbGlkZXIuc2V0dGluZ3Muc2xpZGVXaWR0aCA+IDApe1xyXG5cdFx0XHRcdC8vIGlmIHZpZXdwb3J0IGlzIHNtYWxsZXIgdGhhbiBtaW5UaHJlc2hvbGQsIHJldHVybiBtaW5TbGlkZXNcclxuXHRcdFx0XHRpZihzbGlkZXIudmlld3BvcnQud2lkdGgoKSA8IHNsaWRlci5taW5UaHJlc2hvbGQpe1xyXG5cdFx0XHRcdFx0c2xpZGVzU2hvd2luZyA9IHNsaWRlci5zZXR0aW5ncy5taW5TbGlkZXM7XHJcblx0XHRcdFx0Ly8gaWYgdmlld3BvcnQgaXMgbGFyZ2VyIHRoYW4gbWluVGhyZXNob2xkLCByZXR1cm4gbWF4U2xpZGVzXHJcblx0XHRcdFx0fWVsc2UgaWYoc2xpZGVyLnZpZXdwb3J0LndpZHRoKCkgPiBzbGlkZXIubWF4VGhyZXNob2xkKXtcclxuXHRcdFx0XHRcdHNsaWRlc1Nob3dpbmcgPSBzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzO1xyXG5cdFx0XHRcdC8vIGlmIHZpZXdwb3J0IGlzIGJldHdlZW4gbWluIC8gbWF4IHRocmVzaG9sZHMsIGRpdmlkZSB2aWV3cG9ydCB3aWR0aCBieSBmaXJzdCBjaGlsZCB3aWR0aFxyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0dmFyIGNoaWxkV2lkdGggPSBzbGlkZXIuY2hpbGRyZW4uZmlyc3QoKS53aWR0aCgpICsgc2xpZGVyLnNldHRpbmdzLnNsaWRlTWFyZ2luO1xyXG5cdFx0XHRcdFx0c2xpZGVzU2hvd2luZyA9IE1hdGguZmxvb3IoKHNsaWRlci52aWV3cG9ydC53aWR0aCgpICtcclxuXHRcdFx0XHRcdFx0c2xpZGVyLnNldHRpbmdzLnNsaWRlTWFyZ2luKSAvIGNoaWxkV2lkdGgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0Ly8gaWYgXCJ2ZXJ0aWNhbFwiIG1vZGUsIHNsaWRlcyBzaG93aW5nIHdpbGwgYWx3YXlzIGJlIG1pblNsaWRlc1xyXG5cdFx0XHR9ZWxzZSBpZihzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAndmVydGljYWwnKXtcclxuXHRcdFx0XHRzbGlkZXNTaG93aW5nID0gc2xpZGVyLnNldHRpbmdzLm1pblNsaWRlcztcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gc2xpZGVzU2hvd2luZztcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJldHVybnMgdGhlIG51bWJlciBvZiBwYWdlcyAob25lIGZ1bGwgdmlld3BvcnQgb2Ygc2xpZGVzIGlzIG9uZSBcInBhZ2VcIilcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGdldFBhZ2VyUXR5ID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0dmFyIHBhZ2VyUXR5ID0gMDtcclxuXHRcdFx0Ly8gaWYgbW92ZVNsaWRlcyBpcyBzcGVjaWZpZWQgYnkgdGhlIHVzZXJcclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm1vdmVTbGlkZXMgPiAwKXtcclxuXHRcdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuaW5maW5pdGVMb29wKXtcclxuXHRcdFx0XHRcdHBhZ2VyUXR5ID0gTWF0aC5jZWlsKHNsaWRlci5jaGlsZHJlbi5sZW5ndGggLyBnZXRNb3ZlQnkoKSk7XHJcblx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHQvLyB1c2UgYSB3aGlsZSBsb29wIHRvIGRldGVybWluZSBwYWdlc1xyXG5cdFx0XHRcdFx0dmFyIGJyZWFrUG9pbnQgPSAwO1xyXG5cdFx0XHRcdFx0dmFyIGNvdW50ZXIgPSAwXHJcblx0XHRcdFx0XHQvLyB3aGVuIGJyZWFrcG9pbnQgZ29lcyBhYm92ZSBjaGlsZHJlbiBsZW5ndGgsIGNvdW50ZXIgaXMgdGhlIG51bWJlciBvZiBwYWdlc1xyXG5cdFx0XHRcdFx0d2hpbGUgKGJyZWFrUG9pbnQgPCBzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoKXtcclxuXHRcdFx0XHRcdFx0KytwYWdlclF0eTtcclxuXHRcdFx0XHRcdFx0YnJlYWtQb2ludCA9IGNvdW50ZXIgKyBnZXROdW1iZXJTbGlkZXNTaG93aW5nKCk7XHJcblx0XHRcdFx0XHRcdGNvdW50ZXIgKz0gc2xpZGVyLnNldHRpbmdzLm1vdmVTbGlkZXMgPD0gZ2V0TnVtYmVyU2xpZGVzU2hvd2luZygpID8gc2xpZGVyLnNldHRpbmdzLm1vdmVTbGlkZXMgOiBnZXROdW1iZXJTbGlkZXNTaG93aW5nKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHQvLyBpZiBtb3ZlU2xpZGVzIGlzIDAgKGF1dG8pIGRpdmlkZSBjaGlsZHJlbiBsZW5ndGggYnkgc2lkZXMgc2hvd2luZywgdGhlbiByb3VuZCB1cFxyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRwYWdlclF0eSA9IE1hdGguY2VpbChzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoIC8gZ2V0TnVtYmVyU2xpZGVzU2hvd2luZygpKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gcGFnZXJRdHk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgaW5kaXZ1YWwgc2xpZGVzIGJ5IHdoaWNoIHRvIHNoaWZ0IHRoZSBzbGlkZXJcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGdldE1vdmVCeSA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdC8vIGlmIG1vdmVTbGlkZXMgd2FzIHNldCBieSB0aGUgdXNlciBhbmQgbW92ZVNsaWRlcyBpcyBsZXNzIHRoYW4gbnVtYmVyIG9mIHNsaWRlcyBzaG93aW5nXHJcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5tb3ZlU2xpZGVzID4gMCAmJiBzbGlkZXIuc2V0dGluZ3MubW92ZVNsaWRlcyA8PSBnZXROdW1iZXJTbGlkZXNTaG93aW5nKCkpe1xyXG5cdFx0XHRcdHJldHVybiBzbGlkZXIuc2V0dGluZ3MubW92ZVNsaWRlcztcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBpZiBtb3ZlU2xpZGVzIGlzIDAgKGF1dG8pXHJcblx0XHRcdHJldHVybiBnZXROdW1iZXJTbGlkZXNTaG93aW5nKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTZXRzIHRoZSBzbGlkZXIncyAoZWwpIGxlZnQgb3IgdG9wIHBvc2l0aW9uXHJcblx0XHQgKi9cclxuXHRcdHZhciBzZXRTbGlkZVBvc2l0aW9uID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0Ly8gaWYgbGFzdCBzbGlkZSwgbm90IGluZmluaXRlIGxvb3AsIGFuZCBudW1iZXIgb2YgY2hpbGRyZW4gaXMgbGFyZ2VyIHRoYW4gc3BlY2lmaWVkIG1heFNsaWRlc1xyXG5cdFx0XHRpZihzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoID4gc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcyAmJiBzbGlkZXIuYWN0aXZlLmxhc3QgJiYgIXNsaWRlci5zZXR0aW5ncy5pbmZpbml0ZUxvb3Ape1xyXG5cdFx0XHRcdGlmIChzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnaG9yaXpvbnRhbCcpe1xyXG5cdFx0XHRcdFx0Ly8gZ2V0IHRoZSBsYXN0IGNoaWxkJ3MgcG9zaXRpb25cclxuXHRcdFx0XHRcdHZhciBsYXN0Q2hpbGQgPSBzbGlkZXIuY2hpbGRyZW4ubGFzdCgpO1xyXG5cdFx0XHRcdFx0dmFyIHBvc2l0aW9uID0gbGFzdENoaWxkLnBvc2l0aW9uKCk7XHJcblx0XHRcdFx0XHQvLyBzZXQgdGhlIGxlZnQgcG9zaXRpb25cclxuXHRcdFx0XHRcdHNldFBvc2l0aW9uUHJvcGVydHkoLShwb3NpdGlvbi5sZWZ0IC0gKHNsaWRlci52aWV3cG9ydC53aWR0aCgpIC0gbGFzdENoaWxkLm91dGVyV2lkdGgoKSkpLCAncmVzZXQnLCAwKTtcclxuXHRcdFx0XHR9ZWxzZSBpZihzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAndmVydGljYWwnKXtcclxuXHRcdFx0XHRcdC8vIGdldCB0aGUgbGFzdCBzaG93aW5nIGluZGV4J3MgcG9zaXRpb25cclxuXHRcdFx0XHRcdHZhciBsYXN0U2hvd2luZ0luZGV4ID0gc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCAtIHNsaWRlci5zZXR0aW5ncy5taW5TbGlkZXM7XHJcblx0XHRcdFx0XHR2YXIgcG9zaXRpb24gPSBzbGlkZXIuY2hpbGRyZW4uZXEobGFzdFNob3dpbmdJbmRleCkucG9zaXRpb24oKTtcclxuXHRcdFx0XHRcdC8vIHNldCB0aGUgdG9wIHBvc2l0aW9uXHJcblx0XHRcdFx0XHRzZXRQb3NpdGlvblByb3BlcnR5KC1wb3NpdGlvbi50b3AsICdyZXNldCcsIDApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0Ly8gaWYgbm90IGxhc3Qgc2xpZGVcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0Ly8gZ2V0IHRoZSBwb3NpdGlvbiBvZiB0aGUgZmlyc3Qgc2hvd2luZyBzbGlkZVxyXG5cdFx0XHRcdHZhciBwb3NpdGlvbiA9IHNsaWRlci5jaGlsZHJlbi5lcShzbGlkZXIuYWN0aXZlLmluZGV4ICogZ2V0TW92ZUJ5KCkpLnBvc2l0aW9uKCk7XHJcblx0XHRcdFx0Ly8gY2hlY2sgZm9yIGxhc3Qgc2xpZGVcclxuXHRcdFx0XHRpZiAoc2xpZGVyLmFjdGl2ZS5pbmRleCA9PSBnZXRQYWdlclF0eSgpIC0gMSkgc2xpZGVyLmFjdGl2ZS5sYXN0ID0gdHJ1ZTtcclxuXHRcdFx0XHQvLyBzZXQgdGhlIHJlcGVjdGl2ZSBwb3NpdGlvblxyXG5cdFx0XHRcdGlmIChwb3NpdGlvbiAhPSB1bmRlZmluZWQpe1xyXG5cdFx0XHRcdFx0aWYgKHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICdob3Jpem9udGFsJykgc2V0UG9zaXRpb25Qcm9wZXJ0eSgtcG9zaXRpb24ubGVmdCwgJ3Jlc2V0JywgMCk7XHJcblx0XHRcdFx0XHRlbHNlIGlmIChzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAndmVydGljYWwnKSBzZXRQb3NpdGlvblByb3BlcnR5KC1wb3NpdGlvbi50b3AsICdyZXNldCcsIDApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU2V0cyB0aGUgZWwncyBhbmltYXRpbmcgcHJvcGVydHkgcG9zaXRpb24gKHdoaWNoIGluIHR1cm4gd2lsbCBzb21ldGltZXMgYW5pbWF0ZSBlbCkuXHJcblx0XHQgKiBJZiB1c2luZyBDU1MsIHNldHMgdGhlIHRyYW5zZm9ybSBwcm9wZXJ0eS4gSWYgbm90IHVzaW5nIENTUywgc2V0cyB0aGUgdG9wIC8gbGVmdCBwcm9wZXJ0eS5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gdmFsdWUgKGludClcclxuXHRcdCAqICAtIHRoZSBhbmltYXRpbmcgcHJvcGVydHkncyB2YWx1ZVxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB0eXBlIChzdHJpbmcpICdzbGlkZXInLCAncmVzZXQnLCAndGlja2VyJ1xyXG5cdFx0ICogIC0gdGhlIHR5cGUgb2YgaW5zdGFuY2UgZm9yIHdoaWNoIHRoZSBmdW5jdGlvbiBpcyBiZWluZ1xyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSBkdXJhdGlvbiAoaW50KVxyXG5cdFx0ICogIC0gdGhlIGFtb3VudCBvZiB0aW1lIChpbiBtcykgdGhlIHRyYW5zaXRpb24gc2hvdWxkIG9jY3VweVxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSBwYXJhbXMgKGFycmF5KSBvcHRpb25hbFxyXG5cdFx0ICogIC0gYW4gb3B0aW9uYWwgcGFyYW1ldGVyIGNvbnRhaW5pbmcgYW55IHZhcmlhYmxlcyB0aGF0IG5lZWQgdG8gYmUgcGFzc2VkIGluXHJcblx0XHQgKi9cclxuXHRcdHZhciBzZXRQb3NpdGlvblByb3BlcnR5ID0gZnVuY3Rpb24odmFsdWUsIHR5cGUsIGR1cmF0aW9uLCBwYXJhbXMpe1xyXG5cdFx0XHQvLyB1c2UgQ1NTIHRyYW5zZm9ybVxyXG5cdFx0XHRpZihzbGlkZXIudXNpbmdDU1Mpe1xyXG5cdFx0XHRcdC8vIGRldGVybWluZSB0aGUgdHJhbnNsYXRlM2QgdmFsdWVcclxuXHRcdFx0XHR2YXIgcHJvcFZhbHVlID0gc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ3ZlcnRpY2FsJyA/ICd0cmFuc2xhdGUzZCgwLCAnICsgdmFsdWUgKyAncHgsIDApJyA6ICd0cmFuc2xhdGUzZCgnICsgdmFsdWUgKyAncHgsIDAsIDApJztcclxuXHRcdFx0XHQvLyBhZGQgdGhlIENTUyB0cmFuc2l0aW9uLWR1cmF0aW9uXHJcblx0XHRcdFx0ZWwuY3NzKCctJyArIHNsaWRlci5jc3NQcmVmaXggKyAnLXRyYW5zaXRpb24tZHVyYXRpb24nLCBkdXJhdGlvbiAvIDEwMDAgKyAncycpO1xyXG5cdFx0XHRcdGlmKHR5cGUgPT0gJ3NsaWRlJyl7XHJcblx0XHRcdFx0XHQvLyBzZXQgdGhlIHByb3BlcnR5IHZhbHVlXHJcblx0XHRcdFx0XHRlbC5jc3Moc2xpZGVyLmFuaW1Qcm9wLCBwcm9wVmFsdWUpO1xyXG5cdFx0XHRcdFx0Ly8gYmluZCBhIGNhbGxiYWNrIG1ldGhvZCAtIGV4ZWN1dGVzIHdoZW4gQ1NTIHRyYW5zaXRpb24gY29tcGxldGVzXHJcblx0XHRcdFx0XHRlbC5iaW5kKCd0cmFuc2l0aW9uZW5kIHdlYmtpdFRyYW5zaXRpb25FbmQgb1RyYW5zaXRpb25FbmQgTVNUcmFuc2l0aW9uRW5kJywgZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdFx0Ly8gdW5iaW5kIHRoZSBjYWxsYmFja1xyXG5cdFx0XHRcdFx0XHRlbC51bmJpbmQoJ3RyYW5zaXRpb25lbmQgd2Via2l0VHJhbnNpdGlvbkVuZCBvVHJhbnNpdGlvbkVuZCBNU1RyYW5zaXRpb25FbmQnKTtcclxuXHRcdFx0XHRcdFx0dXBkYXRlQWZ0ZXJTbGlkZVRyYW5zaXRpb24oKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1lbHNlIGlmKHR5cGUgPT0gJ3Jlc2V0Jyl7XHJcblx0XHRcdFx0XHRlbC5jc3Moc2xpZGVyLmFuaW1Qcm9wLCBwcm9wVmFsdWUpO1xyXG5cdFx0XHRcdH1lbHNlIGlmKHR5cGUgPT0gJ3RpY2tlcicpe1xyXG5cdFx0XHRcdFx0Ly8gbWFrZSB0aGUgdHJhbnNpdGlvbiB1c2UgJ2xpbmVhcidcclxuXHRcdFx0XHRcdGVsLmNzcygnLScgKyBzbGlkZXIuY3NzUHJlZml4ICsgJy10cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbicsICdsaW5lYXInKTtcclxuXHRcdFx0XHRcdGVsLmNzcyhzbGlkZXIuYW5pbVByb3AsIHByb3BWYWx1ZSk7XHJcblx0XHRcdFx0XHQvLyBiaW5kIGEgY2FsbGJhY2sgbWV0aG9kIC0gZXhlY3V0ZXMgd2hlbiBDU1MgdHJhbnNpdGlvbiBjb21wbGV0ZXNcclxuXHRcdFx0XHRcdGVsLmJpbmQoJ3RyYW5zaXRpb25lbmQgd2Via2l0VHJhbnNpdGlvbkVuZCBvVHJhbnNpdGlvbkVuZCBNU1RyYW5zaXRpb25FbmQnLCBmdW5jdGlvbigpe1xyXG5cdFx0XHRcdFx0XHQvLyB1bmJpbmQgdGhlIGNhbGxiYWNrXHJcblx0XHRcdFx0XHRcdGVsLnVuYmluZCgndHJhbnNpdGlvbmVuZCB3ZWJraXRUcmFuc2l0aW9uRW5kIG9UcmFuc2l0aW9uRW5kIE1TVHJhbnNpdGlvbkVuZCcpO1xyXG5cdFx0XHRcdFx0XHQvLyByZXNldCB0aGUgcG9zaXRpb25cclxuXHRcdFx0XHRcdFx0c2V0UG9zaXRpb25Qcm9wZXJ0eShwYXJhbXNbJ3Jlc2V0VmFsdWUnXSwgJ3Jlc2V0JywgMCk7XHJcblx0XHRcdFx0XHRcdC8vIHN0YXJ0IHRoZSBsb29wIGFnYWluXHJcblx0XHRcdFx0XHRcdHRpY2tlckxvb3AoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0Ly8gdXNlIEpTIGFuaW1hdGVcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0dmFyIGFuaW1hdGVPYmogPSB7fTtcclxuXHRcdFx0XHRhbmltYXRlT2JqW3NsaWRlci5hbmltUHJvcF0gPSB2YWx1ZTtcclxuXHRcdFx0XHRpZih0eXBlID09ICdzbGlkZScpe1xyXG5cdFx0XHRcdFx0ZWwuYW5pbWF0ZShhbmltYXRlT2JqLCBkdXJhdGlvbiwgc2xpZGVyLnNldHRpbmdzLmVhc2luZywgZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdFx0dXBkYXRlQWZ0ZXJTbGlkZVRyYW5zaXRpb24oKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1lbHNlIGlmKHR5cGUgPT0gJ3Jlc2V0Jyl7XHJcblx0XHRcdFx0XHRlbC5jc3Moc2xpZGVyLmFuaW1Qcm9wLCB2YWx1ZSlcclxuXHRcdFx0XHR9ZWxzZSBpZih0eXBlID09ICd0aWNrZXInKXtcclxuXHRcdFx0XHRcdGVsLmFuaW1hdGUoYW5pbWF0ZU9iaiwgc3BlZWQsICdsaW5lYXInLCBmdW5jdGlvbigpe1xyXG5cdFx0XHRcdFx0XHRzZXRQb3NpdGlvblByb3BlcnR5KHBhcmFtc1sncmVzZXRWYWx1ZSddLCAncmVzZXQnLCAwKTtcclxuXHRcdFx0XHRcdFx0Ly8gcnVuIHRoZSByZWN1cnNpdmUgbG9vcCBhZnRlciBhbmltYXRpb25cclxuXHRcdFx0XHRcdFx0dGlja2VyTG9vcCgpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBQb3B1bGF0ZXMgdGhlIHBhZ2VyIHdpdGggcHJvcGVyIGFtb3VudCBvZiBwYWdlc1xyXG5cdFx0ICovXHJcblx0XHR2YXIgcG9wdWxhdGVQYWdlciA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdHZhciBwYWdlckh0bWwgPSAnJztcclxuXHRcdFx0dmFyIHBhZ2VyUXR5ID0gZ2V0UGFnZXJRdHkoKTtcclxuXHRcdFx0Ly8gbG9vcCB0aHJvdWdoIGVhY2ggcGFnZXIgaXRlbVxyXG5cdFx0XHRmb3IodmFyIGk9MDsgaSA8IHBhZ2VyUXR5OyBpKyspe1xyXG5cdFx0XHRcdHZhciBsaW5rQ29udGVudCA9ICcnO1xyXG5cdFx0XHRcdC8vIGlmIGEgYnVpbGRQYWdlciBmdW5jdGlvbiBpcyBzdXBwbGllZCwgdXNlIGl0IHRvIGdldCBwYWdlciBsaW5rIHZhbHVlLCBlbHNlIHVzZSBpbmRleCArIDFcclxuXHRcdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuYnVpbGRQYWdlciAmJiAkLmlzRnVuY3Rpb24oc2xpZGVyLnNldHRpbmdzLmJ1aWxkUGFnZXIpKXtcclxuXHRcdFx0XHRcdGxpbmtDb250ZW50ID0gc2xpZGVyLnNldHRpbmdzLmJ1aWxkUGFnZXIoaSk7XHJcblx0XHRcdFx0XHRzbGlkZXIucGFnZXJFbC5hZGRDbGFzcygnYngtY3VzdG9tLXBhZ2VyJyk7XHJcblx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRsaW5rQ29udGVudCA9IGkgKyAxO1xyXG5cdFx0XHRcdFx0c2xpZGVyLnBhZ2VyRWwuYWRkQ2xhc3MoJ2J4LWRlZmF1bHQtcGFnZXInKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly8gdmFyIGxpbmtDb250ZW50ID0gc2xpZGVyLnNldHRpbmdzLmJ1aWxkUGFnZXIgJiYgJC5pc0Z1bmN0aW9uKHNsaWRlci5zZXR0aW5ncy5idWlsZFBhZ2VyKSA/IHNsaWRlci5zZXR0aW5ncy5idWlsZFBhZ2VyKGkpIDogaSArIDE7XHJcblx0XHRcdFx0Ly8gYWRkIHRoZSBtYXJrdXAgdG8gdGhlIHN0cmluZ1xyXG5cdFx0XHRcdHBhZ2VySHRtbCArPSAnPGRpdiBjbGFzcz1cImJ4LXBhZ2VyLWl0ZW1cIj48YSBocmVmPVwiXCIgZGF0YS1zbGlkZS1pbmRleD1cIicgKyBpICsgJ1wiIGNsYXNzPVwiYngtcGFnZXItbGlua1wiPicgKyBsaW5rQ29udGVudCArICc8L2E+PC9kaXY+JztcclxuXHRcdFx0fTtcclxuXHRcdFx0Ly8gcG9wdWxhdGUgdGhlIHBhZ2VyIGVsZW1lbnQgd2l0aCBwYWdlciBsaW5rc1xyXG5cdFx0XHRzbGlkZXIucGFnZXJFbC5odG1sKHBhZ2VySHRtbCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBBcHBlbmRzIHRoZSBwYWdlciB0byB0aGUgY29udHJvbHMgZWxlbWVudFxyXG5cdFx0ICovXHJcblx0XHR2YXIgYXBwZW5kUGFnZXIgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHRpZighc2xpZGVyLnNldHRpbmdzLnBhZ2VyQ3VzdG9tKXtcclxuXHRcdFx0XHQvLyBjcmVhdGUgdGhlIHBhZ2VyIERPTSBlbGVtZW50XHJcblx0XHRcdFx0c2xpZGVyLnBhZ2VyRWwgPSAkKCc8ZGl2IGNsYXNzPVwiYngtcGFnZXJcIiAvPicpO1xyXG5cdFx0XHRcdC8vIGlmIGEgcGFnZXIgc2VsZWN0b3Igd2FzIHN1cHBsaWVkLCBwb3B1bGF0ZSBpdCB3aXRoIHRoZSBwYWdlclxyXG5cdFx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5wYWdlclNlbGVjdG9yKXtcclxuXHRcdFx0XHRcdCQoc2xpZGVyLnNldHRpbmdzLnBhZ2VyU2VsZWN0b3IpLmh0bWwoc2xpZGVyLnBhZ2VyRWwpO1xyXG5cdFx0XHRcdC8vIGlmIG5vIHBhZ2VyIHNlbGVjdG9yIHdhcyBzdXBwbGllZCwgYWRkIGl0IGFmdGVyIHRoZSB3cmFwcGVyXHJcblx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRzbGlkZXIuY29udHJvbHMuZWwuYWRkQ2xhc3MoJ2J4LWhhcy1wYWdlcicpLmFwcGVuZChzbGlkZXIucGFnZXJFbCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdC8vIHBvcHVsYXRlIHRoZSBwYWdlclxyXG5cdFx0XHRcdHBvcHVsYXRlUGFnZXIoKTtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0c2xpZGVyLnBhZ2VyRWwgPSAkKHNsaWRlci5zZXR0aW5ncy5wYWdlckN1c3RvbSk7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gYXNzaWduIHRoZSBwYWdlciBjbGljayBiaW5kaW5nXHJcblx0XHRcdHNsaWRlci5wYWdlckVsLm9uKCdjbGljaycsICdhJywgY2xpY2tQYWdlckJpbmQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQXBwZW5kcyBwcmV2IC8gbmV4dCBjb250cm9scyB0byB0aGUgY29udHJvbHMgZWxlbWVudFxyXG5cdFx0ICovXHJcblx0XHR2YXIgYXBwZW5kQ29udHJvbHMgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHRzbGlkZXIuY29udHJvbHMubmV4dCA9ICQoJzxhIGNsYXNzPVwiYngtbmV4dFwiIGhyZWY9XCJcIj4nICsgc2xpZGVyLnNldHRpbmdzLm5leHRUZXh0ICsgJzwvYT4nKTtcclxuXHRcdFx0c2xpZGVyLmNvbnRyb2xzLnByZXYgPSAkKCc8YSBjbGFzcz1cImJ4LXByZXZcIiBocmVmPVwiXCI+JyArIHNsaWRlci5zZXR0aW5ncy5wcmV2VGV4dCArICc8L2E+Jyk7XHJcblx0XHRcdC8vIGJpbmQgY2xpY2sgYWN0aW9ucyB0byB0aGUgY29udHJvbHNcclxuXHRcdFx0c2xpZGVyLmNvbnRyb2xzLm5leHQuYmluZCgnY2xpY2snLCBjbGlja05leHRCaW5kKTtcclxuXHRcdFx0c2xpZGVyLmNvbnRyb2xzLnByZXYuYmluZCgnY2xpY2snLCBjbGlja1ByZXZCaW5kKTtcclxuXHRcdFx0Ly8gaWYgbmV4dFNsZWN0b3Igd2FzIHN1cHBsaWVkLCBwb3B1bGF0ZSBpdFxyXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MubmV4dFNlbGVjdG9yKXtcclxuXHRcdFx0XHQkKHNsaWRlci5zZXR0aW5ncy5uZXh0U2VsZWN0b3IpLmFwcGVuZChzbGlkZXIuY29udHJvbHMubmV4dCk7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gaWYgcHJldlNsZWN0b3Igd2FzIHN1cHBsaWVkLCBwb3B1bGF0ZSBpdFxyXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MucHJldlNlbGVjdG9yKXtcclxuXHRcdFx0XHQkKHNsaWRlci5zZXR0aW5ncy5wcmV2U2VsZWN0b3IpLmFwcGVuZChzbGlkZXIuY29udHJvbHMucHJldik7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gaWYgbm8gY3VzdG9tIHNlbGVjdG9ycyB3ZXJlIHN1cHBsaWVkXHJcblx0XHRcdGlmKCFzbGlkZXIuc2V0dGluZ3MubmV4dFNlbGVjdG9yICYmICFzbGlkZXIuc2V0dGluZ3MucHJldlNlbGVjdG9yKXtcclxuXHRcdFx0XHQvLyBhZGQgdGhlIGNvbnRyb2xzIHRvIHRoZSBET01cclxuXHRcdFx0XHRzbGlkZXIuY29udHJvbHMuZGlyZWN0aW9uRWwgPSAkKCc8ZGl2IGNsYXNzPVwiYngtY29udHJvbHMtZGlyZWN0aW9uXCIgLz4nKTtcclxuXHRcdFx0XHQvLyBhZGQgdGhlIGNvbnRyb2wgZWxlbWVudHMgdG8gdGhlIGRpcmVjdGlvbkVsXHJcblx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLmRpcmVjdGlvbkVsLmFwcGVuZChzbGlkZXIuY29udHJvbHMucHJldikuYXBwZW5kKHNsaWRlci5jb250cm9scy5uZXh0KTtcclxuXHRcdFx0XHQvLyBzbGlkZXIudmlld3BvcnQuYXBwZW5kKHNsaWRlci5jb250cm9scy5kaXJlY3Rpb25FbCk7XHJcblx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLmVsLmFkZENsYXNzKCdieC1oYXMtY29udHJvbHMtZGlyZWN0aW9uJykuYXBwZW5kKHNsaWRlci5jb250cm9scy5kaXJlY3Rpb25FbCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEFwcGVuZHMgc3RhcnQgLyBzdG9wIGF1dG8gY29udHJvbHMgdG8gdGhlIGNvbnRyb2xzIGVsZW1lbnRcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGFwcGVuZENvbnRyb2xzQXV0byA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdHNsaWRlci5jb250cm9scy5zdGFydCA9ICQoJzxkaXYgY2xhc3M9XCJieC1jb250cm9scy1hdXRvLWl0ZW1cIj48YSBjbGFzcz1cImJ4LXN0YXJ0XCIgaHJlZj1cIlwiPicgKyBzbGlkZXIuc2V0dGluZ3Muc3RhcnRUZXh0ICsgJzwvYT48L2Rpdj4nKTtcclxuXHRcdFx0c2xpZGVyLmNvbnRyb2xzLnN0b3AgPSAkKCc8ZGl2IGNsYXNzPVwiYngtY29udHJvbHMtYXV0by1pdGVtXCI+PGEgY2xhc3M9XCJieC1zdG9wXCIgaHJlZj1cIlwiPicgKyBzbGlkZXIuc2V0dGluZ3Muc3RvcFRleHQgKyAnPC9hPjwvZGl2PicpO1xyXG5cdFx0XHQvLyBhZGQgdGhlIGNvbnRyb2xzIHRvIHRoZSBET01cclxuXHRcdFx0c2xpZGVyLmNvbnRyb2xzLmF1dG9FbCA9ICQoJzxkaXYgY2xhc3M9XCJieC1jb250cm9scy1hdXRvXCIgLz4nKTtcclxuXHRcdFx0Ly8gYmluZCBjbGljayBhY3Rpb25zIHRvIHRoZSBjb250cm9sc1xyXG5cdFx0XHRzbGlkZXIuY29udHJvbHMuYXV0b0VsLm9uKCdjbGljaycsICcuYngtc3RhcnQnLCBjbGlja1N0YXJ0QmluZCk7XHJcblx0XHRcdHNsaWRlci5jb250cm9scy5hdXRvRWwub24oJ2NsaWNrJywgJy5ieC1zdG9wJywgY2xpY2tTdG9wQmluZCk7XHJcblx0XHRcdC8vIGlmIGF1dG9Db250cm9sc0NvbWJpbmUsIGluc2VydCBvbmx5IHRoZSBcInN0YXJ0XCIgY29udHJvbFxyXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuYXV0b0NvbnRyb2xzQ29tYmluZSl7XHJcblx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLmF1dG9FbC5hcHBlbmQoc2xpZGVyLmNvbnRyb2xzLnN0YXJ0KTtcclxuXHRcdFx0Ly8gaWYgYXV0b0NvbnRyb2xzQ29tYmluZSBpcyBmYWxzZSwgaW5zZXJ0IGJvdGggY29udHJvbHNcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLmF1dG9FbC5hcHBlbmQoc2xpZGVyLmNvbnRyb2xzLnN0YXJ0KS5hcHBlbmQoc2xpZGVyLmNvbnRyb2xzLnN0b3ApO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIGlmIGF1dG8gY29udHJvbHMgc2VsZWN0b3Igd2FzIHN1cHBsaWVkLCBwb3B1bGF0ZSBpdCB3aXRoIHRoZSBjb250cm9sc1xyXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuYXV0b0NvbnRyb2xzU2VsZWN0b3Ipe1xyXG5cdFx0XHRcdCQoc2xpZGVyLnNldHRpbmdzLmF1dG9Db250cm9sc1NlbGVjdG9yKS5odG1sKHNsaWRlci5jb250cm9scy5hdXRvRWwpO1xyXG5cdFx0XHQvLyBpZiBhdXRvIGNvbnRyb2xzIHNlbGVjdG9yIHdhcyBub3Qgc3VwcGxpZWQsIGFkZCBpdCBhZnRlciB0aGUgd3JhcHBlclxyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRzbGlkZXIuY29udHJvbHMuZWwuYWRkQ2xhc3MoJ2J4LWhhcy1jb250cm9scy1hdXRvJykuYXBwZW5kKHNsaWRlci5jb250cm9scy5hdXRvRWwpO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIHVwZGF0ZSB0aGUgYXV0byBjb250cm9sc1xyXG5cdFx0XHR1cGRhdGVBdXRvQ29udHJvbHMoc2xpZGVyLnNldHRpbmdzLmF1dG9TdGFydCA/ICdzdG9wJyA6ICdzdGFydCcpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQXBwZW5kcyBpbWFnZSBjYXB0aW9ucyB0byB0aGUgRE9NXHJcblx0XHQgKi9cclxuXHRcdHZhciBhcHBlbmRDYXB0aW9ucyA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdC8vIGN5Y2xlIHRocm91Z2ggZWFjaCBjaGlsZFxyXG5cdFx0XHRzbGlkZXIuY2hpbGRyZW4uZWFjaChmdW5jdGlvbihpbmRleCl7XHJcblx0XHRcdFx0Ly8gZ2V0IHRoZSBpbWFnZSB0aXRsZSBhdHRyaWJ1dGVcclxuXHRcdFx0XHR2YXIgdGl0bGUgPSAkKHRoaXMpLmZpbmQoJ2ltZzpmaXJzdCcpLmF0dHIoJ3RpdGxlJyk7XHJcblx0XHRcdFx0Ly8gYXBwZW5kIHRoZSBjYXB0aW9uXHJcblx0XHRcdFx0aWYgKHRpdGxlICE9IHVuZGVmaW5lZCAmJiAoJycgKyB0aXRsZSkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJieC1jYXB0aW9uXCI+PHNwYW4+JyArIHRpdGxlICsgJzwvc3Bhbj48L2Rpdj4nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDbGljayBuZXh0IGJpbmRpbmdcclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gZSAoZXZlbnQpXHJcblx0XHQgKiAgLSBET00gZXZlbnQgb2JqZWN0XHJcblx0XHQgKi9cclxuXHRcdHZhciBjbGlja05leHRCaW5kID0gZnVuY3Rpb24oZSl7XHJcblx0XHRcdC8vIGlmIGF1dG8gc2hvdyBpcyBydW5uaW5nLCBzdG9wIGl0XHJcblx0XHRcdGlmIChzbGlkZXIuc2V0dGluZ3MuYXV0bykgZWwuc3RvcEF1dG8oKTtcclxuXHRcdFx0ZWwuZ29Ub05leHRTbGlkZSgpO1xyXG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDbGljayBwcmV2IGJpbmRpbmdcclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gZSAoZXZlbnQpXHJcblx0XHQgKiAgLSBET00gZXZlbnQgb2JqZWN0XHJcblx0XHQgKi9cclxuXHRcdHZhciBjbGlja1ByZXZCaW5kID0gZnVuY3Rpb24oZSl7XHJcblx0XHRcdC8vIGlmIGF1dG8gc2hvdyBpcyBydW5uaW5nLCBzdG9wIGl0XHJcblx0XHRcdGlmIChzbGlkZXIuc2V0dGluZ3MuYXV0bykgZWwuc3RvcEF1dG8oKTtcclxuXHRcdFx0ZWwuZ29Ub1ByZXZTbGlkZSgpO1xyXG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDbGljayBzdGFydCBiaW5kaW5nXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIGUgKGV2ZW50KVxyXG5cdFx0ICogIC0gRE9NIGV2ZW50IG9iamVjdFxyXG5cdFx0ICovXHJcblx0XHR2YXIgY2xpY2tTdGFydEJpbmQgPSBmdW5jdGlvbihlKXtcclxuXHRcdFx0ZWwuc3RhcnRBdXRvKCk7XHJcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENsaWNrIHN0b3AgYmluZGluZ1xyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSBlIChldmVudClcclxuXHRcdCAqICAtIERPTSBldmVudCBvYmplY3RcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGNsaWNrU3RvcEJpbmQgPSBmdW5jdGlvbihlKXtcclxuXHRcdFx0ZWwuc3RvcEF1dG8oKTtcclxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ2xpY2sgcGFnZXIgYmluZGluZ1xyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSBlIChldmVudClcclxuXHRcdCAqICAtIERPTSBldmVudCBvYmplY3RcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGNsaWNrUGFnZXJCaW5kID0gZnVuY3Rpb24oZSl7XHJcblx0XHRcdC8vIGlmIGF1dG8gc2hvdyBpcyBydW5uaW5nLCBzdG9wIGl0XHJcblx0XHRcdGlmIChzbGlkZXIuc2V0dGluZ3MuYXV0bykgZWwuc3RvcEF1dG8oKTtcclxuXHRcdFx0dmFyIHBhZ2VyTGluayA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcclxuXHRcdFx0aWYocGFnZXJMaW5rLmF0dHIoJ2RhdGEtc2xpZGUtaW5kZXgnKSAhPT0gdW5kZWZpbmVkKXtcclxuXHRcdFx0XHR2YXIgcGFnZXJJbmRleCA9IHBhcnNlSW50KHBhZ2VyTGluay5hdHRyKCdkYXRhLXNsaWRlLWluZGV4JykpO1xyXG5cdFx0XHRcdC8vIGlmIGNsaWNrZWQgcGFnZXIgbGluayBpcyBub3QgYWN0aXZlLCBjb250aW51ZSB3aXRoIHRoZSBnb1RvU2xpZGUgY2FsbFxyXG5cdFx0XHRcdGlmKHBhZ2VySW5kZXggIT0gc2xpZGVyLmFjdGl2ZS5pbmRleCkgZWwuZ29Ub1NsaWRlKHBhZ2VySW5kZXgpO1xyXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVXBkYXRlcyB0aGUgcGFnZXIgbGlua3Mgd2l0aCBhbiBhY3RpdmUgY2xhc3NcclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gc2xpZGVJbmRleCAoaW50KVxyXG5cdFx0ICogIC0gaW5kZXggb2Ygc2xpZGUgdG8gbWFrZSBhY3RpdmVcclxuXHRcdCAqL1xyXG5cdFx0dmFyIHVwZGF0ZVBhZ2VyQWN0aXZlID0gZnVuY3Rpb24oc2xpZGVJbmRleCl7XHJcblx0XHRcdC8vIGlmIFwic2hvcnRcIiBwYWdlciB0eXBlXHJcblx0XHRcdHZhciBsZW4gPSBzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoOyAvLyBuYiBvZiBjaGlsZHJlblxyXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MucGFnZXJUeXBlID09ICdzaG9ydCcpe1xyXG5cdFx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMgPiAxKSB7XHJcblx0XHRcdFx0XHRsZW4gPSBNYXRoLmNlaWwoc2xpZGVyLmNoaWxkcmVuLmxlbmd0aC9zbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0c2xpZGVyLnBhZ2VyRWwuaHRtbCggKHNsaWRlSW5kZXggKyAxKSArIHNsaWRlci5zZXR0aW5ncy5wYWdlclNob3J0U2VwYXJhdG9yICsgbGVuKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gcmVtb3ZlIGFsbCBwYWdlciBhY3RpdmUgY2xhc3Nlc1xyXG5cdFx0XHRzbGlkZXIucGFnZXJFbC5maW5kKCdhJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0XHQvLyBhcHBseSB0aGUgYWN0aXZlIGNsYXNzIGZvciBhbGwgcGFnZXJzXHJcblx0XHRcdHNsaWRlci5wYWdlckVsLmVhY2goZnVuY3Rpb24oaSwgZWwpIHsgJChlbCkuZmluZCgnYScpLmVxKHNsaWRlSW5kZXgpLmFkZENsYXNzKCdhY3RpdmUnKTsgfSk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBQZXJmb3JtcyBuZWVkZWQgYWN0aW9ucyBhZnRlciBhIHNsaWRlIHRyYW5zaXRpb25cclxuXHRcdCAqL1xyXG5cdFx0dmFyIHVwZGF0ZUFmdGVyU2xpZGVUcmFuc2l0aW9uID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0Ly8gaWYgaW5maW50ZSBsb29wIGlzIHRydWVcclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLmluZmluaXRlTG9vcCl7XHJcblx0XHRcdFx0dmFyIHBvc2l0aW9uID0gJyc7XHJcblx0XHRcdFx0Ly8gZmlyc3Qgc2xpZGVcclxuXHRcdFx0XHRpZihzbGlkZXIuYWN0aXZlLmluZGV4ID09IDApe1xyXG5cdFx0XHRcdFx0Ly8gc2V0IHRoZSBuZXcgcG9zaXRpb25cclxuXHRcdFx0XHRcdHBvc2l0aW9uID0gc2xpZGVyLmNoaWxkcmVuLmVxKDApLnBvc2l0aW9uKCk7XHJcblx0XHRcdFx0Ly8gY2Fyb3VzZWwsIGxhc3Qgc2xpZGVcclxuXHRcdFx0XHR9ZWxzZSBpZihzbGlkZXIuYWN0aXZlLmluZGV4ID09IGdldFBhZ2VyUXR5KCkgLSAxICYmIHNsaWRlci5jYXJvdXNlbCl7XHJcblx0XHRcdFx0XHRwb3NpdGlvbiA9IHNsaWRlci5jaGlsZHJlbi5lcSgoZ2V0UGFnZXJRdHkoKSAtIDEpICogZ2V0TW92ZUJ5KCkpLnBvc2l0aW9uKCk7XHJcblx0XHRcdFx0Ly8gbGFzdCBzbGlkZVxyXG5cdFx0XHRcdH1lbHNlIGlmKHNsaWRlci5hY3RpdmUuaW5kZXggPT0gc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCAtIDEpe1xyXG5cdFx0XHRcdFx0cG9zaXRpb24gPSBzbGlkZXIuY2hpbGRyZW4uZXEoc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCAtIDEpLnBvc2l0aW9uKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmKHBvc2l0aW9uKXtcclxuXHRcdFx0XHRcdGlmIChzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnaG9yaXpvbnRhbCcpIHsgc2V0UG9zaXRpb25Qcm9wZXJ0eSgtcG9zaXRpb24ubGVmdCwgJ3Jlc2V0JywgMCk7IH1cclxuXHRcdFx0XHRcdGVsc2UgaWYgKHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICd2ZXJ0aWNhbCcpIHsgc2V0UG9zaXRpb25Qcm9wZXJ0eSgtcG9zaXRpb24udG9wLCAncmVzZXQnLCAwKTsgfVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBkZWNsYXJlIHRoYXQgdGhlIHRyYW5zaXRpb24gaXMgY29tcGxldGVcclxuXHRcdFx0c2xpZGVyLndvcmtpbmcgPSBmYWxzZTtcclxuXHRcdFx0Ly8gb25TbGlkZUFmdGVyIGNhbGxiYWNrXHJcblx0XHRcdHNsaWRlci5zZXR0aW5ncy5vblNsaWRlQWZ0ZXIoc2xpZGVyLmNoaWxkcmVuLmVxKHNsaWRlci5hY3RpdmUuaW5kZXgpLCBzbGlkZXIub2xkSW5kZXgsIHNsaWRlci5hY3RpdmUuaW5kZXgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVXBkYXRlcyB0aGUgYXV0byBjb250cm9scyBzdGF0ZSAoZWl0aGVyIGFjdGl2ZSwgb3IgY29tYmluZWQgc3dpdGNoKVxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSBzdGF0ZSAoc3RyaW5nKSBcInN0YXJ0XCIsIFwic3RvcFwiXHJcblx0XHQgKiAgLSB0aGUgbmV3IHN0YXRlIG9mIHRoZSBhdXRvIHNob3dcclxuXHRcdCAqL1xyXG5cdFx0dmFyIHVwZGF0ZUF1dG9Db250cm9scyA9IGZ1bmN0aW9uKHN0YXRlKXtcclxuXHRcdFx0Ly8gaWYgYXV0b0NvbnRyb2xzQ29tYmluZSBpcyB0cnVlLCByZXBsYWNlIHRoZSBjdXJyZW50IGNvbnRyb2wgd2l0aCB0aGUgbmV3IHN0YXRlXHJcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5hdXRvQ29udHJvbHNDb21iaW5lKXtcclxuXHRcdFx0XHRzbGlkZXIuY29udHJvbHMuYXV0b0VsLmh0bWwoc2xpZGVyLmNvbnRyb2xzW3N0YXRlXSk7XHJcblx0XHRcdC8vIGlmIGF1dG9Db250cm9sc0NvbWJpbmUgaXMgZmFsc2UsIGFwcGx5IHRoZSBcImFjdGl2ZVwiIGNsYXNzIHRvIHRoZSBhcHByb3ByaWF0ZSBjb250cm9sXHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHNsaWRlci5jb250cm9scy5hdXRvRWwuZmluZCgnYScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuXHRcdFx0XHRzbGlkZXIuY29udHJvbHMuYXV0b0VsLmZpbmQoJ2E6bm90KC5ieC0nICsgc3RhdGUgKyAnKScpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVXBkYXRlcyB0aGUgZGlyZWN0aW9uIGNvbnRyb2xzIChjaGVja3MgaWYgZWl0aGVyIHNob3VsZCBiZSBoaWRkZW4pXHJcblx0XHQgKi9cclxuXHRcdHZhciB1cGRhdGVEaXJlY3Rpb25Db250cm9scyA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdGlmKGdldFBhZ2VyUXR5KCkgPT0gMSl7XHJcblx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLnByZXYuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcblx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLm5leHQuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcblx0XHRcdH1lbHNlIGlmKCFzbGlkZXIuc2V0dGluZ3MuaW5maW5pdGVMb29wICYmIHNsaWRlci5zZXR0aW5ncy5oaWRlQ29udHJvbE9uRW5kKXtcclxuXHRcdFx0XHQvLyBpZiBmaXJzdCBzbGlkZVxyXG5cdFx0XHRcdGlmIChzbGlkZXIuYWN0aXZlLmluZGV4ID09IDApe1xyXG5cdFx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLnByZXYuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcblx0XHRcdFx0XHRzbGlkZXIuY29udHJvbHMubmV4dC5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcclxuXHRcdFx0XHQvLyBpZiBsYXN0IHNsaWRlXHJcblx0XHRcdFx0fWVsc2UgaWYoc2xpZGVyLmFjdGl2ZS5pbmRleCA9PSBnZXRQYWdlclF0eSgpIC0gMSl7XHJcblx0XHRcdFx0XHRzbGlkZXIuY29udHJvbHMubmV4dC5hZGRDbGFzcygnZGlzYWJsZWQnKTtcclxuXHRcdFx0XHRcdHNsaWRlci5jb250cm9scy5wcmV2LnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG5cdFx0XHRcdC8vIGlmIGFueSBzbGlkZSBpbiB0aGUgbWlkZGxlXHJcblx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRzbGlkZXIuY29udHJvbHMucHJldi5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcclxuXHRcdFx0XHRcdHNsaWRlci5jb250cm9scy5uZXh0LnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogSW5pdGlhbHplcyB0aGUgYXV0byBwcm9jZXNzXHJcblx0XHQgKi9cclxuXHRcdHZhciBpbml0QXV0byA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdC8vIGlmIGF1dG9EZWxheSB3YXMgc3VwcGxpZWQsIGxhdW5jaCB0aGUgYXV0byBzaG93IHVzaW5nIGEgc2V0VGltZW91dCgpIGNhbGxcclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLmF1dG9EZWxheSA+IDApe1xyXG5cdFx0XHRcdHZhciB0aW1lb3V0ID0gc2V0VGltZW91dChlbC5zdGFydEF1dG8sIHNsaWRlci5zZXR0aW5ncy5hdXRvRGVsYXkpO1xyXG5cdFx0XHQvLyBpZiBhdXRvRGVsYXkgd2FzIG5vdCBzdXBwbGllZCwgc3RhcnQgdGhlIGF1dG8gc2hvdyBub3JtYWxseVxyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRlbC5zdGFydEF1dG8oKTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBpZiBhdXRvSG92ZXIgaXMgcmVxdWVzdGVkXHJcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5hdXRvSG92ZXIpe1xyXG5cdFx0XHRcdC8vIG9uIGVsIGhvdmVyXHJcblx0XHRcdFx0ZWwuaG92ZXIoZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdC8vIGlmIHRoZSBhdXRvIHNob3cgaXMgY3VycmVudGx5IHBsYXlpbmcgKGhhcyBhbiBhY3RpdmUgaW50ZXJ2YWwpXHJcblx0XHRcdFx0XHRpZihzbGlkZXIuaW50ZXJ2YWwpe1xyXG5cdFx0XHRcdFx0XHQvLyBzdG9wIHRoZSBhdXRvIHNob3cgYW5kIHBhc3MgdHJ1ZSBhZ3VtZW50IHdoaWNoIHdpbGwgcHJldmVudCBjb250cm9sIHVwZGF0ZVxyXG5cdFx0XHRcdFx0XHRlbC5zdG9wQXV0byh0cnVlKTtcclxuXHRcdFx0XHRcdFx0Ly8gY3JlYXRlIGEgbmV3IGF1dG9QYXVzZWQgdmFsdWUgd2hpY2ggd2lsbCBiZSB1c2VkIGJ5IHRoZSByZWxhdGl2ZSBcIm1vdXNlb3V0XCIgZXZlbnRcclxuXHRcdFx0XHRcdFx0c2xpZGVyLmF1dG9QYXVzZWQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0sIGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0XHQvLyBpZiB0aGUgYXV0b1BhdXNlZCB2YWx1ZSB3YXMgY3JlYXRlZCBiZSB0aGUgcHJpb3IgXCJtb3VzZW92ZXJcIiBldmVudFxyXG5cdFx0XHRcdFx0aWYoc2xpZGVyLmF1dG9QYXVzZWQpe1xyXG5cdFx0XHRcdFx0XHQvLyBzdGFydCB0aGUgYXV0byBzaG93IGFuZCBwYXNzIHRydWUgYWd1bWVudCB3aGljaCB3aWxsIHByZXZlbnQgY29udHJvbCB1cGRhdGVcclxuXHRcdFx0XHRcdFx0ZWwuc3RhcnRBdXRvKHRydWUpO1xyXG5cdFx0XHRcdFx0XHQvLyByZXNldCB0aGUgYXV0b1BhdXNlZCB2YWx1ZVxyXG5cdFx0XHRcdFx0XHRzbGlkZXIuYXV0b1BhdXNlZCA9IG51bGw7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEluaXRpYWx6ZXMgdGhlIHRpY2tlciBwcm9jZXNzXHJcblx0XHQgKi9cclxuXHRcdHZhciBpbml0VGlja2VyID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0dmFyIHN0YXJ0UG9zaXRpb24gPSAwO1xyXG5cdFx0XHQvLyBpZiBhdXRvRGlyZWN0aW9uIGlzIFwibmV4dFwiLCBhcHBlbmQgYSBjbG9uZSBvZiB0aGUgZW50aXJlIHNsaWRlclxyXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuYXV0b0RpcmVjdGlvbiA9PSAnbmV4dCcpe1xyXG5cdFx0XHRcdGVsLmFwcGVuZChzbGlkZXIuY2hpbGRyZW4uY2xvbmUoKS5hZGRDbGFzcygnYngtY2xvbmUnKSk7XHJcblx0XHRcdC8vIGlmIGF1dG9EaXJlY3Rpb24gaXMgXCJwcmV2XCIsIHByZXBlbmQgYSBjbG9uZSBvZiB0aGUgZW50aXJlIHNsaWRlciwgYW5kIHNldCB0aGUgbGVmdCBwb3NpdGlvblxyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRlbC5wcmVwZW5kKHNsaWRlci5jaGlsZHJlbi5jbG9uZSgpLmFkZENsYXNzKCdieC1jbG9uZScpKTtcclxuXHRcdFx0XHR2YXIgcG9zaXRpb24gPSBzbGlkZXIuY2hpbGRyZW4uZmlyc3QoKS5wb3NpdGlvbigpO1xyXG5cdFx0XHRcdHN0YXJ0UG9zaXRpb24gPSBzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnaG9yaXpvbnRhbCcgPyAtcG9zaXRpb24ubGVmdCA6IC1wb3NpdGlvbi50b3A7XHJcblx0XHRcdH1cclxuXHRcdFx0c2V0UG9zaXRpb25Qcm9wZXJ0eShzdGFydFBvc2l0aW9uLCAncmVzZXQnLCAwKTtcclxuXHRcdFx0Ly8gZG8gbm90IGFsbG93IGNvbnRyb2xzIGluIHRpY2tlciBtb2RlXHJcblx0XHRcdHNsaWRlci5zZXR0aW5ncy5wYWdlciA9IGZhbHNlO1xyXG5cdFx0XHRzbGlkZXIuc2V0dGluZ3MuY29udHJvbHMgPSBmYWxzZTtcclxuXHRcdFx0c2xpZGVyLnNldHRpbmdzLmF1dG9Db250cm9scyA9IGZhbHNlO1xyXG5cdFx0XHQvLyBpZiBhdXRvSG92ZXIgaXMgcmVxdWVzdGVkXHJcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy50aWNrZXJIb3ZlciAmJiAhc2xpZGVyLnVzaW5nQ1NTKXtcclxuXHRcdFx0XHQvLyBvbiBlbCBob3ZlclxyXG5cdFx0XHRcdHNsaWRlci52aWV3cG9ydC5ob3ZlcihmdW5jdGlvbigpe1xyXG5cdFx0XHRcdFx0ZWwuc3RvcCgpO1xyXG5cdFx0XHRcdH0sIGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0XHQvLyBjYWxjdWxhdGUgdGhlIHRvdGFsIHdpZHRoIG9mIGNoaWxkcmVuICh1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgc3BlZWQgcmF0aW8pXHJcblx0XHRcdFx0XHR2YXIgdG90YWxEaW1lbnMgPSAwO1xyXG5cdFx0XHRcdFx0c2xpZGVyLmNoaWxkcmVuLmVhY2goZnVuY3Rpb24oaW5kZXgpe1xyXG5cdFx0XHRcdFx0ICB0b3RhbERpbWVucyArPSBzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnaG9yaXpvbnRhbCcgPyAkKHRoaXMpLm91dGVyV2lkdGgodHJ1ZSkgOiAkKHRoaXMpLm91dGVySGVpZ2h0KHRydWUpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHQvLyBjYWxjdWxhdGUgdGhlIHNwZWVkIHJhdGlvICh1c2VkIHRvIGRldGVybWluZSB0aGUgbmV3IHNwZWVkIHRvIGZpbmlzaCB0aGUgcGF1c2VkIGFuaW1hdGlvbilcclxuXHRcdFx0XHRcdHZhciByYXRpbyA9IHNsaWRlci5zZXR0aW5ncy5zcGVlZCAvIHRvdGFsRGltZW5zO1xyXG5cdFx0XHRcdFx0Ly8gZGV0ZXJtaW5lIHdoaWNoIHByb3BlcnR5IHRvIHVzZVxyXG5cdFx0XHRcdFx0dmFyIHByb3BlcnR5ID0gc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnID8gJ2xlZnQnIDogJ3RvcCc7XHJcblx0XHRcdFx0XHQvLyBjYWxjdWxhdGUgdGhlIG5ldyBzcGVlZFxyXG5cdFx0XHRcdFx0dmFyIG5ld1NwZWVkID0gcmF0aW8gKiAodG90YWxEaW1lbnMgLSAoTWF0aC5hYnMocGFyc2VJbnQoZWwuY3NzKHByb3BlcnR5KSkpKSk7XHJcblx0XHRcdFx0XHR0aWNrZXJMb29wKG5ld1NwZWVkKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBzdGFydCB0aGUgdGlja2VyIGxvb3BcclxuXHRcdFx0dGlja2VyTG9vcCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUnVucyBhIGNvbnRpbnVvdXMgbG9vcCwgbmV3cyB0aWNrZXItc3R5bGVcclxuXHRcdCAqL1xyXG5cdFx0dmFyIHRpY2tlckxvb3AgPSBmdW5jdGlvbihyZXN1bWVTcGVlZCl7XHJcblx0XHRcdHNwZWVkID0gcmVzdW1lU3BlZWQgPyByZXN1bWVTcGVlZCA6IHNsaWRlci5zZXR0aW5ncy5zcGVlZDtcclxuXHRcdFx0dmFyIHBvc2l0aW9uID0ge2xlZnQ6IDAsIHRvcDogMH07XHJcblx0XHRcdHZhciByZXNldCA9IHtsZWZ0OiAwLCB0b3A6IDB9O1xyXG5cdFx0XHQvLyBpZiBcIm5leHRcIiBhbmltYXRlIGxlZnQgcG9zaXRpb24gdG8gbGFzdCBjaGlsZCwgdGhlbiByZXNldCBsZWZ0IHRvIDBcclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLmF1dG9EaXJlY3Rpb24gPT0gJ25leHQnKXtcclxuXHRcdFx0XHRwb3NpdGlvbiA9IGVsLmZpbmQoJy5ieC1jbG9uZScpLmZpcnN0KCkucG9zaXRpb24oKTtcclxuXHRcdFx0Ly8gaWYgXCJwcmV2XCIgYW5pbWF0ZSBsZWZ0IHBvc2l0aW9uIHRvIDAsIHRoZW4gcmVzZXQgbGVmdCB0byBmaXJzdCBub24tY2xvbmUgY2hpbGRcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0cmVzZXQgPSBzbGlkZXIuY2hpbGRyZW4uZmlyc3QoKS5wb3NpdGlvbigpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHZhciBhbmltYXRlUHJvcGVydHkgPSBzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnaG9yaXpvbnRhbCcgPyAtcG9zaXRpb24ubGVmdCA6IC1wb3NpdGlvbi50b3A7XHJcblx0XHRcdHZhciByZXNldFZhbHVlID0gc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnID8gLXJlc2V0LmxlZnQgOiAtcmVzZXQudG9wO1xyXG5cdFx0XHR2YXIgcGFyYW1zID0ge3Jlc2V0VmFsdWU6IHJlc2V0VmFsdWV9O1xyXG5cdFx0XHRzZXRQb3NpdGlvblByb3BlcnR5KGFuaW1hdGVQcm9wZXJ0eSwgJ3RpY2tlcicsIHNwZWVkLCBwYXJhbXMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogSW5pdGlhbGl6ZXMgdG91Y2ggZXZlbnRzXHJcblx0XHQgKi9cclxuXHRcdHZhciBpbml0VG91Y2ggPSBmdW5jdGlvbigpe1xyXG5cdFx0XHQvLyBpbml0aWFsaXplIG9iamVjdCB0byBjb250YWluIGFsbCB0b3VjaCB2YWx1ZXNcclxuXHRcdFx0c2xpZGVyLnRvdWNoID0ge1xyXG5cdFx0XHRcdHN0YXJ0OiB7eDogMCwgeTogMH0sXHJcblx0XHRcdFx0ZW5kOiB7eDogMCwgeTogMH1cclxuXHRcdFx0fVxyXG5cdFx0XHRzbGlkZXIudmlld3BvcnQuYmluZCgndG91Y2hzdGFydCcsIG9uVG91Y2hTdGFydCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBFdmVudCBoYW5kbGVyIGZvciBcInRvdWNoc3RhcnRcIlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSBlIChldmVudClcclxuXHRcdCAqICAtIERPTSBldmVudCBvYmplY3RcclxuXHRcdCAqL1xyXG5cdFx0dmFyIG9uVG91Y2hTdGFydCA9IGZ1bmN0aW9uKGUpe1xyXG5cdFx0XHRpZihzbGlkZXIud29ya2luZyl7XHJcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHQvLyByZWNvcmQgdGhlIG9yaWdpbmFsIHBvc2l0aW9uIHdoZW4gdG91Y2ggc3RhcnRzXHJcblx0XHRcdFx0c2xpZGVyLnRvdWNoLm9yaWdpbmFsUG9zID0gZWwucG9zaXRpb24oKTtcclxuXHRcdFx0XHR2YXIgb3JpZyA9IGUub3JpZ2luYWxFdmVudDtcclxuXHRcdFx0XHQvLyByZWNvcmQgdGhlIHN0YXJ0aW5nIHRvdWNoIHgsIHkgY29vcmRpbmF0ZXNcclxuXHRcdFx0XHRzbGlkZXIudG91Y2guc3RhcnQueCA9IG9yaWcuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVg7XHJcblx0XHRcdFx0c2xpZGVyLnRvdWNoLnN0YXJ0LnkgPSBvcmlnLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZO1xyXG5cdFx0XHRcdC8vIGJpbmQgYSBcInRvdWNobW92ZVwiIGV2ZW50IHRvIHRoZSB2aWV3cG9ydFxyXG5cdFx0XHRcdHNsaWRlci52aWV3cG9ydC5iaW5kKCd0b3VjaG1vdmUnLCBvblRvdWNoTW92ZSk7XHJcblx0XHRcdFx0Ly8gYmluZCBhIFwidG91Y2hlbmRcIiBldmVudCB0byB0aGUgdmlld3BvcnRcclxuXHRcdFx0XHRzbGlkZXIudmlld3BvcnQuYmluZCgndG91Y2hlbmQnLCBvblRvdWNoRW5kKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogRXZlbnQgaGFuZGxlciBmb3IgXCJ0b3VjaG1vdmVcIlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSBlIChldmVudClcclxuXHRcdCAqICAtIERPTSBldmVudCBvYmplY3RcclxuXHRcdCAqL1xyXG5cdFx0dmFyIG9uVG91Y2hNb3ZlID0gZnVuY3Rpb24oZSl7XHJcblx0XHRcdHZhciBvcmlnID0gZS5vcmlnaW5hbEV2ZW50O1xyXG5cdFx0XHQvLyBpZiBzY3JvbGxpbmcgb24geSBheGlzLCBkbyBub3QgcHJldmVudCBkZWZhdWx0XHJcblx0XHRcdHZhciB4TW92ZW1lbnQgPSBNYXRoLmFicyhvcmlnLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYIC0gc2xpZGVyLnRvdWNoLnN0YXJ0LngpO1xyXG5cdFx0XHR2YXIgeU1vdmVtZW50ID0gTWF0aC5hYnMob3JpZy5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWSAtIHNsaWRlci50b3VjaC5zdGFydC55KTtcclxuXHRcdFx0Ly8geCBheGlzIHN3aXBlXHJcblx0XHRcdGlmKCh4TW92ZW1lbnQgKiAzKSA+IHlNb3ZlbWVudCAmJiBzbGlkZXIuc2V0dGluZ3MucHJldmVudERlZmF1bHRTd2lwZVgpe1xyXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0Ly8geSBheGlzIHN3aXBlXHJcblx0XHRcdH1lbHNlIGlmKCh5TW92ZW1lbnQgKiAzKSA+IHhNb3ZlbWVudCAmJiBzbGlkZXIuc2V0dGluZ3MucHJldmVudERlZmF1bHRTd2lwZVkpe1xyXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MubW9kZSAhPSAnZmFkZScgJiYgc2xpZGVyLnNldHRpbmdzLm9uZVRvT25lVG91Y2gpe1xyXG5cdFx0XHRcdHZhciB2YWx1ZSA9IDA7XHJcblx0XHRcdFx0Ly8gaWYgaG9yaXpvbnRhbCwgZHJhZyBhbG9uZyB4IGF4aXNcclxuXHRcdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnaG9yaXpvbnRhbCcpe1xyXG5cdFx0XHRcdFx0dmFyIGNoYW5nZSA9IG9yaWcuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVggLSBzbGlkZXIudG91Y2guc3RhcnQueDtcclxuXHRcdFx0XHRcdHZhbHVlID0gc2xpZGVyLnRvdWNoLm9yaWdpbmFsUG9zLmxlZnQgKyBjaGFuZ2U7XHJcblx0XHRcdFx0Ly8gaWYgdmVydGljYWwsIGRyYWcgYWxvbmcgeSBheGlzXHJcblx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHR2YXIgY2hhbmdlID0gb3JpZy5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWSAtIHNsaWRlci50b3VjaC5zdGFydC55O1xyXG5cdFx0XHRcdFx0dmFsdWUgPSBzbGlkZXIudG91Y2gub3JpZ2luYWxQb3MudG9wICsgY2hhbmdlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRzZXRQb3NpdGlvblByb3BlcnR5KHZhbHVlLCAncmVzZXQnLCAwKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogRXZlbnQgaGFuZGxlciBmb3IgXCJ0b3VjaGVuZFwiXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIGUgKGV2ZW50KVxyXG5cdFx0ICogIC0gRE9NIGV2ZW50IG9iamVjdFxyXG5cdFx0ICovXHJcblx0XHR2YXIgb25Ub3VjaEVuZCA9IGZ1bmN0aW9uKGUpe1xyXG5cdFx0XHRzbGlkZXIudmlld3BvcnQudW5iaW5kKCd0b3VjaG1vdmUnLCBvblRvdWNoTW92ZSk7XHJcblx0XHRcdHZhciBvcmlnID0gZS5vcmlnaW5hbEV2ZW50O1xyXG5cdFx0XHR2YXIgdmFsdWUgPSAwO1xyXG5cdFx0XHQvLyByZWNvcmQgZW5kIHgsIHkgcG9zaXRpb25zXHJcblx0XHRcdHNsaWRlci50b3VjaC5lbmQueCA9IG9yaWcuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVg7XHJcblx0XHRcdHNsaWRlci50b3VjaC5lbmQueSA9IG9yaWcuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVk7XHJcblx0XHRcdC8vIGlmIGZhZGUgbW9kZSwgY2hlY2sgaWYgYWJzb2x1dGUgeCBkaXN0YW5jZSBjbGVhcnMgdGhlIHRocmVzaG9sZFxyXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnZmFkZScpe1xyXG5cdFx0XHRcdHZhciBkaXN0YW5jZSA9IE1hdGguYWJzKHNsaWRlci50b3VjaC5zdGFydC54IC0gc2xpZGVyLnRvdWNoLmVuZC54KTtcclxuXHRcdFx0XHRpZihkaXN0YW5jZSA+PSBzbGlkZXIuc2V0dGluZ3Muc3dpcGVUaHJlc2hvbGQpe1xyXG5cdFx0XHRcdFx0c2xpZGVyLnRvdWNoLnN0YXJ0LnggPiBzbGlkZXIudG91Y2guZW5kLnggPyBlbC5nb1RvTmV4dFNsaWRlKCkgOiBlbC5nb1RvUHJldlNsaWRlKCk7XHJcblx0XHRcdFx0XHRlbC5zdG9wQXV0bygpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0Ly8gbm90IGZhZGUgbW9kZVxyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHR2YXIgZGlzdGFuY2UgPSAwO1xyXG5cdFx0XHRcdC8vIGNhbGN1bGF0ZSBkaXN0YW5jZSBhbmQgZWwncyBhbmltYXRlIHByb3BlcnR5XHJcblx0XHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnKXtcclxuXHRcdFx0XHRcdGRpc3RhbmNlID0gc2xpZGVyLnRvdWNoLmVuZC54IC0gc2xpZGVyLnRvdWNoLnN0YXJ0Lng7XHJcblx0XHRcdFx0XHR2YWx1ZSA9IHNsaWRlci50b3VjaC5vcmlnaW5hbFBvcy5sZWZ0O1xyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0ZGlzdGFuY2UgPSBzbGlkZXIudG91Y2guZW5kLnkgLSBzbGlkZXIudG91Y2guc3RhcnQueTtcclxuXHRcdFx0XHRcdHZhbHVlID0gc2xpZGVyLnRvdWNoLm9yaWdpbmFsUG9zLnRvcDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly8gaWYgbm90IGluZmluaXRlIGxvb3AgYW5kIGZpcnN0IC8gbGFzdCBzbGlkZSwgZG8gbm90IGF0dGVtcHQgYSBzbGlkZSB0cmFuc2l0aW9uXHJcblx0XHRcdFx0aWYoIXNsaWRlci5zZXR0aW5ncy5pbmZpbml0ZUxvb3AgJiYgKChzbGlkZXIuYWN0aXZlLmluZGV4ID09IDAgJiYgZGlzdGFuY2UgPiAwKSB8fCAoc2xpZGVyLmFjdGl2ZS5sYXN0ICYmIGRpc3RhbmNlIDwgMCkpKXtcclxuXHRcdFx0XHRcdHNldFBvc2l0aW9uUHJvcGVydHkodmFsdWUsICdyZXNldCcsIDIwMCk7XHJcblx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHQvLyBjaGVjayBpZiBkaXN0YW5jZSBjbGVhcnMgdGhyZXNob2xkXHJcblx0XHRcdFx0XHRpZihNYXRoLmFicyhkaXN0YW5jZSkgPj0gc2xpZGVyLnNldHRpbmdzLnN3aXBlVGhyZXNob2xkKXtcclxuXHRcdFx0XHRcdFx0ZGlzdGFuY2UgPCAwID8gZWwuZ29Ub05leHRTbGlkZSgpIDogZWwuZ29Ub1ByZXZTbGlkZSgpO1xyXG5cdFx0XHRcdFx0XHRlbC5zdG9wQXV0bygpO1xyXG5cdFx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRcdC8vIGVsLmFuaW1hdGUocHJvcGVydHksIDIwMCk7XHJcblx0XHRcdFx0XHRcdHNldFBvc2l0aW9uUHJvcGVydHkodmFsdWUsICdyZXNldCcsIDIwMCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHNsaWRlci52aWV3cG9ydC51bmJpbmQoJ3RvdWNoZW5kJywgb25Ub3VjaEVuZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBXaW5kb3cgcmVzaXplIGV2ZW50IGNhbGxiYWNrXHJcblx0XHQgKi9cclxuXHRcdHZhciByZXNpemVXaW5kb3cgPSBmdW5jdGlvbihlKXtcclxuXHRcdFx0Ly8gZG9uJ3QgZG8gYW55dGhpbmcgaWYgc2xpZGVyIGlzbid0IGluaXRpYWxpemVkLlxyXG5cdFx0XHRpZighc2xpZGVyLmluaXRpYWxpemVkKSByZXR1cm47XHJcblx0XHRcdC8vIGdldCB0aGUgbmV3IHdpbmRvdyBkaW1lbnMgKGFnYWluLCB0aGFuayB5b3UgSUUpXHJcblx0XHRcdHZhciB3aW5kb3dXaWR0aE5ldyA9ICQod2luZG93KS53aWR0aCgpO1xyXG5cdFx0XHR2YXIgd2luZG93SGVpZ2h0TmV3ID0gJCh3aW5kb3cpLmhlaWdodCgpO1xyXG5cdFx0XHQvLyBtYWtlIHN1cmUgdGhhdCBpdCBpcyBhIHRydWUgd2luZG93IHJlc2l6ZVxyXG5cdFx0XHQvLyAqd2UgbXVzdCBjaGVjayB0aGlzIGJlY2F1c2Ugb3VyIGRpbm9zYXVyIGZyaWVuZCBJRSBmaXJlcyBhIHdpbmRvdyByZXNpemUgZXZlbnQgd2hlbiBjZXJ0YWluIERPTSBlbGVtZW50c1xyXG5cdFx0XHQvLyBhcmUgcmVzaXplZC4gQ2FuIHlvdSBqdXN0IGRpZSBhbHJlYWR5PypcclxuXHRcdFx0aWYod2luZG93V2lkdGggIT0gd2luZG93V2lkdGhOZXcgfHwgd2luZG93SGVpZ2h0ICE9IHdpbmRvd0hlaWdodE5ldyl7XHJcblx0XHRcdFx0Ly8gc2V0IHRoZSBuZXcgd2luZG93IGRpbWVuc1xyXG5cdFx0XHRcdHdpbmRvd1dpZHRoID0gd2luZG93V2lkdGhOZXc7XHJcblx0XHRcdFx0d2luZG93SGVpZ2h0ID0gd2luZG93SGVpZ2h0TmV3O1xyXG5cdFx0XHRcdC8vIHVwZGF0ZSBhbGwgZHluYW1pYyBlbGVtZW50c1xyXG5cdFx0XHRcdGVsLnJlZHJhd1NsaWRlcigpO1xyXG5cdFx0XHRcdC8vIENhbGwgdXNlciByZXNpemUgaGFuZGxlclxyXG5cdFx0XHRcdHNsaWRlci5zZXR0aW5ncy5vblNsaWRlclJlc2l6ZS5jYWxsKGVsLCBzbGlkZXIuYWN0aXZlLmluZGV4KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHRcdCAqID0gUFVCTElDIEZVTkNUSU9OU1xyXG5cdFx0ICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHRcdCAqL1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUGVyZm9ybXMgc2xpZGUgdHJhbnNpdGlvbiB0byB0aGUgc3BlY2lmaWVkIHNsaWRlXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHNsaWRlSW5kZXggKGludClcclxuXHRcdCAqICAtIHRoZSBkZXN0aW5hdGlvbiBzbGlkZSdzIGluZGV4ICh6ZXJvLWJhc2VkKVxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSBkaXJlY3Rpb24gKHN0cmluZylcclxuXHRcdCAqICAtIElOVEVSTkFMIFVTRSBPTkxZIC0gdGhlIGRpcmVjdGlvbiBvZiB0cmF2ZWwgKFwicHJldlwiIC8gXCJuZXh0XCIpXHJcblx0XHQgKi9cclxuXHRcdGVsLmdvVG9TbGlkZSA9IGZ1bmN0aW9uKHNsaWRlSW5kZXgsIGRpcmVjdGlvbil7XHJcblx0XHRcdC8vIGlmIHBsdWdpbiBpcyBjdXJyZW50bHkgaW4gbW90aW9uLCBpZ25vcmUgcmVxdWVzdFxyXG5cdFx0XHRpZihzbGlkZXIud29ya2luZyB8fCBzbGlkZXIuYWN0aXZlLmluZGV4ID09IHNsaWRlSW5kZXgpIHJldHVybjtcclxuXHRcdFx0Ly8gZGVjbGFyZSB0aGF0IHBsdWdpbiBpcyBpbiBtb3Rpb25cclxuXHRcdFx0c2xpZGVyLndvcmtpbmcgPSB0cnVlO1xyXG5cdFx0XHQvLyBzdG9yZSB0aGUgb2xkIGluZGV4XHJcblx0XHRcdHNsaWRlci5vbGRJbmRleCA9IHNsaWRlci5hY3RpdmUuaW5kZXg7XHJcblx0XHRcdC8vIGlmIHNsaWRlSW5kZXggaXMgbGVzcyB0aGFuIHplcm8sIHNldCBhY3RpdmUgaW5kZXggdG8gbGFzdCBjaGlsZCAodGhpcyBoYXBwZW5zIGR1cmluZyBpbmZpbml0ZSBsb29wKVxyXG5cdFx0XHRpZihzbGlkZUluZGV4IDwgMCl7XHJcblx0XHRcdFx0c2xpZGVyLmFjdGl2ZS5pbmRleCA9IGdldFBhZ2VyUXR5KCkgLSAxO1xyXG5cdFx0XHQvLyBpZiBzbGlkZUluZGV4IGlzIGdyZWF0ZXIgdGhhbiBjaGlsZHJlbiBsZW5ndGgsIHNldCBhY3RpdmUgaW5kZXggdG8gMCAodGhpcyBoYXBwZW5zIGR1cmluZyBpbmZpbml0ZSBsb29wKVxyXG5cdFx0XHR9ZWxzZSBpZihzbGlkZUluZGV4ID49IGdldFBhZ2VyUXR5KCkpe1xyXG5cdFx0XHRcdHNsaWRlci5hY3RpdmUuaW5kZXggPSAwO1xyXG5cdFx0XHQvLyBzZXQgYWN0aXZlIGluZGV4IHRvIHJlcXVlc3RlZCBzbGlkZVxyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRzbGlkZXIuYWN0aXZlLmluZGV4ID0gc2xpZGVJbmRleDtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBvblNsaWRlQmVmb3JlLCBvblNsaWRlTmV4dCwgb25TbGlkZVByZXYgY2FsbGJhY2tzXHJcblx0XHRcdHNsaWRlci5zZXR0aW5ncy5vblNsaWRlQmVmb3JlKHNsaWRlci5jaGlsZHJlbi5lcShzbGlkZXIuYWN0aXZlLmluZGV4KSwgc2xpZGVyLm9sZEluZGV4LCBzbGlkZXIuYWN0aXZlLmluZGV4KTtcclxuXHRcdFx0aWYoZGlyZWN0aW9uID09ICduZXh0Jyl7XHJcblx0XHRcdFx0c2xpZGVyLnNldHRpbmdzLm9uU2xpZGVOZXh0KHNsaWRlci5jaGlsZHJlbi5lcShzbGlkZXIuYWN0aXZlLmluZGV4KSwgc2xpZGVyLm9sZEluZGV4LCBzbGlkZXIuYWN0aXZlLmluZGV4KTtcclxuXHRcdFx0fWVsc2UgaWYoZGlyZWN0aW9uID09ICdwcmV2Jyl7XHJcblx0XHRcdFx0c2xpZGVyLnNldHRpbmdzLm9uU2xpZGVQcmV2KHNsaWRlci5jaGlsZHJlbi5lcShzbGlkZXIuYWN0aXZlLmluZGV4KSwgc2xpZGVyLm9sZEluZGV4LCBzbGlkZXIuYWN0aXZlLmluZGV4KTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBjaGVjayBpZiBsYXN0IHNsaWRlXHJcblx0XHRcdHNsaWRlci5hY3RpdmUubGFzdCA9IHNsaWRlci5hY3RpdmUuaW5kZXggPj0gZ2V0UGFnZXJRdHkoKSAtIDE7XHJcblx0XHRcdC8vIHVwZGF0ZSB0aGUgcGFnZXIgd2l0aCBhY3RpdmUgY2xhc3NcclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLnBhZ2VyKSB1cGRhdGVQYWdlckFjdGl2ZShzbGlkZXIuYWN0aXZlLmluZGV4KTtcclxuXHRcdFx0Ly8gLy8gY2hlY2sgZm9yIGRpcmVjdGlvbiBjb250cm9sIHVwZGF0ZVxyXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuY29udHJvbHMpIHVwZGF0ZURpcmVjdGlvbkNvbnRyb2xzKCk7XHJcblx0XHRcdC8vIGlmIHNsaWRlciBpcyBzZXQgdG8gbW9kZTogXCJmYWRlXCJcclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2ZhZGUnKXtcclxuXHRcdFx0XHQvLyBpZiBhZGFwdGl2ZUhlaWdodCBpcyB0cnVlIGFuZCBuZXh0IGhlaWdodCBpcyBkaWZmZXJlbnQgZnJvbSBjdXJyZW50IGhlaWdodCwgYW5pbWF0ZSB0byB0aGUgbmV3IGhlaWdodFxyXG5cdFx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5hZGFwdGl2ZUhlaWdodCAmJiBzbGlkZXIudmlld3BvcnQuaGVpZ2h0KCkgIT0gZ2V0Vmlld3BvcnRIZWlnaHQoKSl7XHJcblx0XHRcdFx0XHRzbGlkZXIudmlld3BvcnQuYW5pbWF0ZSh7aGVpZ2h0OiBnZXRWaWV3cG9ydEhlaWdodCgpfSwgc2xpZGVyLnNldHRpbmdzLmFkYXB0aXZlSGVpZ2h0U3BlZWQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQvLyBmYWRlIG91dCB0aGUgdmlzaWJsZSBjaGlsZCBhbmQgcmVzZXQgaXRzIHotaW5kZXggdmFsdWVcclxuXHRcdFx0XHRzbGlkZXIuY2hpbGRyZW4uZmlsdGVyKCc6dmlzaWJsZScpLmZhZGVPdXQoc2xpZGVyLnNldHRpbmdzLnNwZWVkKS5jc3Moe3pJbmRleDogMH0pO1xyXG5cdFx0XHRcdC8vIGZhZGUgaW4gdGhlIG5ld2x5IHJlcXVlc3RlZCBzbGlkZVxyXG5cdFx0XHRcdHNsaWRlci5jaGlsZHJlbi5lcShzbGlkZXIuYWN0aXZlLmluZGV4KS5jc3MoJ3pJbmRleCcsIHNsaWRlci5zZXR0aW5ncy5zbGlkZVpJbmRleCsxKS5mYWRlSW4oc2xpZGVyLnNldHRpbmdzLnNwZWVkLCBmdW5jdGlvbigpe1xyXG5cdFx0XHRcdFx0JCh0aGlzKS5jc3MoJ3pJbmRleCcsIHNsaWRlci5zZXR0aW5ncy5zbGlkZVpJbmRleCk7XHJcblx0XHRcdFx0XHR1cGRhdGVBZnRlclNsaWRlVHJhbnNpdGlvbigpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHQvLyBzbGlkZXIgbW9kZSBpcyBub3QgXCJmYWRlXCJcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0Ly8gaWYgYWRhcHRpdmVIZWlnaHQgaXMgdHJ1ZSBhbmQgbmV4dCBoZWlnaHQgaXMgZGlmZmVyZW50IGZyb20gY3VycmVudCBoZWlnaHQsIGFuaW1hdGUgdG8gdGhlIG5ldyBoZWlnaHRcclxuXHRcdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuYWRhcHRpdmVIZWlnaHQgJiYgc2xpZGVyLnZpZXdwb3J0LmhlaWdodCgpICE9IGdldFZpZXdwb3J0SGVpZ2h0KCkpe1xyXG5cdFx0XHRcdFx0c2xpZGVyLnZpZXdwb3J0LmFuaW1hdGUoe2hlaWdodDogZ2V0Vmlld3BvcnRIZWlnaHQoKX0sIHNsaWRlci5zZXR0aW5ncy5hZGFwdGl2ZUhlaWdodFNwZWVkKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dmFyIG1vdmVCeSA9IDA7XHJcblx0XHRcdFx0dmFyIHBvc2l0aW9uID0ge2xlZnQ6IDAsIHRvcDogMH07XHJcblx0XHRcdFx0Ly8gaWYgY2Fyb3VzZWwgYW5kIG5vdCBpbmZpbml0ZSBsb29wXHJcblx0XHRcdFx0aWYoIXNsaWRlci5zZXR0aW5ncy5pbmZpbml0ZUxvb3AgJiYgc2xpZGVyLmNhcm91c2VsICYmIHNsaWRlci5hY3RpdmUubGFzdCl7XHJcblx0XHRcdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnaG9yaXpvbnRhbCcpe1xyXG5cdFx0XHRcdFx0XHQvLyBnZXQgdGhlIGxhc3QgY2hpbGQgcG9zaXRpb25cclxuXHRcdFx0XHRcdFx0dmFyIGxhc3RDaGlsZCA9IHNsaWRlci5jaGlsZHJlbi5lcShzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoIC0gMSk7XHJcblx0XHRcdFx0XHRcdHBvc2l0aW9uID0gbGFzdENoaWxkLnBvc2l0aW9uKCk7XHJcblx0XHRcdFx0XHRcdC8vIGNhbGN1bGF0ZSB0aGUgcG9zaXRpb24gb2YgdGhlIGxhc3Qgc2xpZGVcclxuXHRcdFx0XHRcdFx0bW92ZUJ5ID0gc2xpZGVyLnZpZXdwb3J0LndpZHRoKCkgLSBsYXN0Q2hpbGQub3V0ZXJXaWR0aCgpO1xyXG5cdFx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRcdC8vIGdldCBsYXN0IHNob3dpbmcgaW5kZXggcG9zaXRpb25cclxuXHRcdFx0XHRcdFx0dmFyIGxhc3RTaG93aW5nSW5kZXggPSBzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoIC0gc2xpZGVyLnNldHRpbmdzLm1pblNsaWRlcztcclxuXHRcdFx0XHRcdFx0cG9zaXRpb24gPSBzbGlkZXIuY2hpbGRyZW4uZXEobGFzdFNob3dpbmdJbmRleCkucG9zaXRpb24oKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdC8vIGhvcml6b250YWwgY2Fyb3VzZWwsIGdvaW5nIHByZXZpb3VzIHdoaWxlIG9uIGZpcnN0IHNsaWRlIChpbmZpbml0ZUxvb3AgbW9kZSlcclxuXHRcdFx0XHR9ZWxzZSBpZihzbGlkZXIuY2Fyb3VzZWwgJiYgc2xpZGVyLmFjdGl2ZS5sYXN0ICYmIGRpcmVjdGlvbiA9PSAncHJldicpe1xyXG5cdFx0XHRcdFx0Ly8gZ2V0IHRoZSBsYXN0IGNoaWxkIHBvc2l0aW9uXHJcblx0XHRcdFx0XHR2YXIgZXEgPSBzbGlkZXIuc2V0dGluZ3MubW92ZVNsaWRlcyA9PSAxID8gc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcyAtIGdldE1vdmVCeSgpIDogKChnZXRQYWdlclF0eSgpIC0gMSkgKiBnZXRNb3ZlQnkoKSkgLSAoc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCAtIHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMpO1xyXG5cdFx0XHRcdFx0dmFyIGxhc3RDaGlsZCA9IGVsLmNoaWxkcmVuKCcuYngtY2xvbmUnKS5lcShlcSk7XHJcblx0XHRcdFx0XHRwb3NpdGlvbiA9IGxhc3RDaGlsZC5wb3NpdGlvbigpO1xyXG5cdFx0XHRcdC8vIGlmIGluZmluaXRlIGxvb3AgYW5kIFwiTmV4dFwiIGlzIGNsaWNrZWQgb24gdGhlIGxhc3Qgc2xpZGVcclxuXHRcdFx0XHR9ZWxzZSBpZihkaXJlY3Rpb24gPT0gJ25leHQnICYmIHNsaWRlci5hY3RpdmUuaW5kZXggPT0gMCl7XHJcblx0XHRcdFx0XHQvLyBnZXQgdGhlIGxhc3QgY2xvbmUgcG9zaXRpb25cclxuXHRcdFx0XHRcdHBvc2l0aW9uID0gZWwuZmluZCgnPiAuYngtY2xvbmUnKS5lcShzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzKS5wb3NpdGlvbigpO1xyXG5cdFx0XHRcdFx0c2xpZGVyLmFjdGl2ZS5sYXN0ID0gZmFsc2U7XHJcblx0XHRcdFx0Ly8gbm9ybWFsIG5vbi16ZXJvIHJlcXVlc3RzXHJcblx0XHRcdFx0fWVsc2UgaWYoc2xpZGVJbmRleCA+PSAwKXtcclxuXHRcdFx0XHRcdHZhciByZXF1ZXN0RWwgPSBzbGlkZUluZGV4ICogZ2V0TW92ZUJ5KCk7XHJcblx0XHRcdFx0XHRwb3NpdGlvbiA9IHNsaWRlci5jaGlsZHJlbi5lcShyZXF1ZXN0RWwpLnBvc2l0aW9uKCk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvKiBJZiB0aGUgcG9zaXRpb24gZG9lc24ndCBleGlzdFxyXG5cdFx0XHRcdCAqIChlLmcuIGlmIHlvdSBkZXN0cm95IHRoZSBzbGlkZXIgb24gYSBuZXh0IGNsaWNrKSxcclxuXHRcdFx0XHQgKiBpdCBkb2Vzbid0IHRocm93IGFuIGVycm9yLlxyXG5cdFx0XHRcdCAqL1xyXG5cdFx0XHRcdGlmIChcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YocG9zaXRpb24pKSB7XHJcblx0XHRcdFx0XHR2YXIgdmFsdWUgPSBzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnaG9yaXpvbnRhbCcgPyAtKHBvc2l0aW9uLmxlZnQgLSBtb3ZlQnkpIDogLXBvc2l0aW9uLnRvcDtcclxuXHRcdFx0XHRcdC8vIHBsdWdpbiB2YWx1ZXMgdG8gYmUgYW5pbWF0ZWRcclxuXHRcdFx0XHRcdHNldFBvc2l0aW9uUHJvcGVydHkodmFsdWUsICdzbGlkZScsIHNsaWRlci5zZXR0aW5ncy5zcGVlZCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBUcmFuc2l0aW9ucyB0byB0aGUgbmV4dCBzbGlkZSBpbiB0aGUgc2hvd1xyXG5cdFx0ICovXHJcblx0XHRlbC5nb1RvTmV4dFNsaWRlID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0Ly8gaWYgaW5maW5pdGVMb29wIGlzIGZhbHNlIGFuZCBsYXN0IHBhZ2UgaXMgc2hvd2luZywgZGlzcmVnYXJkIGNhbGxcclxuXHRcdFx0aWYgKCFzbGlkZXIuc2V0dGluZ3MuaW5maW5pdGVMb29wICYmIHNsaWRlci5hY3RpdmUubGFzdCkgcmV0dXJuO1xyXG5cdFx0XHR2YXIgcGFnZXJJbmRleCA9IHBhcnNlSW50KHNsaWRlci5hY3RpdmUuaW5kZXgpICsgMTtcclxuXHRcdFx0ZWwuZ29Ub1NsaWRlKHBhZ2VySW5kZXgsICduZXh0Jyk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBUcmFuc2l0aW9ucyB0byB0aGUgcHJldiBzbGlkZSBpbiB0aGUgc2hvd1xyXG5cdFx0ICovXHJcblx0XHRlbC5nb1RvUHJldlNsaWRlID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0Ly8gaWYgaW5maW5pdGVMb29wIGlzIGZhbHNlIGFuZCBsYXN0IHBhZ2UgaXMgc2hvd2luZywgZGlzcmVnYXJkIGNhbGxcclxuXHRcdFx0aWYgKCFzbGlkZXIuc2V0dGluZ3MuaW5maW5pdGVMb29wICYmIHNsaWRlci5hY3RpdmUuaW5kZXggPT0gMCkgcmV0dXJuO1xyXG5cdFx0XHR2YXIgcGFnZXJJbmRleCA9IHBhcnNlSW50KHNsaWRlci5hY3RpdmUuaW5kZXgpIC0gMTtcclxuXHRcdFx0ZWwuZ29Ub1NsaWRlKHBhZ2VySW5kZXgsICdwcmV2Jyk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTdGFydHMgdGhlIGF1dG8gc2hvd1xyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSBwcmV2ZW50Q29udHJvbFVwZGF0ZSAoYm9vbGVhbilcclxuXHRcdCAqICAtIGlmIHRydWUsIGF1dG8gY29udHJvbHMgc3RhdGUgd2lsbCBub3QgYmUgdXBkYXRlZFxyXG5cdFx0ICovXHJcblx0XHRlbC5zdGFydEF1dG8gPSBmdW5jdGlvbihwcmV2ZW50Q29udHJvbFVwZGF0ZSl7XHJcblx0XHRcdC8vIGlmIGFuIGludGVydmFsIGFscmVhZHkgZXhpc3RzLCBkaXNyZWdhcmQgY2FsbFxyXG5cdFx0XHRpZihzbGlkZXIuaW50ZXJ2YWwpIHJldHVybjtcclxuXHRcdFx0Ly8gY3JlYXRlIGFuIGludGVydmFsXHJcblx0XHRcdHNsaWRlci5pbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0c2xpZGVyLnNldHRpbmdzLmF1dG9EaXJlY3Rpb24gPT0gJ25leHQnID8gZWwuZ29Ub05leHRTbGlkZSgpIDogZWwuZ29Ub1ByZXZTbGlkZSgpO1xyXG5cdFx0XHR9LCBzbGlkZXIuc2V0dGluZ3MucGF1c2UpO1xyXG5cdFx0XHQvLyBpZiBhdXRvIGNvbnRyb2xzIGFyZSBkaXNwbGF5ZWQgYW5kIHByZXZlbnRDb250cm9sVXBkYXRlIGlzIG5vdCB0cnVlXHJcblx0XHRcdGlmIChzbGlkZXIuc2V0dGluZ3MuYXV0b0NvbnRyb2xzICYmIHByZXZlbnRDb250cm9sVXBkYXRlICE9IHRydWUpIHVwZGF0ZUF1dG9Db250cm9scygnc3RvcCcpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU3RvcHMgdGhlIGF1dG8gc2hvd1xyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSBwcmV2ZW50Q29udHJvbFVwZGF0ZSAoYm9vbGVhbilcclxuXHRcdCAqICAtIGlmIHRydWUsIGF1dG8gY29udHJvbHMgc3RhdGUgd2lsbCBub3QgYmUgdXBkYXRlZFxyXG5cdFx0ICovXHJcblx0XHRlbC5zdG9wQXV0byA9IGZ1bmN0aW9uKHByZXZlbnRDb250cm9sVXBkYXRlKXtcclxuXHRcdFx0Ly8gaWYgbm8gaW50ZXJ2YWwgZXhpc3RzLCBkaXNyZWdhcmQgY2FsbFxyXG5cdFx0XHRpZighc2xpZGVyLmludGVydmFsKSByZXR1cm47XHJcblx0XHRcdC8vIGNsZWFyIHRoZSBpbnRlcnZhbFxyXG5cdFx0XHRjbGVhckludGVydmFsKHNsaWRlci5pbnRlcnZhbCk7XHJcblx0XHRcdHNsaWRlci5pbnRlcnZhbCA9IG51bGw7XHJcblx0XHRcdC8vIGlmIGF1dG8gY29udHJvbHMgYXJlIGRpc3BsYXllZCBhbmQgcHJldmVudENvbnRyb2xVcGRhdGUgaXMgbm90IHRydWVcclxuXHRcdFx0aWYgKHNsaWRlci5zZXR0aW5ncy5hdXRvQ29udHJvbHMgJiYgcHJldmVudENvbnRyb2xVcGRhdGUgIT0gdHJ1ZSkgdXBkYXRlQXV0b0NvbnRyb2xzKCdzdGFydCcpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmV0dXJucyBjdXJyZW50IHNsaWRlIGluZGV4ICh6ZXJvLWJhc2VkKVxyXG5cdFx0ICovXHJcblx0XHRlbC5nZXRDdXJyZW50U2xpZGUgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHRyZXR1cm4gc2xpZGVyLmFjdGl2ZS5pbmRleDtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJldHVybnMgY3VycmVudCBzbGlkZSBlbGVtZW50XHJcblx0XHQgKi9cclxuXHRcdGVsLmdldEN1cnJlbnRTbGlkZUVsZW1lbnQgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHRyZXR1cm4gc2xpZGVyLmNoaWxkcmVuLmVxKHNsaWRlci5hY3RpdmUuaW5kZXgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmV0dXJucyBudW1iZXIgb2Ygc2xpZGVzIGluIHNob3dcclxuXHRcdCAqL1xyXG5cdFx0ZWwuZ2V0U2xpZGVDb3VudCA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdHJldHVybiBzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVXBkYXRlIGFsbCBkeW5hbWljIHNsaWRlciBlbGVtZW50c1xyXG5cdFx0ICovXHJcblx0XHRlbC5yZWRyYXdTbGlkZXIgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHQvLyByZXNpemUgYWxsIGNoaWxkcmVuIGluIHJhdGlvIHRvIG5ldyBzY3JlZW4gc2l6ZVxyXG5cdFx0XHRzbGlkZXIuY2hpbGRyZW4uYWRkKGVsLmZpbmQoJy5ieC1jbG9uZScpKS53aWR0aChnZXRTbGlkZVdpZHRoKCkpO1xyXG5cdFx0XHQvLyBhZGp1c3QgdGhlIGhlaWdodFxyXG5cdFx0XHRzbGlkZXIudmlld3BvcnQuY3NzKCdoZWlnaHQnLCBnZXRWaWV3cG9ydEhlaWdodCgpKTtcclxuXHRcdFx0Ly8gdXBkYXRlIHRoZSBzbGlkZSBwb3NpdGlvblxyXG5cdFx0XHRpZighc2xpZGVyLnNldHRpbmdzLnRpY2tlcikgc2V0U2xpZGVQb3NpdGlvbigpO1xyXG5cdFx0XHQvLyBpZiBhY3RpdmUubGFzdCB3YXMgdHJ1ZSBiZWZvcmUgdGhlIHNjcmVlbiByZXNpemUsIHdlIHdhbnRcclxuXHRcdFx0Ly8gdG8ga2VlcCBpdCBsYXN0IG5vIG1hdHRlciB3aGF0IHNjcmVlbiBzaXplIHdlIGVuZCBvblxyXG5cdFx0XHRpZiAoc2xpZGVyLmFjdGl2ZS5sYXN0KSBzbGlkZXIuYWN0aXZlLmluZGV4ID0gZ2V0UGFnZXJRdHkoKSAtIDE7XHJcblx0XHRcdC8vIGlmIHRoZSBhY3RpdmUgaW5kZXggKHBhZ2UpIG5vIGxvbmdlciBleGlzdHMgZHVlIHRvIHRoZSByZXNpemUsIHNpbXBseSBzZXQgdGhlIGluZGV4IGFzIGxhc3RcclxuXHRcdFx0aWYgKHNsaWRlci5hY3RpdmUuaW5kZXggPj0gZ2V0UGFnZXJRdHkoKSkgc2xpZGVyLmFjdGl2ZS5sYXN0ID0gdHJ1ZTtcclxuXHRcdFx0Ly8gaWYgYSBwYWdlciBpcyBiZWluZyBkaXNwbGF5ZWQgYW5kIGEgY3VzdG9tIHBhZ2VyIGlzIG5vdCBiZWluZyB1c2VkLCB1cGRhdGUgaXRcclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLnBhZ2VyICYmICFzbGlkZXIuc2V0dGluZ3MucGFnZXJDdXN0b20pe1xyXG5cdFx0XHRcdHBvcHVsYXRlUGFnZXIoKTtcclxuXHRcdFx0XHR1cGRhdGVQYWdlckFjdGl2ZShzbGlkZXIuYWN0aXZlLmluZGV4KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogRGVzdHJveSB0aGUgY3VycmVudCBpbnN0YW5jZSBvZiB0aGUgc2xpZGVyIChyZXZlcnQgZXZlcnl0aGluZyBiYWNrIHRvIG9yaWdpbmFsIHN0YXRlKVxyXG5cdFx0ICovXHJcblx0XHRlbC5kZXN0cm95U2xpZGVyID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0Ly8gZG9uJ3QgZG8gYW55dGhpbmcgaWYgc2xpZGVyIGhhcyBhbHJlYWR5IGJlZW4gZGVzdHJveWVkXHJcblx0XHRcdGlmKCFzbGlkZXIuaW5pdGlhbGl6ZWQpIHJldHVybjtcclxuXHRcdFx0c2xpZGVyLmluaXRpYWxpemVkID0gZmFsc2U7XHJcblx0XHRcdCQoJy5ieC1jbG9uZScsIHRoaXMpLnJlbW92ZSgpO1xyXG5cdFx0XHRzbGlkZXIuY2hpbGRyZW4uZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHQkKHRoaXMpLmRhdGEoXCJvcmlnU3R5bGVcIikgIT0gdW5kZWZpbmVkID8gJCh0aGlzKS5hdHRyKFwic3R5bGVcIiwgJCh0aGlzKS5kYXRhKFwib3JpZ1N0eWxlXCIpKSA6ICQodGhpcykucmVtb3ZlQXR0cignc3R5bGUnKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdCQodGhpcykuZGF0YShcIm9yaWdTdHlsZVwiKSAhPSB1bmRlZmluZWQgPyB0aGlzLmF0dHIoXCJzdHlsZVwiLCAkKHRoaXMpLmRhdGEoXCJvcmlnU3R5bGVcIikpIDogJCh0aGlzKS5yZW1vdmVBdHRyKCdzdHlsZScpO1xyXG5cdFx0XHQkKHRoaXMpLnVud3JhcCgpLnVud3JhcCgpO1xyXG5cdFx0XHRpZihzbGlkZXIuY29udHJvbHMuZWwpIHNsaWRlci5jb250cm9scy5lbC5yZW1vdmUoKTtcclxuXHRcdFx0aWYoc2xpZGVyLmNvbnRyb2xzLm5leHQpIHNsaWRlci5jb250cm9scy5uZXh0LnJlbW92ZSgpO1xyXG5cdFx0XHRpZihzbGlkZXIuY29udHJvbHMucHJldikgc2xpZGVyLmNvbnRyb2xzLnByZXYucmVtb3ZlKCk7XHJcblx0XHRcdGlmKHNsaWRlci5wYWdlckVsICYmIHNsaWRlci5zZXR0aW5ncy5jb250cm9scykgc2xpZGVyLnBhZ2VyRWwucmVtb3ZlKCk7XHJcblx0XHRcdCQoJy5ieC1jYXB0aW9uJywgdGhpcykucmVtb3ZlKCk7XHJcblx0XHRcdGlmKHNsaWRlci5jb250cm9scy5hdXRvRWwpIHNsaWRlci5jb250cm9scy5hdXRvRWwucmVtb3ZlKCk7XHJcblx0XHRcdGNsZWFySW50ZXJ2YWwoc2xpZGVyLmludGVydmFsKTtcclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLnJlc3BvbnNpdmUpICQod2luZG93KS51bmJpbmQoJ3Jlc2l6ZScsIHJlc2l6ZVdpbmRvdyk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZWxvYWQgdGhlIHNsaWRlciAocmV2ZXJ0IGFsbCBET00gY2hhbmdlcywgYW5kIHJlLWluaXRpYWxpemUpXHJcblx0XHQgKi9cclxuXHRcdGVsLnJlbG9hZFNsaWRlciA9IGZ1bmN0aW9uKHNldHRpbmdzKXtcclxuXHRcdFx0aWYgKHNldHRpbmdzICE9IHVuZGVmaW5lZCkgb3B0aW9ucyA9IHNldHRpbmdzO1xyXG5cdFx0XHRlbC5kZXN0cm95U2xpZGVyKCk7XHJcblx0XHRcdGluaXQoKTtcclxuXHRcdH1cclxuXHJcblx0XHRpbml0KCk7XHJcblxyXG5cdFx0Ly8gcmV0dXJucyB0aGUgY3VycmVudCBqUXVlcnkgb2JqZWN0XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9XHJcblxyXG59KShqUXVlcnkpO1xyXG4iLCIvKipcbiAqIGpRdWVyeSBNYXNvbnJ5IHYyLjEuMDhcbiAqIEEgZHluYW1pYyBsYXlvdXQgcGx1Z2luIGZvciBqUXVlcnlcbiAqIFRoZSBmbGlwLXNpZGUgb2YgQ1NTIEZsb2F0c1xuICogaHR0cDovL21hc29ucnkuZGVzYW5kcm8uY29tXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogQ29weXJpZ2h0IDIwMTIgRGF2aWQgRGVTYW5kcm9cbiAqL1xuKGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj10LmV2ZW50LGk7ci5zcGVjaWFsLnNtYXJ0cmVzaXplPXtzZXR1cDpmdW5jdGlvbigpe3QodGhpcykuYmluZChcInJlc2l6ZVwiLHIuc3BlY2lhbC5zbWFydHJlc2l6ZS5oYW5kbGVyKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt0KHRoaXMpLnVuYmluZChcInJlc2l6ZVwiLHIuc3BlY2lhbC5zbWFydHJlc2l6ZS5oYW5kbGVyKX0saGFuZGxlcjpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMscz1hcmd1bWVudHM7ZS50eXBlPVwic21hcnRyZXNpemVcIixpJiZjbGVhclRpbWVvdXQoaSksaT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ci5kaXNwYXRjaC5hcHBseShuLHMpfSx0PT09XCJleGVjQXNhcFwiPzA6MTAwKX19LHQuZm4uc21hcnRyZXNpemU9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/dGhpcy5iaW5kKFwic21hcnRyZXNpemVcIixlKTp0aGlzLnRyaWdnZXIoXCJzbWFydHJlc2l6ZVwiLFtcImV4ZWNBc2FwXCJdKX0sdC5NYXNvbj1mdW5jdGlvbihlLG4pe3RoaXMuZWxlbWVudD10KG4pLHRoaXMuX2NyZWF0ZShlKSx0aGlzLl9pbml0KCl9LHQuTWFzb24uc2V0dGluZ3M9e2lzUmVzaXphYmxlOiEwLGlzQW5pbWF0ZWQ6ITEsYW5pbWF0aW9uT3B0aW9uczp7cXVldWU6ITEsZHVyYXRpb246NTAwfSxndXR0ZXJXaWR0aDowLGlzUlRMOiExLGlzRml0V2lkdGg6ITEsY29udGFpbmVyU3R5bGU6e3Bvc2l0aW9uOlwicmVsYXRpdmVcIn19LHQuTWFzb24ucHJvdG90eXBlPXtfZmlsdGVyRmluZEJyaWNrczpmdW5jdGlvbihlKXt2YXIgdD10aGlzLm9wdGlvbnMuaXRlbVNlbGVjdG9yO3JldHVybiB0P2UuZmlsdGVyKHQpLmFkZChlLmZpbmQodCkpOmV9LF9nZXRCcmlja3M6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZmlsdGVyRmluZEJyaWNrcyhlKS5jc3Moe3Bvc2l0aW9uOlwiYWJzb2x1dGVcIn0pLmFkZENsYXNzKFwibWFzb25yeS1icmlja1wiKTtyZXR1cm4gdH0sX2NyZWF0ZTpmdW5jdGlvbihuKXt0aGlzLm9wdGlvbnM9dC5leHRlbmQoITAse30sdC5NYXNvbi5zZXR0aW5ncyxuKSx0aGlzLnN0eWxlUXVldWU9W107dmFyIHI9dGhpcy5lbGVtZW50WzBdLnN0eWxlO3RoaXMub3JpZ2luYWxTdHlsZT17aGVpZ2h0OnIuaGVpZ2h0fHxcIlwifTt2YXIgaT10aGlzLm9wdGlvbnMuY29udGFpbmVyU3R5bGU7Zm9yKHZhciBzIGluIGkpdGhpcy5vcmlnaW5hbFN0eWxlW3NdPXJbc118fFwiXCI7dGhpcy5lbGVtZW50LmNzcyhpKSx0aGlzLmhvcml6b250YWxEaXJlY3Rpb249dGhpcy5vcHRpb25zLmlzUlRMP1wicmlnaHRcIjpcImxlZnRcIjt2YXIgbz10aGlzLmVsZW1lbnQuY3NzKFwicGFkZGluZy1cIit0aGlzLmhvcml6b250YWxEaXJlY3Rpb24pLHU9dGhpcy5lbGVtZW50LmNzcyhcInBhZGRpbmctdG9wXCIpO3RoaXMub2Zmc2V0PXt4Om8/cGFyc2VJbnQobywxMCk6MCx5OnU/cGFyc2VJbnQodSwxMCk6MH0sdGhpcy5pc0ZsdWlkPXRoaXMub3B0aW9ucy5jb2x1bW5XaWR0aCYmdHlwZW9mIHRoaXMub3B0aW9ucy5jb2x1bW5XaWR0aD09XCJmdW5jdGlvblwiO3ZhciBhPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2EuZWxlbWVudC5hZGRDbGFzcyhcIm1hc29ucnlcIil9LDApLHRoaXMub3B0aW9ucy5pc1Jlc2l6YWJsZSYmdChlKS5iaW5kKFwic21hcnRyZXNpemUubWFzb25yeVwiLGZ1bmN0aW9uKCl7YS5yZXNpemUoKX0pLHRoaXMucmVsb2FkSXRlbXMoKX0sX2luaXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZ2V0Q29sdW1ucygpLHRoaXMuX3JlTGF5b3V0KGUpfSxvcHRpb246ZnVuY3Rpb24oZSxuKXt0LmlzUGxhaW5PYmplY3QoZSkmJih0aGlzLm9wdGlvbnM9dC5leHRlbmQoITAsdGhpcy5vcHRpb25zLGUpKX0sbGF5b3V0OmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtuPHI7bisrKXRoaXMuX3BsYWNlQnJpY2soZVtuXSk7dmFyIGk9e307aS5oZWlnaHQ9TWF0aC5tYXguYXBwbHkoTWF0aCx0aGlzLmNvbFlzKTtpZih0aGlzLm9wdGlvbnMuaXNGaXRXaWR0aCl7dmFyIHM9MDtuPXRoaXMuY29sczt3aGlsZSgtLW4pe2lmKHRoaXMuY29sWXNbbl0hPT0wKWJyZWFrO3MrK31pLndpZHRoPSh0aGlzLmNvbHMtcykqdGhpcy5jb2x1bW5XaWR0aC10aGlzLm9wdGlvbnMuZ3V0dGVyV2lkdGh9dGhpcy5zdHlsZVF1ZXVlLnB1c2goeyRlbDp0aGlzLmVsZW1lbnQsc3R5bGU6aX0pO3ZhciBvPXRoaXMuaXNMYWlkT3V0P3RoaXMub3B0aW9ucy5pc0FuaW1hdGVkP1wiYW5pbWF0ZVwiOlwiY3NzXCI6XCJjc3NcIix1PXRoaXMub3B0aW9ucy5hbmltYXRpb25PcHRpb25zLGE7Zm9yKG49MCxyPXRoaXMuc3R5bGVRdWV1ZS5sZW5ndGg7bjxyO24rKylhPXRoaXMuc3R5bGVRdWV1ZVtuXSxhLiRlbFtvXShhLnN0eWxlLHUpO3RoaXMuc3R5bGVRdWV1ZT1bXSx0JiZ0LmNhbGwoZSksdGhpcy5pc0xhaWRPdXQ9ITB9LF9nZXRDb2x1bW5zOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcHRpb25zLmlzRml0V2lkdGg/dGhpcy5lbGVtZW50LnBhcmVudCgpOnRoaXMuZWxlbWVudCx0PWUud2lkdGgoKTt0aGlzLmNvbHVtbldpZHRoPXRoaXMuaXNGbHVpZD90aGlzLm9wdGlvbnMuY29sdW1uV2lkdGgodCk6dGhpcy5vcHRpb25zLmNvbHVtbldpZHRofHx0aGlzLiRicmlja3Mub3V0ZXJXaWR0aCghMCl8fHQsdGhpcy5jb2x1bW5XaWR0aCs9dGhpcy5vcHRpb25zLmd1dHRlcldpZHRoLHRoaXMuY29scz1NYXRoLmZsb29yKCh0K3RoaXMub3B0aW9ucy5ndXR0ZXJXaWR0aCkvdGhpcy5jb2x1bW5XaWR0aCksdGhpcy5jb2xzPU1hdGgubWF4KHRoaXMuY29scywxKX0sX3BsYWNlQnJpY2s6ZnVuY3Rpb24oZSl7dmFyIG49dChlKSxyLGkscyxvLHU7cj1NYXRoLmNlaWwobi5vdXRlcldpZHRoKCEwKS90aGlzLmNvbHVtbldpZHRoKSxyPU1hdGgubWluKHIsdGhpcy5jb2xzKTtpZihyPT09MSlzPXRoaXMuY29sWXM7ZWxzZXtpPXRoaXMuY29scysxLXIscz1bXTtmb3IodT0wO3U8aTt1Kyspbz10aGlzLmNvbFlzLnNsaWNlKHUsdStyKSxzW3VdPU1hdGgubWF4LmFwcGx5KE1hdGgsbyl9dmFyIGE9TWF0aC5taW4uYXBwbHkoTWF0aCxzKSxmPTA7Zm9yKHZhciBsPTAsYz1zLmxlbmd0aDtsPGM7bCsrKWlmKHNbbF09PT1hKXtmPWw7YnJlYWt9dmFyIGg9e3RvcDphK3RoaXMub2Zmc2V0Lnl9O2hbdGhpcy5ob3Jpem9udGFsRGlyZWN0aW9uXT10aGlzLmNvbHVtbldpZHRoKmYrdGhpcy5vZmZzZXQueCx0aGlzLnN0eWxlUXVldWUucHVzaCh7JGVsOm4sc3R5bGU6aH0pO3ZhciBwPWErbi5vdXRlckhlaWdodCghMCksZD10aGlzLmNvbHMrMS1jO2ZvcihsPTA7bDxkO2wrKyl0aGlzLmNvbFlzW2YrbF09cH0scmVzaXplOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jb2xzO3RoaXMuX2dldENvbHVtbnMoKSwodGhpcy5pc0ZsdWlkfHx0aGlzLmNvbHMhPT1lKSYmdGhpcy5fcmVMYXlvdXQoKX0sX3JlTGF5b3V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY29sczt0aGlzLmNvbFlzPVtdO3doaWxlKHQtLSl0aGlzLmNvbFlzLnB1c2goMCk7dGhpcy5sYXlvdXQodGhpcy4kYnJpY2tzLGUpfSxyZWxvYWRJdGVtczpmdW5jdGlvbigpe3RoaXMuJGJyaWNrcz10aGlzLl9nZXRCcmlja3ModGhpcy5lbGVtZW50LmNoaWxkcmVuKCkpfSxyZWxvYWQ6ZnVuY3Rpb24oZSl7dGhpcy5yZWxvYWRJdGVtcygpLHRoaXMuX2luaXQoZSl9LGFwcGVuZGVkOmZ1bmN0aW9uKGUsdCxuKXtpZih0KXt0aGlzLl9maWx0ZXJGaW5kQnJpY2tzKGUpLmNzcyh7dG9wOnRoaXMuZWxlbWVudC5oZWlnaHQoKX0pO3ZhciByPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe3IuX2FwcGVuZGVkKGUsbil9LDEpfWVsc2UgdGhpcy5fYXBwZW5kZWQoZSxuKX0sX2FwcGVuZGVkOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5fZ2V0QnJpY2tzKGUpO3RoaXMuJGJyaWNrcz10aGlzLiRicmlja3MuYWRkKG4pLHRoaXMubGF5b3V0KG4sdCl9LHJlbW92ZTpmdW5jdGlvbihlKXt0aGlzLiRicmlja3M9dGhpcy4kYnJpY2tzLm5vdChlKSxlLnJlbW92ZSgpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy4kYnJpY2tzLnJlbW92ZUNsYXNzKFwibWFzb25yeS1icmlja1wiKS5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5zdHlsZS5wb3NpdGlvbj1cIlwiLHRoaXMuc3R5bGUudG9wPVwiXCIsdGhpcy5zdHlsZS5sZWZ0PVwiXCJ9KTt2YXIgbj10aGlzLmVsZW1lbnRbMF0uc3R5bGU7Zm9yKHZhciByIGluIHRoaXMub3JpZ2luYWxTdHlsZSluW3JdPXRoaXMub3JpZ2luYWxTdHlsZVtyXTt0aGlzLmVsZW1lbnQudW5iaW5kKFwiLm1hc29ucnlcIikucmVtb3ZlQ2xhc3MoXCJtYXNvbnJ5XCIpLnJlbW92ZURhdGEoXCJtYXNvbnJ5XCIpLHQoZSkudW5iaW5kKFwiLm1hc29ucnlcIil9fSx0LmZuLmltYWdlc0xvYWRlZD1mdW5jdGlvbihlKXtmdW5jdGlvbiB1KCl7ZS5jYWxsKG4scil9ZnVuY3Rpb24gYShlKXt2YXIgbj1lLnRhcmdldDtuLnNyYyE9PXMmJnQuaW5BcnJheShuLG8pPT09LTEmJihvLnB1c2gobiksLS1pPD0wJiYoc2V0VGltZW91dCh1KSxyLnVuYmluZChcIi5pbWFnZXNMb2FkZWRcIixhKSkpfXZhciBuPXRoaXMscj1uLmZpbmQoXCJpbWdcIikuYWRkKG4uZmlsdGVyKFwiaW1nXCIpKSxpPXIubGVuZ3RoLHM9XCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFBQUFBUC8vL3l3QUFBQUFBUUFCQUFBQ0FVd0FPdz09XCIsbz1bXTtyZXR1cm4gaXx8dSgpLHIuYmluZChcImxvYWQuaW1hZ2VzTG9hZGVkIGVycm9yLmltYWdlc0xvYWRlZFwiLGEpLmVhY2goZnVuY3Rpb24oKXt2YXIgZT10aGlzLnNyYzt0aGlzLnNyYz1zLHRoaXMuc3JjPWV9KSxufTt2YXIgcz1mdW5jdGlvbih0KXtlLmNvbnNvbGUmJmUuY29uc29sZS5lcnJvcih0KX07dC5mbi5tYXNvbnJ5PWZ1bmN0aW9uKGUpe2lmKHR5cGVvZiBlPT1cInN0cmluZ1wiKXt2YXIgbj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHI9dC5kYXRhKHRoaXMsXCJtYXNvbnJ5XCIpO2lmKCFyKXtzKFwiY2Fubm90IGNhbGwgbWV0aG9kcyBvbiBtYXNvbnJ5IHByaW9yIHRvIGluaXRpYWxpemF0aW9uOyBhdHRlbXB0ZWQgdG8gY2FsbCBtZXRob2QgJ1wiK2UrXCInXCIpO3JldHVybn1pZighdC5pc0Z1bmN0aW9uKHJbZV0pfHxlLmNoYXJBdCgwKT09PVwiX1wiKXtzKFwibm8gc3VjaCBtZXRob2QgJ1wiK2UrXCInIGZvciBtYXNvbnJ5IGluc3RhbmNlXCIpO3JldHVybn1yW2VdLmFwcGx5KHIsbil9KX1lbHNlIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBuPXQuZGF0YSh0aGlzLFwibWFzb25yeVwiKTtuPyhuLm9wdGlvbihlfHx7fSksbi5faW5pdCgpKTp0LmRhdGEodGhpcyxcIm1hc29ucnlcIixuZXcgdC5NYXNvbihlLHRoaXMpKX0pO3JldHVybiB0aGlzfX0pKHdpbmRvdyxqUXVlcnkpOyIsIiQoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAkKCcuYnhzbGlkZXInKS5ieFNsaWRlcih7XHJcbiAgICAgICAgICAgIGF1dG86IGZhbHNlLFxyXG4gICAgICAgICAgICBhdXRvQ29udHJvbHM6IHRydWVcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ3JpZCgpIHtcclxuICAgICAgICAgICAgdmFyICRncmlkID0gJCgnLmdyaWQnKTtcclxuICAgICAgICAgICAgJGdyaWQuaW1hZ2VzTG9hZGVkKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRncmlkLm1hc29ucnkoe1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1TZWxlY3RvcjogJy5ncmlkLWl0ZW0nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbldpZHRoOiBmdW5jdGlvbiggY29udGFpbmVyV2lkdGggKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoY29udGFpbmVyV2lkdGggLyAzIC0gMTApXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBndXR0ZXJXaWR0aDogMTBcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNlYXJjaCgpIHtcclxuICAgICAgICAgICAgJCgnLmlkZWFzJykuZmluZCgnZGl2JykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIHZhciAkc2VhcmNoS2V5ID0gJCgnLnNlYXJjaF9fZmllbGQnKS52YWwoKTtcclxuXHJcbiAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICdodHRwczovL3BpeGFiYXkuY29tL2FwaS8/a2V5PTI2NTA1ODQtZThmZWFiOWIxMWVkNjQ0ZGNlYzcyOGFjOSZxPScgKyAkc2VhcmNoS2V5ICsgJyZpbWFnZV90eXBlPXBob3RvJyxcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbnAnLFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyICRodG1sID0gJCgnI2NvbnRhaW5lcicpLmh0bWwoKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgJGNvbnRlbnQgPSB0bXBsKCRodG1sLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcuaWRlYXMnKS5hcHBlbmQoJGNvbnRlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGdyaWQoKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdFcnJvciEnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZWFyY2goKTtcclxuXHJcbiAgICAgICAgJCgnLnNlYXJjaF9fYnV0dG9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBzZWFyY2goKTtcclxuICAgICAgICAgICAgJCgnLnNlYXJjaF9fZmllbGQnKS52YWwoJycpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbik7XHJcbiIsIi8vIFNpbXBsZSBKYXZhU2NyaXB0IFRlbXBsYXRpbmdcclxuLy8gSm9obiBSZXNpZyAtIGh0dHA6Ly9lam9obi5vcmcvIC0gTUlUIExpY2Vuc2VkXHJcbihmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgY2FjaGUgPSB7fTtcclxuXHJcbiAgICB0aGlzLnRtcGwgPSBmdW5jdGlvbiB0bXBsKHN0ciwgZGF0YSkge1xyXG4gICAgICAgIC8vIEZpZ3VyZSBvdXQgaWYgd2UncmUgZ2V0dGluZyBhIHRlbXBsYXRlLCBvciBpZiB3ZSBuZWVkIHRvXHJcbiAgICAgICAgLy8gbG9hZCB0aGUgdGVtcGxhdGUgLSBhbmQgYmUgc3VyZSB0byBjYWNoZSB0aGUgcmVzdWx0LlxyXG4gICAgICAgIHZhciBmbiA9ICEvXFxXLy50ZXN0KHN0cikgP1xyXG4gICAgICAgICAgICBjYWNoZVtzdHJdID0gY2FjaGVbc3RyXSB8fFxyXG4gICAgICAgICAgICAgICAgdG1wbChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzdHIpLmlubmVySFRNTCkgOlxyXG5cclxuICAgICAgICAgICAgLy8gR2VuZXJhdGUgYSByZXVzYWJsZSBmdW5jdGlvbiB0aGF0IHdpbGwgc2VydmUgYXMgYSB0ZW1wbGF0ZVxyXG4gICAgICAgICAgICAvLyBnZW5lcmF0b3IgKGFuZCB3aGljaCB3aWxsIGJlIGNhY2hlZCkuXHJcbiAgICAgICAgICAgIG5ldyBGdW5jdGlvbihcIm9ialwiLFxyXG4gICAgICAgICAgICAgICAgXCJ2YXIgcD1bXSxwcmludD1mdW5jdGlvbigpe3AucHVzaC5hcHBseShwLGFyZ3VtZW50cyk7fTtcIiArXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEludHJvZHVjZSB0aGUgZGF0YSBhcyBsb2NhbCB2YXJpYWJsZXMgdXNpbmcgd2l0aCgpe31cclxuICAgICAgICAgICAgICAgIFwid2l0aChvYmope3AucHVzaCgnXCIgK1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IHRoZSB0ZW1wbGF0ZSBpbnRvIHB1cmUgSmF2YVNjcmlwdFxyXG4gICAgICAgICAgICAgICAgc3RyXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1tcXHJcXHRcXG5dL2csIFwiIFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zcGxpdChcIjwlXCIpLmpvaW4oXCJcXHRcIilcclxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvKChefCU+KVteXFx0XSopJy9nLCBcIiQxXFxyXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcdD0oLio/KSU+L2csIFwiJywkMSwnXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNwbGl0KFwiXFx0XCIpLmpvaW4oXCInKTtcIilcclxuICAgICAgICAgICAgICAgICAgICAuc3BsaXQoXCIlPlwiKS5qb2luKFwicC5wdXNoKCdcIilcclxuICAgICAgICAgICAgICAgICAgICAuc3BsaXQoXCJcXHJcIikuam9pbihcIlxcXFwnXCIpXHJcbiAgICAgICAgICAgICAgICArIFwiJyk7fXJldHVybiBwLmpvaW4oJycpO1wiKTtcclxuXHJcbiAgICAgICAgLy8gUHJvdmlkZSBzb21lIGJhc2ljIGN1cnJ5aW5nIHRvIHRoZSB1c2VyXHJcbiAgICAgICAgcmV0dXJuIGRhdGEgPyBmbihkYXRhKSA6IGZuO1xyXG4gICAgfTtcclxufSkoKTtcclxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
